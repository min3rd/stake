"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[559],{1559:(Te,$,c)=>{c.r($),c.d($,{WalletModule:()=>R});var m=c(6895),_=c(9299),N=c(7579),v=c(2722),C=(()=>{return(i=C||(C={}))[i.PENDING=0]="PENDING",i[i.SUCCESS=1]="SUCCESS",i[i.CANCELED=2]="CANCELED",C;var i})(),t=c(4650),z=c(1135),f=c(5698),h=c(3900),g=c(8505),I=c(9646),et=c(529),nt=c(5240),H=c(7495);class p{constructor(n,e,r){this._httpClient=n,this._apiService=e,this._userService=r,this._depositOrder=new z.X(null),this._withdrawOrder=new z.X(null),this._cashTransfer=new z.X(null),this._orderHistories=new z.X([])}get depositOrder$(){return this._depositOrder.asObservable()}get withdrawOrder$(){return this._withdrawOrder.asObservable()}get cashTransfer$(){return this._cashTransfer.asObservable()}get orderHistories$(){return this._orderHistories.asObservable()}getDepositOrders(n=0,e=10,r={time:-1}){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(o=>this._httpClient.get(this._apiService.users_wallet_depositOrders(n,e,r)).pipe((0,g.b)(a=>(a.map(s=>({_id:s._id,time:s.time,amount:s.amount,type:"deposit",status:s.status})).forEach(s=>{let u=o.findIndex(y=>y._id==s._id&&s.type==y.type);u>=0?o[u]=s:o.push(s)}),o=o.sort((s,u)=>new Date(u.time).getTime()-new Date(s.time).getTime()),this._orderHistories.next(o),(0,I.of)(a))))))}getDepositOrder(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.get(this._apiService.users_wallet_depositOrders_depositOrder(n)).pipe((0,g.b)(r=>{let o={_id:r._id,time:r.time,amount:r.amount,type:"deposit",status:r.status},a=e.findIndex(l=>l._id==r._id&&"deposit"==l.type);return a>=0?e[a]=o:e.push(o),e=e.sort((l,s)=>new Date(s.time).getTime()-new Date(l.time).getTime()),this._orderHistories.next(e),this._depositOrder.next(r),(0,I.of)(r)}))))}deleteDepositOrder(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.delete(this._apiService.users_wallet_depositOrders_depositOrder(n._id)).pipe((0,g.b)(r=>{let o=e.findIndex(a=>a._id==n._id&&"deposit"==a.type);e.splice(o,1),e=e.sort((a,l)=>new Date(l.time).getTime()-new Date(a.time).getTime()),this._orderHistories.next(e)}))))}checkTransaction(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.post(this._apiService.users_wallet_checkTransaction(),{transactionId:n}).pipe((0,g.b)(r=>{let o={_id:r._id,time:r.time,amount:r.amount,type:"deposit",status:r.status},a=e.findIndex(l=>l._id==o._id&&"deposit"==l.type);a>=0?e[a]=o:e.push(o),e=e.sort((l,s)=>new Date(s.time).getTime()-new Date(l.time).getTime()),this._orderHistories.next(e),this._depositOrder.next(r)}))))}createWithdrawOrder(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.post(this._apiService.users_wallet_withdrawOrders(),n).pipe((0,g.b)(r=>{e.push({_id:r._id,time:r.time,amount:r.amount,type:"withdraw",status:r.status}),e=e.sort((a,l)=>new Date(l.time).getTime()-new Date(a.time).getTime()),this._withdrawOrder.next(r)}))))}getWithdrawOrders(n=0,e=10,r={time:-1}){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(o=>this._httpClient.get(this._apiService.users_wallet_withdrawOrders(n,e,r)).pipe((0,g.b)(a=>(a.map(s=>({_id:s._id,time:s.time,amount:s.amount,type:"withdraw",status:s.status})).forEach(s=>{let u=o.findIndex(y=>y._id==s._id&&s.type==y.type);u>=0?o[u]=s:o.push(s)}),o=o.sort((s,u)=>new Date(u.time).getTime()-new Date(s.time).getTime()),this._orderHistories.next(o),(0,I.of)(a))))))}getWithdrawOrder(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.get(this._apiService.users_wallet_withdrawOrders_withdrawOrder(n)).pipe((0,g.b)(r=>{let o={_id:r._id,time:r.time,amount:r.amount,type:"withdraw",status:r.status},a=e.findIndex(l=>l._id==o._id&&"withdraw"==l.type);a>=0?e[a]=o:e.push(o),e=e.sort((l,s)=>new Date(s.time).getTime()-new Date(l.time).getTime()),this._orderHistories.next(e),this._withdrawOrder.next(r)}))))}deleteWithdrawOrder(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.delete(this._apiService.users_wallet_withdrawOrders_withdrawOrder(n)).pipe((0,g.b)(r=>{let o=e.findIndex(a=>a._id==r._id&&"withdraw"==a.type);o>=0&&e.splice(o,1),e=e.sort((a,l)=>new Date(l.time).getTime()-new Date(a.time).getTime()),this._orderHistories.next(e)}))))}createCashTransfer(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.post(this._apiService.users_wallet_cashTransfers(),n).pipe((0,g.b)(r=>{let o={_id:r._id,time:r.time,amount:r.amount,type:"transfer",status:r.status},a=e.findIndex(l=>l._id==o._id&&"transfer"==l.type);a>=0?e[a]=o:e.push(o),e=e.sort((l,s)=>new Date(s.time).getTime()-new Date(l.time).getTime()),this._orderHistories.next(e)}))))}getCashTransfers(n=0,e=10,r={time:-1}){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(o=>this._httpClient.get(this._apiService.users_wallet_cashTransfers(n,e,r)).pipe((0,g.b)(a=>(a.map(s=>({_id:s._id,time:s.time,amount:s.amount,type:s.destinationId==this._userService.user.id?"receiver":"transfer",status:s.status})).forEach(s=>{let u=o.findIndex(y=>y._id==s._id&&s.type==y.type);u>=0?o[u]=s:o.push(s)}),o=o.sort((s,u)=>new Date(u.time).getTime()-new Date(s.time).getTime()),this._orderHistories.next(o),(0,I.of)(a))))))}getCashTransfer(n){return this._orderHistories.pipe((0,f.q)(1),(0,h.w)(e=>this._httpClient.get(this._apiService.users_wallet_cashTransfers_cashTransfer(n)).pipe((0,g.b)(r=>{let o={_id:r._id,time:r.time,amount:r.amount,type:r.destinationId==this._userService.user.id?"receiver":"transfer",status:r.status},a=e.findIndex(l=>l._id==o._id&&l.type==o.type);a>=0?e[a]=o:e.push(o),e=e.sort((l,s)=>new Date(s.time).getTime()-new Date(l.time).getTime()),this._orderHistories.next(e),this._cashTransfer.next(r)}))))}static#t=this.\u0275fac=function(e){return new(e||p)(t.LFG(et.eN),t.LFG(nt.s),t.LFG(H.K))};static#e=this.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}var it=c(900),d=c(4006),rt=c(5439),ot=c.n(rt),at=c(4880),w=c(4859),D=c(7392),M=c(3267),j=c(3317),F=c(758),W=c(5707);const st=["matDrawer"];function ct(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t._UZ(2,"div",29),t.TgZ(3,"div",30),t._uU(4),t.ALo(5,"date"),t.qZA(),t._UZ(6,"div",31),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.time,"YYYY/MM/dd")," ")}}function lt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",32)(2,"div",33),t.qZA())}function dt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",34),t.qZA())}function pt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",35),t.qZA())}function ut(i,n){if(1&i&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" -",t.lcZ(2,1,e.amount)," ")}}function mt(i,n){if(1&i&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" +",t.lcZ(2,1,e.amount)," ")}}const _t=function(i,n){return{"hover:bg-gray-100 dark:hover:bg-hover":i,"bg-primary-50 dark:bg-hover":n}},ft=function(i){return["./deposit",i]},ht=function(i){return["./withdraw",i]},gt=function(i){return["./transfer",i]};function xt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,ct,7,4,"ng-container",21),t.TgZ(2,"a",23),t.YNc(3,lt,3,0,"div",21),t.YNc(4,dt,2,0,"div",21),t.YNc(5,pt,2,0,"div",21),t.TgZ(6,"div",24),t.YNc(7,ut,3,3,"div",25),t.YNc(8,mt,3,3,"div",26),t.TgZ(9,"div",27),t._uU(10),t.ALo(11,"date"),t.qZA()()(),t.BQk()),2&i){const e=n.$implicit,r=n.index,o=t.oxw(2).ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",0===r||a.moment(e.time).format("YYYY/MM/dd")!==a.moment(o[r-1].time).format("YYYY/MM/dd")),t.xp6(1),t.Q6J("ngClass",t.WLB(12,_t,!a.selectedOrder||a.selectedOrder._id!==e._id,a.selectedOrder&&a.selectedOrder._id===e._id))("routerLink","deposit"==e.type?t.VKq(15,ft,e._id):"withdraw"==e.type?t.VKq(17,ht,e._id):t.VKq(19,gt,e._id)),t.xp6(1),t.Q6J("ngIf",!e.status||e.status===a.DepositOrderStatus.PENDING),t.xp6(1),t.Q6J("ngIf",e.status===a.DepositOrderStatus.SUCCESS),t.xp6(1),t.Q6J("ngIf",e.status===a.DepositOrderStatus.CANCELED),t.xp6(2),t.Q6J("ngIf","withdraw"==e.type||"transfer"==e.type),t.xp6(1),t.Q6J("ngIf","deposit"==e.type||"receiver"==e.type),t.xp6(2),t.hij(" ",t.xi3(11,9,e.time,"YYYY/MM/dd HH:mm:ss")," ")}}function vt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,xt,12,21,"ng-container",22),t.BQk()),2&i){const e=t.oxw().ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function wt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,vt,2,2,"ng-container",21),t.BQk()),2&i){const e=n.ngIf;t.xp6(1),t.Q6J("ngIf",null==e?null:e.length)}}class A{constructor(n,e,r,o,a,l){this._activatedRoute=n,this._changeDetectorRef=e,this._fuseMediaWatcherService=r,this._router=o,this._userService=a,this._walletService=l,this.searchInputControl=new d.p4,this.DepositOrderStatus=C,this.moment=ot(),this._unsubscribeAll=new N.x}ngOnInit(){this.orderHistories$=this._walletService.orderHistories$,this.orderHistories$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>this.orderHistories=n),this._userService.user$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{this.user=n}),this._walletService.depositOrder$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{n&&(this.selectedOrder=this.orderHistories.find(e=>e._id==n._id&&"deposit"==e.type),this._changeDetectorRef.markForCheck())}),this._walletService.withdrawOrder$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{n&&(this.selectedOrder=this.orderHistories.find(e=>e._id==n._id&&"withdraw"==e.type),this._changeDetectorRef.markForCheck())}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{this.drawerMode=n.includes("lg")?"side":"over",this._changeDetectorRef.markForCheck()}),this.matDrawer.openedChange.subscribe(n=>{n||(this.selectedOrder=null,this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(n,e){return e.id||n}static#t=this.\u0275fac=function(e){return new(e||A)(t.Y36(_.gz),t.Y36(t.sBO),t.Y36(at.T),t.Y36(_.F0),t.Y36(H.K),t.Y36(p))};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["app-wallet"]],viewQuery:function(e,r){if(1&e&&t.Gf(st,7),2&e){let o;t.iGM(o=t.CRH())&&(r.matDrawer=o.first)}},decls:44,vars:30,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","md:w-160","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-col","sm:flex-row","md:flex-col","flex-auto","justify-between","p-0","md:p-6"],[1,"w-full","md:w-fit","md:rounded-md","bg-card","shadow","p-2","items-end"],[1,"text-secondary","text-xl"],[1,"text-3xl","mt-2","mb-6"],[1,"flex","justify-between","gap-6"],["mat-flat-button","","routerLink","./deposit",1,"bg-transparent","p-1"],[1,"flex","items-center","gap-2","hover:cursor-pointer"],[1,"text-lime-500"],["svgIcon","heroicons_outline:arrow-circle-down"],[1,"text-sm"],["mat-flat-button","","routerLink","./transfer",1,"bg-transparent","p-1"],[1,"flex","items-center","gap-2"],[1,"text-red-500"],["mat-flat-button","","routerLink","./withdraw",1,"bg-transparent","p-1"],[1,"relative"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","items-center","px-6","py-2","md:px-8","cursor-pointer",3,"ngClass","routerLink"],[1,"min-w-0","ml-2"],["class","font-medium leading-5 truncate text-red-500",4,"ngIf"],["class","font-medium leading-5 truncate text-lime-500",4,"ngIf"],[1,"leading-5","truncate","text-secondary"],[1,"flex","z-10","sticky","my-2","gap-2","items-center","bg-card","dark:bg-default"],[1,"flex-auto","mt-px","border-t","min-w-6","md:min-w-8"],[1,"rounded-full","p-2","bg-card","shadow-md"],[1,"flex-auto","mt-px","border-t","w-full"],[1,"absolute","rounded-full","icon-size-3","transition","duration-150","animate-ping","bg-amber-500"],[1,"icon-size-3","rounded-full","bg-amber-500"],[1,"icon-size-3","rounded-full","bg-lime-500"],[1,"icon-size-3","rounded-full","bg-red-500"],[1,"font-medium","leading-5","truncate","text-red-500"],[1,"font-medium","leading-5","truncate","text-lime-500"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mat-drawer-container",1),t.NdJ("backdropClick",function(){return r.onBackdropClicked()}),t.TgZ(2,"mat-drawer",2,3),t._UZ(4,"router-outlet"),t.qZA(),t.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),t._uU(10),t.ALo(11,"capitalize"),t.ALo(12,"transloco"),t.qZA(),t.TgZ(13,"div",9),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",10)(17,"button",11)(18,"div",12)(19,"span",13),t._UZ(20,"mat-icon",14),t.qZA(),t.TgZ(21,"span",15),t._uU(22),t.ALo(23,"capitalize"),t.ALo(24,"transloco"),t.qZA()()(),t.TgZ(25,"button",16)(26,"div",17)(27,"span",18),t._UZ(28,"mat-icon",14),t.qZA(),t.TgZ(29,"span",15),t._uU(30),t.ALo(31,"capitalize"),t.ALo(32,"transloco"),t.qZA()()(),t.TgZ(33,"button",19)(34,"div",17)(35,"span",18),t._UZ(36,"mat-icon",14),t.qZA(),t.TgZ(37,"span",15),t._uU(38),t.ALo(39,"capitalize"),t.ALo(40,"transloco"),t.qZA()()()()()(),t.TgZ(41,"div",20),t.YNc(42,wt,2,1,"ng-container",21),t.ALo(43,"async"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("mode",r.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.xp6(8),t.hij(" ",t.lcZ(11,10,t.lcZ(12,12,"account cash"))," "),t.xp6(4),t.hij(" ",t.lcZ(15,14,r.user.cash)," "),t.xp6(8),t.hij(" ",t.lcZ(23,16,t.lcZ(24,18,"deposit"))," "),t.xp6(8),t.hij(" ",t.lcZ(31,20,t.lcZ(32,22,"cash transfer"))," "),t.xp6(8),t.hij(" ",t.lcZ(39,24,t.lcZ(40,26,"withdraw"))," "),t.xp6(4),t.Q6J("ngIf",t.lcZ(43,28,r.orderHistories$)))},dependencies:[m.mk,m.sg,m.O5,_.lC,_.rH,w.lW,D.Hw,M.jA,M.kh,M.LW,m.Ov,m.uU,j.e,F.H,W.Ot],encapsulation:2,changeDetection:0})}class Zt{constructor(n,e){this._document=e;const r=this._textarea=this._document.createElement("textarea"),o=r.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",r.setAttribute("aria-hidden","true"),r.value=n,r.readOnly=!0,this._document.body.appendChild(r)}copy(){const n=this._textarea;let e=!1;try{if(n){const r=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let P=(()=>{class i{constructor(e){this._document=e}copy(e){const r=this.beginCopy(e),o=r.copy();return r.destroy(),o}beginCopy(e){return new Zt(e,this._document)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Tt=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let G=(()=>{class i{constructor(e,r,o){this._clipboard=e,this._ngZone=r,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,o&&null!=o.attempts&&(this.attempts=o.attempts)}copy(e=this.attempts){if(e>1){let r=e;const o=this._clipboard.beginCopy(this.text);this._pending.add(o);const a=()=>{const l=o.copy();l||!--r||this._destroyed?(this._currentTimeout=null,this._pending.delete(o),o.destroy(),this.copied.emit(l)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(a,1))};a()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P),t.Y36(t.R0b),t.Y36(Tt,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,r){1&e&&t.NdJ("click",function(){return r.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),i})(),bt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();var x=c(9549),E=c(4144),yt=c(9885);function Ct(i,n){if(1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" +",t.lcZ(2,1,e.depositOrder.amount)," ")}}function At(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",27),t.TgZ(3,"div",28),t._uU(4),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("+",e.depositOrder.amount,"")}}function It(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",29),t.TgZ(3,"div",30),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",t.xi3(5,1,e.depositOrder.time,"YYYY/MM/dd HH:mm:ss")," ")}}function Ot(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",31),t.TgZ(3,"div",30),t._uU(4),t.qZA(),t.TgZ(5,"button",10),t._UZ(6,"mat-icon",11),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:hashtag"),t.xp6(2),t.Oqu(e.depositOrder.transactionId),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.depositOrder.transactionId)}}function Lt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",32),t.TgZ(3,"div",30),t._uU(4),t.qZA(),t.TgZ(5,"button",10),t._UZ(6,"mat-icon",11),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.depositOrder.masterAddress),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.depositOrder.masterAddress)}}function Dt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",33),t.TgZ(3,"div",30),t._uU(4),t.qZA(),t.TgZ(5,"button",10),t._UZ(6,"mat-icon",11),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.depositOrder.userAddress),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.depositOrder.userAddress)}}function kt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",35)(2,"div",36),t.qZA())}function Qt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",37),t.qZA())}function Jt(i,n){1&i&&(t.TgZ(0,"div"),t._UZ(1,"div",38),t.qZA())}function Ut(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"mat-icon",34),t.TgZ(3,"div",30),t.YNc(4,kt,3,0,"div",20),t.YNc(5,Qt,2,0,"div",20),t.YNc(6,Jt,2,0,"div",20),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!e.depositOrder.status||e.depositOrder.status===e.OrderStatus.PENDING),t.xp6(1),t.Q6J("ngIf",e.depositOrder.status===e.OrderStatus.SUCCESS),t.xp6(1),t.Q6J("ngIf",e.depositOrder.status===e.OrderStatus.CANCELED)}}function St(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.delete())}),t.ALo(1,"capitalize"),t.ALo(2,"transloco"),t._uU(3),t.ALo(4,"capitalize"),t.ALo(5,"transloco"),t.qZA()}2&i&&(t.Q6J("color","warn")("matTooltip",t.lcZ(1,3,t.lcZ(2,5,"delete"))),t.xp6(3),t.hij(" ",t.lcZ(4,7,t.lcZ(5,9,"delete"))," "))}const X=function(){return["../"]};function Yt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",22),t.YNc(2,At,5,1,"ng-container",20),t.YNc(3,It,6,4,"ng-container",20),t.YNc(4,Ot,7,3,"ng-container",20),t.YNc(5,Lt,7,2,"ng-container",20),t.YNc(6,Dt,7,2,"ng-container",20),t.YNc(7,Ut,7,3,"ng-container",20),t.qZA(),t.TgZ(8,"div",23),t.YNc(9,St,6,11,"button",24),t.TgZ(10,"button",25),t.ALo(11,"capitalize"),t.ALo(12,"transloco"),t._uU(13),t.ALo(14,"capitalize"),t.ALo(15,"transloco"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.depositOrder.amount>=0),t.xp6(1),t.Q6J("ngIf",e.depositOrder.time),t.xp6(1),t.Q6J("ngIf",e.depositOrder.transactionId),t.xp6(1),t.Q6J("ngIf",e.depositOrder.masterAddress),t.xp6(1),t.Q6J("ngIf",e.depositOrder.userAddress),t.xp6(1),t.Q6J("ngIf",e.depositOrder.status>=0),t.xp6(2),t.Q6J("ngIf",e.depositOrder.status!=e.OrderStatus.SUCCESS&&e.depositOrder.status!=e.OrderStatus.CANCELED),t.xp6(1),t.Q6J("matTooltip",t.lcZ(11,10,t.lcZ(12,12,"cancel")))("routerLink",t.DdM(18,X)),t.xp6(3),t.hij(" ",t.lcZ(14,14,t.lcZ(15,16,"cancel"))," ")}}const qt=function(i,n){return{"justify-between":i,"justify-end":n}};class k{constructor(n,e,r,o,a){this._walletService=n,this._router=e,this._appService=r,this._walletComponent=o,this._clipboard=a,this.OrderStatus=C,this.transactionId="",this.offset=0,this.size=10,this._unsubscribeAll=new N.x}ngOnInit(){this._walletComponent.matDrawer.open(),this._appService.appConfig$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{this.appConfig=n}),this._walletService.depositOrder$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{this.depositOrder=n})}ngOnDestroy(){this.depositOrder=null,this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._walletComponent.matDrawer.close()}checkTransaction(){this._walletService.checkTransaction(this.transactionId).subscribe(n=>{this._router.navigate(["/wallet","/deposit",n._id])})}copyMasterAddress(){this._clipboard.copy(this.appConfig.MASTER_ADDRESS)}delete(){this.depositOrder&&this._walletService.deleteDepositOrder(this.depositOrder).subscribe(n=>{this._router.navigate(["/wallet"])})}static#t=this.\u0275fac=function(e){return new(e||k)(t.Y36(p),t.Y36(_.F0),t.Y36(it.z),t.Y36(A),t.Y36(P))};static#e=this.\u0275cmp=t.Xpm({type:k,selectors:[["app-deposit"]],decls:28,vars:26,consts:[[1,"flex","flex-col","w-full"],[1,"relative","w-full","px-8","sm:px-12","py-4","md:py-6","bg-transparent","flex","items-center",3,"ngClass"],["class","text-3xl text-lime-500 font-bold",4,"ngIf"],["mat-icon-button","",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-4","sm:p-12","border-t"],[1,"w-full","max-w-3xl"],[1,"justify-center"],[1,"flex","items-center","justify-between","bg-slate-800","shadow-md","rounded-md","p-2"],[1,"truncate"],["mat-icon-button","",3,"cdkCopyToClipboard"],["svgIcon","heroicons_outline:clipboard-copy"],[1,"w-36","h-36","my-2","mx-auto"],[1,"w-36",3,"qrdata","errorCorrectionLevel"],[1,"flex","w-full","my-2","justify-between","items-center","gap-2","pt-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","type","text",3,"ngModel","autocomplete","placeholder","ngModelChange"],["mat-flat-button","",1,"bg-lime-500",3,"click"],["svgIcon","heroicons_outline:check-circle"],[4,"ngIf"],[1,"text-3xl","text-lime-500","font-bold"],[1,"flex","flex-col","mt-4","pt-6","space-y-8","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click",4,"ngIf"],["mat-button","",1,"ml-auto",3,"matTooltip","routerLink"],[1,"flex","sm:items-center"],["svgIcon","heroicons_outline:currency-dollar"],[1,"ml-6","leading-6","truncate","text-lime-500"],["svgIcon","heroicons_outline:calendar"],[1,"ml-6","leading-6","truncate"],[3,"svgIcon"],["svgIcon","heroicons_outline:arrow-circle-down"],["svgIcon","heroicons_outline:arrow-circle-up"],["svgIcon","heroicons_outline:fire"],[1,"absolute","rounded-full","icon-size-3","transition","duration-150","animate-ping","bg-amber-500"],[1,"icon-size-3","rounded-full","bg-amber-500"],[1,"icon-size-3","rounded-full","bg-lime-500"],[1,"icon-size-3","rounded-full","bg-red-500"],["mat-button","",3,"color","matTooltip","click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Ct,3,3,"div",2),t.TgZ(3,"button",3),t._UZ(4,"mat-icon",4),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),t._uU(10),t.qZA(),t.TgZ(11,"button",10),t._UZ(12,"mat-icon",11),t.qZA()(),t.TgZ(13,"div",12),t._UZ(14,"qrcode",13),t.qZA()(),t.TgZ(15,"div",14)(16,"mat-form-field",15),t._UZ(17,"mat-icon",16),t.TgZ(18,"input",17),t.NdJ("ngModelChange",function(a){return r.transactionId=a}),t.ALo(19,"capitalize"),t.ALo(20,"transloco"),t.qZA()(),t.TgZ(21,"button",18),t.NdJ("click",function(){return r.checkTransaction()}),t._UZ(22,"mat-icon",19),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"capitalize"),t.ALo(26,"transloco"),t.qZA()()(),t.YNc(27,Yt,16,19,"ng-container",20),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.WLB(22,qt,r.depositOrder,!r.depositOrder)),t.xp6(1),t.Q6J("ngIf",r.depositOrder),t.xp6(1),t.Q6J("routerLink",t.DdM(25,X)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(6),t.hij(" ",r.appConfig.MASTER_ADDRESS," "),t.xp6(1),t.Q6J("cdkCopyToClipboard",r.appConfig.MASTER_ADDRESS),t.xp6(3),t.Q6J("qrdata",r.appConfig.MASTER_ADDRESS)("errorCorrectionLevel","M"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:hashtag"),t.xp6(1),t.Q6J("ngModel",r.transactionId)("autocomplete","off")("placeholder",t.lcZ(19,14,t.lcZ(20,16,"transaction hash"))),t.xp6(6),t.Oqu(t.lcZ(25,18,t.lcZ(26,20,"check"))),t.xp6(3),t.Q6J("ngIf",r.depositOrder))},dependencies:[m.mk,m.O5,_.rH,w.lW,w.RK,x.KE,x.qo,D.Hw,E.Nt,d.Fj,d.JJ,d.On,yt.V,G,m.uU,j.e,F.H,W.Ot]})}class Q{constructor(n){this._walletService=n}canDeactivate(n,e,r,o){let a=o.root;for(;a.firstChild;)a=a.firstChild;return!(o.url.includes("/wallet")&&!a.paramMap.get("id"))||n.closeDrawer().then(()=>!0)}static#t=this.\u0275fac=function(e){return new(e||Q)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}class Z{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getDepositOrders()}static#t=this.\u0275fac=function(e){return new(e||Z)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}class J{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getDepositOrder(n.paramMap.get("depositOrderId"))}static#t=this.\u0275fac=function(e){return new(e||J)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"})}class T{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getWithdrawOrders()}static#t=this.\u0275fac=function(e){return new(e||T)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}class U{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getWithdrawOrder(n.paramMap.get("withdrawOrderId"))}static#t=this.\u0275fac=function(e){return new(e||U)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}class b{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getCashTransfers()}static#t=this.\u0275fac=function(e){return new(e||b)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}class S{constructor(n){this._walletService=n}resolve(n,e){return this._walletService.getCashTransfer(n.paramMap.get("cashTransferId"))}static#t=this.\u0275fac=function(e){return new(e||S)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}var K=c(1572);function Nt(i,n){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" -",t.lcZ(2,1,e.withdrawOrder.amount)," ")}}function zt(i,n){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"receiving address is required"))," "))}function Mt(i,n){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"amount is required"))," "))}function jt(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"withdraw"))," "))}function Ft(i,n){1&i&&t._UZ(0,"mat-progress-spinner",20),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}function Wt(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"form",10)(3,"div",11)(4,"mat-form-field",12)(5,"mat-label"),t._uU(6),t.ALo(7,"capitalize"),t.ALo(8,"transloco"),t.qZA(),t._UZ(9,"mat-icon",13)(10,"input",14),t.ALo(11,"capitalize"),t.ALo(12,"transloco"),t.YNc(13,zt,4,5,"mat-error",7),t.qZA()(),t.TgZ(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17),t.ALo(18,"capitalize"),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"mat-icon",13)(21,"input",15),t.ALo(22,"capitalize"),t.ALo(23,"transloco"),t.YNc(24,Mt,4,5,"mat-error",7),t.qZA()(),t.TgZ(25,"div",11)(26,"mat-form-field",12)(27,"mat-label"),t._uU(28),t.ALo(29,"capitalize"),t.ALo(30,"transloco"),t.qZA(),t._UZ(31,"mat-icon",13)(32,"input",16),t.ALo(33,"capitalize"),t.ALo(34,"transloco"),t.qZA()()()(),t.TgZ(35,"div",17)(36,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createWithdrawOrder())}),t.YNc(37,jt,4,5,"span",7),t.YNc(38,Ft,1,2,"mat-progress-spinner",19),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(4),t.hij(" ",t.lcZ(7,16,t.lcZ(8,18,"receiving address"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:credit-card"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder",t.lcZ(11,20,t.lcZ(12,22,"enter receiving address"))),t.xp6(3),t.Q6J("ngIf",e.form.get("userAddress").hasError("required")),t.xp6(4),t.hij(" ",t.lcZ(18,24,t.lcZ(19,26,"amount"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:currency-dollar"),t.xp6(1),t.Q6J("placeholder",t.lcZ(22,28,t.lcZ(23,30,"enter amount"))),t.xp6(3),t.Q6J("ngIf",e.form.get("amount").hasError("required")),t.xp6(4),t.hij(" ",t.lcZ(29,32,t.lcZ(30,34,"memo optional"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:annotation"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder",t.lcZ(33,36,t.lcZ(34,38,"enter your message"))),t.xp6(5),t.Q6J("ngIf",!e.form.disabled),t.xp6(1),t.Q6J("ngIf",e.form.disabled)}}function Et(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",27),t._uU(4),t.ALo(5,"currency"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,1,e.withdrawOrder.amount)," ")}}function Bt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",28),t.TgZ(3,"div",27),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",t.xi3(5,1,e.withdrawOrder.updated,"YYYY/MM/dd HH:mm:ss")," ")}}function Rt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",29),t.TgZ(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"button",30),t._UZ(6,"mat-icon",31),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.withdrawOrder.userAddress),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.withdrawOrder.userAddress)}}function Ht(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",32),t.TgZ(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"button",30),t._UZ(6,"mat-icon",31),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.withdrawOrder.masterAddress),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.withdrawOrder.masterAddress)}}function Gt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",33),t.TgZ(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"button",30),t._UZ(6,"mat-icon",31),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.withdrawOrder.transactionId),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.withdrawOrder.transactionId)}}function Kt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteWithdrawOrder())}),t.ALo(1,"capitalize"),t.ALo(2,"transloco"),t._uU(3),t.ALo(4,"capitalize"),t.ALo(5,"transloco"),t.qZA()}2&i&&(t.Q6J("color","warn")("matTooltip",t.lcZ(1,3,t.lcZ(2,5,"delete"))),t.xp6(3),t.hij(" ",t.lcZ(4,7,t.lcZ(5,9,"delete"))," "))}const V=function(){return["../"]};function $t(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",21),t.YNc(2,Et,6,3,"ng-container",7),t.YNc(3,Bt,6,4,"ng-container",7),t.YNc(4,Rt,7,2,"ng-container",7),t.YNc(5,Ht,7,2,"ng-container",7),t.YNc(6,Gt,7,2,"ng-container",7),t.TgZ(7,"div",22),t.YNc(8,Kt,6,11,"button",23),t.TgZ(9,"button",24),t.ALo(10,"capitalize"),t.ALo(11,"transloco"),t._uU(12),t.ALo(13,"capitalize"),t.ALo(14,"transloco"),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.withdrawOrder.amount),t.xp6(1),t.Q6J("ngIf",e.withdrawOrder.updated),t.xp6(1),t.Q6J("ngIf",e.withdrawOrder.userAddress),t.xp6(1),t.Q6J("ngIf",e.withdrawOrder.masterAddress),t.xp6(1),t.Q6J("ngIf",e.withdrawOrder.transactionId),t.xp6(2),t.Q6J("ngIf",e.withdrawOrder.status!=e.OrderStatus.SUCCESS&&e.withdrawOrder.status!=e.OrderStatus.CANCELED),t.xp6(1),t.Q6J("matTooltip",t.lcZ(10,9,t.lcZ(11,11,"cancel")))("routerLink",t.DdM(17,V)),t.xp6(3),t.hij(" ",t.lcZ(13,13,t.lcZ(14,15,"cancel"))," ")}}const Pt=function(i,n){return{"justify-between":i,"justify-end":n}};class Y{constructor(n,e,r,o){this._walletComponent=n,this._walletService=e,this._formBuilder=r,this._router=o,this.editMode=!1,this.OrderStatus=C,this._unsubscribeAll=new N.x}ngOnInit(){this._walletComponent.matDrawer.open(),this.form=this._formBuilder.group({amount:["",d.kI.required],userAddress:["",d.kI.required],memo:[""]}),this._walletService.withdrawOrder$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{this.withdrawOrder=n})}closeDrawer(){return this._walletComponent.matDrawer.close()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createWithdrawOrder(){this.form.invalid||(this.form.disable(),this._walletService.createWithdrawOrder(this.form.value).subscribe(n=>{this._router.navigate(["/wallet","withdraw",n._id])},n=>{this.form.enable()}))}deleteWithdrawOrder(){this._walletService.deleteWithdrawOrder(this.withdrawOrder._id).subscribe(()=>{this._router.navigate(["/wallet"])})}static#t=this.\u0275fac=function(e){return new(e||Y)(t.Y36(A),t.Y36(p),t.Y36(d.QS),t.Y36(_.F0))};static#e=this.\u0275cmp=t.Xpm({type:Y,selectors:[["app-withdraw"]],decls:9,vars:10,consts:[[1,"flex","flex-col","w-full"],[1,"flex","relative","w-full","px-8","sm:px-12","py-4","md:py-6","bg-transparent","items-center",3,"ngClass"],["class","text-3xl text-red-500 font-bold",4,"ngIf"],["mat-icon-button","",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-4","sm:p-12","border-t"],[1,"w-full","max-w-3xl"],[4,"ngIf"],[1,"text-3xl","text-red-500","font-bold"],[1,"flex","flex-col","space-y-8","-mx-6","sm:-mx-12","pr-4","pl-1","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],[3,"formGroup"],[1,"flex","w-full","my-2","justify-between","items-center","gap-2","pb-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","formControlName","userAddress","type","text",3,"autocomplete","placeholder"],["matInput","","formControlName","amount","type","number","value","0",3,"placeholder"],["matInput","","type","text",3,"autocomplete","placeholder"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["color","primary","mat-button","",1,"ml-auto",3,"click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"],[1,"flex","flex-col","space-y-8","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-5","sm:pr-12","sm:pl-5","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click",4,"ngIf"],["mat-button","",1,"ml-auto",3,"matTooltip","routerLink"],[1,"flex","sm:items-center"],["svgIcon","heroicons_outline:currency-dollar"],[1,"ml-6","leading-6","truncate"],["svgIcon","heroicons_outline:calendar"],["svgIcon","heroicons_outline:arrow-circle-down"],["mat-icon-button","",3,"cdkCopyToClipboard"],["svgIcon","heroicons_outline:clipboard-copy"],["svgIcon","heroicons_outline:arrow-circle-up"],["svgIcon","heroicons_outline:hashtag"],["mat-button","",3,"color","matTooltip","click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Nt,3,3,"div",2),t.TgZ(3,"button",3),t._UZ(4,"mat-icon",4),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,Wt,39,40,"ng-container",7),t.YNc(8,$t,15,18,"ng-container",7),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.WLB(6,Pt,r.withdrawOrder,!r.withdrawOrder)),t.xp6(1),t.Q6J("ngIf",r.withdrawOrder),t.xp6(1),t.Q6J("routerLink",t.DdM(9,V)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(3),t.Q6J("ngIf",!r.withdrawOrder),t.xp6(1),t.Q6J("ngIf",r.withdrawOrder))},dependencies:[m.mk,m.O5,_.rH,w.lW,w.RK,x.KE,x.hX,x.TO,x.qo,D.Hw,E.Nt,K.Ou,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u,G,m.uU,j.e,F.H,W.Ot]})}class O{constructor(n){this._walletService=n}canActivate(n,e){return this._walletService._withdrawOrder.next(null),(0,I.of)(!0)}canDeactivate(n,e,r,o){let a=o.root;for(;a.firstChild;)a=a.firstChild;return!(o.url.includes("/wallet")&&!a.paramMap.get("id"))||n.closeDrawer().then(()=>!0)}static#t=this.\u0275fac=function(e){return new(e||O)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}function Xt(i,n){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" -",t.lcZ(2,1,e.cashTransfer.amount)," ")}}function Vt(i,n){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" +",t.lcZ(2,1,e.cashTransfer.amount)," ")}}function te(i,n){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"recipient nickname is required"))," "))}function ee(i,n){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"amount is required"))," "))}function ne(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"capitalize"),t.ALo(3,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,"transfer"))," "))}function ie(i,n){1&i&&t._UZ(0,"mat-progress-spinner",22),2&i&&t.Q6J("diameter",24)("mode","indeterminate")}function re(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"form",12)(3,"div",13)(4,"mat-form-field",14)(5,"mat-label"),t._uU(6),t.ALo(7,"capitalize"),t.ALo(8,"transloco"),t.qZA(),t._UZ(9,"mat-icon",15)(10,"input",16),t.ALo(11,"capitalize"),t.ALo(12,"transloco"),t.YNc(13,te,4,5,"mat-error",8),t.qZA()(),t.TgZ(14,"div",13)(15,"mat-form-field",14)(16,"mat-label"),t._uU(17),t.ALo(18,"capitalize"),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"mat-icon",15)(21,"input",17),t.ALo(22,"capitalize"),t.ALo(23,"transloco"),t.YNc(24,ee,4,5,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"mat-form-field",14)(27,"mat-label"),t._uU(28),t.ALo(29,"capitalize"),t.ALo(30,"transloco"),t.qZA(),t._UZ(31,"mat-icon",15)(32,"input",18),t.ALo(33,"capitalize"),t.ALo(34,"transloco"),t.qZA()()()(),t.TgZ(35,"div",19)(36,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createCashTransfer())}),t.YNc(37,ne,4,5,"span",8),t.YNc(38,ie,1,2,"mat-progress-spinner",21),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(4),t.hij(" ",t.lcZ(7,16,t.lcZ(8,18,"recipient nickname"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:credit-card"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder",t.lcZ(11,20,t.lcZ(12,22,"enter recipient nickname"))),t.xp6(3),t.Q6J("ngIf",e.form.get("destinationUsername").hasError("required")),t.xp6(4),t.hij(" ",t.lcZ(18,24,t.lcZ(19,26,"amount"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:currency-dollar"),t.xp6(1),t.Q6J("placeholder",t.lcZ(22,28,t.lcZ(23,30,"enter amount"))),t.xp6(3),t.Q6J("ngIf",e.form.get("amount").hasError("required")),t.xp6(4),t.hij(" ",t.lcZ(29,32,t.lcZ(30,34,"memo optional"))," "),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:annotation"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder",t.lcZ(33,36,t.lcZ(34,38,"enter your message"))),t.xp6(5),t.Q6J("ngIf",!e.form.disabled),t.xp6(1),t.Q6J("ngIf",e.form.disabled)}}function oe(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",27),t._UZ(2,"mat-icon",28),t.TgZ(3,"div",29),t._uU(4),t.ALo(5,"currency"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,1,e.cashTransfer.amount)," ")}}function ae(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",27),t._UZ(2,"mat-icon",30),t.TgZ(3,"div",29),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",t.xi3(5,1,e.cashTransfer.time,"YYYY/MM/dd HH:mm:ss")," ")}}function se(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",27),t._UZ(2,"mat-icon",31),t.TgZ(3,"div",29),t._uU(4),t.qZA(),t.TgZ(5,"button",32),t._UZ(6,"mat-icon",33),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.cashTransfer.destinationUsername),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.cashTransfer.destinationUsername)}}function ce(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteWithdrawOrder())}),t.ALo(1,"capitalize"),t.ALo(2,"transloco"),t._uU(3),t.ALo(4,"capitalize"),t.ALo(5,"transloco"),t.qZA()}2&i&&(t.Q6J("color","warn")("matTooltip",t.lcZ(1,3,t.lcZ(2,5,"delete"))),t.xp6(3),t.hij(" ",t.lcZ(4,7,t.lcZ(5,9,"delete"))," "))}const tt=function(){return["../"]};function le(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",23),t.YNc(2,oe,6,3,"ng-container",8),t.YNc(3,ae,6,4,"ng-container",8),t.YNc(4,se,7,2,"ng-container",8),t.TgZ(5,"div",24),t.YNc(6,ce,6,11,"button",25),t.TgZ(7,"button",26),t.ALo(8,"capitalize"),t.ALo(9,"transloco"),t._uU(10),t.ALo(11,"capitalize"),t.ALo(12,"transloco"),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.cashTransfer.amount),t.xp6(1),t.Q6J("ngIf",e.cashTransfer.time),t.xp6(1),t.Q6J("ngIf",e.cashTransfer.destinationUsername),t.xp6(2),t.Q6J("ngIf",e.cashTransfer.status!=e.OrderStatus.SUCCESS&&e.cashTransfer.status!=e.OrderStatus.CANCELED),t.xp6(1),t.Q6J("matTooltip",t.lcZ(8,7,t.lcZ(9,9,"cancel")))("routerLink",t.DdM(15,tt)),t.xp6(3),t.hij(" ",t.lcZ(11,11,t.lcZ(12,13,"cancel"))," ")}}const de=function(i,n){return{"justify-between":i,"justify-end":n}};class q{constructor(n,e,r,o,a){this._walletComponent=n,this._walletService=e,this._formBuilder=r,this._router=o,this._userService=a,this.editMode=!1,this.OrderStatus=C,this._unsubscribeAll=new N.x}ngOnInit(){this._walletComponent.matDrawer.open(),this.form=this._formBuilder.group({amount:["",d.kI.required],destinationUsername:["",d.kI.required],memo:[""]}),this._walletService.cashTransfer$.pipe((0,v.R)(this._unsubscribeAll)).subscribe(n=>{this.cashTransfer=n})}closeDrawer(){return this._walletComponent.matDrawer.close()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCashTransfer(){this.form.invalid||(this.form.disable(),this._walletService.createCashTransfer(this.form.value).subscribe(n=>{this._router.navigate(["/wallet","transfer",n._id])},n=>{this.form.enable()}))}isTransfer(){return this.cashTransfer&&this.cashTransfer.destinationId!=this._userService.user.id}static#t=this.\u0275fac=function(e){return new(e||q)(t.Y36(A),t.Y36(p),t.Y36(d.QS),t.Y36(_.F0),t.Y36(H.K))};static#e=this.\u0275cmp=t.Xpm({type:q,selectors:[["app-transfer"]],decls:10,vars:11,consts:[[1,"flex","flex-col","w-full"],[1,"flex","relative","w-full","px-8","sm:px-12","py-4","md:py-6","bg-transparent","items-center",3,"ngClass"],["class","text-3xl text-red-500 font-bold",4,"ngIf"],["class","text-3xl text-lime-500 font-bold",4,"ngIf"],["mat-icon-button","",3,"routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-4","sm:p-12","border-t"],[1,"w-full","max-w-3xl"],[4,"ngIf"],[1,"text-3xl","text-red-500","font-bold"],[1,"text-3xl","text-lime-500","font-bold"],[1,"flex","flex-col","space-y-8","-mx-6","sm:-mx-12","pr-4","pl-1","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],[3,"formGroup"],[1,"flex","w-full","my-2","justify-between","items-center","gap-2","pb-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","formControlName","destinationUsername","type","text",3,"autocomplete","placeholder"],["matInput","","formControlName","amount","type","number","value","0",3,"placeholder"],["matInput","","type","text",3,"autocomplete","placeholder"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-5","sm:pr-12","sm:pl-5","border-t","bg-gray-50","dark:bg-transparent"],["color","primary","mat-button","",1,"ml-auto",3,"click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"],[1,"flex","flex-col","space-y-8","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click",4,"ngIf"],["mat-button","",1,"ml-auto",3,"matTooltip","routerLink"],[1,"flex","sm:items-center"],["svgIcon","heroicons_outline:currency-dollar"],[1,"ml-6","leading-6","truncate"],["svgIcon","heroicons_outline:calendar"],["svgIcon","heroicons_outline:user-circle"],["mat-icon-button","",3,"cdkCopyToClipboard"],["svgIcon","heroicons_outline:clipboard-copy"],["mat-button","",3,"color","matTooltip","click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Xt,3,3,"div",2),t.YNc(3,Vt,3,3,"div",3),t.TgZ(4,"button",4),t._UZ(5,"mat-icon",5),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,re,39,40,"ng-container",8),t.YNc(9,le,13,16,"ng-container",8),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.WLB(7,de,r.cashTransfer,!r.cashTransfer)),t.xp6(1),t.Q6J("ngIf",r.cashTransfer&&r.isTransfer()),t.xp6(1),t.Q6J("ngIf",r.cashTransfer&&!r.isTransfer()),t.xp6(1),t.Q6J("routerLink",t.DdM(10,tt)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(3),t.Q6J("ngIf",!r.cashTransfer),t.xp6(1),t.Q6J("ngIf",r.cashTransfer))},dependencies:[m.mk,m.O5,_.rH,w.lW,w.RK,x.KE,x.hX,x.TO,x.qo,D.Hw,E.Nt,K.Ou,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u,G,m.uU,j.e,F.H,W.Ot]})}class L{constructor(n){this._walletService=n}canActivate(n,e){return this._walletService._cashTransfer.next(null),(0,I.of)(!0)}canDeactivate(n,e,r,o){let a=o.root;for(;a.firstChild;)a=a.firstChild;return!(o.url.includes("/wallet")&&!a.paramMap.get("id"))||n.closeDrawer().then(()=>!0)}static#t=this.\u0275fac=function(e){return new(e||L)(t.LFG(p))};static#e=this.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}const pe=[{path:"",component:A,resolve:{DepositOrdersResolver:Z,WithdrawOrdersResolver:T,CashTransfersResolver:b},children:[{path:"deposit",component:k,canDeactivate:[Q],resolve:{DepositOrdersResolver:Z,WithdrawOrdersResolver:T,CashTransfersResolver:b},children:[{path:":depositOrderId",component:k,resolve:{DepositOrderResolver:J}}]},{path:"withdraw",component:Y,resolve:{DepositOrdersResolver:Z,WithdrawOrdersResolver:T,CashTransfersResolver:b},canDeactivate:[O],canActivate:[O],children:[{path:":withdrawOrderId",component:Y,resolve:{WithdrawOrderResolver:U}}]},{path:"transfer",component:q,resolve:{DepositOrdersResolver:Z,WithdrawOrdersResolver:T,CashTransfersResolver:b},canDeactivate:[L],canActivate:[L],children:[{path:":cashTransferId",component:q,resolve:{CashTransferResolver:S}}]}]},{path:"**",redirectTo:"/wallet"}];class B{static#t=this.\u0275fac=function(e){return new(e||B)};static#e=this.\u0275mod=t.oAB({type:B});static#n=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(pe),_.Bz]})}var ue=c(4466),me=c(811),_e=c(8255),fe=c(4385),he=c(7314),ge=c(6308),xe=c(7155),ve=c(3848),we=c(7775),Ze=c(6236);class R{static#t=this.\u0275fac=function(e){return new(e||R)};static#e=this.\u0275mod=t.oAB({type:R});static#n=this.\u0275inj=t.cJS({imports:[m.ez,B,w.ot,me.vV,x.lN,D.Ps,E.c,_e.Tx,fe.LD,M.SJ,ge.JX,xe.p0,ve.Nh,he.KP,K.Cq,Ze.J,we.fC,ue.m,bt]})}}}]);