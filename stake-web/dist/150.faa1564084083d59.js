(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[150],{4150:(Ct,Et,lt)=>{"use strict";lt.r(Et),lt.d(Et,{TradesModule:()=>jt});var Mt=lt(6895),vt=lt(4859),K=lt(811),D=lt(9549),Z=lt(7392),F=lt(4144),G=lt(8255),j=lt(4385),U=lt(3267),X=lt(6308),L=lt(7155),I=lt(3848),E=lt(7314),T=lt(6205),M=lt(4466),s=lt(4650),y=lt(1135),b=lt(8505),x=lt(5698),c=lt(3900),m=lt(4004),g=lt(529),u=lt(5240),l=lt(8951),f=lt(7495);class d{constructor(Q,et,ct,ut){this._httpClient=Q,this._apiService=et,this._authService=ct,this._userService=ut,this._rooms=new y.X(null),this._klines=new y.X(null),this._rounds=new y.X(null),this._config=new y.X(null),this._tradingCalls=new y.X(null)}get rooms$(){return this._rooms.asObservable()}get klines$(){return this._klines.asObservable()}get rounds$(){return this._rounds.asObservable()}get config$(){return this._config.asObservable()}get tradingCalls$(){return this._tradingCalls.asObservable()}getTradingRooms(){return this._httpClient.get(this._apiService.public_trading_rooms()).pipe((0,b.b)(Q=>{this._rooms.next(Q)}))}getLatestKlines(Q,et=60){return this._httpClient.get(this._apiService.public_trading_latest_klines(Q.symbol??"",et)).pipe((0,b.b)(ct=>{this._klines.next(ct)}))}getLatestRounds(Q,et=60){return this._httpClient.get(this._apiService.public_trading_latest_rounds(Q.symbol??"",et)).pipe((0,b.b)(ct=>{this._rounds.next(ct)}))}getConfig(Q,et=60){return this._httpClient.get(this._apiService.public_trading_config(Q.symbol??"")).pipe((0,b.b)(ct=>{this._config.next(ct)}))}call(Q){return this._tradingCalls.pipe((0,x.q)(1),(0,c.w)(et=>this._httpClient.post(this._apiService.users_trading_calls(),Q).pipe((0,m.U)(ct=>{let ut=et.findIndex(bt=>bt.symbol==ct.symbol);return ut>=0?et[ut]=ct:et.push(ct),this._tradingCalls.next(et),ct}))))}getLatestTradingCalls(){return this._httpClient.get(this._apiService.users_trading_latestCalls()).pipe((0,b.b)(Q=>{this._tradingCalls.next(Q)}))}}d.\u0275fac=function(Q){return new(Q||d)(s.LFG(g.eN),s.LFG(u.s),s.LFG(l.e),s.LFG(f.K))},d.\u0275prov=s.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});class p{constructor(Q){this._tradingService=Q}resolve(Q,et){return this._tradingService.getTradingRooms()}}p.\u0275fac=function(Q){return new(Q||p)(s.LFG(d))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var C=lt(9299),w=lt(7579),a=lt(2722),o=lt(4482),i=lt(5403),e=lt(9548),n=lt(5439),h=lt.n(n);class r{static getOpenDate(Q=new Date){return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),0)}static getCloseDate(Q=new Date){return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),59)}}var S=lt(2594),v=lt(7020),P=lt(2077),A=lt.n(P),k=lt(1688),O=lt(5707),N=lt(5589),B=lt(3238),Y=lt(4006),W=lt(3317);class R{transform(Q,...et){let ct=parseInt(""+Q/60,10),ut=parseInt(""+Q%60,10);return ct=ct<10?"0"+ct:ct,ut=ut<10?"0"+ut:ut,`${ct} : ${ut}`}}R.\u0275fac=function(Q){return new(Q||R)},R.\u0275pipe=s.Yjl({name:"countdown",type:R,pure:!0});var z=lt(758),H=lt(3857);const _=["btcChartComponent"];function q(at,Q){if(1&at&&(s.TgZ(0,"mat-option",41),s._uU(1),s.ALo(2,"capitalize"),s.ALo(3,"transloco"),s.qZA()),2&at){const et=Q.$implicit;s.Q6J("value",et),s.xp6(1),s.hij(" ",s.lcZ(2,2,s.lcZ(3,4,et.symbol)),"")}}function V(at,Q){if(1&at){const et=s.EpF();s.ynx(0),s.TgZ(1,"div",37)(2,"mat-form-field",38)(3,"mat-select",39),s.NdJ("valueChange",function(ut){s.CHM(et);const bt=s.oxw();return s.KtG(bt.tradingRoom=ut)})("valueChange",function(ut){s.CHM(et);const bt=s.oxw();return s.KtG(bt.onRoomChange(ut))}),s.YNc(4,q,4,6,"mat-option",40),s.qZA()()(),s.BQk()}if(2&at){const et=s.oxw();s.xp6(3),s.Q6J("value",et.tradingRoom),s.xp6(1),s.Q6J("ngForOf",et.tradingRooms)}}function $(at,Q){1&at&&s._UZ(0,"mat-progress-spinner",42),2&at&&s.Q6J("diameter",24)("mode","indeterminate")}function J(at,Q){1&at&&(s.TgZ(0,"div",45),s._uU(1),s.ALo(2,"capitalize"),s.ALo(3,"transloco"),s.qZA()),2&at&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,s.lcZ(3,3,"trading time"))," "))}function tt(at,Q){1&at&&(s.TgZ(0,"div",45),s._uU(1),s.ALo(2,"capitalize"),s.ALo(3,"transloco"),s.qZA()),2&at&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,s.lcZ(3,3,"wait for result"))," "))}function st(at,Q){if(1&at&&(s.ynx(0),s.TgZ(1,"div"),s.YNc(2,J,4,5,"div",43),s.YNc(3,tt,4,5,"div",43),s.TgZ(4,"div",44)(5,"span"),s._uU(6),s.ALo(7,"countdown"),s.qZA()()(),s.BQk()),2&at){const et=s.oxw();s.xp6(2),s.Q6J("ngIf",et.checkCanTrade()),s.xp6(1),s.Q6J("ngIf",!et.checkCanTrade()),s.xp6(3),s.hij(" ",s.lcZ(7,3,et.countdown)," ")}}function it(at,Q){1&at&&(s.TgZ(0,"div",46)(1,"span"),s._uU(2),s.ALo(3,"capitalize"),s.ALo(4,"transloco"),s.qZA()()),2&at&&(s.xp6(2),s.hij(" ",s.lcZ(3,1,s.lcZ(4,3,"wait for processing"))," "))}function ot(at,Q){1&at&&s._UZ(0,"mat-progress-spinner",42),2&at&&s.Q6J("diameter",24)("mode","indeterminate")}function rt(at,Q){if(1&at&&(s.ynx(0),s.TgZ(1,"div",34)(2,"button",47)(3,"span",48),s._uU(4),s.ALo(5,"uppercase"),s.ALo(6,"transloco"),s.qZA(),s.TgZ(7,"span",48),s._uU(8),s.qZA()(),s.TgZ(9,"button",49)(10,"span",48),s._uU(11),s.ALo(12,"uppercase"),s.ALo(13,"transloco"),s.qZA(),s.TgZ(14,"span",48),s._uU(15),s.qZA()()(),s.BQk()),2&at){const et=s.oxw();s.xp6(4),s.hij(" ",s.lcZ(5,4,s.lcZ(6,6,"buy"))," "),s.xp6(4),s.hij(" ",et.countResult.buy," "),s.xp6(3),s.hij(" ",s.lcZ(12,8,s.lcZ(13,10,"sell"))," "),s.xp6(4),s.hij(" ",et.countResult.sell," ")}}function nt(at,Q){if(1&at&&(s.ynx(0),s.TgZ(1,"div",50)(2,"div",51)(3,"div",52),s._uU(4),s.ALo(5,"capitalize"),s.ALo(6,"transloco"),s.qZA(),s.TgZ(7,"div",53),s._UZ(8,"img",54)(9,"img",55),s.TgZ(10,"div"),s._UZ(11,"div",56),s.qZA()(),s.TgZ(12,"div",57)(13,"div",58)(14,"div",59),s._uU(15),s.qZA(),s.TgZ(16,"div",60),s._uU(17),s.ALo(18,"capitalize"),s.ALo(19,"transloco"),s.qZA()(),s.TgZ(20,"div",58)(21,"div",61),s._uU(22),s.qZA(),s.TgZ(23,"div",60),s._uU(24),s.ALo(25,"capitalize"),s.ALo(26,"transloco"),s.qZA()()()(),s.TgZ(27,"div",51)(28,"div",52),s._uU(29),s.ALo(30,"capitalize"),s.ALo(31,"transloco"),s.qZA(),s.TgZ(32,"div",53),s._UZ(33,"img",54)(34,"img",55),s.TgZ(35,"div"),s._UZ(36,"div",56),s.qZA()(),s.TgZ(37,"div",57)(38,"div",58)(39,"div",59),s._uU(40),s.ALo(41,"currency"),s.qZA(),s.TgZ(42,"div",60),s._uU(43),s.ALo(44,"capitalize"),s.ALo(45,"transloco"),s.qZA()(),s.TgZ(46,"div",58)(47,"div",61),s._uU(48),s.ALo(49,"currency"),s.qZA(),s.TgZ(50,"div",60),s._uU(51),s.ALo(52,"capitalize"),s.ALo(53,"transloco"),s.qZA()()()(),s.TgZ(54,"div",51)(55,"div",52),s._uU(56),s.ALo(57,"capitalize"),s.ALo(58,"transloco"),s.qZA(),s.TgZ(59,"div",53),s._UZ(60,"img",54)(61,"img",55),s.TgZ(62,"div"),s._UZ(63,"div",56),s.qZA()(),s.TgZ(64,"div",57)(65,"div",58)(66,"div",59),s._uU(67),s.qZA(),s.TgZ(68,"div",60),s._uU(69),s.ALo(70,"capitalize"),s.ALo(71,"transloco"),s.qZA()(),s.TgZ(72,"div",58)(73,"div",61),s._uU(74),s.qZA(),s.TgZ(75,"div",60),s._uU(76),s.ALo(77,"capitalize"),s.ALo(78,"transloco"),s.qZA()()()()(),s.BQk()),2&at){const et=s.oxw();s.xp6(4),s.hij(" ",s.lcZ(5,21,s.lcZ(6,23,"oscillators"))," "),s.xp6(6),s.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+et.gaugeRotate(et.analysisSell,et.analysisBuy)),s.xp6(5),s.Oqu(et.analysisSell),s.xp6(2),s.Oqu(s.lcZ(18,25,s.lcZ(19,27,"sell"))),s.xp6(5),s.Oqu(et.analysisBuy),s.xp6(2),s.Oqu(s.lcZ(25,29,s.lcZ(26,31,"buy"))),s.xp6(5),s.hij(" ",s.lcZ(30,33,s.lcZ(31,35,"trading amount"))," "),s.xp6(6),s.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+et.gaugeRotate(et.analysisSellAmount,et.analysisBuyAmount)),s.xp6(5),s.Oqu(s.lcZ(41,37,et.analysisSellAmount)),s.xp6(3),s.Oqu(s.lcZ(44,39,s.lcZ(45,41,"sell"))),s.xp6(5),s.Oqu(s.lcZ(49,43,et.analysisBuyAmount)),s.xp6(3),s.Oqu(s.lcZ(52,45,s.lcZ(53,47,"buy"))),s.xp6(5),s.hij(" ",s.lcZ(57,49,s.lcZ(58,51,"trading counter"))," "),s.xp6(6),s.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+et.gaugeRotate(et.analysisSellCount,et.analysisBuyCount)),s.xp6(5),s.Oqu(et.analysisSellCount),s.xp6(2),s.Oqu(s.lcZ(70,53,s.lcZ(71,55,"sell"))),s.xp6(5),s.Oqu(et.analysisBuyCount),s.xp6(2),s.Oqu(s.lcZ(77,57,s.lcZ(78,59,"buy")))}}function pt(at,Q){1&at&&s._UZ(0,"div",71)}function dt(at,Q){1&at&&s._UZ(0,"div",72)}function ft(at,Q){1&at&&s._UZ(0,"div",73)}function yt(at,Q){if(1&at&&(s.TgZ(0,"div"),s.YNc(1,pt,1,0,"div",68),s.YNc(2,dt,1,0,"div",69),s.YNc(3,ft,1,0,"div",70),s.qZA()),2&at){const et=Q.$implicit;s.xp6(1),s.Q6J("ngIf",0==et),s.xp6(1),s.Q6J("ngIf",1==et),s.xp6(1),s.Q6J("ngIf",2==et)}}function ht(at,Q){if(1&at&&(s.TgZ(0,"div",66),s.YNc(1,yt,4,3,"div",67),s.qZA()),2&at){const et=Q.$implicit;s.xp6(1),s.Q6J("ngForOf",et)}}function gt(at,Q){if(1&at&&(s.TgZ(0,"div",64),s.YNc(1,ht,2,1,"div",65),s.qZA()),2&at){const et=Q.$implicit;s.xp6(1),s.Q6J("ngForOf",et)}}function mt(at,Q){if(1&at&&(s.TgZ(0,"div",62),s.YNc(1,gt,2,1,"div",63),s.qZA()),2&at){const et=s.oxw();s.xp6(1),s.Q6J("ngForOf",et.getLastResults)}}var xt=(()=>{return(at=xt||(xt={}))[at.INDICATORS=1]="INDICATORS",at[at.LAST_RESULTS=2]="LAST_RESULTS",xt;var at})();class Pt{constructor(Q,et,ct,ut,bt){this._socketService=Q,this._tradingService=et,this._userService=ct,this._router=ut,this._translocoService=bt,this.btcOptions={},this.canTrade=!1,this.calling=!1,this.tradingRoom$=new y.X(null),this.betCash=0,this._unsubscribeAll=new w.x,this.klines=[],this.TabType=xt,this.tab=xt.INDICATORS}prepare(){this._userService.user$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(Q=>{this.user=Q}),this._tradingService.rooms$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(Q=>{this.tradingRooms=Q,this.tradingRoom||(this.tradingRoom=this.tradingRooms[0])}),this._tradingService.config$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(Q=>{Q&&(this.tradingConfig=Q,this.betCash=this.tradingConfig.sliderMin)}),this._tradingService.tradingCalls$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(Q=>{Q&&(this.tradingCalls=Q)}),this._tradingService.rounds$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(Q=>{let et=[];Q&&(et=Q.map(ct=>({symbol:ct.symbol,time:ct.time,openTime:ct.openTime,closeTime:ct.closeTime,openPrice:ct.openPrice,highPrice:ct.highPrice,lowPrice:ct.lowPrice,closePrice:ct.closePrice,closed:ct.closed,canTrade:ct.canTrade})).sort((ct,ut)=>new Date(ct.openTime).getTime()-new Date(ut.openTime).getTime()),this.klines=et,this.chart.ref$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(ct=>{let bt=ct.series[1];ct.series[0].setData(et.map(At=>({x:new Date(At.openTime).getTime(),close:At.closePrice,high:At.highPrice,low:At.lowPrice,open:At.openPrice}))),bt.setData(et.map(At=>({x:new Date(At.openTime).getTime(),y:Math.abs(At.closePrice-At.openPrice),color:At.closePrice-At.openPrice>0?"#84CC16":"#EF4444"})))}))}),this._socketService.socket.fromEvent(e.V.NOW).subscribe(Q=>{this.currentTime=Q}),this._socketService.socket.fromEvent(e.V.ROOM_JOIN).subscribe(Q=>{this.tradingRoom=this.tradingRooms.find(et=>et.symbol==Q)}),this._socketService.socket.fromEvent(e.V.KLINE).subscribe(Q=>{this.analysisBuy=Q.analysisBuy,this.analysisSell=Q.analysisSell,this.analysisBuyAmount=Q.analysisBuyAmount,this.analysisSellAmount=Q.analysisSellAmount,this.analysisBuyCount=Q.analysisBuyCount,this.analysisSellCount=Q.analysisSellCount,this.canTrade=Q.canTrade,this.countdown=h()(Q.closeTime).diff(h()(Q.time),"seconds"),this.chart.ref$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(et=>{let ct=this.klines.findIndex(ut=>new Date(ut.openTime).getTime()==new Date(Q.openTime).getTime());if(ct>=0){this.klines[ct]=Q;let ut=et.series[0].points.find(bt=>new Date(bt.x).getTime()==new Date(Q.openTime).getTime());if(!ut)return;ut.update({close:Q.closePrice,high:Q.highPrice,low:Q.lowPrice,open:Q.openPrice},!0,!0),et.series[1].points[et.series[0].points.length-1].update({x:new Date(Q.openTime).getTime(),y:Math.abs(Q.closePrice-Q.openPrice),color:Q.closePrice-Q.openPrice>0?"#84CC16":"#EF4444"},!0,!0)}else this.klines.push(Q),et.series[0].addPoint({x:new Date(Q.openTime).getTime(),close:Q.closePrice,high:Q.highPrice,low:Q.lowPrice,open:Q.openPrice},!0,!0,!0),et.series[1].addPoint({x:new Date(Q.openTime).getTime(),y:Math.abs(Q.closePrice-Q.openPrice),color:Q.closePrice-Q.openPrice>0?"#84CC16":"#EF4444"},!0,!0,!0)})}),this.tradingRoom$.pipe(function t(){return(0,o.e)((at,Q)=>{let et,ct=!1;at.subscribe((0,i.x)(Q,ut=>{const bt=et;et=ut,ct&&Q.next([bt,ut]),ct=!0}))})}(),(0,a.R)(this._unsubscribeAll)).subscribe(([Q,et])=>{Q&&this._socketService.socket.emit(e.V.ROOM_LEFT,Q.symbol),this._socketService.socket.emit(e.V.ROOM_JOIN,et.symbol),this.updateRounds(et)}),this._socketService.socket.on(e.V.disconnect,()=>{this._socketService.socket.emit(e.V.ROOM_JOIN,this.tradingRoom.symbol),this.updateRounds(this.tradingRoom)}),this._socketService.socket.fromEvent(e.V.TRADING_CONFIG).subscribe(Q=>{this.tradingConfig=Q}),this._prepareChartData(),this._socketService.socket.emit(e.V.ROOM_JOIN,this.tradingRoom.symbol),this.updateRounds(this.tradingRoom)}ngAfterViewInit(){this.prepare()}ngOnInit(){}deactive(){this._socketService.socket.emit(e.V.ROOM_LEFT,this.tradingRoom.symbol)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this.tradingRoom$.next(null),this.tradingRoom$.complete()}_prepareChartData(){this.chart=new v.Du({accessibility:{enabled:!1},time:{useUTC:!1},chart:{panning:{enabled:!1},backgroundColor:"transparent",plotBackgroundImage:"/assets/images/trades/world_map_dot.svg"},credits:{enabled:!1},navigator:{enabled:!1},xAxis:[{lineColor:"#363A3E",lineWidth:1,type:"datetime",labels:{enabled:!0},minorGridLineWidth:0,minorTickLength:0,tickLength:0}],yAxis:[{gridLineColor:"#363A3E",gridLineDashStyle:"LongDash",height:"80%",labels:{align:"left",formatter(){return A()(this.value).format()},style:{color:"#FFFFFF"}},plotLines:[{value:0,color:"#581C87",width:1,id:"current-price",zIndex:100,dashStyle:"Solid"}],lineWidth:1,resize:{enabled:!0}},{labels:{enabled:!1},top:"80%",height:"20%",gridLineColor:""}],plotOptions:{candlestick:{pointWidth:8,maxPointWidth:12,lineColor:"#EF4444",upLineColor:"#84CC16",lineWidth:2,lastPrice:{enabled:!0,label:{enabled:!1},color:"#581C87"},lastVisiblePrice:{enabled:!0,label:{enabled:!0,align:"left",formatter:Q=>A()(Q).format(),backgroundColor:"#581C87"}}},column:{minPointLength:2,pointWidth:8,maxPointWidth:12,borderRadius:0},series:{zIndex:2,states:{inactive:{opacity:1}},allowPointSelect:!1}},rangeSelector:{enabled:!1},tooltip:{split:!1,enabled:!0,animation:!1,useHTML:!0},series:[{type:"candlestick",id:"candlestick",name:this._translocoService.translate("aapl stock price"),data:[],dataGrouping:{enabled:!1},color:"#EF4444",upColor:"#84CC16"},{type:"column",id:"volume",name:this._translocoService.translate("volume"),data:[],yAxis:1,dataGrouping:{enabled:!1}}],stockTools:{gui:{enabled:!1}},scrollbar:{enabled:!1}})}onRoomChange(Q){this.tradingRoom=Q,this.tradingRoom$.next(this.tradingRoom)}updateRounds(Q){this._tradingService.getConfig(Q).subscribe(),this._tradingService.getLatestRounds(Q).subscribe(),this._userService.user&&this._tradingService.getLatestTradingCalls().subscribe()}addBetCash(Q){this.betCash=this.betCash+Q>this.userCash?this.userCash:this.betCash+Q}call(Q){if(!this._userService.user)return this._router.navigate(["/sign-in"],{queryParams:{redirectUrl:this._router.url}});this.betCash<=0||this._tradingService.call({userId:this._userService.user.id,symbol:this.tradingRoom.symbol,betCash:this.betCash,type:Q}).subscribe()}checkCanTrade(){if(!this.tradingConfig||!this.canTrade||!this.klines)return!1;let Q=Math.max(...this.klines.map(bt=>new Date(bt.openTime).getTime())),et=this.klines.find(bt=>new Date(bt.openTime).getTime()==Q);if(!et)return!1;let ct=r.getCloseDate(new Date(et.openTime));if(new Date(this.currentTime).getTime()>ct.getTime()-this.tradingConfig.blockingTime||this.calling)return!1;if(!this.tradingCalls)return!0;let ut=this.tradingCalls.find(bt=>bt.symbol==this.tradingRoom.symbol);return!(ut&&new Date(ut.closeTime).getTime()>(new Date).getTime())}switchTab(Q){this.tab=Q}gaugeRotate(Q,et){return Q>et?"rotate-30":Q<et?"rotate-[120deg]":"rotate-90"}get userCash(){return this.user.cashAccount===S.q.REAL?this.user.cash:this.user.demoCash??0}get getLastResults(){let Q=this.klines.sort((At,Nt)=>new Date(At.openTime).getTime()-new Date(Nt.openTime).getTime()),et=[],ct=20*(1+Math.ceil(Q.length/20)),ut=0,bt=0;et[ut]=[],et[ut][bt]=[];for(let At=0;At<ct;At++)et[ut][bt].push(typeof Q[At]>"u"||null==Q[At]||!Q[At]?0:Q[At].closePrice>Q[At].openPrice?1:Q[At].closePrice<=Q[At].openPrice?2:0),et[ut][bt].length>=4&&(bt++,et[ut][bt]=[]),bt>=5&&(ut++,bt=0,et[ut]=[],et[ut][bt]=[]);return et}get countResult(){return{buy:this.klines.filter(Q=>Q.closePrice>Q.openPrice).length,sell:this.klines.filter(Q=>Q.closePrice<=Q.openPrice).length}}}Pt.\u0275fac=function(Q){return new(Q||Pt)(s.Y36(k.$),s.Y36(d),s.Y36(f.K),s.Y36(C.F0),s.Y36(O.Vn))},Pt.\u0275cmp=s.Xpm({type:Pt,selectors:[["app-trading"]],viewQuery:function(Q,et){if(1&Q&&s.Gf(_,5),2&Q){let ct;s.iGM(ct=s.CRH())&&(et.btcChartComponent=ct.first)}},decls:88,vars:69,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"md:flex","md:flex-auto","items-start"],[1,"relative","flex","w-full","h-auto","md:h-160","bg-gray-50","dark:bg-transparent"],[1,"w-full","h-full",3,"chart"],[4,"ngIf"],[1,"absolute","md:relative","bottom-0","border-t","md:border-0","text-center","w-full","md:py-2","md:w-80","bg-card","dark:bg-default"],[1,"flex","flex-wrap","w-full","md:mb-2","items-center","justify-center","text-center"],[1,"mr-2","font-medium"],[1,"mr-2","text-xl","font-medium","text-violet-600"],[1,"text-xl","font-semibold","text-teal-500"],[1,"text-left","font-medium","px-2","pb-2"],[1,"px-2","w-full"],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:minus-circle"],[1,"mx-2"],["matInput","","type","number",1,"h-8",3,"ngModel","ngModelChange"],["svgIcon","heroicons_outline:plus-circle"],[1,"hidden","md:grid","grid-cols-3","gap-2","px-2"],["mat-flat-button","",1,"flex","justify-start",3,"click"],["svgIcon","heroicons_outline:plus-sm",1,"icon-size-3"],[1,"relative","flex","flex-auto","items-center","justify-center","px-2","mb-2"],[1,"w-full",3,"showTickMarks","min","max","step"],["matSliderThumb","",3,"ngModel","ngModelChange"],[1,"flex","flex-auto","md:flex-col","px-2","justify-between","items-center"],["mat-flat-button","",3,"disabled","click"],[1,"md:font-bold","md:text-2xl","mx-2"],["matIconSuffix","","svgIcon","heroicons_outline:trending-up"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-auto","rounded-m","w-full","mx-2","bg-transparent","items-center","justify-center","md:mx-0","md:my-2","md:p-6"],[4,"ngIf","ngIfElse"],["tradingRoundLoading",""],["matIconSuffix","","svgIcon","heroicons_outline:trending-down"],[1,"relative"],[1,"flex","flex-auto","px-2","items-center","gap-4"],[1,"flex","gap-4"],[3,"click"],["lastResults",""],[1,"absolute","top-2","left-2","z-10"],["subscriptSizing","dynamic",1,"min-w-32","rounded-md","bg-slate-700"],[1,"w-full",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"diameter","mode"],["class","text-secondary text-xs md:text-sm",4,"ngIf"],[1,"md:w-32","rounded-full","bg-card","p1","md:p-2","dark:bg-slate-800","md:text-xl"],[1,"text-secondary","text-xs","md:text-sm"],[1,"rounded-full","bg-card","p1","md:p-2","text-xs","md:text-sm","text-secondary","dark:bg-slate-800"],["mat-button","",1,"bg-lime-500","rounded-md"],[1,"font-semibold"],["mat-button","",1,"bg-red-500","rounded-md"],[1,"flex","flex-auto","items-center","justify-between","p-1","md:p-4","w-full","md:max-w-3xl"],[1,"w-24","md:w-48","justify-center"],[1,"relative","w-full","text-center","md:font-bold","text-xs","md:text-md"],[1,"relative","w-24","h-12","md:w-32","md:h-16","overflow-hidden","mx-auto"],["src","/assets/images/trades/gauge_bg.svg","alt","gauge_bg.svg",1,"absolute","w-24","md:w-32"],["src","/assets/images/trades/gauge_border.svg","alt","gauge_border.svg",1,"absolute","w-24","md:w-32"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","w-16","h-1","rounded-lg"],[1,"relative","flex","flex-auto","items-center","justify-between"],[1,"text-center"],[1,"text-sm","font-semibold","text-red-500"],[1,"text-secondary","text-sm"],[1,"text-sm","font-semibold","text-lime-500"],[1,"flex","justify-start","p-6","gap-6"],["class","grid gap-1 grid-cols-5",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-5"],["class","grid gap-1 grid-cols-1",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-1"],[4,"ngFor","ngForOf"],["class","icon-size-3 md:icon-size-6 rounded-full bg-slate-700",4,"ngIf"],["class","icon-size-3 md:icon-size-6 rounded-full bg-lime-500",4,"ngIf"],["class","icon-size-3 md:icon-size-6 rounded-full bg-red-500",4,"ngIf"],[1,"icon-size-3","md:icon-size-6","rounded-full","bg-slate-700"],[1,"icon-size-3","md:icon-size-6","rounded-full","bg-lime-500"],[1,"icon-size-3","md:icon-size-6","rounded-full","bg-red-500"]],template:function(Q,et){if(1&Q&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"div",3),s.YNc(4,V,5,2,"ng-container",4),s.qZA(),s.TgZ(5,"div",5)(6,"div",6)(7,"div",7),s._uU(8),s.ALo(9,"capitalize"),s.ALo(10,"transloco"),s.qZA(),s.TgZ(11,"div",8),s._uU(12),s.qZA(),s.TgZ(13,"div",9),s._uU(14),s.ALo(15,"currency"),s.qZA()(),s.TgZ(16,"div",10),s._uU(17),s.ALo(18,"capitalize"),s.ALo(19,"transloco"),s.qZA(),s.TgZ(20,"mat-form-field",11)(21,"button",12),s.NdJ("click",function(){return et.addBetCash(-et.tradingConfig.sliderStep)}),s._UZ(22,"mat-icon",13),s.qZA(),s.TgZ(23,"span",14),s._uU(24),s.ALo(25,"capitalize"),s.ALo(26,"transloco"),s.qZA(),s.TgZ(27,"input",15),s.NdJ("ngModelChange",function(ut){return et.betCash=ut}),s.qZA(),s.TgZ(28,"button",12),s.NdJ("click",function(){return et.addBetCash(et.tradingConfig.sliderStep)}),s._UZ(29,"mat-icon",16),s.qZA()(),s.TgZ(30,"div",17)(31,"button",18),s.NdJ("click",function(){return et.addBetCash(5)}),s._UZ(32,"mat-icon",19),s._uU(33," 5 "),s.qZA(),s.TgZ(34,"button",18),s.NdJ("click",function(){return et.addBetCash(10)}),s._UZ(35,"mat-icon",19),s._uU(36," 10 "),s.qZA(),s.TgZ(37,"button",18),s.NdJ("click",function(){return et.addBetCash(20)}),s._UZ(38,"mat-icon",19),s._uU(39," 20 "),s.qZA(),s.TgZ(40,"button",18),s.NdJ("click",function(){return et.addBetCash(50)}),s._UZ(41,"mat-icon",19),s._uU(42," 50 "),s.qZA(),s.TgZ(43,"button",18),s.NdJ("click",function(){return et.addBetCash(100)}),s._UZ(44,"mat-icon",19),s._uU(45," 100 "),s.qZA(),s.TgZ(46,"button",18),s.NdJ("click",function(){return et.addBetCash(et.userCash)}),s._UZ(47,"mat-icon",19),s._uU(48),s.ALo(49,"capitalize"),s.ALo(50,"transloco"),s.qZA()(),s.TgZ(51,"div",20)(52,"mat-slider",21)(53,"input",22),s.NdJ("ngModelChange",function(ut){return et.betCash=ut}),s.qZA()()(),s.TgZ(54,"div",23)(55,"button",24),s.NdJ("click",function(){return et.call(1)}),s.TgZ(56,"span",25),s._uU(57),s.ALo(58,"capitalize"),s.ALo(59,"transloco"),s.qZA(),s._UZ(60,"mat-icon",26),s.YNc(61,$,1,2,"mat-progress-spinner",27),s.qZA(),s.TgZ(62,"div",28),s.YNc(63,st,8,5,"ng-container",29),s.YNc(64,it,5,5,"ng-template",null,30,s.W1O),s.qZA(),s.TgZ(66,"button",24),s.NdJ("click",function(){return et.call(2)}),s.TgZ(67,"span",25),s._uU(68),s.ALo(69,"capitalize"),s.ALo(70,"transloco"),s.qZA(),s._UZ(71,"mat-icon",31),s.YNc(72,ot,1,2,"mat-progress-spinner",27),s.qZA()()()(),s.TgZ(73,"div",32)(74,"div",33)(75,"div",34)(76,"div",35),s.NdJ("click",function(){return et.switchTab(et.TabType.INDICATORS)}),s._uU(77),s.ALo(78,"capitalize"),s.ALo(79,"transloco"),s.qZA(),s.TgZ(80,"div",35),s.NdJ("click",function(){return et.switchTab(et.TabType.LAST_RESULTS)}),s._uU(81),s.ALo(82,"capitalize"),s.ALo(83,"transloco"),s.qZA()(),s.YNc(84,rt,16,12,"ng-container",4),s.qZA(),s.YNc(85,nt,79,61,"ng-container",29),s.YNc(86,mt,2,1,"ng-template",null,36,s.W1O),s.qZA()()),2&Q){const ct=s.MAs(65),ut=s.MAs(87);let bt,At,Nt,Yt,Xt;s.xp6(3),s.Q6J("chart",et.chart),s.xp6(1),s.Q6J("ngIf",null==et.tradingRooms?null:et.tradingRooms.length),s.xp6(4),s.Oqu(s.lcZ(9,35,s.lcZ(10,37,"profit"))),s.xp6(4),s.hij("",null!==(bt=null==et.tradingConfig?null:et.tradingConfig.benefitPercent)&&void 0!==bt?bt:0,"%"),s.xp6(2),s.hij(" ",s.lcZ(15,39,null!==(At=et.betCash*(null!==(At=null==et.tradingConfig?null:et.tradingConfig.benefitPercent)&&void 0!==At?At:0)/100)&&void 0!==At?At:0)," "),s.xp6(3),s.hij(" ",s.lcZ(18,41,s.lcZ(19,43,"bet amount"))," "),s.xp6(7),s.Oqu(s.lcZ(25,45,s.lcZ(26,47,"$"))),s.xp6(3),s.Q6J("ngModel",et.betCash),s.xp6(21),s.hij(" ",s.lcZ(49,49,s.lcZ(50,51,"all"))," "),s.xp6(4),s.Q6J("showTickMarks",!0)("min",null!==(Nt=null==et.tradingConfig?null:et.tradingConfig.sliderMin)&&void 0!==Nt?Nt:0)("max",null!==(Yt=null==et.tradingConfig?null:et.tradingConfig.sliderMax)&&void 0!==Yt?Yt:0)("step",null!==(Xt=null==et.tradingConfig?null:et.tradingConfig.sliderStep)&&void 0!==Xt?Xt:0),s.xp6(1),s.Q6J("ngModel",et.betCash),s.xp6(2),s.Tol((et.checkCanTrade()?"bg-lime-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),s.Q6J("disabled",!et.checkCanTrade()),s.xp6(2),s.hij(" ",s.lcZ(58,53,s.lcZ(59,55,"buy"))," "),s.xp6(4),s.Q6J("ngIf",et.calling),s.xp6(2),s.Q6J("ngIf",!!et.countdown)("ngIfElse",ct),s.xp6(3),s.Tol((et.checkCanTrade()?"bg-red-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),s.Q6J("disabled",!et.checkCanTrade()),s.xp6(2),s.hij(" ",s.lcZ(69,57,s.lcZ(70,59,"sell"))," "),s.xp6(4),s.Q6J("ngIf",et.calling),s.xp6(4),s.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(et.tab==et.TabType.INDICATORS?"border-b-2 border-b-purple-500 md:font-bold":"")),s.xp6(1),s.hij(" ",s.lcZ(78,61,s.lcZ(79,63,"indicators"))," "),s.xp6(3),s.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(et.tab==et.TabType.LAST_RESULTS?"border-b-2 border-b-purple-500 md:font-bold":"")),s.xp6(1),s.hij(" ",s.lcZ(82,65,s.lcZ(83,67,"last results"))," "),s.xp6(3),s.Q6J("ngIf",et.tab===et.TabType.LAST_RESULTS),s.xp6(1),s.Q6J("ngIf",et.tab===et.TabType.INDICATORS)("ngIfElse",ut)}},dependencies:[Mt.sg,Mt.O5,vt.lW,vt.RK,D.KE,D.R9,Z.Hw,F.Nt,N.PQ,j.gD,B.ey,E.pH,E.$5,Y.Fj,Y.wV,Y.JJ,Y.On,v.Dm,W.e,R,z.H,H.s,O.Ot]});class St{canDeactivate(Q,et,ct,ut){return Q.deactive(),!0}}St.\u0275fac=function(Q){return new(Q||St)},St.\u0275prov=s.Yz7({token:St,factory:St.\u0275fac,providedIn:"root"});const wt=[{path:"",component:Pt,resolve:{TradingRoomResolver:p},canDeactivate:[St]}];class kt{}kt.\u0275fac=function(Q){return new(Q||kt)},kt.\u0275mod=s.oAB({type:kt}),kt.\u0275inj=s.cJS({imports:[C.Bz.forChild(wt),C.Bz]});var Dt=lt(6270),Tt=lt(4346),Ot=lt(4949),Lt=lt(9457),It=lt(5002),Bt=lt(3885);class Rt{}Rt.\u0275fac=function(Q){return new(Q||Rt)},Rt.\u0275mod=s.oAB({type:Rt}),Rt.\u0275inj=s.cJS({providers:[{provide:v.mA,useFactory:()=>[Dt,Tt,Ot,Lt,It,Bt]}],imports:[Mt.ez,kt,vt.ot,K.vV,D.lN,Z.Ps,F.c,G.Tx,j.LD,U.SJ,X.JX,L.p0,I.Nh,E.KP,T.X,M.m]});class jt{}jt.\u0275fac=function(Q){return new(Q||jt)},jt.\u0275mod=s.oAB({type:jt}),jt.\u0275inj=s.cJS({imports:[Mt.ez,Rt]})},6270:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Extensions/Pane.js",[D["Core/Chart/Chart.js"],D["Series/CenteredUtilities.js"],D["Core/Globals.js"],D["Core/Pointer.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{addEvent:L,correctFloat:I,defined:E,extend:T,merge:M,pick:s,splat:y}=X;function x(c,m,g,u,l){let f=!0;const d=g[0],p=g[1],C=Math.sqrt(Math.pow(c-d,2)+Math.pow(m-p,2));if(E(u)&&E(l)){const w=Math.atan2(I(m-p,8),I(c-d,8));l!==u&&(f=u>l?w>=u&&w<=Math.PI||w<=l&&w>=-Math.PI:w>=u&&w<=I(l,8))}return C<=Math.ceil(g[2]/2)&&f}return F.prototype.collectionsWithUpdate.push("pane"),F.prototype.getHoverPane=function(c){const m=this;let g;return c&&m.pane.forEach(u=>{x(c.chartX-m.plotLeft,c.chartY-m.plotTop,u.center)&&(g=u)}),g},L(F,"afterIsInsidePlot",function(c){this.polar&&(c.options.inverted&&([c.x,c.y]=[c.y,c.x]),c.isInsidePlot=this.pane.some(g=>x(c.x,c.y,g.center,g.axis&&g.axis.normalizedStartAngleRad,g.axis&&g.axis.normalizedEndAngleRad)))}),L(U,"beforeGetHoverData",function(c){const m=this.chart;m.polar?(m.hoverPane=m.getHoverPane(c),c.filter=function(g){return g.visible&&!(!c.shared&&g.directTouch)&&s(g.options.enableMouseTracking,!0)&&(!m.hoverPane||g.xAxis.pane===m.hoverPane)}):m.hoverPane=void 0}),L(U,"afterGetHoverData",function(c){const m=this.chart;c.hoverPoint&&c.hoverPoint.plotX&&c.hoverPoint.plotY&&m.hoverPane&&!x(c.hoverPoint.plotX,c.hoverPoint.plotY,m.hoverPane.center)&&(c.hoverPoint=void 0)}),j.Pane=class b{constructor(m,g){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(m,g)}init(m,g){this.chart=g,this.background=[],g.pane.push(this),this.setOptions(m)}setOptions(m){this.options=m=M(this.defaultOptions,this.chart.angular?{background:{}}:void 0,m)}render(){let l,f,m=this.options,g=this.options.background;if(this.group||(this.group=this.chart.renderer.g("pane-group").attr({zIndex:m.zIndex||0}).add()),this.updateCenter(),g)for(g=y(g),l=Math.max(g.length,this.background.length||0),f=0;f<l;f++)g[f]&&this.axis?this.renderBackground(M(this.defaultBackgroundOptions,g[f]),f):this.background[f]&&(this.background[f]=this.background[f].destroy(),this.background.splice(f,1))}renderBackground(m,g){let u="animate",l={class:"highcharts-pane "+(m.className||"")};this.chart.styledMode||T(l,{fill:m.backgroundColor,stroke:m.borderColor,"stroke-width":m.borderWidth}),this.background[g]||(this.background[g]=this.chart.renderer.path().add(this.group),u="attr"),this.background[g][u]({d:this.axis.getPlotBandPath(m.from,m.to,m)}).attr(l)}updateCenter(m){this.center=(m||this.axis||{}).center=G.getCenter.call(this)}update(m,g){M(!0,this.options,m),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(u){u.pane===this&&(u.pane=null,u.update({},g))},this)}},j.Pane}),Z(D,"Series/AreaRange/AreaRangePoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G){const{area:{prototype:{pointClass:j,pointClass:{prototype:U}}}}=F.seriesTypes,{defined:X,isNumber:L}=G;return class I extends j{constructor(){super(...arguments),this.high=void 0,this.low=void 0,this.options=void 0,this.plotX=void 0,this.series=void 0}setState(){const T=this.state,M=this.series,s=M.chart.polar;X(this.plotHigh)||(this.plotHigh=M.yAxis.toPixels(this.high,!0)),X(this.plotLow)||(this.plotLow=this.plotY=M.yAxis.toPixels(this.low,!0)),M.stateMarkerGraphic&&(M.lowerStateMarkerGraphic=M.stateMarkerGraphic,M.stateMarkerGraphic=M.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,s&&L(this.plotHighX)&&(this.plotX=this.plotHighX),U.setState.apply(this,arguments),this.state=T,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],s&&L(this.plotLowX)&&(this.plotX=this.plotLowX),M.stateMarkerGraphic&&(M.upperStateMarkerGraphic=M.stateMarkerGraphic,M.stateMarkerGraphic=M.lowerStateMarkerGraphic,M.lowerStateMarkerGraphic=void 0),U.setState.apply(this,arguments)}haloPath(){const T=this.series.chart.polar;let M=[];return this.plotY=this.plotLow,T&&L(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(M=U.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,T&&L(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(M=M.concat(U.haloPath.apply(this,arguments))),M}isValid(){return L(this.low)&&L(this.high)}}}),Z(D,"Series/AreaRange/AreaRangeSeries.js",[D["Series/AreaRange/AreaRangePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{noop:X}=G,{area:L,area:{prototype:I},column:{prototype:E}}=j.seriesTypes,{addEvent:T,defined:M,extend:s,isArray:y,isNumber:b,pick:x,merge:c}=U;class g extends L{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.lowerStateMarkerGraphic=void 0,this.xAxis=void 0}toYData(l){return[l.low,l.high]}highToXY(l){const f=this.chart,d=this.xAxis.postTranslate(l.rectPlotX||0,this.yAxis.len-(l.plotHigh||0));l.plotHighX=d.x-f.plotLeft,l.plotHigh=d.y-f.plotTop,l.plotLowX=l.plotX}getGraphPath(l){const f=[],d=[],p=I.getGraphPath,C=this.options,w=this.chart.polar,a=w&&!1!==C.connectEnds,o=C.connectNulls;let i,t,e,n=C.step;for(i=(l=l||this.points).length;i--;){t=l[i];const P=w?{plotX:t.rectPlotX,plotY:t.yBottom,doCurve:!1}:{plotX:t.plotX,plotY:t.plotY,doCurve:!1};!t.isNull&&!a&&!o&&(!l[i+1]||l[i+1].isNull)&&d.push(P),e={polarPlotY:t.polarPlotY,rectPlotX:t.rectPlotX,yBottom:t.yBottom,plotX:x(t.plotHighX,t.plotX),plotY:t.plotHigh,isNull:t.isNull},d.push(e),f.push(e),!t.isNull&&!a&&!o&&(!l[i-1]||l[i-1].isNull)&&d.push(P)}const h=p.call(this,l);n&&(!0===n&&(n="left"),C.step={left:"right",center:"center",right:"left"}[n]);const r=p.call(this,f),S=p.call(this,d);C.step=n;const v=[].concat(h,r);return!this.chart.polar&&S[0]&&"M"===S[0][0]&&(S[0]=["L",S[0][1],S[0][2]]),this.graphPath=v,this.areaPath=h.concat(S),v.isArea=!0,v.xMap=h.xMap,this.areaPath.xMap=h.xMap,v}drawDataLabels(){const l=this.points,f=l.length,d=[],p=this.options.dataLabels,C=this.chart.inverted;let w,a,o,i,t;if(p){if(y(p)?(i=p[0]||{enabled:!1},t=p[1]||{enabled:!1}):(i=s({},p),i.x=p.xHigh,i.y=p.yHigh,t=s({},p),t.x=p.xLow,t.y=p.yLow),i.enabled||this._hasPointLabels){for(w=f;w--;)if(a=l[w],a){const{plotHigh:e=0,plotLow:n=0}=a;o=i.inside?e<n:e>n,a.y=a.high,a._plotY=a.plotY,a.plotY=e,d[w]=a.dataLabel,a.dataLabel=a.dataLabelUpper,a.below=o,C?i.align||(i.align=o?"right":"left"):i.verticalAlign||(i.verticalAlign=o?"top":"bottom")}for(this.options.dataLabels=i,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments),w=f;w--;)a=l[w],a&&(a.dataLabelUpper=a.dataLabel,a.dataLabel=d[w],delete a.dataLabels,a.y=a.low,a.plotY=a._plotY)}if(t.enabled||this._hasPointLabels){for(w=f;w--;)if(a=l[w],a){const{plotHigh:e=0,plotLow:n=0}=a;o=t.inside?e<n:e>n,a.below=!o,C?t.align||(t.align=o?"left":"right"):t.verticalAlign||(t.verticalAlign=o?"bottom":"top")}this.options.dataLabels=t,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments)}if(i.enabled)for(w=f;w--;)a=l[w],a&&(a.dataLabels=[a.dataLabelUpper,a.dataLabel].filter(function(e){return!!e}));this.options.dataLabels=p}}alignDataLabel(){E.alignDataLabel.apply(this,arguments)}drawPoints(){const l=this,f=l.points.length;let d,p;for(I.drawPoints.apply(l,arguments),d=0;d<f;)p=l.points[d],p.graphics=p.graphics||[],p.origProps={plotY:p.plotY,plotX:p.plotX,isInside:p.isInside,negative:p.negative,zone:p.zone,y:p.y},(p.graphic||p.graphics[0])&&(p.graphics[0]=p.graphic),p.graphic=p.graphics[1],p.plotY=p.plotHigh,M(p.plotHighX)&&(p.plotX=p.plotHighX),p.y=x(p.high,p.origProps.y),p.negative=p.y<(l.options.threshold||0),l.zones.length&&(p.zone=p.getZone()),l.chart.polar||(p.isInside=p.isTopInside=typeof p.plotY<"u"&&p.plotY>=0&&p.plotY<=l.yAxis.len&&p.plotX>=0&&p.plotX<=l.xAxis.len),d++;for(I.drawPoints.apply(l,arguments),d=0;d<f;)p=l.points[d],p.graphics=p.graphics||[],(p.graphic||p.graphics[1])&&(p.graphics[1]=p.graphic),p.graphic=p.graphics[0],p.origProps&&(s(p,p.origProps),delete p.origProps),d++}}return g.defaultOptions=c(L.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),T(g,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(u=>{const l=u.high,f=u.plotY;u.isNull?u.plotY=void 0:(u.plotLow=f,u.plotHigh=b(l)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(l):l,!1,!0,void 0,!0):void 0,this.dataModify&&(u.yBottom=u.plotHigh))})},{order:0}),T(g,"afterTranslate",function(){this.points.forEach(l=>{if(this.chart.polar)this.highToXY(l),l.plotLow=l.plotY,l.tooltipPos=[((l.plotHighX||0)+(l.plotLowX||0))/2,((l.plotHigh||0)+(l.plotLow||0))/2];else{const f=l.pos(!1,l.plotLow),d=l.pos(!1,l.plotHigh);f&&d&&(f[0]=(f[0]+d[0])/2,f[1]=(f[1]+d[1])/2),l.tooltipPos=f}})},{order:3}),s(g.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:F,pointValKey:"low",setStackedPoints:X}),j.registerSeriesType("arearange",g),g}),Z(D,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[D["Series/AreaRange/AreaRangeSeries.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j){const{spline:{prototype:U}}=G.seriesTypes,{merge:X,extend:L}=j;class I extends F{constructor(){super(...arguments),this.options=void 0,this.data=void 0,this.points=void 0}}return I.defaultOptions=X(F.defaultOptions),L(I.prototype,{getPointSpline:U.getPointSpline}),G.registerSeriesType("areasplinerange",I),I}),Z(D,"Series/BoxPlot/BoxPlotSeries.js",[D["Series/Column/ColumnSeries.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{noop:X}=G,{extend:L,merge:I,pick:E}=U;class T extends F{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(){return{}}translate(){const s=this,y=s.yAxis,b=s.pointArrayMap;super.translate.apply(s),s.points.forEach(function(x){b.forEach(function(c){null!==x[c]&&(x[c+"Plot"]=y.translate(x[c],0,1,0,1))}),x.plotHigh=x.highPlot})}drawPoints(){let m,g,u,l,f,p,a,o,i,t,n,s=this,b=s.options,x=s.chart,c=x.renderer,C=0,e=!1!==s.doQuartiles,h=s.options.whiskerLength;s.points.forEach(function(r){let S=r.graphic,v=S?"animate":"attr",P=r.shapeArgs,A={},k={},O={},N={},B=r.color||s.color;if(typeof r.plotY<"u"){let Y;a=Math.round(P.width),o=Math.floor(P.x),i=o+a,t=Math.round(a/2),m=Math.floor(e?r.q1Plot:r.lowPlot),g=Math.floor(e?r.q3Plot:r.lowPlot),u=Math.floor(r.highPlot),l=Math.floor(r.lowPlot),S||(r.graphic=S=c.g("point").add(s.group),r.stem=c.path().addClass("highcharts-boxplot-stem").add(S),h&&(r.whiskers=c.path().addClass("highcharts-boxplot-whisker").add(S)),e&&(r.box=c.path(void 0).addClass("highcharts-boxplot-box").add(S)),r.medianShape=c.path(void 0).addClass("highcharts-boxplot-median").add(S)),x.styledMode||(k.stroke=r.stemColor||b.stemColor||B,k["stroke-width"]=E(r.stemWidth,b.stemWidth,b.lineWidth),k.dashstyle=r.stemDashStyle||b.stemDashStyle||b.dashStyle,r.stem.attr(k),h&&(O.stroke=r.whiskerColor||b.whiskerColor||B,O["stroke-width"]=E(r.whiskerWidth,b.whiskerWidth,b.lineWidth),O.dashstyle=r.whiskerDashStyle||b.whiskerDashStyle||b.dashStyle,r.whiskers.attr(O)),e&&(A.fill=r.fillColor||b.fillColor||B,A.stroke=b.lineColor||B,A["stroke-width"]=b.lineWidth||0,A.dashstyle=r.boxDashStyle||b.boxDashStyle||b.dashStyle,r.box.attr(A)),N.stroke=r.medianColor||b.medianColor||B,N["stroke-width"]=E(r.medianWidth,b.medianWidth,b.lineWidth),N.dashstyle=r.medianDashStyle||b.medianDashStyle||b.dashStyle,r.medianShape.attr(N)),p=r.stem.strokeWidth()%2/2,C=o+t+p,Y=[["M",C,g],["L",C,u],["M",C,m],["L",C,l]],r.stem[v]({d:Y}),e&&(p=r.box.strokeWidth()%2/2,m=Math.floor(m)+p,g=Math.floor(g)+p,o+=p,i+=p,Y=[["M",o,g],["L",o,m],["L",i,m],["L",i,g],["L",o,g],["Z"]],r.box[v]({d:Y})),h&&(p=r.whiskers.strokeWidth()%2/2,u+=p,l+=p,n=/%$/.test(h)?t*parseFloat(h)/100:h/2,Y=[["M",C-n,u],["L",C+n,u],["M",C-n,l],["L",C+n,l]],r.whiskers[v]({d:Y})),f=Math.round(r.medianPlot),p=r.medianShape.strokeWidth()%2/2,f+=p,Y=[["M",o,f],["L",i,f]],r.medianShape[v]({d:Y})}})}toYData(s){return[s.low,s.q1,s.median,s.q3,s.high]}}return T.defaultOptions=I(F.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),L(T.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:X,setStackedPoints:X}),j.registerSeriesType("boxplot",T),T}),Z(D,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),Z(D,"Series/Bubble/BubbleLegendItem.js",[D["Core/Color/Color.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{parse:X}=F,{noop:L}=j,{arrayMax:I,arrayMin:E,isNumber:T,merge:M,pick:s,stableSort:y}=U;return class b{constructor(c,m){this.chart=void 0,this.legend=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=L,this.init(c,m)}init(c,m){this.options=c,this.visible=!0,this.chart=m.chart,this.legend=m}addToLegend(c){c.splice(this.options.legendIndex,0,this)}drawLegendSymbol(c){const g=s(c.options.itemDistance,20),u=this.legendItem||{},l=this.options,f=l.ranges,d=l.connectorDistance;let p;if(!f||!f.length||!T(f[0].value))return void(c.options.bubbleLegend.autoRanges=!0);y(f,function(o,i){return i.value-o.value}),this.ranges=f,this.setOptions(),this.render();const C=this.getMaxLabelSize(),w=this.ranges[0].radius,a=2*w;p=d-w+C.width,p=p>0?p:0,this.maxLabel=C,this.movementX="left"===l.labels.align?p:0,u.labelWidth=a+p+g,u.labelHeight=a+C.height/2}setOptions(){const c=this.ranges,m=this.options,g=this.chart.series[m.seriesIndex],u=this.legend.baseline,l={zIndex:m.zIndex,"stroke-width":m.borderWidth},f={zIndex:m.zIndex,"stroke-width":m.connectorWidth},d={align:this.legend.options.rtl||"left"===m.labels.align?"right":"left",zIndex:m.zIndex},p=g.options.marker.fillOpacity,C=this.chart.styledMode;c.forEach(function(w,a){C||(l.stroke=s(w.borderColor,m.borderColor,g.color),l.fill=s(w.color,m.color,1!==p?X(g.color).setOpacity(p).get("rgba"):g.color),f.stroke=s(w.connectorColor,m.connectorColor,g.color)),c[a].radius=this.getRangeRadius(w.value),c[a]=M(c[a],{center:c[0].radius-c[a].radius+u}),C||M(!0,c[a],{bubbleAttribs:M(l),connectorAttribs:M(f),labelAttribs:d})},this)}getRangeRadius(c){const m=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,m.ranges[m.ranges.length-1].value,m.ranges[0].value,m.minSize,m.maxSize,c)}render(){const c=this.legendItem||{},m=this.chart.renderer,g=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),c.symbol=m.g("bubble-legend"),c.label=m.g("bubble-legend-item"),c.symbol.translateX=0,c.symbol.translateY=0,c.symbol.add(c.label),c.label.add(c.group);for(const u of this.ranges)u.value>=g&&this.renderRange(u);this.hideOverlappingLabels()}renderRange(c){const m=this.ranges[0],g=this.legend,u=this.options,l=u.labels,f=this.chart,d=f.series[u.seriesIndex],p=f.renderer,C=this.symbols,w=C.labels,a=c.center,o=Math.abs(c.radius),i=u.connectorDistance||0,t=l.align,h=u.connectorWidth,r=m.radius||0,S=a-o-u.borderWidth/2+h/2,v=(S%1?1:.5)-(h%2?0:.5),P=p.styledMode;let A=g.options.rtl||"left"===t?-i:i;"center"===t&&(A=0,u.connectorDistance=0,c.labelAttribs.align="center"),C.bubbleItems.push(p.circle(r,a+v,o).attr(P?{}:c.bubbleAttribs).addClass((P?"highcharts-color-"+d.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(u.className||"")).add(this.legendItem.symbol)),C.connectors.push(p.path(p.crispLine([["M",r,S],["L",r+A,S]],u.connectorWidth)).attr(P?{}:c.connectorAttribs).addClass((P?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(u.connectorClassName||"")).add(this.legendItem.symbol));const k=p.text(this.formatLabel(c)).attr(P?{}:c.labelAttribs).css(P?{}:l.style).addClass("highcharts-bubble-legend-labels "+(u.labels.className||"")).add(this.legendItem.symbol),O={x:r+A+u.labels.x,y:S+u.labels.y+.4*k.getBBox().height};k.attr(O),w.push(k),k.placed=!0,k.alignAttr=O}getMaxLabelSize(){let m,g;return this.symbols.labels.forEach(function(u){g=u.getBBox(!0),m=m?g.width>m.width?g:m:g}),m||{}}formatLabel(c){const m=this.options,g=m.labels.formatter,u=m.labels.format,{numberFormatter:l}=this.chart;return u?G.format(u,c):g?g.call(c):l(c.value,1)}hideOverlappingLabels(){const g=this.symbols;!this.options.labels.allowOverlap&&g&&(this.chart.hideOverlappingLabels(g.labels),g.labels.forEach(function(u,l){u.newOpacity?u.newOpacity!==u.oldOpacity&&g.connectors[l].show():g.connectors[l].hide()}))}getRanges(){const c=this.legend.bubbleLegend,g=c.options.ranges;let u,l,f=Number.MAX_VALUE,d=-Number.MAX_VALUE;return c.chart.series.forEach(function(p){p.isBubble&&!p.ignoreSeries&&(l=p.zData.filter(T),l.length&&(f=s(p.options.zMin,Math.min(f,Math.max(E(l),!1===p.options.displayNegative?p.options.zThreshold:-Number.MAX_VALUE))),d=s(p.options.zMax,Math.max(d,I(l)))))}),u=f===d?[{value:d}]:[{value:f},{value:(f+d)/2},{value:d,autoRanges:!0}],g.length&&g[0].radius&&u.reverse(),u.forEach(function(p,C){g&&g[C]&&(u[C]=M(g[C],p))}),u}predictBubbleSizes(){const c=this.chart,m=c.legend.options,g=m.floating,u="horizontal"===m.layout,l=u?c.legend.lastLineHeight:0,f=c.plotSizeX,d=c.plotSizeY,p=c.series[this.options.seriesIndex],C=p.getPxExtremes(),w=Math.ceil(C.minPxSize),a=Math.ceil(C.maxPxSize),o=Math.min(d,f);let i,t=p.options.maxSize;return g||!/%$/.test(t)?i=a:(t=parseFloat(t),i=(o+l)*t/100/(t/100+1),(u&&d-i>=f||!u&&f-i>=d)&&(i=a)),[w,Math.ceil(i)]}updateRanges(c,m){const g=this.legend.options.bubbleLegend;g.minSize=c,g.maxSize=m,g.ranges=this.getRanges()}correctSizes(){const c=this.legend,u=this.chart.series[this.options.seriesIndex].getPxExtremes(),f=this.options.maxSize;Math.abs(Math.ceil(u.maxPxSize)-f)>1&&(this.updateRanges(this.options.minSize,u.maxPxSize),c.render())}}}),Z(D,"Series/Bubble/BubbleLegendComposition.js",[D["Series/Bubble/BubbleLegendDefaults.js"],D["Series/Bubble/BubbleLegendItem.js"],D["Core/Defaults.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{setOptions:X}=j,{addEvent:L,objectEach:I,wrap:E}=U,T=[];function M(u,l,f){const d=this,p=d.legend,C=y(d)>=0;let w,a,o;p&&p.options.enabled&&p.bubbleLegend&&p.options.bubbleLegend.autoRanges&&C?(w=p.bubbleLegend.options,a=p.bubbleLegend.predictBubbleSizes(),p.bubbleLegend.updateRanges(a[0],a[1]),w.placed||(p.group.placed=!1,p.allItems.forEach(i=>{o=i.legendItem||{},o.group&&(o.group.translateY=null)})),p.render(),d.getMargins(),d.axes.forEach(function(i){i.visible&&i.render(),w.placed||(i.setScale(),i.updateNames(),I(i.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),w.placed=!0,d.getMargins(),u.call(d,l,f),p.bubbleLegend.correctSizes(),m(p,b(p))):(u.call(d,l,f),p&&p.options.enabled&&p.bubbleLegend&&(p.render(),m(p,b(p))))}function y(u){const l=u.series;let f=0;for(;f<l.length;){if(l[f]&&l[f].isBubble&&l[f].visible&&l[f].zData.length)return f;f++}return-1}function b(u){const l=u.allItems,f=[],d=l.length;let p,C,w,a=0,o=0;for(a=0;a<d;a++)if(C=l[a].legendItem||{},w=(l[a+1]||{}).legendItem||{},C.labelHeight&&(l[a].itemHeight=C.labelHeight),l[a]===l[d-1]||C.y!==w.y){for(f.push({height:0}),p=f[f.length-1];o<=a;o++)l[o].itemHeight>p.height&&(p.height=l[o].itemHeight);p.step=a}return f}function x(u){const l=this,f=l.bubbleLegend,d=l.options,p=d.bubbleLegend,C=y(l.chart);f&&f.ranges&&f.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),l.destroyItem(f)),C>=0&&d.enabled&&p.enabled&&(p.seriesIndex=C,l.bubbleLegend=new G(p,l),l.bubbleLegend.addToLegend(u.allItems))}function c(u){if(u.defaultPrevented)return!1;const l=this,f=l.chart,d=l.visible,p=l.chart.legend;let C;p&&p.bubbleLegend&&(l.visible=!d,l.ignoreSeries=d,C=y(f)>=0,p.bubbleLegend.visible!==C&&(p.update({bubbleLegend:{enabled:C}}),p.bubbleLegend.visible=C),l.visible=d)}function m(u,l){const d=u.options.rtl;let p,C,w,a,o=0;u.allItems.forEach((i,t)=>{a=i.legendItem||{},a.group&&(p=a.group.translateX||0,C=a.y||0,w=i.movementX,(w||d&&i.ranges)&&(w=d?p-i.options.maxSize/2:p+w,a.group.attr({translateX:w})),t>l[o].step&&o++,a.group.attr({translateY:Math.round(C+l[o].height/2)}),a.y=C+l[o].height/2)})}return{compose:function s(u,l,f){U.pushUnique(T,u)&&(X({legend:{bubbleLegend:F}}),E(u.prototype,"drawChartBox",M)),U.pushUnique(T,l)&&L(l,"afterGetAllItems",x),U.pushUnique(T,f)&&L(f,"legendItemClick",c)}}}),Z(D,"Series/Bubble/BubblePoint.js",[D["Core/Series/Point.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j){const{seriesTypes:{scatter:{prototype:{pointClass:U}}}}=G,{extend:X}=j;class L extends U{constructor(){super(...arguments),this.options=void 0,this.series=void 0}haloPath(E){return F.prototype.haloPath.call(this,0===E?0:(this.marker&&this.marker.radius||0)+E)}}return X(L.prototype,{ttBelow:!1}),L}),Z(D,"Series/Bubble/BubbleSeries.js",[D["Series/Bubble/BubbleLegendComposition.js"],D["Series/Bubble/BubblePoint.js"],D["Core/Color/Color.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{parse:I}=j,{noop:E}=U,{series:T,seriesTypes:{column:{prototype:M},scatter:s}}=X,{addEvent:y,arrayMax:b,arrayMin:x,clamp:c,extend:m,isNumber:g,merge:u,pick:l}=L,f=[];function d(){const C=this.len,w=this.chart,a=this.isXAxis,o=a?"xData":"yData",i=this.min,t=this.max-i;let r,e=0,n=C,h=C/t;this.series.forEach(S=>{if(S.bubblePadding&&(S.visible||!w.options.chart.ignoreHiddenSeries)){this.allowZoomOutside=!0,r=!0;const v=S[o];if(a&&((S.onPoint||S).getRadii(0,0,S),S.onPoint&&(S.radii=S.onPoint.radii)),t>0){let P=v.length;for(;P--;)if(g(v[P])&&this.dataMin<=v[P]&&v[P]<=this.max){const A=S.radii&&S.radii[P]||0;e=Math.min((v[P]-i)*h-A,e),n=Math.max((v[P]-i)*h+A,n)}}}}),r&&t>0&&!this.logarithmic&&(n-=C,h*=(C+Math.max(0,e)-Math.min(n,C))/C,[["min","userMin",e],["max","userMax",n]].forEach(S=>{typeof l(this.options[S[0]],this[S[1]])>"u"&&(this[S[0]]+=S[2]/h)}))}class p extends s{constructor(){super(...arguments),this.data=void 0,this.maxPxSize=void 0,this.minPxSize=void 0,this.options=void 0,this.points=void 0,this.radii=void 0,this.yData=void 0,this.zData=void 0}static compose(w,a,o,i){F.compose(a,o,i),L.pushUnique(f,w)&&(w.prototype.beforePadding=d)}animate(w){!w&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){const{graphic:o}=a;o&&o.width&&(this.hasRendered||o.attr({x:a.plotX,y:a.plotY,width:1,height:1}),o.animate(this.markerAttribs(a),this.options.animation))},this)}getRadii(){const w=this.zData,a=this.yData,o=[];let i,t,e,n=this.chart.bubbleZExtremes;const{minPxSize:h,maxPxSize:r}=this.getPxExtremes();if(!n){let P,S=Number.MAX_VALUE,v=-Number.MAX_VALUE;this.chart.series.forEach(A=>{if(A.bubblePadding&&(A.visible||!this.chart.options.chart.ignoreHiddenSeries)){const k=(A.onPoint||A).getZExtremes();k&&(S=Math.min(l(S,k.zMin),k.zMin),v=Math.max(l(v,k.zMax),k.zMax),P=!0)}}),P?(n={zMin:S,zMax:v},this.chart.bubbleZExtremes=n):n={zMin:0,zMax:0}}for(t=0,i=w.length;t<i;t++)e=w[t],o.push(this.getRadius(n.zMin,n.zMax,h,r,e,a&&a[t]));this.radii=o}getRadius(w,a,o,i,t,e){const n=this.options,h="width"!==n.sizeBy,r=n.zThreshold;let S=a-w,v=.5;if(null===e||null===t)return null;if(g(t)){if(n.sizeByAbsoluteValue&&(t=Math.abs(t-r),a=S=Math.max(a-r,Math.abs(w-r)),w=0),t<w)return o/2-1;S>0&&(v=(t-w)/S)}return h&&v>=0&&(v=Math.sqrt(v)),Math.ceil(o+v*(i-o))/2}hasData(){return!!this.processedXData.length}pointAttribs(w,a){const i=this.options.marker.fillOpacity,t=T.prototype.pointAttribs.call(this,w,a);return 1!==i&&(t.fill=I(t.fill).setOpacity(i).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:w,radii:a}=this,{minPxSize:o}=this.getPxExtremes();let i=w.length;for(;i--;){const t=w[i],e=a?a[i]:0;g(e)&&e>=o/2?(t.marker=m(t.marker,{radius:e,width:2*e,height:2*e}),t.dlBox={x:t.plotX-e,y:t.plotY-e,width:2*e,height:2*e}):(t.shapeArgs=t.plotY=t.dlBox=void 0,t.isInside=!1)}}getPxExtremes(){const w=Math.min(this.chart.plotWidth,this.chart.plotHeight),a=t=>{let e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?w*t/100:t},o=a(l(this.options.minSize,8));return{minPxSize:o,maxPxSize:Math.max(a(l(this.options.maxSize,"20%")),o)}}getZExtremes(){const w=this.options,a=(this.zData||[]).filter(g);if(a.length){const o=l(w.zMin,c(x(a),!1===w.displayNegative?w.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),i=l(w.zMax,b(a));if(g(o)&&g(i))return{zMin:o,zMax:i}}}}return p.defaultOptions=u(s.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:C}=this.series.chart,{z:w}=this.point;return g(w)?C(w,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),m(p.prototype,{alignDataLabel:M.alignDataLabel,applyZones:E,bubblePadding:!0,buildKDTree:E,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:G,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),y(p,"updatedData",C=>{delete C.target.chart.bubbleZExtremes}),y(p,"remove",C=>{delete C.target.chart.bubbleZExtremes}),X.registerSeriesType("bubble",p),p}),Z(D,"Series/ColumnRange/ColumnRangePoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G){const{seriesTypes:{column:{prototype:{pointClass:{prototype:j}}},arearange:{prototype:{pointClass:U}}}}=F,{extend:X,isNumber:L}=G;class I extends U{constructor(){super(...arguments),this.options=void 0,this.series=void 0}isValid(){return L(this.low)}}return X(I.prototype,{setState:j.setState}),I}),Z(D,"Series/ColumnRange/ColumnRangeSeries.js",[D["Series/ColumnRange/ColumnRangePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{noop:X}=G,{seriesTypes:{arearange:L,column:I,column:{prototype:E}}}=j,{addEvent:T,clamp:M,extend:s,isNumber:y,merge:b,pick:x}=U;class m extends L{setOptions(){return b(!0,arguments[0],{stacking:void 0}),L.prototype.setOptions.apply(this,arguments)}translate(){return E.translate.apply(this)}pointAttribs(){return E.pointAttribs.apply(this,arguments)}translate3dPoints(){return E.translate3dPoints.apply(this,arguments)}translate3dShapes(){return E.translate3dShapes.apply(this,arguments)}}return m.defaultOptions=b(I.defaultOptions,L.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),T(m,"afterColumnTranslate",function(){const g=this.yAxis,u=this.xAxis,l=u.startAngleRad,f=this.chart,d=this.xAxis.isRadial,p=Math.max(f.chartWidth,f.chartHeight)+999;let C,w,a,i;function t(e){return M(e,-p,p)}this.points.forEach(e=>{const n=e.shapeArgs||{},h=this.options.minPointLength,r=e.plotY,S=g.translate(e.high,0,1,0,1);if(y(S)&&y(r))if(e.plotHigh=t(S),e.plotLow=t(r),i=e.plotHigh,C=x(e.rectPlotY,e.plotY)-e.plotHigh,Math.abs(C)<h?(w=h-C,C+=w,i-=w/2):C<0&&(C*=-1,i-=C),d&&this.polar)a=e.barX+l,e.shapeType="arc",e.shapeArgs=this.polar.arc(i+C,i,a,a+e.pointWidth);else{n.height=C,n.y=i;const{x:v=0,width:P=0}=n;e.shapeArgs=b(e.shapeArgs,this.crispCol(v,i,P,C)),e.tooltipPos=f.inverted?[g.len+g.pos-f.plotLeft-i-C/2,u.len+u.pos-f.plotTop-v-P/2,C]:[u.left-f.plotLeft+v+P/2,g.pos-f.plotTop+i+C/2,C]}})},{order:5}),s(m.prototype,{directTouch:!0,pointClass:F,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:E.adjustForMissingColumns,animate:E.animate,crispCol:E.crispCol,drawGraph:X,drawPoints:E.drawPoints,getSymbol:X,drawTracker:E.drawTracker,getColumnMetrics:E.getColumnMetrics}),j.registerSeriesType("columnrange",m),m}),Z(D,"Series/ColumnPyramid/ColumnPyramidSeries.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j){const{prototype:U}=F,{clamp:X,merge:I,pick:E}=j;class T extends F{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}translate(){let s=this,y=s.chart,b=s.options,x=s.dense=s.closestPointRange*s.xAxis.transA<2,c=s.borderWidth=E(b.borderWidth,x?0:1),m=s.yAxis,g=b.threshold,u=s.translatedThreshold=m.getThreshold(g),l=E(b.minPointLength,5),f=s.getColumnMetrics(),d=f.width,p=s.barW=Math.max(d,1+2*c),C=s.pointXOffset=f.offset;y.inverted&&(u-=.5),b.pointPadding&&(p=Math.ceil(p)),U.translate.apply(s),s.points.forEach(function(w){let r,S,v,P,A,k,O,N,B,Y,W,R,a=E(w.yBottom,u),o=999+Math.abs(a),i=X(w.plotY,-o,m.len+o),t=w.plotX+C,e=p/2,n=Math.min(i,a),h=Math.max(i,a)-n;w.barX=t,w.pointWidth=d,w.tooltipPos=y.inverted?[m.len+m.pos-y.plotLeft-i,s.xAxis.len-t-e,h]:[t+e,i+m.pos-y.plotTop,h],r=g+(w.total||w.y),"percent"===b.stacking&&(r=g+(w.y<0)?-100:100),v=m.toPixels(r,!0),S=y.plotHeight-v-(y.plotHeight-u),P=S?e*(n-v)/S:0,A=S?e*(n+h-v)/S:0,O=t-P+e,N=t+P+e,B=t+A+e,Y=t-A+e,W=n-l,R=n+h,w.y<0&&(W=n,R=n+h+l),y.inverted&&(k=m.width-n,S=v-(m.width-u),P=e*(v-k)/S,A=e*(v-(k-h))/S,O=t+e+P,N=O-2*P,B=t-A+e,Y=t+A+e,W=n,R=n+h-l,w.y<0&&(R=n+h+l)),w.shapeType="path",w.shapeArgs={x:O,y:W,width:N-O,height:h,d:[["M",O,W],["L",N,W],["L",B,R],["L",Y,R],["Z"]]}})}}return T.defaultOptions=I(F.defaultOptions,{}),G.registerSeriesType("columnpyramid",T),T}),Z(D,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),Z(D,"Series/ErrorBar/ErrorBarSeries.js",[D["Series/BoxPlot/BoxPlotSeries.js"],D["Series/Column/ColumnSeries.js"],D["Series/ErrorBar/ErrorBarSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{arearange:L}=U.seriesTypes,{addEvent:I,merge:E,extend:T}=X;class M extends F{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||G.prototype.getColumnMetrics.call(this)}drawDataLabels(){const y=this.pointValKey;L&&(L.prototype.drawDataLabels.call(this),this.data.forEach(function(b){b.y=b[y]}))}toYData(y){return[y.low,y.high]}}return M.defaultOptions=E(F.defaultOptions,j),I(M,"afterTranslate",function(){this.points.forEach(s=>{s.plotLow=s.plotY})},{order:0}),T(M.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),U.registerSeriesType("errorbar",M),M}),Z(D,"Series/Gauge/GaugePoint.js",[D["Core/Series/SeriesRegistry.js"]],function(F){const{series:{prototype:{pointClass:G}}}=F;return class j extends G{constructor(){super(...arguments),this.options=void 0,this.series=void 0,this.shapeArgs=void 0}setState(X){this.state=X}}}),Z(D,"Series/Gauge/GaugeSeries.js",[D["Series/Gauge/GaugePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{noop:X}=G,{series:L,seriesTypes:{column:I}}=j,{clamp:E,isNumber:T,extend:M,merge:s,pick:y,pInt:b,defined:x}=U;class c extends L{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.yAxis=void 0}translate(){const g=this,u=g.yAxis,l=g.options,f=u.center;g.generatePoints(),g.points.forEach(d=>{const p=s(l.dial,d.dial),C=b(p.radius)*f[2]/200,w=b(p.baseLength)*C/100,a=b(p.rearLength)*C/100,o=p.baseWidth,i=p.topWidth;let t=l.overshoot,e=u.startAngleRad+u.translate(d.y,void 0,void 0,void 0,!0);(T(t)||!1===l.wrap)&&(t=T(t)?t/180*Math.PI:0,e=E(e,u.startAngleRad-t,u.endAngleRad+t)),e=180*e/Math.PI,d.shapeType="path",d.shapeArgs={d:p.path||[["M",-a,-o/2],["L",w,-o/2],["L",C,-i/2],["L",C,i/2],["L",w,o/2],["L",-a,o/2],["Z"]],translateX:f[0],translateY:f[1],rotation:e},d.plotX=f[0],d.plotY=f[1],x(d.y)&&u.max-u.min&&(d.percentage=(d.y-u.min)/(u.max-u.min)*100)})}drawPoints(){const g=this,u=g.chart,l=g.yAxis.center,f=g.pivot,d=g.options,p=d.pivot,C=u.renderer;g.points.forEach(w=>{const a=w.graphic,o=w.shapeArgs,i=o.d,t=s(d.dial,w.dial);a?(a.animate(o),o.d=i):w.graphic=C[w.shapeType](o).addClass("highcharts-dial").add(g.group),u.styledMode||w.graphic[a?"animate":"attr"]({stroke:t.borderColor,"stroke-width":t.borderWidth,fill:t.backgroundColor})}),f?f.animate({translateX:l[0],translateY:l[1]}):p&&(g.pivot=C.circle(0,0,p.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(l[0],l[1]).add(g.group),u.styledMode||g.pivot.attr({fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth}))}animate(g){const u=this;g||u.points.forEach(l=>{const f=l.graphic;f&&(f.attr({rotation:180*u.yAxis.startAngleRad/Math.PI}),f.animate({rotation:l.shapeArgs.rotation},u.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),L.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(g,u){L.prototype.setData.call(this,g,!1),this.processData(),this.generatePoints(),y(u,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return c.defaultOptions=s(L.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),M(c.prototype,{angular:!0,directTouch:!0,drawGraph:X,drawTracker:I.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:F,trackerGroups:["group","dataLabelsGroup"]}),j.registerSeriesType("gauge",c),c}),Z(D,"Series/DragNodesComposition.js",[D["Core/Utilities.js"]],function(F){const{addEvent:G}=F,j=[];function X(){const s=this;let y,b,x;s.container&&(y=G(s.container,"mousedown",c=>{const m=s.hoverPoint;m&&m.series&&m.series.hasDraggableNodes&&m.series.options.draggable&&(m.series.onMouseDown(m,c),b=G(s.container,"mousemove",g=>m&&m.series&&m.series.onMouseMove(m,g)),x=G(s.container.ownerDocument,"mouseup",g=>(b(),x(),m&&m.series&&m.series.onMouseUp(m,g))))})),G(s,"destroy",function(){y()})}return{compose:function U(s){F.pushUnique(j,s)&&G(s,"load",X)},onMouseDown:function L(s,y){const b=this.chart.pointer.normalize(y);s.fixedPosition={chartX:b.chartX,chartY:b.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function I(s,y){if(s.fixedPosition&&s.inDragMode){const x=this.chart,c=x.pointer.normalize(y),m=s.fixedPosition.chartX-c.chartX,g=s.fixedPosition.chartY-c.chartY,u=x.graphLayoutsLookup;let l,f;(Math.abs(m)>5||Math.abs(g)>5)&&(l=s.fixedPosition.plotX-m,f=s.fixedPosition.plotY-g,x.isInsidePlot(l,f)&&(s.plotX=l,s.plotY=f,s.hasDragged=!0,this.redrawHalo(s),u.forEach(d=>{d.restartSimulation()})))}},onMouseUp:function E(s,y){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function T(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),Z(D,"Series/GraphLayoutComposition.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Utilities.js"]],function(F,G){const{setAnimation:j}=F,{addEvent:U}=G,X=[];function T(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(x=>{x.updateSimulation()}),this.redraw())}function M(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(x=>{x.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(x=>{x.stop()})}function y(){let x,c=!1;const m=g=>{g.maxIterations--&&isFinite(g.temperature)&&!g.isStable()&&!g.enableSimulation&&(g.beforeStep&&g.beforeStep(),g.step(),x=!1,c=!0)};if(this.graphLayoutsLookup){for(j(!1,this),this.graphLayoutsLookup.forEach(g=>g.start());!x;)x=!0,this.graphLayoutsLookup.forEach(m);c&&this.series.forEach(g=>{g&&g.layout&&g.render()})}}return{compose:function E(x){G.pushUnique(X,x)&&(U(x,"afterPrint",T),U(x,"beforePrint",M),U(x,"predraw",s),U(x,"render",y))},integrations:{},layouts:{}}}),Z(D,"Series/PackedBubble/PackedBubblePoint.js",[D["Core/Chart/Chart.js"],D["Core/Series/Point.js"],D["Core/Series/SeriesRegistry.js"]],function(F,G,j){const{seriesTypes:{bubble:{prototype:{pointClass:U}}}}=j;return class X extends U{constructor(){super(...arguments),this.degree=NaN,this.mass=NaN,this.radius=NaN,this.options=void 0,this.series=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),G.prototype.destroy.apply(this,arguments)}firePointEvent(){const T=this.series.options;if(this.isParentNode&&T.parentNode){const M=T.allowPointSelect;T.allowPointSelect=T.parentNode.allowPointSelect,G.prototype.firePointEvent.apply(this,arguments),T.allowPointSelect=M}else G.prototype.firePointEvent.apply(this,arguments)}select(){const T=this.series.chart;this.isParentNode?(T.getSelectedPoints=T.getSelectedParentNodes,G.prototype.select.apply(this,arguments),T.getSelectedPoints=F.prototype.getSelectedPoints):G.prototype.select.apply(this,arguments)}}}),Z(D,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[D["Core/Utilities.js"]],function(F){const{isNumber:G}=F;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:U}=this.series.chart,{value:X}=this.point;return G(X)?U(X,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),Z(D,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function F(T,M,s){const y=T.getMass(),b=-s.x*M*this.diffTemperature,x=-s.y*M*this.diffTemperature;T.fromNode.fixedPosition||(T.fromNode.plotX-=b*y.fromNode/T.fromNode.degree,T.fromNode.plotY-=x*y.fromNode/T.fromNode.degree),T.toNode.fixedPosition||(T.toNode.plotX+=b*y.toNode/T.toNode.degree,T.toNode.plotY+=x*y.toNode/T.toNode.degree)},attractiveForceFunction:function G(T,M){return(M-T)/T},barycenter:function j(){let T=this.options.gravitationalConstant,M=this.barycenter.xFactor,s=this.barycenter.yFactor;M=(M-(this.box.left+this.box.width)/2)*T,s=(s-(this.box.top+this.box.height)/2)*T,this.nodes.forEach(function(y){y.fixedPosition||(y.plotX-=M/y.mass/y.degree,y.plotY-=s/y.mass/y.degree)})},getK:function U(T){return Math.pow(T.box.width*T.box.height/T.nodes.length,.5)},integrate:function X(T,M){let s=-T.options.friction,y=T.options.maxSpeed,c=(M.plotX+M.dispX-M.prevX)*s,m=(M.plotY+M.dispY-M.prevY)*s,g=Math.abs,u=g(c)/(c||1),l=g(m)/(m||1);c=u*Math.min(y,Math.abs(c)),m=l*Math.min(y,Math.abs(m)),M.prevX=M.plotX+M.dispX,M.prevY=M.plotY+M.dispY,M.plotX+=c,M.plotY+=m,M.temperature=T.vectorLength({x:c,y:m})},repulsive:function L(T,M,s){const y=M*this.diffTemperature/T.mass/T.degree;T.fixedPosition||(T.plotX+=s.x*y,T.plotY+=s.y*y)},repulsiveForceFunction:function I(T,M){return(M-T)/T*(M>T?1:0)}}}),Z(D,"Series/PackedBubble/PackedBubbleIntegration.js",[D["Core/Globals.js"],D["Series/Networkgraph/VerletIntegration.js"]],function(F,G){const{noop:j}=F;return{barycenter:function U(){const E=this,T=E.options.gravitationalConstant,M=E.box,s=E.nodes;let y,b;for(const x of s)E.options.splitSeries&&!x.isParentNode?(y=x.series.parentNode.plotX,b=x.series.parentNode.plotY):(y=M.width/2,b=M.height/2),x.fixedPosition||(x.plotX-=(x.plotX-y)*T/(x.mass*Math.sqrt(s.length)),x.plotY-=(x.plotY-b)*T/(x.mass*Math.sqrt(s.length)))},getK:j,integrate:G.integrate,repulsive:function X(E,T,M,s){const y=T*this.diffTemperature/E.mass/E.degree,b=M.x*y,x=M.y*y;E.fixedPosition||(E.plotX+=b,E.plotY+=x),s.fixedPosition||(s.plotX-=b,s.plotY-=x)},repulsiveForceFunction:function L(E,T,M,s){return Math.min(E,(M.marker.radius+s.marker.radius)/2)}}}),Z(D,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function F(T,M,s,y){const b=T.getMass(),x=s.x/y*M,c=s.y/y*M;T.fromNode.fixedPosition||(T.fromNode.dispX-=x*b.fromNode/T.fromNode.degree,T.fromNode.dispY-=c*b.fromNode/T.fromNode.degree),T.toNode.fixedPosition||(T.toNode.dispX+=x*b.toNode/T.toNode.degree,T.toNode.dispY+=c*b.toNode/T.toNode.degree)},attractiveForceFunction:function G(T,M){return T*T/M},barycenter:function j(){const T=this.options.gravitationalConstant,M=this.barycenter.xFactor,s=this.barycenter.yFactor;this.nodes.forEach(function(y){if(!y.fixedPosition){const b=y.getDegree(),x=b*(1+b/2);y.dispX+=(M-y.plotX)*T*x/y.degree,y.dispY+=(s-y.plotY)*T*x/y.degree}})},getK:function U(T){return Math.pow(T.box.width*T.box.height/T.nodes.length,.3)},integrate:function X(T,M){let s;M.dispX+=M.dispX*T.options.friction,M.dispY+=M.dispY*T.options.friction,s=M.temperature=T.vectorLength({x:M.dispX,y:M.dispY}),0!==s&&(M.plotX+=M.dispX/s*Math.min(Math.abs(M.dispX),T.temperature),M.plotY+=M.dispY/s*Math.min(Math.abs(M.dispY),T.temperature))},repulsive:function L(T,M,s,y){T.dispX+=s.x/y*M/T.degree,T.dispY+=s.y/y*M/T.degree},repulsiveForceFunction:function I(T,M){return M*M/T}}}),Z(D,"Series/Networkgraph/QuadTreeNode.js",[],function(){class F{constructor(j){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=j,this.boxSize=Math.min(j.width,j.height)}divideBox(){const j=this.box.width/2,U=this.box.height/2;this.nodes[0]=new F({left:this.box.left,top:this.box.top,width:j,height:U}),this.nodes[1]=new F({left:this.box.left+j,top:this.box.top,width:j,height:U}),this.nodes[2]=new F({left:this.box.left+j,top:this.box.top+U,width:j,height:U}),this.nodes[3]=new F({left:this.box.left,top:this.box.top+U,width:j,height:U})}getBoxPosition(j){const X=j.plotY<this.box.top+this.box.height/2;let L;return L=j.plotX<this.box.left+this.box.width/2?X?0:3:X?1:2,L}insert(j,U){let X;this.isInternal?this.nodes[this.getBoxPosition(j)].insert(j,U-1):(this.isEmpty=!1,this.body?U?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,U-1),this.body=!0),this.nodes[this.getBoxPosition(j)].insert(j,U-1)):(X=new F({top:j.plotX||NaN,left:j.plotY||NaN,width:.1,height:.1}),X.body=j,X.isInternal=!1,this.nodes.push(X)):(this.isInternal=!1,this.body=j))}updateMassAndCenter(){let j=0,U=0,X=0;if(this.isInternal){for(const L of this.nodes)L.isEmpty||(j+=L.mass,U+=L.plotX*L.mass,X+=L.plotY*L.mass);U/=j,X/=j}else this.body&&(j=this.body.mass,U=this.body.plotX,X=this.body.plotY);this.mass=j,this.plotX=U,this.plotY=X}}return F}),Z(D,"Series/Networkgraph/QuadTree.js",[D["Series/Networkgraph/QuadTreeNode.js"]],function(F){return class G{constructor(U,X,L,I){this.box={left:U,top:X,width:L,height:I},this.maxDepth=25,this.root=new F(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(U){U.updateMassAndCenter()})}insertNodes(U){for(const X of U)this.root.insert(X,this.maxDepth)}visitNodeRecursive(U,X,L){let I;if(U||(U=this.root),U===this.root&&X&&(I=X(U)),!1!==I){for(const E of U.nodes){if(E.isInternal){if(X&&(I=X(E)),!1===I)continue;this.visitNodeRecursive(E,X,L)}else E.body&&X&&X(E.body);L&&L(E)}U===this.root&&L&&L(U)}}}}),Z(D,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[D["Series/Networkgraph/EulerIntegration.js"],D["Core/Globals.js"],D["Series/GraphLayoutComposition.js"],D["Series/Networkgraph/QuadTree.js"],D["Core/Utilities.js"],D["Series/Networkgraph/VerletIntegration.js"]],function(F,G,j,U,X,L){const{win:I}=G,{clamp:E,defined:T,isFunction:M,fireEvent:s,pick:y}=X;class b{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}static compose(c){j.compose(c),j.integrations.euler=F,j.integrations.verlet=L,j.layouts["reingold-fruchterman"]=b}init(c){this.options=c,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=j.integrations[c.integration],this.enableSimulation=c.enableSimulation,this.attractiveForce=y(c.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=y(c.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=c.approximation}updateSimulation(c){this.enableSimulation=y(c,this.options.enableSimulation)}start(){const c=this,m=this.series,g=this.options;c.currentStep=0,c.forces=m[0]&&m[0].forces||[],c.chart=m[0]&&m[0].chart,c.initialRendering&&(c.initPositions(),m.forEach(function(u){u.finishedAnimating=!0,u.render()})),c.setK(),c.resetSimulation(g),c.enableSimulation&&c.step()}step(){const c=this,m=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const g of this.forces||[])c[g+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const g of m)g.chart&&g.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&I.cancelAnimationFrame(this.simulation),this.simulation=I.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(g=>{s(g,"afterSimulation")}))}}stop(){this.simulation&&I.cancelAnimationFrame(this.simulation)}setArea(c,m,g,u){this.box={left:c,top:m,width:g,height:u}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(c,m){for(const g of c)-1===m.indexOf(g)&&m.push(g)}removeElementFromCollection(c,m){const g=m.indexOf(c);-1!==g&&m.splice(g,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(c){this.maxIterations=y(c,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(c){this.initialRendering=c}createQuadTree(){this.quadTree=new U(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const c=this.options.initialPositions;if(M(c)){c.call(this);for(const m of this.nodes)T(m.prevX)||(m.prevX=m.plotX),T(m.prevY)||(m.prevY=m.plotY),m.dispX=0,m.dispY=0}else"circle"===c?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const c=this.box,m=this.nodes,u=2*Math.PI/(m.length+1),l=m.filter(function(a){return 0===a.linksTo.length}),f={},d=this.options.initialPositionRadius,p=a=>{for(const o of a.linksFrom||[])f[o.toNode.id]||(f[o.toNode.id]=!0,C.push(o.toNode),p(o.toNode))};let w,C=[];for(const a of l)C.push(a),p(a);if(C.length)for(const a of m)-1===C.indexOf(a)&&C.push(a);else C=m;for(let a=0,o=C.length;a<o;++a)w=C[a],w.plotX=w.prevX=y(w.plotX,c.width/2+d*Math.cos(a*u)),w.plotY=w.prevY=y(w.plotY,c.height/2+d*Math.sin(a*u)),w.dispX=0,w.dispY=0}setRandomPositions(){const c=this.box,m=this.nodes,g=m.length+1,u=f=>{let d=f*f/Math.PI;return d-=Math.floor(d),d};let l;for(let f=0,d=m.length;f<d;++f)l=m[f],l.plotX=l.prevX=y(l.plotX,c.width*u(f)),l.plotY=l.prevY=y(l.plotY,c.height*u(g+f)),l.dispX=0,l.dispY=0}force(c,...m){this.integration[c].apply(this,m)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let c=0,m=0,g=0;for(const u of this.nodes)m+=u.plotX*u.mass,g+=u.plotY*u.mass,c+=u.mass;return this.barycenter={x:m,y:g,xFactor:m/c,yFactor:g/c},this.barycenter}barnesHutApproximation(c,m){const g=this.getDistXY(c,m),u=this.vectorLength(g);let l,f;return c!==m&&0!==u&&(m.isInternal?m.boxSize/u<this.options.theta&&0!==u?(f=this.repulsiveForce(u,this.k),this.force("repulsive",c,f*m.mass,g,u),l=!1):l=!0:(f=this.repulsiveForce(u,this.k),this.force("repulsive",c,f*m.mass,g,u))),l}repulsiveForces(){if("barnes-hut"===this.approximation)for(const c of this.nodes)this.quadTree.visitNodeRecursive(null,m=>this.barnesHutApproximation(c,m));else{let c,m,g;for(const u of this.nodes)for(const l of this.nodes)u!==l&&!u.fixedPosition&&(g=this.getDistXY(u,l),m=this.vectorLength(g),0!==m&&(c=this.repulsiveForce(m,this.k),this.force("repulsive",u,c*l.mass,g,m)))}}attractiveForces(){let c,m,g;for(const u of this.links)u.fromNode&&u.toNode&&(c=this.getDistXY(u.fromNode,u.toNode),m=this.vectorLength(c),0!==m&&(g=this.attractiveForce(m,this.k),this.force("attractive",u,g,c,m)))}applyLimits(){const c=this.nodes;for(const m of c){if(m.fixedPosition)return;this.integration.integrate(this,m),this.applyLimitBox(m,this.box),m.dispX=0,m.dispY=0}}applyLimitBox(c,m){const g=c.radius;c.plotX=E(c.plotX,m.left+g,m.width-g),c.plotY=E(c.plotY,m.top+g,m.height-g)}coolDown(c,m,g){return c-m*g}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let c=0;for(const m of this.nodes)c+=m.temperature;return c}vectorLength(c){return Math.sqrt(c.x*c.x+c.y*c.y)}getDistR(c,m){const g=this.getDistXY(c,m);return this.vectorLength(g)}getDistXY(c,m){const g=c.plotX-m.plotX,u=c.plotY-m.plotY;return{x:g,y:u,absX:Math.abs(g),absY:Math.abs(u)}}}return b}),Z(D,"Series/PackedBubble/PackedBubbleLayout.js",[D["Series/GraphLayoutComposition.js"],D["Series/PackedBubble/PackedBubbleIntegration.js"],D["Series/Networkgraph/ReingoldFruchtermanLayout.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{addEvent:X,pick:L}=U,I=[];function E(){const y=[];return this.series.forEach(b=>{b.parentNode&&b.parentNode.selected&&y.push(b.parentNode)}),y}function T(){this.allDataPoints&&delete this.allDataPoints}class M extends j{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(y){j.compose(y),F.integrations.packedbubble=G,F.layouts.packedbubble=M,U.pushUnique(I,y)&&(X(y,"beforeRedraw",T),y.prototype.getSelectedParentNodes=E)}beforeStep(){this.options.marker&&this.series.forEach(y=>{y&&y.calculateParentRadius()})}isStable(){const y=Math.abs(this.prevSystemTemperature-this.systemTemperature),b=10*this.systemTemperature/Math.sqrt(this.nodes.length);return Math.abs(b)<1&&y<1e-5||this.temperature<=0}setCircularPositions(){const y=this,b=y.box,x=y.nodes,m=2*Math.PI/(x.length+1),g=y.options.initialPositionRadius;let u,l,f=0;for(const d of x)y.options.splitSeries&&!d.isParentNode?(u=d.series.parentNode.plotX,l=d.series.parentNode.plotY):(u=b.width/2,l=b.height/2),d.plotX=d.prevX=L(d.plotX,u+g*Math.cos(d.index||f*m)),d.plotY=d.prevY=L(d.plotY,l+g*Math.sin(d.index||f*m)),d.dispX=0,d.dispY=0,f++}repulsiveForces(){const y=this,b=y.options.bubblePadding;let x,c,m;y.nodes.forEach(g=>{g.degree=g.mass,g.neighbours=0,y.nodes.forEach(u=>{x=0,g!==u&&!g.fixedPosition&&(y.options.seriesInteraction||g.series===u.series)&&(m=y.getDistXY(g,u),c=y.vectorLength(m)-(g.marker.radius+u.marker.radius+b),c<0&&(g.degree+=.01,g.neighbours++,x=y.repulsiveForce(-c/Math.sqrt(g.neighbours),y.k,g,u)),y.force("repulsive",g,x*u.mass,m,u,c))})})}applyLimitBox(y,b){const x=this;let m,g;x.options.splitSeries&&!y.isParentNode&&x.options.parentNodeLimit&&(m=x.getDistXY(y,y.series.parentNode),g=y.series.parentNodeRadius-y.marker.radius-x.vectorLength(m),g<0&&g>-2*y.marker.radius&&(y.plotX-=.01*m.x,y.plotY-=.01*m.y)),super.applyLimitBox(y,b)}}return F.layouts.packedbubble=M,M}),Z(D,"Series/SimulationSeriesUtilities.js",[D["Core/Utilities.js"],D["Core/Animation/AnimationUtilities.js"]],function(F,G){const{syncTimeout:j}=F,{animObject:U}=G;return{initDataLabels:function L(){const E=this,T=E.options.dataLabels;if(!E.dataLabelsGroup){const M=this.initDataLabelsGroup();return!E.chart.styledMode&&T?.style&&M.css(T.style),M.attr({opacity:0}),E.visible&&M.show(),M}return E.dataLabelsGroup.attr({opacity:1}),E.dataLabelsGroup},initDataLabelsDefer:function X(){var E;const T=this.options.dataLabels;T?.defer&&null!==(E=this.options.layoutAlgorithm)&&void 0!==E&&E.enableSimulation?j(()=>{this.deferDataLabels=!1},T?U(T.animation).defer:0):this.deferDataLabels=!1}}}),Z(D,"Series/PackedBubble/PackedBubbleSeries.js",[D["Core/Color/Color.js"],D["Series/DragNodesComposition.js"],D["Series/GraphLayoutComposition.js"],D["Core/Globals.js"],D["Series/PackedBubble/PackedBubblePoint.js"],D["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],D["Series/PackedBubble/PackedBubbleLayout.js"],D["Core/Series/SeriesRegistry.js"],D["Series/SimulationSeriesUtilities.js"],D["Core/Utilities.js"],D["Core/Animation/AnimationUtilities.js"]],function(F,G,j,U,X,L,I,E,T,M,s){const{parse:y}=F,{noop:b}=U,{series:{prototype:x},seriesTypes:{bubble:c}}=E,{initDataLabels:m,initDataLabelsDefer:g}=T,{addEvent:u,clamp:l,defined:f,extend:d,fireEvent:p,isArray:C,isNumber:w,merge:a,pick:o}=M;class e extends c{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.layout=void 0,this.options=void 0,this.parentNodeMass=0,this.points=void 0,this.xData=void 0,this.deferDataLabels=!0}static compose(h,r,S,v){c.compose(h,r,S,v),G.compose(r),I.compose(r)}accumulateAllPoints(){const h=this.chart,r=[];let S;for(const v of h.series)if(v.is("packedbubble")&&v.visible||!h.options.chart.ignoreHiddenSeries){S=v.yData||[];for(let P=0;P<S.length;P++)r.push([null,null,S[P],v.index,P,{id:P,marker:{radius:0}}])}return r}addLayout(){const h=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},r=h.type||"packedbubble",S=this.chart.options.chart;let A,v=this.chart.graphLayoutsStorage,P=this.chart.graphLayoutsLookup;v||(this.chart.graphLayoutsStorage=v={},this.chart.graphLayoutsLookup=P=[]),A=v[r],A||(h.enableSimulation=f(S.forExport)?!S.forExport:h.enableSimulation,v[r]=A=new j.layouts[r],A.init(h),P.splice(A.index,0,A)),this.layout=A,this.points.forEach(k=>{k.mass=2,k.degree=1,k.collisionNmb=1}),A.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),A.addElementsToCollection([this],A.series),A.addElementsToCollection(this.points,A.nodes)}addSeriesLayout(){const h=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},r=h.type||"packedbubble",S=this.chart.graphLayoutsStorage,v=this.chart.graphLayoutsLookup,P=a(h,h.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let A=S[r+"-series"];A||(S[r+"-series"]=A=new j.layouts[r],A.init(P),v.splice(A.index,0,A)),this.parentNodeLayout=A,this.createParentNodes()}calculateParentRadius(){const h=this.seriesBox();this.parentNodeRadius=l(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,h?Math.max(Math.sqrt(Math.pow(h.width,2)+Math.pow(h.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let S=this.options.zMin,v=this.options.zMax,P=1/0,A=-1/0;return S&&v||(this.chart.series.forEach(k=>{k.yData.forEach(O=>{f(O)&&(O>A&&(A=O),O<P&&(P=O))})}),S=o(S,P),v=o(v,A)),[S,v]}checkOverlap(h,r){const S=h[0]-r[0],v=h[1]-r[1],P=h[2]+r[2];return Math.sqrt(S*S+v*v)-Math.abs(P)<-.001}createParentNodes(){const h=this.pointClass,r=this.chart,S=this.parentNodeLayout,v=this.layout.options;let P,A=this.parentNode,k={radius:this.parentNodeRadius,lineColor:this.color,fillColor:y(this.color).brighten(.4).get()};v.parentNodeOptions&&(k=a(v.parentNodeOptions.marker||{},k)),this.parentNodeMass=0,this.points.forEach(O=>{this.parentNodeMass+=Math.PI*Math.pow(O.marker.radius,2)}),this.calculateParentRadius(),S.nodes.forEach(O=>{O.seriesIndex===this.index&&(P=!0)}),S.setArea(0,0,r.plotWidth,r.plotHeight),P||(A||(A=(new h).init(this,{mass:this.parentNodeRadius/2,marker:k,dataLabels:{inside:!1},states:{normal:{marker:k},hover:{marker:k}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(A.plotX=this.parentNode.plotX,A.plotY=this.parentNode.plotY),this.parentNode=A,S.addElementsToCollection([this],S.series),S.addElementsToCollection([A],S.nodes))}deferLayout(){const h=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),h.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(h=>{h.removeElementFromCollection(this,h.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),x.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(x.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",x.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;const h=this.chart,r=this.layout.options.parentNodeOptions.marker,S={fill:r.fillColor||y(this.color).brighten(.4).get(),opacity:r.fillOpacity,stroke:r.lineColor||this.color,"stroke-width":o(r.lineWidth,this.options.lineWidth)};let v={};this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,h.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),v=a({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},S),this.parentNode.graphic||(this.graph=this.parentNode.graphic=h.renderer.symbol(S.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(v)}drawTracker(){const h=this.parentNode;let r;super.drawTracker(),h&&(r=C(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),r.forEach(S=>{S.div?S.div.point=h:S.element.point=h}))}getPointRadius(){const h=this.chart,v=this.options,P=v.useSimulation,A=Math.min(h.plotWidth,h.plotHeight),k={},O=[],N=h.allDataPoints||[],B=N.length;let Y,W,R,z;["minSize","maxSize"].forEach(_=>{const q=parseInt(v[_],10),V=/%$/.test(v[_]);k[_]=V?A*q/100:q*Math.sqrt(B)}),h.minRadius=Y=k.minSize/Math.sqrt(B),h.maxRadius=W=k.maxSize/Math.sqrt(B);const H=P?this.calculateZExtremes():[Y,W];N.forEach((_,q)=>{R=P?l(_[2],H[0],H[1]):_[2],z=this.getRadius(H[0],H[1],Y,W,R),0===z&&(z=null),N[q][2]=z,O.push(z)}),this.radii=O}init(){return x.init.apply(this,arguments),g.call(this),this.eventsToUnbind.push(u(this,"updatedData",function(){this.chart.series.forEach(h=>{h.type===this.type&&(h.isDirty=!0)},this)})),this}onMouseUp(h){const r=h;if(r.fixedPosition&&!r.removed){const S=this.layout,v=this.parentNodeLayout;let P,A;v&&S.options.dragBetweenSeries&&v.nodes.forEach(k=>{r&&r.marker&&k!==r.series.parentNode&&(P=S.getDistXY(r,k),A=S.vectorLength(P)-k.marker.radius-r.marker.radius,A<0&&(k.series.addPoint(a(r.options,{plotX:r.plotX,plotY:r.plotY}),!1),S.removeElementFromCollection(r,S.nodes),r.remove()))}),G.onMouseUp.apply(this,arguments)}}placeBubbles(h){const r=this.checkOverlap,S=this.positionBubble,v=[];let O,B,P=1,A=0,k=0,N=[];const Y=h.sort((W,R)=>R[2]-W[2]);if(Y.length){if(v.push([[0,0,Y[0][2],Y[0][3],Y[0][4]]]),Y.length>1)for(v.push([[0,0-Y[1][2]-Y[0][2],Y[1][2],Y[1][3],Y[1][4]]]),B=2;B<Y.length;B++)Y[B][2]=Y[B][2]||1,O=S(v[P][A],v[P-1][k],Y[B]),r(O,v[P][0])?(v.push([]),k=0,v[P+1].push(S(v[P][A],v[P][0],Y[B])),P++,A=0):P>1&&v[P-1][k+1]&&r(O,v[P-1][k+1])?(k++,v[P].push(S(v[P][A],v[P-1][k],Y[B])),A++):(A++,v[P].push(O));this.chart.stages=v,this.chart.rawPositions=[].concat.apply([],v),this.resizeRadius(),N=this.chart.rawPositions}return N}pointAttribs(h,r){const S=this.options;let P=S.marker;h&&h.isParentNode&&S.layoutAlgorithm&&S.layoutAlgorithm.parentNodeOptions&&(P=S.layoutAlgorithm.parentNodeOptions.marker);const A=P.fillOpacity,k=x.pointAttribs.call(this,h,r);return 1!==A&&(k["fill-opacity"]=A),k}positionBubble(h,r,S){const v=Math.sqrt,P=Math.asin,A=Math.acos,k=Math.pow,O=Math.abs,N=v(k(h[0]-r[0],2)+k(h[1]-r[1],2)),B=A((k(N,2)+k(S[2]+r[2],2)-k(S[2]+h[2],2))/(2*(S[2]+r[2])*N)),Y=P(O(h[0]-r[0])/N),z=(h[1]-r[1]<0?0:Math.PI)+B+Y*((h[0]-r[0])*(h[1]-r[1])<0?1:-1),H=Math.cos(z),_=Math.sin(z);return[r[0]+(r[2]+S[2])*_,r[1]-(r[2]+S[2])*H,S[2],S[3],S[4]]}render(){const h=[];x.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(r=>{C(r.dataLabels)&&r.dataLabels.forEach(S=>{h.push(S)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(h))}resizeRadius(){const h=this.chart,r=h.rawPositions,S=Math.min,v=Math.max,P=h.plotLeft,A=h.plotTop,k=h.plotHeight,O=h.plotWidth;let N,B,Y,W,R;N=Y=Number.POSITIVE_INFINITY,B=W=Number.NEGATIVE_INFINITY;for(const q of r)R=q[2],N=S(N,q[0]-R),B=v(B,q[0]+R),Y=S(Y,q[1]-R),W=v(W,q[1]+R);const z=[B-N,W-Y],_=S.apply([],[(O-P)/z[0],(k-A)/z[1]]);if(Math.abs(_-1)>1e-10){for(const q of r)q[2]*=_;this.placeBubbles(r)}else h.diffY=k/2+A-Y-(W-Y)/2,h.diffX=O/2+P-N-(B-N)/2}seriesBox(){const h=this.chart,S=Math.max,v=Math.min,P=[h.plotLeft,h.plotLeft+h.plotWidth,h.plotTop,h.plotTop+h.plotHeight];let A;return this.data.forEach(k=>{f(k.plotX)&&f(k.plotY)&&k.marker.radius&&(A=k.marker.radius,P[0]=v(P[0],k.plotX-A),P[1]=S(P[1],k.plotX+A),P[2]=v(P[2],k.plotY-A),P[3]=S(P[3],k.plotY+A))}),w(P.width/P.height)?P:null}setVisible(){const h=this;x.setVisible.apply(h,arguments),h.parentNodeLayout&&h.graph?h.visible?(h.graph.show(),h.parentNode.dataLabel&&h.parentNode.dataLabel.show()):(h.graph.hide(),h.parentNodeLayout.removeElementFromCollection(h.parentNode,h.parentNodeLayout.nodes),h.parentNode.dataLabel&&h.parentNode.dataLabel.hide()):h.layout&&(h.visible?h.layout.addElementsToCollection(h.points,h.layout.nodes):h.points.forEach(r=>{h.layout.removeElementFromCollection(r,h.layout.nodes)}))}translate(){const h=this.chart,r=this.data,S=this.index,v=this.options.useSimulation;let P,A,k;this.processedXData=this.xData,this.generatePoints(),f(h.allDataPoints)||(h.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),v?k=h.allDataPoints:(k=this.placeBubbles(h.allDataPoints),this.options.draggable=!1);for(const O of k)O[3]===S&&(P=r[O[4]],A=o(O[2],void 0),v||(P.plotX=O[0]-h.plotLeft+h.diffX,P.plotY=O[1]-h.plotTop+h.diffY),w(A)&&(P.marker=d(P.marker,{radius:A,width:2*A,height:2*A}),P.radius=A));v&&this.deferLayout(),p(this,"afterTranslate")}}return e.defaultOptions=a(c.defaultOptions,L),d(e.prototype,{pointClass:X,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:x.alignDataLabel,indexateNodes:b,onMouseDown:G.onMouseDown,onMouseMove:G.onMouseMove,redrawHalo:G.redrawHalo,searchPoint:b}),E.registerSeriesType("packedbubble",e),e}),Z(D,"Series/Polygon/PolygonSeries.js",[D["Core/Globals.js"],D["Core/Legend/LegendSymbol.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{noop:X}=F,{series:L,seriesTypes:{area:I,line:E,scatter:T}}=j,{extend:M,merge:s}=U;class y extends T{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getGraphPath(){let x=E.prototype.getGraphPath.call(this),c=x.length+1;for(;c--;)(c===x.length||"M"===x[c][0])&&c>0&&x.splice(c,0,["Z"]);return this.areaPath=x,x}drawGraph(){this.options.fillColor=this.color,I.prototype.drawGraph.call(this)}}return y.defaultOptions=s(T.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),M(y.prototype,{type:"polygon",drawLegendSymbol:G.drawRectangle,drawTracker:L.prototype.drawTracker,setStackedPoints:X}),j.registerSeriesType("polygon",y),y}),Z(D,"Core/Axis/WaterfallAxis.js",[D["Core/Axis/Stacking/StackItem.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,objectEach:U}=G;var X;return function(L){class I{constructor(x){this.axis=x,this.stacks={changed:!1}}renderStackTotals(){const x=this.axis,c=x.waterfall.stacks,m=x.stacking&&x.stacking.stackTotalGroup,g=new F(x,x.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=g,m&&U(c,function(u){U(u,function(l,f){g.total=l.stackTotal,g.x=+f,l.label&&(g.label=l.label),F.prototype.render.call(g,m),l.label=g.label,delete g.label})}),g.total=null}}function T(){const x=this.waterfall.stacks;x&&(x.changed=!1,delete x.alreadyChanged)}function M(){const b=this,x=b.options.stackLabels;x&&x.enabled&&b.waterfall.stacks&&b.waterfall.renderStackTotals()}function s(){let b=this.axes,x=this.series,c=x.length;for(;c--;)x[c].options.stacking&&(b.forEach(function(m){m.isXAxis||(m.waterfall.stacks.changed=!0)}),c=0)}function y(){const b=this;b.waterfall||(b.waterfall=new I(b))}L.Composition=I,L.compose=function E(b,x){j(b,"init",y),j(b,"afterBuildStacks",T),j(b,"afterRender",M),j(x,"beforeRedraw",s)}}(X||(X={})),X}),Z(D,"Series/Waterfall/WaterfallPoint.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/Point.js"],D["Core/Utilities.js"]],function(F,G,j){const{isNumber:U}=j;return class X extends F.prototype.pointClass{constructor(){super(...arguments),this.options=void 0,this.series=void 0}getClassName(){let I=G.prototype.getClassName.call(this);return this.isSum?I+=" highcharts-sum":this.isIntermediateSum&&(I+=" highcharts-intermediate-sum"),I}isValid(){return U(this.y)||this.isSum||Boolean(this.isIntermediateSum)}}}),Z(D,"Series/Waterfall/WaterfallSeries.js",[D["Core/Axis/Axis.js"],D["Core/Chart/Chart.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"],D["Core/Axis/WaterfallAxis.js"],D["Series/Waterfall/WaterfallPoint.js"]],function(F,G,j,U,X,L){const{seriesTypes:{column:I,line:E}}=j,{addEvent:T,arrayMax:M,arrayMin:s,correctFloat:y,extend:b,isNumber:x,merge:c,objectEach:m,pick:g}=U;function u(f,d){return Object.hasOwnProperty.call(f,d)}class l extends I{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.options=void 0,this.points=void 0,this.stackedYNeg=void 0,this.stackedYPos=void 0,this.stackKey=void 0,this.xData=void 0,this.yAxis=void 0,this.yData=void 0}generatePoints(){I.prototype.generatePoints.apply(this);for(let d=0,p=this.points.length;d<p;d++){const C=this.points[d],w=this.processedYData[d];x(w)&&(C.isIntermediateSum||C.isSum)&&(C.y=y(w))}}processData(d){let o,e,n,h,r,S,v,p=this,C=p.options,w=p.yData,a=C.data,i=w.length,t=C.threshold||0;for(n=e=h=r=0,v=0;v<i;v++)S=w[v],o=a&&a[v]?a[v]:{},"sum"===S||o.isSum?w[v]=y(n):"intermediateSum"===S||o.isIntermediateSum?(w[v]=y(e),e=0):(n+=S,e+=S),h=Math.min(n,h),r=Math.max(n,r);super.processData.call(this,d),C.stacking||(p.dataMin=h+t,p.dataMax=r)}toYData(d){return d.isSum?"sum":d.isIntermediateSum?"intermediateSum":d.y}updateParallelArrays(d,p){super.updateParallelArrays.call(this,d,p),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(d,p){const C=this.options.upColor;C&&!d.options.color&&x(d.y)&&(d.color=d.y>0?C:void 0);const w=I.prototype.pointAttribs.call(this,d,p);return delete w.dashstyle,w}getGraphPath(){return[["M",0,0]]}getCrispPath(){let d=this.data.filter(n=>x(n.y)),p=this.yAxis,C=d.length,w=Math.round(this.graph.strokeWidth())%2/2,a=Math.round(this.borderWidth)%2/2,o=this.xAxis.reversed,i=this.yAxis.reversed,t=this.options.stacking,e=[];for(let n=1;n<C;n++){if(!this.options.connectNulls&&!x(this.data[d[n].index-1].y))continue;const h=d[n].box,r=d[n-1],S=r.y||0,v=d[n-1].box;if(!h||!v)continue;const P=p.waterfall.stacks[this.stackKey],A=S>0?-v.height:0;if(P&&v&&h){let O;O=t?Math.round(p.translate(P[n-1].connectorThreshold,!1,!0,!1,!0)+(i?A:0))-w:v.y+r.minPointLengthOffset+a-w,e.push(["M",(v.x||0)+(o?0:v.width||0),O],["L",(h.x||0)+(o&&h.width||0),O])}if(v&&e.length&&(!t&&S<0&&!i||S>0&&i)){const k=e[e.length-2];k&&"number"==typeof k[2]&&(k[2]+=v.height||0);const O=e[e.length-1];O&&"number"==typeof O[2]&&(O[2]+=v.height||0)}}return e}drawGraph(){E.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){let n,h,r,S,v,P,A,k,O,N,B,Y,d=this,p=d.options,C=d.yAxis.waterfall.stacks,w=p.threshold||0,a=w,o=a,i=d.stackKey,t=d.xData,e=t.length;function W(R,z,H,_){if(n){if(v)for(;H<v;H++)n.stackState[H]+=_;else n.stackState[0]=R,v=n.stackState.length;n.stackState.push(n.stackState[v-1]+z)}}if(d.yAxis.stacking.usePercentage=!1,h=r=S=a,d.visible||!d.chart.options.chart.ignoreHiddenSeries){Y=C.changed,B=C.alreadyChanged,B&&B.indexOf(i)<0&&(Y=!0),C[i]||(C[i]={});const R=C[i];if(R)for(let z=0;z<e;z++)N=t[z],(!R[N]||Y)&&(R[N]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Y&&R[N]?R[N].label:void 0}),n=R[N],O=d.yData[z],O>=0?n.posTotal+=O:n.negTotal+=O,k=p.data[z],P=n.absolutePos=n.posTotal,A=n.absoluteNeg=n.negTotal,n.stackTotal=P+A,v=n.stackState.length,k&&k.isIntermediateSum?(W(S,r,0,S),S=r,r=w,a^=o,o^=a,a^=o):k&&k.isSum?(W(w,h,v,0),a=w):(W(a,O,0,h),k&&(h+=O,r+=O)),n.stateIndex++,n.threshold=a,a+=n.stackTotal;C.changed=!1,C.alreadyChanged||(C.alreadyChanged=[]),C.alreadyChanged.push(i)}}getExtremes(){let p,C,w,a,d=this.options.stacking;return d?(p=this.yAxis,C=p.waterfall.stacks,w=this.stackedYNeg=[],a=this.stackedYPos=[],m(C[this.stackKey],"overlap"===d?function(o){w.push(s(o.stackState)),a.push(M(o.stackState))}:function(o){w.push(o.negTotal+o.threshold),a.push(o.posTotal+o.threshold)}),{dataMin:s(w),dataMax:M(a)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return l.defaultOptions=c(I.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),T(l,"afterColumnTranslate",function(){const f=this,{options:d,points:p,yAxis:C}=f,w=g(d.minPointLength,5),a=w/2,o=d.threshold||0,i=d.stacking,t=C.waterfall.stacks[f.stackKey];let h,r,S,v,e=o,n=o;for(let P=0;P<p.length;P++){const A=p[P],k=f.processedYData[P],N=b({x:0,y:0,width:0,height:0},A.shapeArgs||{});A.box=N;const B=[0,k],Y=A.y||0;if(i){if(t){const R=t[P];"overlap"===i?(r=R.stackState[R.stateIndex--],h=Y>=0?r:r-Y,u(R,"absolutePos")&&delete R.absolutePos,u(R,"absoluteNeg")&&delete R.absoluteNeg):(Y>=0?(r=R.threshold+R.posTotal,R.posTotal-=Y,h=r):(r=R.threshold+R.negTotal,R.negTotal-=Y,h=r-Y),R.posTotal||x(R.absolutePos)&&u(R,"absolutePos")&&(R.posTotal=R.absolutePos,delete R.absolutePos),R.negTotal||x(R.absoluteNeg)&&u(R,"absoluteNeg")&&(R.negTotal=R.absoluteNeg,delete R.absoluteNeg)),A.isSum||(R.connectorThreshold=R.threshold+R.stackTotal),C.reversed?(S=Y>=0?h-Y:h+Y,v=h):(S=h,v=h-Y),A.below=S<=o,N.y=C.translate(S,!1,!0,!1,!0),N.height=Math.abs(N.y-C.translate(v,!1,!0,!1,!0));const z=C.waterfall.dummyStackItem;z&&(z.x=P,z.label=t[P].label,z.setOffset(f.pointXOffset||0,f.barW||0,f.stackedYNeg[P],f.stackedYPos[P],void 0,this.xAxis))}}else h=Math.max(n,n+Y)+B[0],N.y=C.translate(h,!1,!0,!1,!0),A.isSum?(N.y=C.translate(B[1],!1,!0,!1,!0),N.height=Math.min(C.translate(B[0],!1,!0,!1,!0),C.len)-N.y,A.below=B[1]<=o):A.isIntermediateSum?(Y>=0?(S=B[1]+e,v=e):(S=e,v=B[1]+e),C.reversed&&(S^=v,v^=S,S^=v),N.y=C.translate(S,!1,!0,!1,!0),N.height=Math.abs(N.y-Math.min(C.translate(v,!1,!0,!1,!0),C.len)),e+=B[1],A.below=S<=o):(N.height=k>0?C.translate(n,!1,!0,!1,!0)-N.y:C.translate(n,!1,!0,!1,!0)-C.translate(n-k,!1,!0,!1,!0),n+=k,A.below=n<o),N.height<0&&(N.y+=N.height,N.height*=-1);A.plotY=N.y=Math.round(N.y||0)-f.borderWidth%2/2,N.height=Math.max(Math.round(N.height||0),.001),A.yBottom=N.y+N.height,N.height<=w&&!A.isNull?(N.height=w,N.y-=a,A.plotY=N.y,A.minPointLengthOffset=Y<0?-a:a):(A.isNull&&(N.width=0),A.minPointLengthOffset=0);const W=A.plotY+(A.negative?N.height:0);A.below&&(A.plotY+=N.height),A.tooltipPos&&(f.chart.inverted?A.tooltipPos[0]=C.len-W:A.tooltipPos[1]=W),A.isInside=this.isPointInside(A),c(!0,A.shapeArgs,N)}},{order:2}),b(l.prototype,{getZonesGraphs:E.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:L}),j.registerSeriesType("waterfall",l),X.compose(F,G),l}),Z(D,"Core/Axis/RadialAxis.js",[D["Core/Axis/AxisDefaults.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{defaultOptions:X}=G,{noop:L}=j,{addEvent:I,correctFloat:E,defined:T,extend:M,fireEvent:s,merge:y,pick:b,relativeLength:x,wrap:c}=U;var m;return function(g){const u=[],l={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},f={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},d={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function p(){this.autoConnect=this.isCircular&&typeof b(this.userMax,this.options.max)>"u"&&E(this.endAngleRad-this.startAngleRad)===E(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function w(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(V=>this.ticks[V]&&this.ticks[V].label).filter(V=>Boolean(V))}}function a(){return L}function o(V,$,J){const tt=this.pane.center;let it,ot,rt,nt,st=V.value;return this.isCircular?(T(st)?V.point&&(it=V.point.shapeArgs||{},it.start&&(st=this.chart.inverted?this.translate(V.point.rectPlotY,!0):V.point.x)):(rt=V.chartX||0,nt=V.chartY||0,st=this.translate(Math.atan2(nt-J,rt-$)-this.startAngleRad,!0)),ot=this.getPosition(st),rt=ot.x,nt=ot.y):(T(st)||(rt=V.chartX,nt=V.chartY),T(rt)&&T(nt)&&(J=tt[1]+this.chart.plotTop,st=this.translate(Math.min(Math.sqrt(Math.pow(rt-$,2)+Math.pow(nt-J,2)),tt[2]/2)-tt[3]/2,!0))),[st,rt||0,nt||0]}function i(V,$,J){const tt=this.pane.center,st=this.chart,it=this.left||0,ot=this.top||0;let rt,pt,nt=b($,tt[2]/2-this.offset);return typeof J>"u"&&(J=this.horiz?0:this.center&&-this.center[3]/2),J&&(nt+=J),this.isCircular||typeof $<"u"?(pt=this.chart.renderer.symbols.arc(it+tt[0],ot+tt[1],nt,nt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),pt.xBounds=[it+tt[0]],pt.yBounds=[ot+tt[1]-nt]):(rt=this.postTranslate(this.angleRad,nt),pt=[["M",this.center[0]+st.plotLeft,this.center[1]+st.plotTop],["L",rt.x,rt.y]]),pt}function t(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function e(V,$,J){const tt=this.chart,st=Tt=>{if("string"==typeof Tt){let Ot=parseInt(Tt,10);return ft.test(Tt)&&(Ot=Ot*rt/100),Ot}return Tt},it=this.center,ot=this.startAngleRad,rt=it[2]/2,nt=Math.min(this.offset,0),pt=this.left||0,dt=this.top||0,ft=/%$/,yt=this.isCircular;let ht,gt,mt,xt,Pt,St,wt=b(st(J.outerRadius),rt),kt=st(J.innerRadius),Dt=b(st(J.thickness),10);if("polygon"===this.options.gridLineInterpolation)St=this.getPlotLinePath({value:V}).concat(this.getPlotLinePath({value:$,reverse:!0}));else{V=Math.max(V,this.min),$=Math.min($,this.max);const Tt=this.translate(V),Ot=this.translate($);yt||(wt=Tt||0,kt=Ot||0),"circle"!==J.shape&&yt?(ht=ot+(Tt||0),gt=ot+(Ot||0)):(ht=-Math.PI/2,gt=1.5*Math.PI,Pt=!0),wt-=nt,Dt-=nt,St=tt.renderer.symbols.arc(pt+it[0],dt+it[1],wt,wt,{start:Math.min(ht,gt),end:Math.max(ht,gt),innerR:b(kt,wt-Dt),open:Pt}),yt&&(mt=(gt+ht)/2,xt=pt+it[0]+it[2]/2*Math.cos(mt),St.xBounds=mt>-Math.PI/2&&mt<Math.PI/2?[xt,tt.plotWidth]:[0,xt],St.yBounds=[dt+it[1]+it[2]/2*Math.sin(mt)],St.yBounds[0]+=mt>-Math.PI&&mt<0||mt>Math.PI?-10:10)}return St}function n(V){const $=this.pane.center,J=this.chart,tt=J.inverted,st=V.reverse,it=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},ot=it.innerRadius||"0%",rt=it.outerRadius||"100%",nt=$[0]+J.plotLeft,pt=$[1]+J.plotTop,dt=this.height,ft=V.isCrosshair,yt=$[3]/2;let gt,mt,xt,Pt,St,wt,kt,Dt,Tt,ht=V.value;const Ot=this.getPosition(ht);let Lt=Ot.x,It=Ot.y;if(ft&&(Dt=this.getCrosshairPosition(V,nt,pt),ht=Dt[0],Lt=Dt[1],It=Dt[2]),this.isCircular)mt=Math.sqrt(Math.pow(Lt-nt,2)+Math.pow(It-pt,2)),xt="string"==typeof ot?x(ot,1):ot/mt,Pt="string"==typeof rt?x(rt,1):rt/mt,$&&yt&&(gt=yt/mt,xt<gt&&(xt=gt),Pt<gt&&(Pt=gt)),Tt=[["M",nt+xt*(Lt-nt),pt-xt*(pt-It)],["L",Lt-(1-Pt)*(Lt-nt),It+(1-Pt)*(pt-It)]];else if(ht=this.translate(ht),ht&&(ht<0||ht>dt)&&(ht=0),"circle"===this.options.gridLineInterpolation)Tt=this.getLinePath(0,ht,yt);else if(Tt=[],J[tt?"yAxis":"xAxis"].forEach(Bt=>{Bt.pane===this.pane&&(St=Bt)}),St){kt=St.tickPositions,St.autoConnect&&(kt=kt.concat([kt[0]])),st&&(kt=kt.slice().reverse()),ht&&(ht+=yt);for(let Bt=0;Bt<kt.length;Bt++)wt=St.getPosition(kt[Bt],ht),Tt.push(Bt?["L",wt.x,wt.y]:["M",wt.x,wt.y])}return Tt}function h(V,$){const J=this.translate(V);return this.postTranslate(this.isCircular?J:this.angleRad,b(this.isCircular?$:J<0?0:J,this.center[2]/2)-this.offset)}function r(){const V=this.center,$=this.chart,J=this.options.title;return{x:$.plotLeft+V[0]+(J.x||0),y:$.plotTop+V[1]-{high:.5,middle:.25,low:0}[J.align]*V[2]+(J.y||0)}}function S(V){V.beforeSetTickPositions=p,V.createLabelCollector=w,V.getCrosshairPosition=o,V.getLinePath=i,V.getOffset=t,V.getPlotBandPath=e,V.getPlotLinePath=n,V.getPosition=h,V.getTitlePosition=r,V.postTranslate=W,V.setAxisSize=z,V.setAxisTranslation=H,V.setOptions=_}function P(){const V=this.chart,$=this.options,tt=this.pane,st=tt&&tt.options;if((!V.angular||!this.isXAxis)&&tt&&(V.angular||V.polar)){const it=2*Math.PI,ot=(b(st.startAngle,0)-90)*Math.PI/180,rt=(b(st.endAngle,b(st.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=($.angle||0)*Math.PI/180,this.startAngleRad=ot,this.endAngleRad=rt,this.offset=$.offset||0;let nt=(ot%it+it)%it,pt=(rt%it+it)%it;nt>Math.PI&&(nt-=it),pt>Math.PI&&(pt-=it),this.normalizedStartAngleRad=nt,this.normalizedEndAngleRad=pt}}function A(V){this.isRadial&&(V.align=void 0,V.preventDefault())}function k(){if(this.chart&&this.chart.labelCollectors){const V=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;V>=0&&this.chart.labelCollectors.splice(V,1)}}function O(V){const $=this.chart,J=$.inverted,tt=$.angular,st=$.polar,it=this.isXAxis,ot=this.coll,rt=tt&&it,dt=this.pane=$.pane&&$.pane[V.userOptions.pane||0];let ft;"colorAxis"!==ot?(tt?(rt?function v(V){V.isHidden=!0,V.createLabelCollector=a,V.getOffset=L,V.redraw=R,V.render=R,V.setScale=L,V.setCategories=L,V.setTitle=L}(this):S(this),ft=!it,ft&&(this.defaultPolarOptions=f)):st&&(S(this),ft=this.horiz,this.defaultPolarOptions=ft?l:y("xAxis"===ot?F.defaultXAxisOptions:F.defaultYAxisOptions,d),J&&"yAxis"===ot&&(this.defaultPolarOptions.stackLabels=F.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),tt||st?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&$.labelCollectors.push(this.labelCollector)):this.isRadial=!1,dt&&ft&&(dt.axis=this),this.isCircular=ft):this.isRadial=!1}function N(){this.isRadial&&this.beforeSetTickPositions()}function B(V){const $=this.label;if(!$)return;const J=this.axis,tt=$.getBBox(),st=J.options.labels,it=(J.translate(this.pos)+J.startAngleRad+Math.PI/2)/Math.PI*180%360,ot=Math.round(it),rt=T(st.y)?0:.3*-tt.height;let pt,nt=st.y,dt=20,ft=st.align,yt="end",ht=ot<0?ot+360:ot,gt=ht,mt=0,xt=0;J.isRadial&&(pt=J.getPosition(this.pos,J.center[2]/2+x(b(st.distance,-25),J.center[2]/2,-J.center[2]/2)),"auto"===st.rotation?$.attr({rotation:it}):T(nt)||(nt=J.chart.renderer.fontMetrics($).b-tt.height/2),T(ft)||(J.isCircular?(tt.width>J.len*J.tickInterval/(J.max-J.min)&&(dt=0),ft=it>dt&&it<180-dt?"left":it>180+dt&&it<360-dt?"right":"center"):ft="center",$.attr({align:ft})),"auto"===ft&&2===J.tickPositions.length&&J.isCircular&&(ht>90&&ht<180?ht=180-ht:ht>270&&ht<=360&&(ht=540-ht),gt>180&&gt<=360&&(gt=360-gt),(J.pane.options.startAngle===ot||J.pane.options.startAngle===ot+360||J.pane.options.startAngle===ot-360)&&(yt="start"),ft=ot>=-90&&ot<=90||ot>=-360&&ot<=-270||ot>=270&&ot<=360?"start"===yt?"right":"left":"start"===yt?"left":"right",gt>70&&gt<110&&(ft="center"),ht<15||ht>=180&&ht<195?mt=.3*tt.height:ht>=15&&ht<=35?mt="start"===yt?0:.75*tt.height:ht>=195&&ht<=215?mt="start"===yt?.75*tt.height:0:ht>35&&ht<=90?mt="start"===yt?.25*-tt.height:tt.height:ht>215&&ht<=270&&(mt="start"===yt?tt.height:.25*-tt.height),gt<15?xt="start"===yt?.15*-tt.height:.15*tt.height:gt>165&&gt<=180&&(xt="start"===yt?.15*tt.height:.15*-tt.height),$.attr({align:ft}),$.translate(xt,mt+rt)),V.pos.x=pt.x+(st.x||0),V.pos.y=pt.y+(nt||0))}function Y(V){this.axis.getPosition&&M(V.pos,this.axis.getPosition(this.pos))}function W(V,$){const J=this.chart,tt=this.center;return V=this.startAngleRad+V,{x:J.plotLeft+tt[0]+Math.cos(V)*$,y:J.plotTop+tt[1]+Math.sin(V)*$}}function R(){this.isDirty=!1}function z(){let $,J;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),$=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(J=this.postTranslate(this.angleRad,$[3]/2),$[0]=J.x-this.chart.plotLeft,$[1]=J.y-this.chart.plotTop),this.len=this.width=this.height=($[2]-$[3])*b(this.sector,1)/2)}function H(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function _(V){const $=this.options=y(this.constructor.defaultOptions,this.defaultPolarOptions,X[this.coll],V);$.plotBands||($.plotBands=[]),s(this,"afterSetOptions")}function q(V,$,J,tt,st,it,ot){const rt=this.axis;let nt,pt;return rt.isRadial?(nt=rt.getPosition(this.pos,rt.center[2]/2+tt),pt=["M",$,J,"L",nt.x,nt.y]):pt=V.call(this,$,J,tt,st,it,ot),pt}g.compose=function C(V,$){return U.pushUnique(u,V)&&(I(V,"afterInit",P),I(V,"autoLabelAlign",A),I(V,"destroy",k),I(V,"init",O),I(V,"initialAxisTranslation",N)),U.pushUnique(u,$)&&(I($,"afterGetLabelPosition",B),I($,"afterGetPosition",Y),c($.prototype,"getMarkPath",q)),V}}(m||(m={})),m}),Z(D,"Series/PolarComposition.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Globals.js"],D["Core/Series/Series.js"],D["Extensions/Pane.js"],D["Core/Axis/RadialAxis.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{animObject:I}=F,{addEvent:E,defined:T,find:M,isNumber:s,merge:y,pick:b,relativeLength:x,splat:c,uniqueKey:m,wrap:g}=L,u=[];function d(B,Y,W,R){const _=R?1:0;let q,V,$,J,tt,st;q=Y>=0&&Y<=B.length-1?Y:Y<0?B.length-1+Y:0;const it=q-1<0?B.length-(1+_):q-1,rt=B[it],nt=B[q+1>B.length-1?_:q+1],ht=B[q].plotX,gt=B[q].plotY;V=(1.5*ht+rt.plotX)/2.5,$=(1.5*gt+rt.plotY)/2.5,J=(1.5*ht+nt.plotX)/2.5,tt=(1.5*gt+nt.plotY)/2.5;const mt=Math.sqrt(Math.pow(V-ht,2)+Math.pow($-gt,2)),xt=Math.sqrt(Math.pow(J-ht,2)+Math.pow(tt-gt,2)),Pt=Math.atan2($-gt,V-ht),St=Math.atan2(tt-gt,J-ht);st=Math.PI/2+(Pt+St)/2,Math.abs(Pt-st)>Math.PI/2&&(st-=Math.PI),V=ht+Math.cos(st)*mt,$=gt+Math.sin(st)*mt,J=ht+Math.cos(Math.PI+st)*xt,tt=gt+Math.sin(Math.PI+st)*xt;const wt={rightContX:J,rightContY:tt,leftContX:V,leftContY:$,plotX:ht,plotY:gt};return W&&(wt.prevPointCont=d(B,it,!1,R)),wt}function p(){(this.pane||[]).forEach(B=>{B.render()})}function C(B){const Y=B.args[0].xAxis,W=B.args[0].yAxis,R=B.args[0].chart;Y&&W&&("polygon"===W.gridLineInterpolation?(Y.startOnTick=!0,Y.endOnTick=!0):"polygon"===Y.gridLineInterpolation&&R.inverted&&(W.startOnTick=!0,W.endOnTick=!0))}function w(){this.pane||(this.pane=[]),this.options.pane=c(this.options.pane),this.options.pane.forEach(B=>{new U(B,this)},this)}function a(B){const Y=B.args.marker,W=this.chart.xAxis[0],R=this.chart.yAxis[0],z=this.chart.inverted,H=z?R:W,_=z?W:R;if(this.chart.polar){B.preventDefault();let q=(Y.attr?Y.attr("start"):Y.start)-H.startAngleRad,V=Y.attr?Y.attr("r"):Y.r,$=(Y.attr?Y.attr("end"):Y.end)-H.startAngleRad,J=Y.attr?Y.attr("innerR"):Y.innerR;B.result.x=q+H.pos,B.result.width=$-q,B.result.y=_.len+_.pos-J,B.result.height=J-V}}function o(B){const Y=this.chart;if(Y.polar&&Y.hoverPane&&Y.hoverPane.axis){B.preventDefault();const W=Y.hoverPane.center,R=this.mouseDownX||0,z=this.mouseDownY||0,H=B.args.chartY,_=B.args.chartX,q=2*Math.PI,V=Y.hoverPane.axis.startAngleRad,$=Y.hoverPane.axis.endAngleRad,J=Y.inverted?Y.xAxis[0]:Y.yAxis[0],tt={};let st="arc";if(tt.x=W[0]+Y.plotLeft,tt.y=W[1]+Y.plotTop,this.zoomHor){const it=V>0?$-V:Math.abs(V)+Math.abs($);let ot=Math.atan2(z-Y.plotTop-W[1],R-Y.plotLeft-W[0])-V,rt=Math.atan2(H-Y.plotTop-W[1],_-Y.plotLeft-W[0])-V;tt.r=W[2]/2,tt.innerR=W[3]/2,ot<=0&&(ot+=q),rt<=0&&(rt+=q),rt<ot&&(rt=[ot,ot=rt][0]),it<q&&V+rt>$+(q-it)/2&&(rt=ot,ot=V<=0?V:0);const nt=tt.start=Math.max(ot+V,V),pt=tt.end=Math.min(rt+V,$);if("polygon"===J.options.gridLineInterpolation){const dt=Y.hoverPane.axis,yt=nt-dt.startAngleRad+dt.pos,ht=pt-nt;let gt=J.getPlotLinePath({value:J.max}),mt=dt.toValue(yt),xt=dt.toValue(yt+ht);if(mt<dt.getExtremes().min){const{min:Pt,max:St}=dt.getExtremes();mt=St-(Pt-mt)}if(xt<dt.getExtremes().min){const{min:Pt,max:St}=dt.getExtremes();xt=St-(Pt-xt)}xt<mt&&(xt=[mt,mt=xt][0]),gt=n(gt,mt,xt,dt),gt.push(["L",W[0]+Y.plotLeft,Y.plotTop+W[1]]),tt.d=gt,st="path"}}if(this.zoomVert){const it=Y.inverted?Y.xAxis[0]:Y.yAxis[0];let ot=Math.sqrt(Math.pow(R-Y.plotLeft-W[0],2)+Math.pow(z-Y.plotTop-W[1],2)),rt=Math.sqrt(Math.pow(_-Y.plotLeft-W[0],2)+Math.pow(H-Y.plotTop-W[1],2));if(rt<ot&&(ot=[rt,rt=ot][0]),rt>W[2]/2&&(rt=W[2]/2),ot<W[3]/2&&(ot=W[3]/2),this.zoomHor||(tt.start=V,tt.end=$),tt.r=rt,tt.innerR=ot,"polygon"===it.options.gridLineInterpolation){const nt=it.toValue(it.len+it.pos-ot),pt=it.toValue(it.len+it.pos-rt),dt=it.getPlotLinePath({value:pt}).concat(it.getPlotLinePath({value:nt,reverse:!0}));tt.d=dt,st="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===J.options.gridLineInterpolation){const it=Y.hoverPane.axis,ot=tt.start||0,nt=ot-it.startAngleRad+it.pos,pt=(tt.end||0)-ot,dt=it.toValue(nt),ft=it.toValue(nt+pt);if(tt.d instanceof Array){let yt=tt.d.slice(0,tt.d.length/2),ht=tt.d.slice(tt.d.length/2,tt.d.length);ht=[...ht].reverse();const gt=Y.hoverPane.axis;yt=n(yt,dt,ft,gt),ht=n(ht,dt,ft,gt),ht&&(ht[0][0]="L"),ht=[...ht].reverse(),tt.d=yt.concat(ht),st="path"}}B.attrs=tt,B.shapeType=st}}function i(){const B=this.chart;B.polar&&(this.polar=new N(this),B.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function t(){if(this.chart.polar&&this.xAxis){const B=this,{xAxis:Y,yAxis:W}=B,R=B.chart;B.kdByAngle=R.tooltip&&R.tooltip.shared,B.kdByAngle?B.searchPoint=e:B.options.findNearestPointBy="xy";const z=B.points;let H=z.length;for(;H--;)!B.is("column")&&!B.is("columnrange")&&B.polar.toXY(z[H]),!R.hasParallelCoordinates&&!B.yAxis.reversed&&(b(z[H].y,Number.MIN_VALUE)<W.min||z[H].x<Y.min||z[H].x>Y.max?(z[H].isNull=!0,z[H].plotY=NaN):z[H].isNull=z[H].isValid&&!z[H].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!B.eventsToUnbind.push(E(B,"afterRender",function(){let _;R.polar&&(_=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:_[0],y:_[1],r:_[2]/2,innerR:_[3]/2}):this.clipCircle=function l(B,Y,W,R,z){const H=m(),_=B.createElement("clipPath").attr({id:H}).add(B.defs),q=z?B.arc(Y,W,R,z,0,2*Math.PI).add(_):B.circle(Y,W,R).add(_);return q.id=H,q.clipPath=_,q}(R.renderer,_[0],_[1],_[2]/2,_[3]/2),this.group.clip(this.clipCircle),this.setClip=G.noop)})))}}function e(B){const Y=this,W=Y.chart,R=Y.xAxis,z=R.pane&&R.pane.center;return Y.searchKDTree({clientX:180+Math.atan2(B.chartX-(z&&z[0]||0)-W.plotLeft,B.chartY-(z&&z[1]||0)-W.plotTop)*(-180/Math.PI)})}function n(B,Y,W,R){const z=R.tickInterval,H=R.tickPositions;let _=M(H,V=>V>=W),q=M([...H].reverse(),V=>V<=Y);return T(_)||(_=H[H.length-1]),T(q)||(q=H[0],_+=z,B[0][0]="L",B.unshift(B[B.length-3])),(B=B.slice(H.indexOf(q),H.indexOf(_)+1))[0][0]="M",B}function h(B,Y){return M(this.pane||[],function(W){return W.options.id===Y})||B.call(this,Y)}function r(B,Y,W,R,z,H){const _=this.chart,q=b(R.inside,!!this.options.stacking);let V,$,J;_.polar?(V=Y.rectPlotX/Math.PI*180,_.inverted?(this.forceDL=_.isInsidePlot(Y.plotX,Y.plotY),q&&Y.shapeArgs?($=Y.shapeArgs,J=this.yAxis.postTranslate((($.start||0)+($.end||0))/2-this.xAxis.startAngleRad,Y.barX+Y.pointWidth/2),z=y(z,{x:J.x-_.plotLeft,y:J.y-_.plotTop})):Y.tooltipPos&&(z=y(z,{x:Y.tooltipPos[0],y:Y.tooltipPos[1]})),R.align=b(R.align,"center"),R.verticalAlign=b(R.verticalAlign,"middle")):R=function f(B,Y){let W,R;return null===Y.align&&(W=B>20&&B<160?"left":B>200&&B<340?"right":"center",Y.align=W),null===Y.verticalAlign&&(R=B<45||B>315?"bottom":B>135&&B<225?"top":"middle",Y.verticalAlign=R),Y}(V,R),j.prototype.alignDataLabel.call(this,Y,W,R,z,H),this.isRadialBar&&Y.shapeArgs&&Y.shapeArgs.start===Y.shapeArgs.end?W.hide():W.show()):B.call(this,Y,W,R,z,H)}function S(){const B=this,Y=B.options,W=Y.stacking,R=B.chart,z=B.xAxis,H=B.yAxis,_=H.reversed,q=H.center,V=z.startAngleRad,J=z.endAngleRad-V;let it,ot,rt,nt,pt,yt,ht,gt,mt,xt,Pt,St,wt,tt=Y.threshold,st=0,dt=0,ft=0;if(z.isRadial)for(it=B.points,rt=it.length,nt=H.translate(H.min),pt=H.translate(H.max),tt=Y.threshold||0,R.inverted&&s(tt)&&(st=H.translate(tt),T(st)&&(st<0?st=0:st>J&&(st=J),B.translatedThreshold=st+V));rt--;){if(ot=it[rt],Pt=ot.barX,ht=ot.x,gt=ot.y,ot.shapeType="arc",R.inverted){ot.plotY=H.translate(gt),W&&H.stacking?(xt=H.stacking.stacks[(gt<0?"-":"")+B.stackKey],B.visible&&xt&&xt[ht]&&(ot.isNull||(mt=xt[ht].points[B.getStackIndicator(void 0,ht,B.index).key],dt=H.translate(mt[0]),ft=H.translate(mt[1]),T(dt)&&(dt=L.clamp(dt,0,J))))):(dt=st,ft=ot.plotY),dt>ft&&(ft=[dt,dt=ft][0]),_?ft>nt?ft=nt:dt<pt?dt=pt:(dt>nt||ft<pt)&&(dt=ft=J):dt<nt?dt=nt:ft>pt?ft=pt:(ft<nt||dt>pt)&&(dt=ft=0),H.min>H.max&&(dt=ft=_?J:0),dt+=V,ft+=V,q&&(ot.barX=Pt+=q[3]/2),St=Math.max(Pt,0),wt=Math.max(Pt+ot.pointWidth,0);const kt=Y.borderRadius,Tt=x(("object"==typeof kt?kt.radius:kt)||0,wt-St);ot.shapeArgs={x:q[0],y:q[1],r:wt,innerR:St,start:dt,end:ft,borderRadius:Tt},ot.opacity=dt===ft?0:void 0,ot.plotY=(T(B.translatedThreshold)&&(dt<B.translatedThreshold?dt:ft))-V}else dt=Pt+V,ot.shapeArgs=B.polar.arc(ot.yBottom,ot.plotY,dt,dt+ot.pointWidth),ot.shapeArgs.borderRadius=0;B.polar.toXY(ot),R.inverted?(yt=H.postTranslate(ot.rectPlotY,Pt+ot.pointWidth/2),ot.tooltipPos=[yt.x-R.plotLeft,yt.y-R.plotTop]):ot.tooltipPos=[ot.plotX,ot.plotY],q&&(ot.ttBelow=ot.plotY>q[1])}}function v(B,Y){const W=this;let R,z;if(this.chart.polar){Y=Y||this.points;for(let _=0;_<Y.length;_++)if(!Y[_].isNull){R=_;break}!1!==this.options.connectEnds&&typeof R<"u"&&(this.connectEnds=!0,Y.splice(Y.length,0,Y[R]),z=!0),Y.forEach(_=>{typeof _.polarPlotY>"u"&&W.polar.toXY(_)})}const H=B.apply(this,[].slice.call(arguments,1));return z&&Y.pop(),H}function P(B,Y){const W=this.chart;let R={xAxis:[],yAxis:[]};return W.polar?W.axes.forEach(z=>{if("colorAxis"===z.coll)return;const H=z.isXAxis,_=z.center,q=Y.chartX-_[0]-W.plotLeft,V=Y.chartY-_[1]-W.plotTop;R[H?"xAxis":"yAxis"].push({axis:z,value:z.translate(H?Math.PI-Math.atan2(q,V):Math.sqrt(Math.pow(q,2)+Math.pow(V,2)),!0)})}):R=B.call(this,Y),R}function A(B,Y){this.chart.polar||B.call(this,Y)}function k(B,Y){const W=this,R=this.chart,z=this.group,H=this.markerGroup,_=this.xAxis&&this.xAxis.center,q=R.plotLeft,V=R.plotTop;let J,tt,st,it,ot,rt,$=this.options.animation;R.polar?W.isRadialBar?Y||(W.startAngleRad=b(W.translatedThreshold,W.xAxis.startAngleRad),G.seriesTypes.pie.prototype.animate.call(W,Y)):($=I($),W.is("column")?Y||(tt=_[3]/2,W.points.forEach(nt=>{st=nt.graphic,it=nt.shapeArgs,ot=it&&it.r,rt=it&&it.innerR,st&&it&&(st.attr({r:tt,innerR:tt}),st.animate({r:ot,innerR:rt},W.options.animation))})):Y?(J={translateX:_[0]+q,translateY:_[1]+V,scaleX:.001,scaleY:.001},z.attr(J),H&&H.attr(J)):(J={translateX:q,translateY:V,scaleX:1,scaleY:1},z.animate(J,$),H&&H.animate(J,$))):B.call(this,Y)}function O(B,Y,W,R){let z,H;if(this.chart.polar)if(R){H=d(Y,R,!0,this.connectEnds);const _=H.prevPointCont&&H.prevPointCont.rightContX,q=H.prevPointCont&&H.prevPointCont.rightContY;z=["C",s(_)?_:H.plotX,s(q)?q:H.plotY,s(H.leftContX)?H.leftContX:H.plotX,s(H.leftContY)?H.leftContY:H.plotY,H.plotX,H.plotY]}else z=["M",W.plotX,W.plotY];else z=B.call(this,Y,W,R);return z}class N{static compose(Y,W,R,z,H,_,q,V,$){if(X.compose(Y,H),L.pushUnique(u,W)&&(E(W,"afterDrawChartBox",p),E(W,"getAxes",w),E(W,"init",C),g(W.prototype,"get",h)),L.pushUnique(u,R)){const J=R.prototype;g(J,"getCoordinates",P),g(J,"pinch",A),E(R,"getSelectionMarkerAttrs",o),E(R,"getSelectionBox",a)}if(L.pushUnique(u,z)&&(E(z,"afterInit",i),E(z,"afterTranslate",t,{order:2}),E(z,"afterColumnTranslate",S,{order:4}),g(z.prototype,"animate",k)),q&&L.pushUnique(u,q)){const J=q.prototype;g(J,"alignDataLabel",r),g(J,"animate",k)}if(V&&L.pushUnique(u,V)&&g(V.prototype,"getGraphPath",v),$&&L.pushUnique(u,$)){const J=$.prototype;g(J,"getPointSpline",O),_&&L.pushUnique(u,_)&&(_.prototype.getPointSpline=J.getPointSpline)}}constructor(Y){this.series=Y}arc(Y,W,R,z){const H=this.series,_=H.xAxis.center,q=H.yAxis.len,V=_[3]/2;let $=q-W+V,J=q-b(Y,q)+V;return H.yAxis.reversed&&($<0&&($=V),J<0&&(J=V)),{x:_[0],y:_[1],r:$,innerR:J,start:R,end:z}}toXY(Y){const W=this.series,R=W.chart,z=W.xAxis,H=W.yAxis,_=Y.plotX,q=R.inverted,V=Y.y;let tt,$=Y.plotY,J=q?_:H.len-$;if(q&&W&&!W.isRadialBar&&(Y.plotY=$=s(V)?H.translate(V):0),Y.rectPlotX=_,Y.rectPlotY=$,H.center&&(J+=H.center[3]/2),s($)){const st=q?H.postTranslate($,J):z.postTranslate(_,J);Y.plotX=Y.polarPlotX=st.x-R.plotLeft,Y.plotY=Y.polarPlotY=st.y-R.plotTop}W.kdByAngle?(tt=(_/Math.PI*180+z.pane.options.startAngle)%360,tt<0&&(tt+=360),Y.clientX=tt):Y.clientX=Y.plotX}}return N}),Z(D,"masters/highcharts-more.src.js",[D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Series/Bubble/BubbleSeries.js"],D["Series/PackedBubble/PackedBubbleSeries.js"],D["Series/PolarComposition.js"]],function(F,G,j,U,X){const L=F;j.compose(L.Axis,L.Chart,L.Legend,L.Series),U.compose(L.Axis,L.Chart,L.Legend,L.Series),X.compose(L.Axis,L.Chart,L.Pointer,L.Series,L.Tick,G.seriesTypes.areasplinerange,G.seriesTypes.column,G.seriesTypes.line,G.seriesTypes.spline)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},5002:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Accessibility/Utils/HTMLUtilities.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{doc:j,win:U}=F,{css:X}=G,L=U.EventTarget&&new U.EventTarget||"none";function T(d){if("function"==typeof U.MouseEvent)return new U.MouseEvent(d.type,d);if(j.createEvent){const p=j.createEvent("MouseEvent");if(p.initMouseEvent)return p.initMouseEvent(d.type,d.bubbles,d.cancelable,d.view||U,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),p}return b(d.type)}function b(d,p,C){const w=p||{x:0,y:0};if("function"==typeof U.MouseEvent)return new U.MouseEvent(d,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:C||L,view:U,detail:"click"===d?1:0,screenX:w.x,screenY:w.y,clientX:w.x,clientY:w.y});if(j.createEvent){const a=j.createEvent("MouseEvent");if(a.initMouseEvent)return a.initMouseEvent(d,!0,!0,U,"click"===d?1:0,w.x,w.y,w.x,w.y,!1,!1,!1,!1,0,null),a}return{type:d}}return{addClass:function I(d,p){d.classList?d.classList.add(p):d.className.indexOf(p)<0&&(d.className+=" "+p)},cloneMouseEvent:T,cloneTouchEvent:function M(d){const p=w=>{const a=[];for(let o=0;o<w.length;++o){const i=w.item(o);i&&a.push(i)}return a};if("function"==typeof U.TouchEvent){const w=new U.TouchEvent(d.type,{touches:p(d.touches),targetTouches:p(d.targetTouches),changedTouches:p(d.changedTouches),ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,altKey:d.altKey,metaKey:d.metaKey,bubbles:d.bubbles,cancelable:d.cancelable,composed:d.composed,detail:d.detail,view:d.view});return d.defaultPrevented&&w.preventDefault(),w}const C=T(d);return C.touches=d.touches,C.changedTouches=d.changedTouches,C.targetTouches=d.targetTouches,C},escapeStringForHTML:function s(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function y(d){return j.getElementById(d)},getFakeMouseEvent:b,getHeadingTagNameForElement:function x(d){const p=o=>{const i=parseInt(o.slice(1),10);return"h"+Math.min(6,i+1)},C=o=>/H[1-6]/.test(o),a=o=>{const i=(o=>{let i=o;for(;i=i.previousSibling;){const t=i.tagName||"";if(C(t))return t}return""})(o);if(i)return p(i);const t=o.parentElement;if(!t)return"p";const e=t.tagName;return C(e)?p(e):a(t)};return a(d)},removeChildNodes:function m(d){for(;d.lastChild;)d.removeChild(d.lastChild)},removeClass:function E(d,p){d.classList?d.classList.remove(p):d.className=d.className.replace(new RegExp(p,"g"),"")},removeElement:function c(d){d&&d.parentNode&&d.parentNode.removeChild(d)},reverseChildNodes:function g(d){let p=d.childNodes.length;for(;p--;)d.appendChild(d.childNodes[p])},simulatedEventTarget:L,stripHTMLTagsFromString:function u(d){return"string"==typeof d?d.replace(/<\/?[^>]+(>|$)/g,""):d},visuallyHideElement:function l(d){X(d,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),Z(D,"Accessibility/A11yI18n.js",[D["Core/FormatUtilities.js"],D["Core/Utilities.js"]],function(F,G){const{format:j}=F,{getNestedProperty:U,pick:X}=G;var L;return function(I){const E=[];function s(x,c,m){const g=(p,C)=>{const w=p.slice(C||0),a=w.indexOf("{"),o=w.indexOf("}");if(a>-1&&o>a)return{statement:w.substring(a+1,o),begin:C+a+1,end:C+o}},u=[];let l,f,d=0;do{l=g(x,d),f=x.substring(d,l&&l.begin-1),f.length&&u.push({value:f,type:"constant"}),l&&u.push({value:l.statement,type:"statement"}),d=l?l.end+1:d+1}while(l);return u.forEach(p=>{"statement"===p.type&&(p.value=function M(x,c){const m=x.indexOf("#each("),g=x.indexOf("#plural("),u=x.indexOf("["),l=x.indexOf("]");let f,d;if(m>-1){const p=x.slice(m).indexOf(")")+m,C=x.substring(0,m),w=x.substring(p+1),o=x.substring(m+6,p).split(",");let t,i=Number(o[1]);if(d="",f=U(o[0],c),f){i=isNaN(i)?f.length:i,t=i<0?f.length+i:Math.min(i,f.length);for(let e=0;e<t;++e)d+=C+f[e]+w}return d.length?d:""}if(g>-1){const p=x.slice(g).indexOf(")")+g,w=x.substring(g+8,p).split(",");switch(Number(U(w[0],c))){case 0:d=X(w[4],w[1]);break;case 1:d=X(w[2],w[1]);break;case 2:d=X(w[3],w[1]);break;default:d=w[1]}return d?function b(x){return x.trim&&x.trim()||x.replace(/^\s+|\s+$/g,"")}(d):""}if(u>-1){const p=x.substring(0,u),C=Number(x.substring(u+1,l));let w;return f=U(p,c),!isNaN(C)&&f&&(C<0?(w=f[f.length+C],typeof w>"u"&&(w=f[0])):(w=f[C],typeof w>"u"&&(w=f[f.length-1]))),typeof w<"u"?w:""}return"{"+x+"}"}(p.value,c))}),j(u.reduce((p,C)=>p+C.value,""),c,m)}function y(x,c){const m=x.split(".");let g=this.options.lang,u=0;for(;u<m.length;++u)g=g&&g[m[u]];return"string"==typeof g?s(g,c,this):""}I.compose=function T(x){return G.pushUnique(E,x)&&(x.prototype.langFormat=y),x},I.i18nFormat=s}(L||(L={})),L}),Z(D,"Accessibility/Utils/ChartUtilities.js",[D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(F,G,j){const{doc:U}=F,{stripHTMLTagsFromString:X}=G,{defined:L,find:I,fireEvent:E}=j;function m(a){if(a.points&&a.points.length){const o=I(a.points,i=>!!i.graphic);return o&&o.graphic&&o.graphic.element}}function g(a){const o=m(a);return o&&o.parentNode||a.graph&&a.graph.element||a.group&&a.group.element}return{fireEventOnWrappedOrUnwrappedElement:function T(a,o){const i=o.type,t=a.hcEvents;U.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(o):a.fireEvent(i,o):t&&t[i]?E(a,i,o):a.element&&T(a.element,o)},getChartTitle:function M(a){return X(a.options.title.text||a.langFormat("accessibility.defaultChartTitle",{chart:a}))},getAxisDescription:function s(a){return a&&(a.userOptions&&a.userOptions.accessibility&&a.userOptions.accessibility.description||a.axisTitle&&a.axisTitle.textStr||a.options.id||a.categories&&"categories"||a.dateTime&&"Time"||"values")},getAxisRangeDescription:function y(a){const o=a.options||{};return o.accessibility&&typeof o.accessibility.rangeDescription<"u"?o.accessibility.rangeDescription:a.categories?function b(a){const o=a.chart;return a.dataMax&&a.dataMin?o.langFormat("accessibility.axis.rangeCategories",{chart:o,axis:a,numCategories:a.dataMax-a.dataMin+1}):""}(a):!a.dateTime||0!==a.min&&0!==a.dataMin?function c(a){const o=a.chart,i=o.options,t=i&&i.accessibility&&i.accessibility.screenReaderSection.axisRangeDateFormat||"",e={min:a.dataMin||a.min||0,max:a.dataMax||a.max||0},n=function(h){return a.dateTime?o.time.dateFormat(t,e[h]):e[h].toString()};return o.langFormat("accessibility.axis.rangeFromTo",{chart:o,axis:a,rangeFrom:n("min"),rangeTo:n("max")})}(a):function x(a){const o=a.chart,i={};let n="Seconds";i.Seconds=((a.dataMax||a.max||0)-(a.dataMin||a.min||0))/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach(function(r){i[r]>2&&(n=r)});const h=i[n].toFixed("Seconds"!==n&&"Minutes"!==n?1:0);return o.langFormat("accessibility.axis.timeRange"+n,{chart:o,axis:a,range:h.replace(".0","")})}(a)},getPointFromXY:function d(a,o,i){let e,t=a.length;for(;t--;)if(e=I(a[t].points||[],function(n){return n.x===o&&n.y===i}),e)return e},getSeriesFirstPointElement:m,getSeriesFromName:function f(a,o){return o?(a.series||[]).filter(function(i){return i.name===o}):a.series},getSeriesA11yElement:g,unhideChartElementFromAT:function u(a,o){o.setAttribute("aria-hidden",!1),o!==a.renderTo&&o.parentNode&&o.parentNode!==U.body&&(Array.prototype.forEach.call(o.parentNode.childNodes,function(i){i.hasAttribute("aria-hidden")||i.setAttribute("aria-hidden",!0)}),u(a,o.parentNode))},hideSeriesFromAT:function l(a){const o=g(a);o&&o.setAttribute("aria-hidden",!0)},scrollToPoint:function C(a){const o=a.series.xAxis,t=o&&o.scrollbar?o:a.series.yAxis,e=t&&t.scrollbar;if(e&&L(e.to)&&L(e.from)){const n=e.to-e.from,h=function p(a,o){if(!L(a.dataMin)||!L(a.dataMax))return 0;const i=a.toPixels(a.dataMin),t=a.toPixels(a.dataMax);return(a.toPixels(o["xAxis"===a.coll?"x":"y"]||0)-i)/(t-i)}(t,a);e.updatePosition(h-n/2,h+n/2),E(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:null})}}}}),Z(D,"Accessibility/Utils/DOMElementProvider.js",[D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G){const{doc:j}=F,{removeElement:U}=G;return class X{constructor(){this.elements=[]}createElement(){const I=j.createElement.apply(j,arguments);return this.elements.push(I),I}destroyCreatedElements(){this.elements.forEach(function(I){U(I)}),this.elements=[]}}}),Z(D,"Accessibility/Utils/EventProvider.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j}=G;return class U{constructor(){this.eventRemovers=[]}addEvent(){const L=j.apply(F,arguments);return this.eventRemovers.push(L),L}removeAddedEvents(){this.eventRemovers.forEach(L=>L()),this.eventRemovers=[]}}}),Z(D,"Accessibility/AccessibilityComponent.js",[D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{fireEventOnWrappedOrUnwrappedElement:L}=F,{getFakeMouseEvent:I}=U,{extend:E}=X;class T{constructor(){this.chart=void 0,this.domElementProvider=void 0,this.eventProvider=void 0,this.keyCodes=void 0,this.proxyProvider=void 0}initBase(s,y){this.chart=s,this.eventProvider=new j,this.domElementProvider=new G,this.proxyProvider=y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(s,y,b,x){return this.eventProvider.addEvent(s,y,b,x)}createElement(s,y){return this.domElementProvider.createElement(s,y)}fakeClickEvent(s){const y=I("click");L(s,y)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return E(T.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),T}),Z(D,"Accessibility/KeyboardNavigationHandler.js",[D["Core/Utilities.js"]],function(F){const{find:G}=F;return class j{constructor(X,L){this.chart=X,this.keyCodeMap=L.keyCodeMap||[],this.validate=L.validate,this.init=L.init,this.terminate=L.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(X){const L=X.which||X.keyCode;let I=this.response.noHandler;const E=G(this.keyCodeMap,function(T){return T[0].indexOf(L)>-1});return E?I=E[1].call(this,L,X):9===L&&(I=this.response[X.shiftKey?"prev":"next"]),I}}}),Z(D,"Accessibility/Components/ContainerComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G,j,U,X){const{unhideChartElementFromAT:L,getChartTitle:I}=j,{doc:E}=U,{stripHTMLTagsFromString:T}=X;return class M extends F{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const y=this.chart,b="highcharts-title-"+y.index,x=T(y.langFormat("accessibility.svgContainerTitle",{chartTitle:I(y)}));if(x.length){const c=this.svgTitleElement=this.svgTitleElement||E.createElementNS("http://www.w3.org/2000/svg","title");c.textContent=x,c.id=b,y.renderTo.insertBefore(c,y.renderTo.firstChild)}}setSVGContainerLabel(){const y=this.chart,b=y.langFormat("accessibility.svgContainerLabel",{chartTitle:I(y)});y.renderer.box&&b.length&&y.renderer.box.setAttribute("aria-label",b)}setGraphicContainerAttrs(){const y=this.chart,b=y.langFormat("accessibility.graphicContainerLabel",{chartTitle:I(y)});b.length&&y.container.setAttribute("aria-label",b)}setRenderToAttrs(){const y=this.chart,b="disabled"!==y.options.accessibility.landmarkVerbosity,x=y.langFormat("accessibility.chartContainerLabel",{title:I(y),chart:y});x&&(y.renderTo.setAttribute("role",b?"region":"group"),y.renderTo.setAttribute("aria-label",x))}makeCreditsAccessible(){const y=this.chart,b=y.credits;b&&(b.textStr&&b.element.setAttribute("aria-label",y.langFormat("accessibility.credits",{creditsStr:T(b.textStr)})),L(y,b.element))}getKeyboardNavigation(){const y=this.chart;return new G(y,{keyCodeMap:[],validate:function(){return!0},init:function(){const b=y.accessibility;b&&b.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),Z(D,"Accessibility/FocusBorder.js",[D["Core/Renderer/SVG/SVGLabel.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,pick:U}=G;var X;return function(L){const I=[],E=["x","y","transform","width","height","r","d","stroke-width"];function M(){const u=this.focusElement,l=this.options.accessibility.keyboardNavigation.focusBorder;u&&(u.removeFocusBorder(),l.enabled&&u.addFocusBorder(l.margin,{stroke:l.style.color,strokeWidth:l.style.lineWidth,r:l.style.borderRadius}))}function s(u,l){const f=this.options.accessibility.keyboardNavigation.focusBorder,d=l||u.element;d&&d.focus&&(d.hcEvents&&d.hcEvents.focusin||j(d,"focusin",function(){}),d.focus(),f.hideBrowserFocusOutline&&(d.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=u,this.renderFocusBorder()}function b(u,l){this.focusBorder&&this.removeFocusBorder();const f=this.getBBox(),d=U(u,3),p=this.parentGroup,C=this.scaleX||p&&p.scaleX,w=this.scaleY||p&&p.scaleY,o=(C?!w:w)?Math.abs(C||w||1):(Math.abs(C||1)+Math.abs(w||1))/2;f.x+=this.translateX?this.translateX:0,f.y+=this.translateY?this.translateY:0;let i=f.x-d,t=f.y-d,e=f.width+2*d,n=f.height+2*d;const r=this instanceof F;if("text"===this.element.nodeName||r){const S=!!this.rotation,v=r?{x:S?1:0,y:0}:function h(S){let v=0,P=0;return"middle"===S.attr("text-anchor")?v=P=.5:S.rotation?v=.25:P=.75,{x:v,y:P}}(this),P=+this.attr("x"),A=+this.attr("y");if(isNaN(P)||(i=P-f.width*v.x-d),isNaN(A)||(t=A-f.height*v.y-d),r&&S){const k=e;e=n,n=k,isNaN(P)||(i=P-f.height*v.x-d),isNaN(A)||(t=A-f.width*v.y-d)}}this.focusBorder=this.renderer.rect(i,t,e,n,parseInt((l&&l.r||0).toString(),10)/o).addClass("highcharts-focus-border").attr({zIndex:99}).add(p),this.renderer.styledMode||this.focusBorder.attr({stroke:l&&l.stroke,"stroke-width":(l&&l.strokeWidth||0)/o}),function x(u,...l){u.focusBorderUpdateHooks||(u.focusBorderUpdateHooks={},E.forEach(f=>{const d=f+"Setter",p=u[d]||u._defaultSetter;u.focusBorderUpdateHooks[d]=p,u[d]=function(){const C=p.apply(u,arguments);return u.addFocusBorder.apply(u,l),C}}))}(this,u,l),function y(u){if(u.focusBorderDestroyHook)return;const l=u.destroy;u.destroy=function(){return u.focusBorder&&u.focusBorder.destroy&&u.focusBorder.destroy(),l.apply(u,arguments)},u.focusBorderDestroyHook=l}(this)}function m(){(function g(u){u.focusBorderUpdateHooks&&(Object.keys(u.focusBorderUpdateHooks).forEach(l=>{const f=u.focusBorderUpdateHooks[l];f===u._defaultSetter?delete u[l]:u[l]=f}),delete u.focusBorderUpdateHooks)})(this),function c(u){u.focusBorderDestroyHook&&(u.destroy=u.focusBorderDestroyHook,delete u.focusBorderDestroyHook)}(this),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}L.compose=function T(u,l){if(G.pushUnique(I,u)){const f=u.prototype;f.renderFocusBorder=M,f.setFocusToElement=s}if(G.pushUnique(I,l)){const f=l.prototype;f.addFocusBorder=b,f.removeFocusBorder=m}}}(X||(X={})),X}),Z(D,"Accessibility/Utils/Announcer.js",[D["Core/Renderer/HTML/AST.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{doc:L}=j,{addClass:I,visuallyHideElement:E}=U,{attr:T}=X;return class M{constructor(y,b){this.chart=y,this.domElementProvider=new G,this.announceRegion=this.addAnnounceRegion(b)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(y){F.setElementHTML(this.announceRegion,y),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=F.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(y){const b=this.chart.announcerContainer||this.createAnnouncerContainer(),x=this.domElementProvider.createElement("div");return T(x,{"aria-hidden":!1,"aria-live":y}),this.chart.styledMode?I(x,"highcharts-visually-hidden"):E(x),b.appendChild(x),x}createAnnouncerContainer(){const y=this.chart,b=L.createElement("div");return T(b,{"aria-hidden":!1,class:"highcharts-announcer-container"}),b.style.position="relative",y.renderTo.insertBefore(b,y.renderTo.firstChild),y.announcerContainer=b,b}}}),Z(D,"Accessibility/Components/AnnotationsA11y.js",[D["Accessibility/Utils/HTMLUtilities.js"]],function(F){const{escapeStringForHTML:G,stripHTMLTagsFromString:j}=F;function U(s){return(s.annotations||[]).reduce((b,x)=>(x.options&&!1!==x.options.visible&&(b=b.concat(x.labels)),b),[])}function X(s){return s.options&&s.options.accessibility&&s.options.accessibility.description||s.graphic&&s.graphic.text&&s.graphic.text.textStr||""}function L(s){const y=s.options&&s.options.accessibility&&s.options.accessibility.description;if(y)return y;const b=s.chart,x=X(s),u=s.points.filter(C=>!!C.graphic).map(C=>{const w=C.accessibility&&C.accessibility.valueDescription||(C=>C.graphic&&C.graphic.element&&C.graphic.element.getAttribute("aria-label")||"")(C),a=C&&C.series.name||"";return(a?a+", ":"")+"data point "+w}).filter(C=>!!C),l=u.length,d="accessibility.screenReaderSection.annotations.description"+(l>1?"MultiplePoints":l?"SinglePoint":"NoPoints"),p={annotationText:x,annotation:s,numPoints:l,annotationPoint:u[0],additionalAnnotationPoints:u.slice(1)};return b.langFormat(d,p)}function I(s){return U(s).map(b=>{const x=G(j(L(b)));return x?`<li>${x}</li>`:""})}return{getAnnotationsInfoHTML:function E(s){const y=s.annotations;return y&&y.length?`<ul style="list-style-type: none">${I(s).join(" ")}</ul>`:""},getAnnotationLabelDescription:L,getAnnotationListItems:I,getPointAnnotationTexts:function T(s){const b=U(s.series.chart).filter(x=>x.points.indexOf(s)>-1);return b.length?b.map(x=>`${X(x)}`):[]}}}),Z(D,"Accessibility/Components/InfoRegionsComponent.js",[D["Accessibility/A11yI18n.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/Components/AnnotationsA11y.js"],D["Core/Renderer/HTML/AST.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I,E,T,M){const{getAnnotationsInfoHTML:s}=U,{getAxisDescription:y,getAxisRangeDescription:b,getChartTitle:x,unhideChartElementFromAT:c}=L,{format:m}=I,{doc:g}=E,{addClass:u,getElement:l,getHeadingTagNameForElement:f,stripHTMLTagsFromString:d,visuallyHideElement:p}=T,{attr:C,pick:w}=M;function h(S){return S.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}return class r extends G{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const v=this.chart,P=this;this.initRegionsDefinitions(),this.addEvent(v,"aftergetTableAST",function(A){P.onDataTableCreated(A)}),this.addEvent(v,"afterViewData",function(A){A.wasHidden&&(P.dataTableDiv=A.element,setTimeout(function(){P.focusDataTable()},300))}),this.announcer=new j(v,"assertive")}initRegionsDefinitions(){const v=this;this.screenReaderSections={before:{element:null,buildContent:function(P){const A=P.options.accessibility.screenReaderSection.beforeChartFormatter;return A?A(P):v.defaultBeforeChartFormatter(P)},insertIntoDOM:function(P,A){A.renderTo.insertBefore(P,A.renderTo.firstChild)},afterInserted:function(){typeof v.sonifyButtonId<"u"&&v.initSonifyButton(v.sonifyButtonId),typeof v.dataTableButtonId<"u"&&v.initDataTableButton(v.dataTableButtonId)}},after:{element:null,buildContent:function(P){const A=P.options.accessibility.screenReaderSection.afterChartFormatter;return A?A(P):v.defaultAfterChartFormatter()},insertIntoDOM:function(P,A){A.renderTo.insertBefore(P,A.container.nextSibling)},afterInserted:function(){v.chart.accessibility&&v.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const v=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(P){v.updateScreenReaderSection(P)})}getLinkedDescriptionElement(){const P=this.chart.options.accessibility.linkedDescription;if(!P)return;if("string"!=typeof P)return P;const A=m(P,this.chart),k=g.querySelectorAll(A);return 1===k.length?k[0]:void 0}setLinkedDescriptionAttrs(){const v=this.linkedDescriptionElement;v&&(v.setAttribute("aria-hidden","true"),u(v,"highcharts-linked-description"))}updateScreenReaderSection(v){const P=this.chart,A=this.screenReaderSections[v],k=A.buildContent(P),O=A.element=A.element||this.createElement("div"),N=O.firstChild||this.createElement("div");k?(this.setScreenReaderSectionAttribs(O,v),X.setElementHTML(N,k),O.appendChild(N),A.insertIntoDOM(O,P),P.styledMode?u(N,"highcharts-visually-hidden"):p(N),c(P,N),A.afterInserted&&A.afterInserted()):(O.parentNode&&O.parentNode.removeChild(O),A.element=null)}setScreenReaderSectionAttribs(v,P){const A=this.chart,k=A.langFormat("accessibility.screenReaderSection."+P+"RegionLabel",{chart:A,chartTitle:x(A)});C(v,{id:`highcharts-screen-reader-region-${P}-${A.index}`,"aria-label":k||void 0}),v.style.position="relative",k&&v.setAttribute("role","all"===A.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){const v=this.chart,P=v.options.accessibility.screenReaderSection.beforeChartFormat;if(!P)return"";const A=this.getAxesDescription(),k=v.sonify&&v.options.sonification&&v.options.sonification.enabled,O="highcharts-a11y-sonify-data-btn-"+v.index,N="hc-linkto-highcharts-data-table-"+v.index,B=s(v),Y=v.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:v}),W={headingTagName:f(v.renderTo),chartTitle:x(v),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:A.xAxis,yAxisDescription:A.yAxis,playAsSoundButton:k?this.getSonifyButtonText(O):"",viewTableButton:v.getCSV?this.getDataTableButtonText(N):"",annotationsTitle:B?Y:"",annotationsList:B},R=F.i18nFormat(P,W,v);return this.dataTableButtonId=N,this.sonifyButtonId=O,h(R)}defaultAfterChartFormatter(){const v=this.chart,P=v.options.accessibility.screenReaderSection.afterChartFormat;if(!P)return"";const A={endOfChartMarker:this.getEndOfChartMarkerText()};return h(F.i18nFormat(P,A,v))}getLinkedDescription(){const v=this.linkedDescriptionElement;return d(v&&v.innerHTML||"")}getLongdescText(){const v=this.chart.options,P=v.caption,A=P&&P.text,k=this.getLinkedDescription();return v.accessibility.description||k||A||""}getTypeDescriptionText(){const v=this.chart;return v.types?v.options.accessibility.typeDescription||function n(S,v){const P=v[0],A=S.series&&S.series[0]||{},O={numSeries:S.series.length,numPoints:A.points&&A.points.length,chart:S,mapTitle:S.mapView&&S.mapView.geoMap&&S.mapView.geoMap.title};return P?"map"===P?function o(S,v){return S.langFormat(v.mapTitle?"accessibility.chartTypes.mapTypeDescription":"accessibility.chartTypes.unknownMap",v)}(S,O):S.types.length>1?function i(S,v){return S.langFormat("accessibility.chartTypes.combinationChart",v)}(S,O):function e(S,v,P){const A=v[0],k=S.langFormat("accessibility.seriesTypeDescriptions."+A,P),O=S.series&&S.series.length<2?"Single":"Multiple";return(S.langFormat("accessibility.chartTypes."+A+O,P)||S.langFormat("accessibility.chartTypes.default"+O,P))+(k?" "+k:"")}(S,v,O):function t(S,v){return S.langFormat("accessibility.chartTypes.emptyChart",v)}(S,O)}(v,v.types):""}getDataTableButtonText(v){const P=this.chart;return'<button id="'+v+'">'+P.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:P,chartTitle:x(P)})+"</button>"}getSonifyButtonText(v){const P=this.chart;return P.options.sonification&&!1===P.options.sonification.enabled?"":'<button id="'+v+'">'+P.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:P,chartTitle:x(P)})+"</button>"}getSubtitleText(){const v=this.chart.options.subtitle;return d(v&&v.text||"")}getEndOfChartMarkerText(){const v=this.chart,P=v.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:v});return'<div id="highcharts-end-of-chart-marker-'+v.index+'">'+P+"</div>"}onDataTableCreated(v){const P=this.chart;if(P.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const A=v.tree.attributes||{};A.tabindex=-1,A.summary=function a(S){return S.langFormat("accessibility.table.tableSummary",{chart:S})}(P),v.tree.attributes=A}}focusDataTable(){const v=this.dataTableDiv,P=v&&v.getElementsByTagName("table")[0];P&&P.focus&&P.focus()}initSonifyButton(v){const P=this.sonifyButton=l(v),A=this.chart,k=O=>{P&&(P.setAttribute("aria-hidden","true"),P.setAttribute("aria-label","")),O.preventDefault(),O.stopPropagation();const N=A.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:A});this.announcer.announce(N),setTimeout(()=>{P&&(P.removeAttribute("aria-hidden"),P.removeAttribute("aria-label")),A.sonify&&A.sonify()},1e3)};P&&A&&(P.setAttribute("tabindex",-1),P.onclick=function(O){(A.options.accessibility&&A.options.accessibility.screenReaderSection.onPlayAsSoundClick||k).call(this,O,A)})}initDataTableButton(v){const P=this.viewDataTableButton=l(v),A=this.chart,k=v.replace("hc-linkto-","");P&&(C(P,{tabindex:-1,"aria-expanded":!!l(k)}),P.onclick=A.options.accessibility.screenReaderSection.onViewDataTableClick||function(){A.viewData()})}getAxesDescription(){const v=this.chart,P=function(Y,W){const R=v[Y];return R.length>1||R[0]&&w(R[0].options.accessibility&&R[0].options.accessibility.enabled,W)},A=!!v.types&&v.types.indexOf("map")<0&&v.types.indexOf("treemap")<0&&v.types.indexOf("tilemap")<0,k=!!v.hasCartesianSeries,O=P("xAxis",!v.angular&&k&&A),N=P("yAxis",k&&A),B={};return O&&(B.xAxis=this.getAxisDescriptionText("xAxis")),N&&(B.yAxis=this.getAxisDescriptionText("yAxis")),B}getAxisDescriptionText(v){const P=this.chart,A=P[v];return P.langFormat("accessibility.axis."+v+"Description"+(A.length>1?"Plural":"Singular"),{chart:P,names:A.map(function(k){return y(k)}),ranges:A.map(function(k){return b(k)}),numAxes:A.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),Z(D,"Accessibility/Components/MenuComponent.js",[D["Core/Chart/Chart.js"],D["Core/Utilities.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G,j,U,X,L){const{attr:I}=G,{getChartTitle:E,unhideChartElementFromAT:T}=X,{getFakeMouseEvent:M}=L;function s(x){return x.exportSVGElements&&x.exportSVGElements[0]}class b extends j{init(){const c=this.chart,m=this;this.addEvent(c,"exportMenuShown",function(){m.onMenuShown()}),this.addEvent(c,"exportMenuHidden",function(){m.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const c=this.chart.exportContextMenu;c&&c.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const c=this.chart,m=c.exportContextMenu;m&&(this.addAccessibleContextMenuAttribs(),T(c,m)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(c){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",c)}onChartRender(){const c=this.chart,m=c.focusElement,g=c.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&m&&m===c.exportingGroup&&(m.focusBorder?c.setFocusToElement(m,this.exportButtonProxy.buttonElement):g&&g.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const c=this.chart,m=this.proxyProvider,g=s(c);(function y(x){const c=x.options.exporting,m=s(x);return!!(c&&!1!==c.enabled&&c.accessibility&&c.accessibility.enabled&&m&&m.element)})(c)&&g&&(this.exportButtonProxy=m.addProxyElement("chartMenu",{click:g},{"aria-label":c.langFormat("accessibility.exporting.menuButtonLabel",{chart:c,chartTitle:E(c)}),"aria-expanded":!1,title:c.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const c=this.chart,m=c.exportDivElements;if(m&&m.length){m.forEach(u=>{u&&("LI"!==u.tagName||u.children&&u.children.length?u.setAttribute("aria-hidden","true"):u.setAttribute("tabindex",-1))});const g=m[0]&&m[0].parentNode;g&&I(g,{"aria-hidden":void 0,"aria-label":c.langFormat("accessibility.exporting.chartMenuLabel",{chart:c}),role:"list"})}}getKeyboardNavigation(){const c=this.keyCodes,m=this.chart,g=this;return new U(m,{keyCodeMap:[[[c.left,c.up],function(){return g.onKbdPrevious(this)}],[[c.right,c.down],function(){return g.onKbdNext(this)}],[[c.enter,c.space],function(){return g.onKbdClick(this)}]],validate:function(){return!!m.exporting&&!1!==m.options.exporting.enabled&&!1!==m.options.exporting.accessibility.enabled},init:function(){const u=g.exportButtonProxy,l=g.chart.exportingGroup;u&&l&&m.setFocusToElement(l,u.buttonElement)},terminate:function(){m.hideExportMenu()}})}onKbdPrevious(c){const m=this.chart,g=m.options.accessibility,u=c.response;let l=m.highlightedExportItemIx||0;for(;l--;)if(m.highlightExportItem(l))return u.success;return g.keyboardNavigation.wrapAround?(m.highlightLastExportItem(),u.success):u.prev}onKbdNext(c){const m=this.chart,g=m.options.accessibility,u=c.response;for(let l=(m.highlightedExportItemIx||0)+1;l<m.exportDivElements.length;++l)if(m.highlightExportItem(l))return u.success;return g.keyboardNavigation.wrapAround?(m.highlightExportItem(0),u.success):u.next}onKbdClick(c){const m=this.chart,g=m.exportDivElements[m.highlightedExportItemIx],u=s(m).element;return m.openMenu?this.fakeClickEvent(g):(this.fakeClickEvent(u),m.highlightExportItem(0)),c.response.success}}return function(x){const c=[];function g(){const d=s(this);if(d){const p=d.element;p.onclick&&p.onclick(M("click"))}}function u(){const d=this,p=d.exportDivElements;p&&d.exportContextMenu&&d.openMenu&&(p.forEach(C=>{C&&"highcharts-menu-item"===C.className&&C.onmouseout&&C.onmouseout(M("mouseout"))}),d.highlightedExportItemIx=0,d.exportContextMenu.hideMenu(),d.container.focus())}function l(d){const p=this.exportDivElements&&this.exportDivElements[d],C=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(p&&"LI"===p.tagName&&(!p.children||!p.children.length)){const w=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return p.focus&&w&&p.focus(),C&&C.onmouseout&&C.onmouseout(M("mouseout")),p.onmouseover&&p.onmouseover(M("mouseover")),this.highlightedExportItemIx=d,!0}return!1}function f(){const d=this;if(d.exportDivElements){let p=d.exportDivElements.length;for(;p--;)if(d.highlightExportItem(p))return!0}return!1}x.compose=function m(d){if(G.pushUnique(c,d)){const p=F.prototype;p.hideExportMenu=u,p.highlightExportItem=l,p.highlightLastExportItem=f,p.showExportMenu=g}}}(b||(b={})),b}),Z(D,"Accessibility/KeyboardNavigation.js",[D["Core/Globals.js"],D["Accessibility/Components/MenuComponent.js"],D["Core/Utilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G,j,U,X){const{doc:L,win:I}=F,{addEvent:E,fireEvent:T}=j,{getElement:M,simulatedEventTarget:s}=X;class y{constructor(x,c){this.chart=void 0,this.components=void 0,this.currentModuleIx=NaN,this.eventProvider=void 0,this.exitAnchor=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(x,c)}init(x,c){const m=this.eventProvider=new U;this.chart=x,this.components=c,this.modules=[],this.currentModuleIx=0,this.update(),m.addEvent(this.tabindexContainer,"keydown",g=>this.onKeydown(g)),m.addEvent(this.tabindexContainer,"focus",g=>this.onFocus(g)),["mouseup","touchend"].forEach(g=>m.addEvent(L,g,u=>this.onMouseUp(u))),["mousedown","touchstart"].forEach(g=>m.addEvent(x.renderTo,g,()=>{this.isClickingChart=!0}))}update(x){const c=this.chart.options.accessibility,m=c&&c.keyboardNavigation,g=this.components;this.updateContainerTabindex(),m&&m.enabled&&x&&x.length?(this.modules=x.reduce(function(u,l){const f=g[l].getKeyboardNavigation();return u.concat(f)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const c=M(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),c?(this.makeElementAnExitAnchor(c),this.exitAnchor=c):this.createExitAnchor()}move(x){const c=this.modules&&this.modules[this.currentModuleIx];c&&c.terminate&&c.terminate(x),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=x;const m=this.modules&&this.modules[this.currentModuleIx];if(m){if(m.validate&&!m.validate())return this.move(x);if(m.init)return m.init(x),!0}return this.currentModuleIx=0,this.exiting=!0,x>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(x){const c=this.chart,m=x.relatedTarget&&c.container.contains(x.relatedTarget),g=c.options.accessibility,u=g&&g.keyboardNavigation;if(u&&u.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!m){const f=this.getFirstValidModuleIx();null!==f&&(this.currentModuleIx=f,this.modules[f].init(1))}this.exiting=!1}onMouseUp(x){if(delete this.isClickingChart,!this.keyboardReset&&x.relatedTarget!==s){const c=this.chart;if(!x.target||!c.container.contains(x.target)){const m=this.modules&&this.modules[this.currentModuleIx||0];m&&m.terminate&&m.terminate(),this.currentModuleIx=0}c.focusElement&&(c.focusElement.removeFocusBorder(),delete c.focusElement),this.keyboardReset=!0}}onKeydown(x){const c=x||I.event,m=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let g;if(this.keyboardReset=!1,this.exiting=!1,m){const u=m.run(c);u===m.response.success?g=!0:u===m.response.prev?g=this.move(-1):u===m.response.next&&(g=this.move(1)),g&&(c.preventDefault(),c.stopPropagation())}}updateContainerTabindex(){const x=this.chart.options.accessibility,c=x&&x.keyboardNavigation,m=!(c&&!1===c.enabled),g=this.chart,u=g.container;let l;g.renderTo.hasAttribute("tabindex")?(u.removeAttribute("tabindex"),l=g.renderTo):l=u,this.tabindexContainer=l;const f=l.getAttribute("tabindex");m&&!f?l.setAttribute("tabindex","0"):m||g.container.removeAttribute("tabindex")}createExitAnchor(){const x=this.chart,c=this.exitAnchor=L.createElement("div");x.renderTo.appendChild(c),this.makeElementAnExitAnchor(c)}makeElementAnExitAnchor(x){const c=this.tabindexContainer.getAttribute("tabindex")||0;x.setAttribute("class","highcharts-exit-anchor"),x.setAttribute("tabindex",c),x.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(x)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(x){const c=this.chart,m=this;this.eventProvider.addEvent(x,"focus",function(g){const u=g||I.event,f=!(u.relatedTarget&&c.container.contains(u.relatedTarget)||m.exiting);if(c.focusElement&&delete c.focusElement,f){if(m.tabbingInBackwards=!0,m.tabindexContainer.focus(),delete m.tabbingInBackwards,u.preventDefault(),m.modules&&m.modules.length){m.currentModuleIx=m.modules.length-1;const d=m.modules[m.currentModuleIx];d&&d.validate&&!d.validate()?m.move(-1):d&&d.init(-1)}}else m.exiting=!1})}getFirstValidModuleIx(){const x=this.modules.length;for(let c=0;c<x;++c){const m=this.modules[c];if(!m.validate||m.validate())return c}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(b){const x=[];function m(){const u=this;T(this,"dismissPopupContent",{},function(){u.tooltip&&u.tooltip.hide(0),u.hideExportMenu()})}function g(u){27===(u.which||u.keyCode)&&F.charts&&F.charts.forEach(d=>{d&&d.dismissPopupContent&&d.dismissPopupContent()})}b.compose=function c(u){return G.compose(u),j.pushUnique(x,u)&&(u.prototype.dismissPopupContent=m),j.pushUnique(x,L)&&E(L,"keydown",g),u}}(y||(y={})),y}),Z(D,"Accessibility/Components/LegendComponent.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Globals.js"],D["Core/Legend/Legend.js"],D["Core/Utilities.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G,j,U,X,L,I,E){const{animObject:T}=F,{doc:M}=G,{addEvent:s,fireEvent:y,isNumber:b,pick:x,syncTimeout:c}=U,{getChartTitle:m}=I,{stripHTMLTagsFromString:g,addClass:u,removeClass:l}=E;function d(w){const a=w.legend&&w.legend.allItems,o=w.options.legend.accessibility||{},i=w.colorAxis&&w.colorAxis.some(t=>!t.dataClasses||!t.dataClasses.length);return!(!a||!a.length||i||!1===o.enabled)}function p(w,a){const o=a.legendItem||{};a.setState(w?"hover":"",!0);for(const i of["group","label","symbol"]){const t=o[i],e=t&&t.element||t;e&&y(e,w?"mouseover":"mouseout")}}class C extends X{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const a=this;this.recreateProxies(),this.addEvent(j,"afterScroll",function(){this.chart===a.chart&&(a.proxyProvider.updateGroupProxyElementPositions("legend"),a.updateLegendItemProxyVisibility(),a.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(a.highlightedLegendItemIx))}),this.addEvent(j,"afterPositionItem",function(o){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(o.item)}),this.addEvent(j,"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&a.recreateProxies()&&c(()=>a.proxyProvider.updateGroupProxyElementPositions("legend"),T(x(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const a=this.chart,o=a.legend,t=o.currentPage||1,e=o.clipHeight||0;let n;(o.allItems||[]).forEach(h=>{if(h.a11yProxyElement){const S=h.a11yProxyElement.element;let v=!1;if(n=h.legendItem||{},o.pages&&o.pages.length){const P=n.pageIx||0;v=(n.y||0)+(n.label?Math.round(n.label.getBBox().height):0)-o.pages[P]>e||P!==t-1}v?a.styledMode?u(S,"highcharts-a11y-invisible"):S.style.visibility="hidden":(l(S,"highcharts-a11y-invisible"),S.style.visibility="")}})}onChartRender(){d(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(a){const o=this.chart,i=o.legend,e=(i.currentPage||1)+a;if(e>0&&e<=(i.pages||[]).length){let r,h=0;for(const S of i.allItems)((S.legendItem||{}).pageIx||0)+1===e&&(r=o.highlightLegendItem(h),r&&(this.highlightedLegendItemIx=h)),++h}}updateProxyPositionForItem(a){a.a11yProxyElement&&a.a11yProxyElement.refreshPosition()}recreateProxies(){const a=M.activeElement,o=this.proxyGroup,i=a&&o&&o.contains(a);return this.removeProxies(),!!d(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),i&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){const a=this.chart,o=g((a.legend&&a.legend.options.title&&a.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),i=a.langFormat("accessibility.legend.legendLabel"+(o?"":"NoTitle"),{chart:a,legendTitle:o,chartTitle:m(a)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":i})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})}proxyLegendItems(){const a=this;let i;((this.chart.legend||{}).allItems||[]).forEach(t=>{i=t.legendItem||{},i.label&&i.label.element&&a.proxyLegendItem(t)})}proxyLegendItem(a){const o=a.legendItem||{};if(!o.label||!o.group)return;const i=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:g(a.name),item:a});a.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:o.label,visual:(o.group.div?o.label:o.group).element},{tabindex:-1,"aria-pressed":a.visible,"aria-label":i})}getKeyboardNavigation(){const a=this.keyCodes,o=this,i=this.chart;return new L(i,{keyCodeMap:[[[a.left,a.right,a.up,a.down],function(t){return o.onKbdArrowKey(this,t)}],[[a.enter,a.space],function(){return o.onKbdClick(this)}],[[a.pageDown,a.pageUp],function(t){return o.highlightAdjacentLegendPage(t===a.pageDown?1:-1),this.response.success}]],validate:function(){return o.shouldHaveLegendNavigation()},init:function(){i.highlightLegendItem(0),o.highlightedLegendItemIx=0},terminate:function(){o.highlightedLegendItemIx=-1,i.legend.allItems.forEach(t=>p(!1,t))}})}onKbdArrowKey(a,o){const i=this.keyCodes,t=a.response,e=this.chart,n=e.options.accessibility,h=e.legend.allItems.length,r=o===i.left||o===i.up?-1:1;return e.highlightLegendItem(this.highlightedLegendItemIx+r)?(this.highlightedLegendItemIx+=r,t.success):(h>1&&n.keyboardNavigation.wrapAround&&a.init(r),t.success)}onKbdClick(a){const o=this.chart.legend.allItems[this.highlightedLegendItemIx];return o&&o.a11yProxyElement&&o.a11yProxyElement.click(),a.response.success}shouldHaveLegendNavigation(){if(!d(this.chart))return!1;const a=this.chart,i=(a.options.legend||{}).accessibility||{};return!!(a.legend.display&&i.keyboardNavigation&&i.keyboardNavigation.enabled)}}return function(w){const a=[];function o(e){const n=this.legend.allItems,h=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,r=n[e],S=r.legendItem||{};if(r){b(h)&&n[h]&&p(!1,n[h]),function f(w,a){const o=(w.allItems[a].legendItem||{}).pageIx,i=w.currentPage;typeof o<"u"&&o+1!==i&&w.scroll(1+o-i)}(this.legend,e);const v=S.label,P=r.a11yProxyElement&&r.a11yProxyElement.buttonElement;return v&&v.element&&P&&this.setFocusToElement(v,P),p(!0,r),!0}return!1}function t(e){const r=e.item;this.chart.options.accessibility.enabled&&r&&r.a11yProxyElement&&r.a11yProxyElement.buttonElement.setAttribute("aria-pressed",e.visible?"true":"false")}w.compose=function i(e,n){U.pushUnique(a,e)&&(e.prototype.highlightLegendItem=o),U.pushUnique(a,n)&&s(n,"afterColorizeItem",t)}}(C||(C={})),C}),Z(D,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[D["Accessibility/Components/AnnotationsA11y.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/FormatUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{getPointAnnotationTexts:L}=F,{getAxisDescription:I,getSeriesFirstPointElement:E,getSeriesA11yElement:T,unhideChartElementFromAT:M}=G,{format:s,numberFormat:y}=j,{reverseChildNodes:b,stripHTMLTagsFromString:x}=U,{find:c,isNumber:m,pick:g,defined:u}=X;function C(R){const H=R.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==H&&R.points&&R.points.length>=H)}function i(R,z){const H=R.series,_=H.chart,q=_.options.accessibility.point||{},V=H.options.accessibility&&H.options.accessibility.point||{},$=H.tooltipOptions||{},J=_.options.lang;return m(z)?y(z,V.valueDecimals||q.valueDecimals||$.valueDecimals||-1,J.decimalPoint,J.accessibility.thousandsSep||J.thousandsSep):z}function e(R,z){return R.chart.langFormat("accessibility.series."+z+"Description",{name:I(R[z]),series:R})}function S(R){const z=R.series,H=z.chart.options.accessibility.point||{},_=z.chart.options.accessibility&&z.chart.options.accessibility.point||{},q=z.tooltipOptions||{},V=_.valuePrefix||H.valuePrefix||q.valuePrefix||"",$=_.valueSuffix||H.valueSuffix||q.valueSuffix||"",tt=i(R,R[typeof R.value<"u"?"value":"y"]);return R.isNull?z.chart.langFormat("accessibility.series.nullPointValue",{point:R}):z.pointArrayMap?function r(R,z,H){const _=z||"",q=H||"";return R.series.pointArrayMap.reduce(function(J,tt){const st=function(J){const tt=i(R,g(R[J],R.options[J]));return void 0!==tt?J+": "+_+tt+q:tt}(tt);return st?J+(J.length?", ":"")+st:J},"")}(R,V,$):V+tt+$}function A(R){const z=R.series,H=z.chart.series.length>1||z.options.name,_=function P(R){const z=R.series,H=z.chart,_=z.options.accessibility,V=_&&_.point&&_.point.valueDescriptionFormat||H.options.accessibility.point.valueDescriptionFormat,$=g(z.xAxis&&z.xAxis.options.accessibility&&z.xAxis.options.accessibility.enabled,!H.angular&&"flowmap"!==z.type),J=$?function h(R){const z=function n(R){const z=R.series,H=z.chart,_=z.options.accessibility&&z.options.accessibility.point||{},q=H.options.accessibility.point||{},V=z.xAxis&&z.xAxis.dateTime;if(V){const $=V.getXDateFormat(R.x||0,H.options.tooltip.dateTimeLabelFormats),J=_.dateFormatter&&_.dateFormatter(R)||q.dateFormatter&&q.dateFormatter(R)||_.dateFormat||q.dateFormat||$;return H.time.dateFormat(J,R.x||0,void 0)}}(R),_=(R.series.xAxis||{}).categories&&u(R.category)&&(""+R.category).replace("<br/>"," "),q=u(R.id)&&(""+R.id).indexOf("highcharts-")<0;return R.name||z||_||(q?R.id:"x, "+R.x)}(R):"",tt={point:R,index:u(R.index)?R.index+1:"",xDescription:J,value:S(R),separator:$?", ":""};return s(V,tt,H)}(R),q=R.options&&R.options.accessibility&&R.options.accessibility.description,V=q?" "+q:"",$=H?" "+z.name+".":"",J=function v(R){const z=R.series.chart,_=L(R);return _.length?z.langFormat("accessibility.series.pointAnnotationsDescription",{point:R,annotations:_}):""}(R),tt=J?" "+J:"";return R.accessibility=R.accessibility||{},R.accessibility.valueDescription=_,_+V+$+tt}function O(R){const z=function w(R){const z=R.options.accessibility||{};return!C(R)&&!z.exposeAsGroupOnly}(R),H=function a(R){const H=R.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!R.points||!(R.points.length<H.pointNavigationEnabledThreshold||!1===H.pointNavigationEnabledThreshold))}(R),_=R.chart.options.accessibility.point.describeNull;(z||H)&&R.points.forEach(q=>{const V=q.graphic&&q.graphic.element||function f(R){const z=R.series,H=z&&z.chart,_=z&&z.is("sunburst");return R.isNull&&!_&&H&&H.options.accessibility.point.describeNull}(q)&&function p(R){const z=R.series,H=function l(R){const z=R.index;return R.series&&R.series.data&&u(z)&&c(R.series.data,function(H){return!!(H&&typeof H.index<"u"&&H.index>z&&H.graphic&&H.graphic.element)})||null}(R),_=H&&H.graphic,q=_?_.parentGroup:z.graph||z.group,$=function d(R,z){const _=R.series.chart.renderer.rect(z.x,z.y,1,1);return _.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),_}(R,H?{x:g(R.plotX,H.plotX,0),y:g(R.plotY,H.plotY,0)}:{x:g(R.plotX,0),y:g(R.plotY,0)});if(q&&q.element)return R.graphic=$,R.hasMockGraphic=!0,$.add(q),q.element.insertBefore($.element,_?_.element:null),$.element}(q),$=q.options&&q.options.accessibility&&!1===q.options.accessibility.enabled;if(V){if(q.isNull&&!_)return void V.setAttribute("aria-hidden",!0);V.setAttribute("tabindex","-1"),R.chart.styledMode||(V.style.outline="none"),z&&!$?function k(R,z){const H=R.series,_=H.chart.options.accessibility.point||{},q=H.options.accessibility&&H.options.accessibility.point||{},V=x(q.descriptionFormatter&&q.descriptionFormatter(R)||_.descriptionFormatter&&_.descriptionFormatter(R)||A(R));z.setAttribute("role","img"),z.setAttribute("aria-label",V)}(q,V):V.setAttribute("aria-hidden",!0)}})}function N(R){const z=R.chart,H=z.types||[],_=function t(R){const H=(R.options.accessibility||{}).description;return H&&R.chart.langFormat("accessibility.series.description",{description:H,series:R})||""}(R),q=function(nt){return z[nt]&&z[nt].length>1&&R[nt]},V=R.index+1,$=e(R,"xAxis"),J=e(R,"yAxis"),tt={seriesNumber:V,series:R,chart:z},st=H.length>1?"Combination":"",it=z.langFormat("accessibility.series.summary."+R.type+st,tt)||z.langFormat("accessibility.series.summary.default"+st,tt),ot=(q("yAxis")?" "+J+".":"")+(q("xAxis")?" "+$+".":""),rt=g(R.options.accessibility&&R.options.accessibility.descriptionFormat,z.options.accessibility.series.descriptionFormat,"");return s(rt,{seriesDescription:it,authorDescription:_?" "+_:"",axisDescription:ot,series:R,chart:z,seriesNumber:V},void 0)}return{defaultPointDescriptionFormatter:A,defaultSeriesDescriptionFormatter:N,describeSeries:function Y(R){const z=R.chart,H=E(R),_=T(R),q=z.is3d&&z.is3d();_&&(_.lastChild===H&&!q&&b(_),O(R),M(z,_),function o(R){const z=R.chart,H=z.options.chart,q=z.series.length>1;return!(H.options3d&&H.options3d.enabled&&q)&&(q||z.options.accessibility.series.describeSingleSeries||(R.options.accessibility||{}).exposeAsGroupOnly||C(R))}(R)?function B(R,z){const _=R.chart.options.accessibility;z.setAttribute("role",(R.options.accessibility||{}).exposeAsGroupOnly?"img":"all"===_.landmarkVerbosity?"region":"group"),z.setAttribute("tabindex","-1"),R.chart.styledMode||(z.style.outline="none"),z.setAttribute("aria-label",x(_.series.descriptionFormatter&&_.series.descriptionFormatter(R)||N(R)))}(R,_):_.removeAttribute("aria-label"))}}}),Z(D,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(F,G,j,U,X,L){const{addEvent:I,defined:E}=G,{getChartTitle:T}=U,{defaultPointDescriptionFormatter:M,defaultSeriesDescriptionFormatter:s}=L;function y(m){return!!m.options.accessibility.announceNewData.enabled}class c{constructor(g){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=g}init(){const g=this.chart,l=g.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new X,this.announcer=new j(g,l),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const g=this,u=this.chart,l=this.eventProvider;l.addEvent(u,"afterApplyDrilldown",function(){g.lastAnnouncementTime=0}),l.addEvent(u,"afterAddSeries",function(f){g.onSeriesAdded(f.series)}),l.addEvent(u,"redraw",function(){g.announceDirtyData()})}onSeriesAdded(g){y(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[g.name+g.index]=g,this.dirty.newSeries=E(this.dirty.newSeries)?void 0:g)}announceDirtyData(){const u=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let l=this.dirty.newPoint;l&&(l=function b(m){const g=m.series.data.filter(u=>m.x===u.x&&m.y===u.y);return 1===g.length?g[0]:m}(l)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(f=>u.dirty.allSeries[f]),this.dirty.newSeries,l),this.dirty={allSeries:{}}}}queueAnnouncement(g,u,l){const d=this.chart.options.accessibility.announceNewData;if(d.enabled){const p=+new Date,w=Math.max(0,d.minAnnounceInterval-(p-this.lastAnnouncementTime)),a=function x(m,g){const u=(m||[]).concat(g||[]).reduce((l,f)=>(l[f.name+f.index]=f,l),{});return Object.keys(u).map(l=>u[l])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,g),o=this.buildAnnouncementMessage(a,u,l);o&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:p,message:o,series:a},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},w))}}buildAnnouncementMessage(g,u,l){const f=this.chart,d=f.options.accessibility.announceNewData;if(d.announcementFormatter){const a=d.announcementFormatter(g,u,l);if(!1!==a)return a.length?a:null}const p=F.charts&&F.charts.length>1?"Multiple":"Single",C=u?"newSeriesAnnounce"+p:l?"newPointAnnounce"+p:"newDataAnnounce",w=T(f);return f.langFormat("accessibility.announceNewData."+C,{chartTitle:w,seriesDesc:u?s(u):null,pointDesc:l?M(l):null,point:l,series:u})}}return function(m){function u(f){const d=this.chart,p=this.newDataAnnouncer;p&&p.chart===d&&y(d)&&(p.dirty.newPoint=E(p.dirty.newPoint)?void 0:f.point)}function l(){const f=this.chart,d=this.newDataAnnouncer;d&&d.chart===f&&y(f)&&(d.dirty.hasDirty=!0,d.dirty.allSeries[this.name+this.index]=this)}m.composedMembers=[],m.compose=function g(f){G.pushUnique(m.composedMembers,f)&&(I(f,"addPoint",u),I(f,"updatedData",l))}}(c||(c={})),c}),Z(D,"Accessibility/ProxyElement.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(F,G,j,U,X){const{doc:L}=F,{attr:I,css:E,merge:T}=G,{fireEventOnWrappedOrUnwrappedElement:M}=U,{cloneMouseEvent:s,cloneTouchEvent:y,getFakeMouseEvent:b,removeElement:x}=X;return class c{constructor(g,u,l,f){this.chart=g,this.target=u,this.groupType=l;const d="ul"===l;this.eventProvider=new j;const p=d?L.createElement("li"):null,C=this.buttonElement=L.createElement("button");g.styledMode||this.hideButtonVisually(C),p?(d&&!g.styledMode&&(p.style.listStyle="none"),p.appendChild(C),this.element=p):this.element=C,this.updateTarget(u,f)}click(){const g=this.getTargetPosition();g.x+=g.width/2,g.y+=g.height/2;const u=b("click",g);M(this.target.click,u)}updateTarget(g,u){this.target=g,this.updateCSSClassName();const l=u||{};Object.keys(l).forEach(f=>{null===l[f]&&delete l[f]}),I(this.buttonElement,T({"aria-label":this.getTargetAttr(g.click,"aria-label")},l)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,g.click),this.refreshPosition()}refreshPosition(){const g=this.getTargetPosition();E(this.buttonElement,{width:(g.width||1)+"px",height:(g.height||1)+"px",left:(Math.round(g.x)||0)+"px",top:(Math.round(g.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),x(this.element)}updateCSSClassName(){const g=C=>C.indexOf("highcharts-no-tooltip")>-1,u=this.chart.legend,l=u.group&&u.group.div,f=g(l&&l.className||""),p=g(this.getTargetAttr(this.target.click,"class")||"");this.buttonElement.className=f||p?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(g,u){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(l=>{const f=0===l.indexOf("touch");this.eventProvider.addEvent(g,l,d=>{const p=f?y(d):s(d);u&&M(u,p),d.stopPropagation(),f||d.preventDefault()},{passive:!1})})}hideButtonVisually(g){E(g,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){const g=this.target.click,l=this.target.visual||(g.element?g.element:g);if(this.chart.renderTo&&l&&l.getBoundingClientRect){const d=l.getBoundingClientRect(),p=this.chart.pointer.getChartPosition();return{x:(d.left-p.left)/p.scaleX,y:(d.top-p.top)/p.scaleY,width:d.right/p.scaleX-d.left/p.scaleX,height:d.bottom/p.scaleY-d.top/p.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(g,u){return g.element?g.element.getAttribute(u):g.getAttribute(u)}}}),Z(D,"Accessibility/ProxyProvider.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/ProxyElement.js"]],function(F,G,j,U,X,L){const{doc:I}=F,{attr:E,css:T}=G,{unhideChartElementFromAT:M}=j,{removeElement:s,removeChildNodes:y}=X;return class b{constructor(c){this.chart=c,this.domElementProvider=new U,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(c,m,g){const u=this.groups[c];if(!u)throw new Error("ProxyProvider.addProxyElement: Invalid group key "+c);const l=new L(this.chart,m,u.type,g);return u.proxyContainerElement.appendChild(l.element),u.proxyElements.push(l),l}addGroup(c,m,g){const u=this.groups[c];if(u)return u.groupElement;const l=this.domElementProvider.createElement(m);let f;return g&&g.role&&"div"!==m?(f=this.domElementProvider.createElement("div"),f.appendChild(l)):f=l,f.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+c.replace(/\W/g,"-"),this.groups[c]={proxyContainerElement:l,groupElement:f,type:m,proxyElements:[]},E(f,g||{}),"ul"===m&&l.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(f),this.updateGroupOrder(this.groupOrder),f}updateGroupAttrs(c,m){const g=this.groups[c];if(!g)throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+c);E(g.groupElement,m)}updateGroupOrder(c){if(this.groupOrder=c.slice(),this.isDOMOrderGroupOrder())return;const m=c.indexOf("series"),g=m>-1?c.slice(0,m):c,u=m>-1?c.slice(m+1):[],l=I.activeElement;["before","after"].forEach(f=>{const d=this["before"===f?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"],p="before"===f?g:u;y(d),p.forEach(C=>{const w=this.groups[C];w&&d.appendChild(w.groupElement)})}),(this.beforeChartProxyPosContainer.contains(l)||this.afterChartProxyPosContainer.contains(l))&&l&&l.focus&&l.focus()}clearGroup(c){const m=this.groups[c];if(!m)throw new Error("ProxyProvider.clearGroup: Invalid group key "+c);y(m.proxyContainerElement)}removeGroup(c){const m=this.groups[c];m&&(s(m.groupElement),delete this.groups[c])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(c){const m=this.groups[c];m&&m.proxyElements.forEach(g=>g.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(c){const m=this.domElementProvider.createElement("div");return m.setAttribute("aria-hidden","false"),m.className="highcharts-a11y-proxy-container"+(c?"-"+c:""),T(m,{top:"0",left:"0"}),this.chart.styledMode||(m.style.whiteSpace="nowrap",m.style.position="absolute"),m}getCurrentGroupOrderInDOM(){const c=l=>{const f=Object.keys(this.groups);let d=f.length;for(;d--;){const p=f[d],C=this.groups[p];if(C&&l===C.groupElement)return p}},m=l=>{const f=[],d=l.children;for(let p=0;p<d.length;++p){const C=c(d[p]);C&&f.push(C)}return f},g=m(this.beforeChartProxyPosContainer),u=m(this.afterChartProxyPosContainer);return g.push("series"),g.concat(u)}isDOMOrderGroupOrder(){const c=this.getCurrentGroupOrderInDOM(),m=this.groupOrder.filter(u=>"series"===u||!!this.groups[u]);let g=c.length;if(g!==m.length)return!1;for(;g--;)if(c[g]!==m[g])return!1;return!0}updatePosContainerPositions(){const c=this.chart;if(c.renderer.forExport)return;const m=c.renderer.box;c.container.insertBefore(this.afterChartProxyPosContainer,m.nextSibling),c.container.insertBefore(this.beforeChartProxyPosContainer,m),M(this.chart,this.afterChartProxyPosContainer),M(this.chart,this.beforeChartProxyPosContainer)}}}),Z(D,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),Z(D,"Stock/RangeSelector/RangeSelectorComposition.js",[D["Core/Defaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Core/Utilities.js"]],function(F,G,j){const{defaultOptions:U,setOptions:X}=F,{addEvent:L,defined:I,extend:E,find:T,isNumber:M,merge:s,pick:y}=j,b=[],x=[];let c;function m(){const o=this.range,i=o.type,t=this.max,e=this.chart.time,n=function(v,P){const A="year"===i?"FullYear":"Month",k=new e.Date(v),O=e.get(A,k);return e.set(A,k,O+P),O===e.get(A,k)&&e.set("Date",k,0),k.getTime()-v};let h,r;M(o)?(h=t-o,r=o):o&&(h=t+n(t,-(o.count||1)),this.chart&&(this.chart.fixedRange=t-h));const S=y(this.dataMin,Number.MIN_VALUE);return M(h)||(h=S),h<=S&&(h=S,typeof r>"u"&&(r=n(h,o.count)),this.newMax=Math.min(h+r,y(this.dataMax,Number.MAX_VALUE))),M(t)?!M(o)&&o&&o._offsetMin&&(h+=o._offsetMin):h=void 0,h}function u(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new c(this))}function l(){const o=this,i=o.axes,t=o.rangeSelector;if(t){M(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),i.forEach(n=>{n.updateNames(),n.setScale()}),o.getAxisMargins(),t.render();const e=t.options.verticalAlign;t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}}function f(o){let i,t,e,n;const h=o.rangeSelector,r=()=>{h&&(i=o.xAxis[0].getExtremes(),t=o.legend,n=h&&h.options.verticalAlign,M(i.min)&&h.render(i.min,i.max),t.display&&"top"===n&&n===t.options.verticalAlign&&(e=s(o.spacingBox),"vertical"===t.options.layout?e.y=o.plotTop:e.y+=h.getHeight(),t.group.placed=!1,t.align(e)))};h&&(T(b,v=>v[0]===o)||b.push([o,[L(o.xAxis[0],"afterSetExtremes",function(v){h&&h.render(v.min,v.max)}),L(o,"redraw",r)]]),r())}function d(){for(let o=0,i=b.length;o<i;++o){const t=b[o];if(t[0]===this)return t[1].forEach(e=>e()),void b.splice(o,1)}}function p(){const o=this.rangeSelector;if(o){const i=o.getHeight();this.extraTopMargin&&(this.plotTop+=i),this.extraBottomMargin&&(this.marginBottom+=i)}}function C(){const i=this.rangeSelector;if(i&&!i.options.floating){i.render();const t=i.options.verticalAlign;"bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)}}function w(o){const e=o.options.rangeSelector,n=this.extraBottomMargin,h=this.extraTopMargin;let r=this.rangeSelector;if(e&&e.enabled&&!I(r)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=r=new c(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r){f(this);const S=e&&e.verticalAlign||r.options&&r.options.verticalAlign;r.options.floating||("bottom"===S?this.extraBottomMargin=!0:"middle"!==S&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==n||this.extraTopMargin!==h)&&(this.isDirtyBox=!0)}}return{compose:function g(o,i,t){c=t,j.pushUnique(x,o)&&(o.prototype.minFromRange=m),j.pushUnique(x,i)&&(L(i,"afterGetContainer",u),L(i,"beforeRender",l),L(i,"destroy",d),L(i,"getMargins",p),L(i,"render",C),L(i,"update",w),i.prototype.callbacks.push(f)),j.pushUnique(x,X)&&(E(U,{rangeSelector:G.rangeSelector}),E(U.lang,G.lang))}}}),Z(D,"Stock/RangeSelector/RangeSelector.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Stock/RangeSelector/RangeSelectorComposition.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{defaultOptions:I}=G,{addEvent:E,createElement:T,css:M,defined:s,destroyObjectProperties:y,discardElement:b,extend:x,fireEvent:c,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=L;class w{static compose(o,i){U.compose(o,i,w)}constructor(o){this.buttons=void 0,this.buttonOptions=w.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=o,this.init(o)}clickButton(o,i){const t=this,e=t.chart,n=t.buttonOptions[o],h=e.xAxis[0],r=e.scroller&&e.scroller.getUnionExtremes()||h||{},S=n.type,v=n.dataGrouping;let k,N,Y,W,R,z,H,P=r.dataMin,A=r.dataMax,O=h&&Math.round(Math.min(h.max,f(A,h.max))),B=n._range,_=!0;if(null!==P&&null!==A){if(e.fixedRange=B,t.setSelected(o),v&&(this.forcedDataGrouping=!0,F.prototype.setDataGrouping.call(h||{chart:this.chart},v,!1),this.frozenStates=n.preserveDataGrouping),"month"===S||"year"===S)h?(z={range:n,max:O,chart:e,dataMin:P,dataMax:A},k=h.minFromRange.call(z),m(z.newMax)&&(O=z.newMax),_=!1):B=n;else if(B)k=Math.max(O-B,P),O=Math.min(k+B,A),_=!1;else if("ytd"===S){if(!h)return void(t.deferredYTDClick=o);(typeof A>"u"||typeof P>"u")&&(P=Number.MAX_VALUE,A=Number.MIN_VALUE,e.series.forEach(q=>{const V=q.xData;V&&(P=Math.min(V[0],P),A=Math.max(V[V.length-1],A))}),i=!1),H=t.getYTDExtremes(A,P,e.time.useUTC),k=Y=H.min,O=H.max}else"all"===S&&h&&(e.navigator&&e.navigator.baseSeries[0]&&(e.navigator.baseSeries[0].xAxis.options.range=void 0),k=P,O=A);_&&n._offsetMin&&s(k)&&(k+=n._offsetMin),n._offsetMax&&s(O)&&(O+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=o+1),h?h.setExtremes(k,O,f(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(N=p(e.options.xAxis)[0],R=N.range,N.range=B,W=N.min,N.min=Y,E(e,"load",function(){N.range=R,N.min=W})),c(this,"afterBtnClick")}}setSelected(o){this.selected=this.options.selected=o}init(o){const i=this,t=o.options.rangeSelector,e=t.buttons||i.defaultButtons.slice(),n=t.selected,h=function(){const r=i.minInput,S=i.maxInput;r&&r.blur&&c(r,"blur"),S&&S.blur&&c(S,"blur")};i.chart=o,i.options=t,i.buttons=[],i.buttonOptions=e,this.eventsToUnbind=[],this.eventsToUnbind.push(E(o.container,"mousedown",h)),this.eventsToUnbind.push(E(o,"resize",h)),e.forEach(i.computeButtonRange),typeof n<"u"&&e[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(E(o,"load",function(){o.xAxis&&o.xAxis[0]&&E(o.xAxis[0],"setExtremes",function(r){this.max-this.min!==o.fixedRange&&"rangeSelectorButton"!==r.trigger&&"updatedData"!==r.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const o=this,i=this.chart,t=this.dropdown,e=i.xAxis[0],n=Math.round(e.max-e.min),h=!e.hasVisibleSeries,r=864e5,S=i.scroller&&i.scroller.getUnionExtremes()||e,v=S.dataMin,P=S.dataMax,A=o.getYTDExtremes(P,v,i.time.useUTC),k=A.min,O=A.max,N=o.selected,B=o.options.allButtonsEnabled,Y=o.buttons;let W=m(N);o.buttonOptions.forEach((R,z)=>{const H=R._range,_=R.type,q=R.count||1,V=Y[z],$=R._offsetMax-R._offsetMin,J=z===N;let it=0,ot=!1,rt=!1,nt=H===n;("month"===_||"year"===_)&&n+36e5>={month:28,year:365}[_]*r*q-$&&n-36e5<={month:31,year:366}[_]*r*q+$?nt=!0:"ytd"===_?(nt=O-k+$===n,ot=!J):"all"===_&&(nt=e.max-e.min>=P-v,rt=!J&&W&&nt);const pt=!B&&(H>P-v||H<e.minRange||rt||h);pt?it=3:(J&&nt||nt&&!W&&!ot||J&&o.frozenStates)&&(W=!0,it=2),V.state!==it&&(V.setState(it),t&&(t.options[z+1].disabled=pt,2===it&&(t.selectedIndex=z+1)),0===it&&N===z&&o.setSelected())})}computeButtonRange(o){const i=o.type,t=o.count||1,e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};e[i]?o._range=e[i]*t:("month"===i||"year"===i)&&(o._range=24*{month:30,year:365}[i]*36e5*t),o._offsetMin=f(o.offsetMin,0),o._offsetMax=f(o.offsetMax,0),o._range+=o._offsetMax-o._offsetMin}getInputValue(o){const i="min"===o?this.minInput:this.maxInput,e=this.chart.time;return i?("text"===i.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(i.value,e.useUTC,e):0}setInputValue(o,i){const t=this.options,e=this.chart.time,n="min"===o?this.minInput:this.maxInput,h="min"===o?this.minDateBox:this.maxDateBox;if(n){const r=n.getAttribute("data-hc-time");let S=s(r)?Number(r):void 0;if(s(i)){const v=S;s(v)&&n.setAttribute("data-hc-time-previous",v),n.setAttribute("data-hc-time",i),S=i}n.value=e.dateFormat(this.inputTypeFormats[n.type]||t.inputEditDateFormat,S),h&&h.attr({text:e.dateFormat(t.inputDateFormat,S)})}}setInputExtremes(o,i,t){const e="min"===o?this.minInput:this.maxInput;if(e){const n=this.inputTypeFormats[e.type],h=this.chart.time;if(n){const r=h.dateFormat(n,i);e.min!==r&&(e.min=r);const S=h.dateFormat(n,t);e.max!==S&&(e.max=S)}}}showInput(o){const i="min"===o?this.minDateBox:this.maxDateBox,t="min"===o?this.minInput:this.maxInput;if(t&&i&&this.inputGroup){const e="text"===t.type,{translateX:n,translateY:h}=this.inputGroup,{inputBoxWidth:r}=this.options;M(t,{width:e?i.width+(r?-2:20)+"px":"auto",height:i.height-2+"px",border:"2px solid silver"}),M(t,e&&r?{left:n+i.x+"px",top:h+"px"}:{left:Math.min(Math.round(i.x+n-(t.offsetWidth-i.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:h-(t.offsetHeight-i.height)/2+"px"})}}hideInput(o){const i="min"===o?this.minInput:this.maxInput;i&&M(i,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(o,i,t){let n=o.split("/").join("-").split(" ").join("T");if(-1===n.indexOf("T")&&(n+="T00:00"),i)n+="Z";else if(j.isSafari&&(!((r=n).length>6)||r.lastIndexOf("-")!==r.length-6&&r.lastIndexOf("+")!==r.length-6)){const r=new Date(n).getTimezoneOffset()/60;n+=r<=0?`+${l(-r)}:00`:`-${l(r)}:00`}var r;let h=Date.parse(n);if(!m(h)){const r=o.split("-");h=Date.UTC(d(r[0]),d(r[1])-1,d(r[2]))}return t&&i&&m(h)&&(h+=t.getTimezoneOffset(h)),h}drawInput(o){const{chart:i,div:t,inputGroup:e}=this,n=this,h=i.renderer.style||{},r=i.renderer,S=i.options.rangeSelector,P="min"===o;function A(){const{maxInput:W,minInput:R}=n,z=i.xAxis[0],H=i.scroller&&i.scroller.xAxis?i.scroller.xAxis:z,_=H.dataMin,q=H.dataMax;let V=n.getInputValue(o);V!==Number(B.getAttribute("data-hc-time-previous"))&&m(V)&&(B.setAttribute("data-hc-time-previous",V),P&&W&&m(_)?V>Number(W.getAttribute("data-hc-time"))?V=void 0:V<_&&(V=_):R&&m(q)&&(V<Number(R.getAttribute("data-hc-time"))?V=void 0:V>q&&(V=q)),typeof V<"u"&&z.setExtremes(P?V:z.min,P?z.max:V,void 0,void 0,{trigger:"rangeSelectorInput"}))}const k=I.lang[P?"rangeSelectorFrom":"rangeSelectorTo"]||"",O=r.label(k,0).addClass("highcharts-range-label").attr({padding:k?2:0,height:k?S.inputBoxHeight:0}).add(e),N=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:S.inputBoxWidth,height:S.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(o),n[o+"Input"].focus()});i.styledMode||N.attr({stroke:S.inputBoxBorderColor,"stroke-width":1}),N.add(e);const B=T("input",{name:o,className:"highcharts-range-selector"},void 0,t);B.setAttribute("type",function C(a){if(-1!==a.indexOf("%L"))return"text";const i=["a","A","d","e","w","b","B","m","o","y","Y"].some(e=>-1!==a.indexOf("%"+e)),t=["H","k","I","l","M","S"].some(e=>-1!==a.indexOf("%"+e));return i&&t?"datetime-local":i?"date":t?"time":"text"}(S.inputDateFormat||"%e %b %Y")),i.styledMode||(O.css(g(h,S.labelStyle)),N.css(g({color:"#333333"},h,S.inputStyle)),M(B,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},S.inputStyle))),B.onfocus=()=>{n.showInput(o)},B.onblur=()=>{B===j.doc.activeElement&&A(),n.hideInput(o),n.setInputValue(o),B.blur()};let Y=!1;return B.onchange=()=>{Y||(A(),n.hideInput(o),B.blur())},B.onkeypress=W=>{13===W.keyCode&&A()},B.onkeydown=W=>{Y=!0,(38===W.keyCode||40===W.keyCode)&&A()},B.onkeyup=()=>{Y=!1},{dateBox:N,input:B,label:O}}getPosition(){const o=this.chart,i=o.options.rangeSelector,t="top"===i.verticalAlign?o.plotTop-o.axisOffset[0]:0;return{buttonTop:t+i.buttonPosition.y,inputTop:t+i.inputPosition.y-10}}getYTDExtremes(o,i,t){const e=this.chart.time,n=new e.Date(o),h=e.get("FullYear",n),r=t?e.Date.UTC(h,0,1):+new e.Date(h,0,1),S=Math.max(i,r),v=n.getTime();return{max:Math.min(o||v,v),min:S}}render(o,i){const t=this.chart,e=t.renderer,n=t.container,h=t.options,r=h.rangeSelector,S=f(h.chart.style&&h.chart.style.zIndex,0)+1,v=r.inputEnabled;if(!1!==r.enabled){if(!this.rendered&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=T("div",void 0,{position:"relative",height:0,zIndex:S}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),v)){this.inputGroup=e.g("input-group").add(this.group);const A=this.drawInput("min");this.minDateBox=A.dateBox,this.minLabel=A.label,this.minInput=A.input;const k=this.drawInput("max");this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input}if(v){this.setInputValue("min",o),this.setInputValue("max",i);const A=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(s(A.dataMin)&&s(A.dataMax)){const k=t.xAxis[0].minRange||0;this.setInputExtremes("min",A.dataMin,Math.min(A.dataMax,this.getInputValue("max"))-k),this.setInputExtremes("max",Math.max(A.dataMin,this.getInputValue("min"))+k,A.dataMax)}if(this.inputGroup){let k=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(O=>{if(O){const{width:N}=O.getBBox();N&&(O.attr({x:k}),k+=N+r.inputSpacing)}})}}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:o,chart:i,options:t}=this,e=I.lang,n=i.renderer,h=g(t.buttonTheme),r=h&&h.states,S=h.width||28;delete h.width,delete h.states,this.buttonGroup=n.g("range-selector-buttons").add(this.group);const v=this.dropdown=T("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(v,"touchstart",()=>{v.style.fontSize="16px"}),[[j.isMS?"mouseover":"mouseenter"],[j.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([P,A])=>{E(v,P,()=>{const k=o[this.currentButtonIndex()];k&&c(k.element,A||P)})}),this.zoomText=n.label(e&&e.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),h["stroke-width"]=f(h["stroke-width"],0)),T("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,v),this.buttonOptions.forEach((P,A)=>{T("option",{textContent:P.title||P.text},void 0,v),o[A]=n.button(P.text,0,0,k=>{const O=P.events&&P.events.click;let N;O&&(N=O.call(P,k)),!1!==N&&this.clickButton(A),this.isActive=!0},h,r&&r.hover,r&&r.select,r&&r.disabled).attr({"text-align":"center",width:S}).add(this.buttonGroup),P.title&&o[A].attr("title",P.title)})}alignElements(){const{buttonGroup:o,buttons:i,chart:t,group:e,inputGroup:n,options:h,zoomText:r}=this,S=t.options,v=S.exporting&&!1!==S.exporting.enabled&&S.navigation&&S.navigation.buttonOptions,{buttonPosition:P,inputPosition:A,verticalAlign:k}=h,O=(B,Y)=>v&&this.titleCollision(t)&&"top"===k&&"right"===Y.align&&Y.y-B.getBBox().height-12<(v.y||0)+(v.height||0)+t.spacing[0]?-40:0;let N=t.plotLeft;if(e&&P&&A){let B=P.x-t.spacing[3];if(o){if(this.positionButtons(),!this.initialButtonGroupWidth){let $=0;r&&($+=r.getBBox().width+5),i.forEach((J,tt)=>{$+=J.width,tt!==i.length-1&&($+=h.buttonSpacing)}),this.initialButtonGroupWidth=$}N-=t.spacing[3],this.updateButtonStates();const V=O(o,P);this.alignButtonGroup(V),e.placed=o.placed=t.hasLoaded}let Y=0;n&&(Y=O(n,A),"left"===A.align?B=N:"right"===A.align&&(B=-Math.max(t.axisOffset[1],-Y)),n.align({y:A.y,width:n.getBBox().width,align:A.align,x:A.x+B-2},!0,t.spacingBox),n.placed=t.hasLoaded),this.handleCollision(Y),e.align({verticalAlign:k},!0,t.spacingBox);const W=e.alignAttr.translateY;let R=e.getBBox().height+20,z=0;if("bottom"===k){const V=t.legend&&t.legend.options;R=R+(V&&"bottom"===V.verticalAlign&&V.enabled&&!V.floating?t.legend.legendHeight+f(V.margin,10):0)-20,z=W-R-(h.floating?0:h.y)-(t.titleOffset?t.titleOffset[2]:0)-10}"top"===k?(h.floating&&(z=0),t.titleOffset&&t.titleOffset[0]&&(z=t.titleOffset[0]),z+=t.margin[0]-t.spacing[0]||0):"middle"===k&&(A.y===P.y?z=W:(A.y||P.y)&&(A.y<0||P.y<0?z-=Math.min(A.y,P.y):z=W-R)),e.translate(h.x,h.y+Math.floor(z));const{minInput:H,maxInput:_,dropdown:q}=this;h.inputEnabled&&H&&_&&(H.style.marginTop=e.translateY+"px",_.style.marginTop=e.translateY+"px"),q&&(q.style.marginTop=e.translateY+"px")}}alignButtonGroup(o,i){const{chart:t,options:e,buttonGroup:n}=this,{buttonPosition:r}=e,S=t.plotLeft-t.spacing[3];let v=r.x-t.spacing[3];"right"===r.align?v+=o-S:"center"===r.align&&(v-=S/2),n&&n.align({y:r.y,width:f(i,this.initialButtonGroupWidth),align:r.align,x:v},!0,t.spacingBox)}positionButtons(){const{buttons:o,chart:i,options:t,zoomText:e}=this,n=i.hasLoaded?"animate":"attr",{buttonPosition:h}=t,r=i.plotLeft;let S=r;e&&"hidden"!==e.visibility&&(e[n]({x:f(r+h.x,r)}),S+=h.x+e.getBBox().width+5);for(let v=0,P=this.buttonOptions.length;v<P;++v)"hidden"!==o[v].visibility?(o[v][n]({x:S}),S+=o[v].width+t.buttonSpacing):o[v][n]({x:r})}handleCollision(o){const{chart:i,buttonGroup:t,inputGroup:e}=this,{buttonPosition:n,dropdown:h,inputPosition:r}=this.options,S=()=>{let A=0;return this.buttons.forEach(k=>{const O=k.getBBox();O.width>A&&(A=O.width)}),A},v=A=>{if(e&&t){const k=e.alignAttr.translateX+e.alignOptions.x-o+e.getBBox().x+2,O=e.alignOptions.width,N=t.alignAttr.translateX+t.getBBox().x;return N+A>k&&k+O>N&&n.y<r.y+e.getBBox().height}return!1},P=()=>{e&&t&&e.attr({translateX:e.alignAttr.translateX+(i.axisOffset[1]>=-o?0:-o),translateY:e.alignAttr.translateY+t.getBBox().height+10})};if(t){if("always"===h)return this.collapseButtons(o),void(v(S())&&P());"never"===h&&this.expandButtons()}e&&t?r.align===n.align||v(this.initialButtonGroupWidth+20)?"responsive"===h?(this.collapseButtons(o),v(S())&&P()):P():"responsive"===h&&this.expandButtons():t&&"responsive"===h&&(this.initialButtonGroupWidth>i.plotWidth?this.collapseButtons(o):this.expandButtons())}collapseButtons(o){const{buttons:i,buttonOptions:t,chart:e,dropdown:n,options:h,zoomText:r}=this,S=e.userOptions.rangeSelector&&e.userOptions.rangeSelector.buttonTheme||{},v=k=>({text:k?`${k} \u25be`:"\u25be",width:"auto",paddingLeft:f(h.buttonTheme.paddingLeft,S.padding,8),paddingRight:f(h.buttonTheme.paddingRight,S.padding,8)});r&&r.hide();let P=!1;t.forEach((k,O)=>{const N=i[O];2!==N.state?N.hide():(N.show(),N.attr(v(k.text)),P=!0)}),P||(n&&(n.selectedIndex=0),i[0].show(),i[0].attr(v(this.zoomText&&this.zoomText.textStr)));const{align:A}=h.buttonPosition;this.positionButtons(),("right"===A||"center"===A)&&this.alignButtonGroup(o,i[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:o,buttonOptions:i,options:t,zoomText:e}=this;this.hideDropdown(),e&&e.show(),i.forEach((n,h)=>{const r=o[h];r.show(),r.attr({text:n.text,width:t.buttonTheme.width||28,paddingLeft:f(t.buttonTheme.paddingLeft,"unset"),paddingRight:f(t.buttonTheme.paddingRight,"unset")}),r.state<2&&r.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:o}=this;return o&&o.selectedIndex>0?o.selectedIndex-1:0}showDropdown(){const{buttonGroup:o,buttons:i,chart:t,dropdown:e}=this;if(o&&e){const{translateX:n,translateY:h}=o,r=i[this.currentButtonIndex()].getBBox();M(e,{left:t.plotLeft+n+"px",top:h+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:o}=this;o&&(M(o,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const i=this.options,t=this.group,h=i.y,r=i.buttonPosition.y,S=i.inputPosition.y;let v=0;if(i.height)return i.height;this.alignElements(),v=t?t.getBBox(!0).height+13+h:0;const P=Math.min(S,r);return(S<0&&r<0||S>0&&r>0)&&(v+=Math.abs(P)),v}titleCollision(o){return!(o.options.title.text||o.options.subtitle.text)}update(o){const i=this.chart;g(!0,i.options.rangeSelector,o),this.destroy(),this.init(i),this.render()}destroy(){const o=this,i=o.minInput,t=o.maxInput;o.eventsToUnbind&&(o.eventsToUnbind.forEach(e=>e()),o.eventsToUnbind=void 0),y(o.buttons),i&&(i.onfocus=i.onblur=i.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null),u(o,function(e,n){e&&"chart"!==n&&(e instanceof X?e.destroy():e instanceof window.HTMLElement&&b(e)),e!==w.prototype[n]&&(o[n]=null)},this)}}return x(w.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),w}),Z(D,"Accessibility/Components/RangeSelectorComponent.js",[D["Stock/RangeSelector/RangeSelector.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{unhideChartElementFromAT:I,getAxisRangeDescription:E}=j,{addEvent:T,attr:M}=L;class y extends G{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new U(this.chart,"polite")}onChartUpdate(){const x=this.chart,c=this,m=x.rangeSelector;m&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),m.buttons&&m.buttons.length&&m.buttons.forEach(g=>{c.setRangeButtonAttrs(g)}),m.maxInput&&m.minInput&&["minInput","maxInput"].forEach(function(g,u){const l=m[g];l&&(I(x,l),c.setRangeInputAttrs(l,"accessibility.rangeSelector."+(u?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const x=this.chart,c=x.rangeSelector,m=c&&c.dropdown,g=c&&c.buttons||[],u=l=>l.setAttribute("aria-hidden",!0);c&&c.hasVisibleDropdown&&m?(I(x,m),g.forEach(l=>u(l.element))):(m&&u(m),g.forEach(l=>I(x,l.element)))}setDropdownAttrs(){const x=this.chart,c=x.rangeSelector&&x.rangeSelector.dropdown;if(c){const m=x.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:x.options.lang.rangeSelectorZoom});c.setAttribute("aria-label",m),c.setAttribute("tabindex",-1)}}setRangeButtonAttrs(x){M(x.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(x,c){const m=this.chart;M(x,{tabindex:-1,"aria-label":m.langFormat(c,{chart:m})})}onButtonNavKbdArrowKey(x,c){const m=x.response,g=this.keyCodes,u=this.chart,l=u.options.accessibility.keyboardNavigation.wrapAround,f=c===g.left||c===g.up?-1:1;return u.highlightRangeSelectorButton(u.highlightedRangeSelectorItemIx+f)?m.success:l?(x.init(f),m.success):m[f>0?"next":"prev"]}onButtonNavKbdClick(x){const c=x.response,m=this.chart;return 3===m.oldRangeSelectorItemState||this.fakeClickEvent(m.rangeSelector.buttons[m.highlightedRangeSelectorItemIx].element),c.success}onAfterBtnClick(){const x=this.chart,c=E(x.xAxis[0]),m=x.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:x,axisRangeDescription:c});m&&this.announcer.announce(m)}onInputKbdMove(x){const c=this.chart,m=c.rangeSelector,g=c.highlightedInputRangeIx=(c.highlightedInputRangeIx||0)+x;if(g>1||g<0){if(c.accessibility)return c.accessibility.keyboardNavigation.exiting=!0,c.accessibility.keyboardNavigation.tabindexContainer.focus(),c.accessibility.keyboardNavigation.move(x)}else if(m){const l=m[g?"maxDateBox":"minDateBox"],f=m[g?"maxInput":"minInput"];l&&f&&c.setFocusToElement(l,f)}return!0}onInputNavInit(x){const c=this,m=this.chart,g=x>0?0:1,u=m.rangeSelector,l=u&&u[g?"maxDateBox":"minDateBox"],f=u&&u.minInput,d=u&&u.maxInput,p=g?d:f;if(m.highlightedInputRangeIx=g,l&&f&&d){m.setFocusToElement(l,p),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();const C=o=>{(o.which||o.keyCode)===this.keyCodes.tab&&c.onInputKbdMove(o.shiftKey?-1:1)&&(o.preventDefault(),o.stopPropagation())},w=T(f,"keydown",C),a=T(d,"keydown",C);this.removeInputKeydownHandler=()=>{w(),a()}}}onInputNavTerminate(){const x=this.chart.rangeSelector||{};x.maxInput&&x.hideInput("max"),x.minInput&&x.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const x=this.chart,c=x.rangeSelector,m=c&&c.dropdown;c&&m&&(x.setFocusToElement(c.buttonGroup,m),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=T(m,"keydown",g=>{const l=x.accessibility;(g.which||g.keyCode)===this.keyCodes.tab&&(g.preventDefault(),g.stopPropagation(),l&&(l.keyboardNavigation.tabindexContainer.focus(),l.keyboardNavigation.move(g.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const x=this.chart,c=this.keyCodes,m=this;return new X(x,{keyCodeMap:[[[c.left,c.right,c.up,c.down],function(g){return m.onButtonNavKbdArrowKey(this,g)}],[[c.enter,c.space],function(){return m.onButtonNavKbdClick(this)}]],validate:function(){return!!(x.rangeSelector&&x.rangeSelector.buttons&&x.rangeSelector.buttons.length)},init:function(g){const u=x.rangeSelector;u&&u.hasVisibleDropdown?m.initDropdownNav():u&&x.highlightRangeSelectorButton(g>0?0:u.buttons.length-1)},terminate:function(){m.removeDropdownKeydownHandler&&(m.removeDropdownKeydownHandler(),delete m.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const x=this.chart,c=this;return new X(x,{keyCodeMap:[],validate:function(){return function s(b){return Boolean(b.rangeSelector&&b.rangeSelector.inputGroup&&"hidden"!==b.rangeSelector.inputGroup.element.style.visibility&&!1!==b.options.rangeSelector.inputEnabled&&b.rangeSelector.minInput&&b.rangeSelector.maxInput)}(x)},init:function(m){c.onInputNavInit(m)},terminate:function(){c.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(b){const x=[];function c(u){const l=this.rangeSelector&&this.rangeSelector.buttons||[],f=this.highlightedRangeSelectorItemIx,d=this.rangeSelector&&this.rangeSelector.selected;return typeof f<"u"&&l[f]&&f!==d&&l[f].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=u,!!l[u]&&(this.setFocusToElement(l[u].box,l[u].element),u!==d&&(this.oldRangeSelectorItemState=l[u].state,l[u].setState(1)),!0)}function g(){const u=this.chart.accessibility;if(u&&u.components.rangeSelector)return u.components.rangeSelector.onAfterBtnClick()}b.compose=function m(u,l){L.pushUnique(x,u)&&(u.prototype.highlightRangeSelectorButton=c),L.pushUnique(x,l)&&T(F,"afterBtnClick",g)}}(y||(y={})),y}),Z(D,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[D["Core/Utilities.js"]],function(F){const{addEvent:G,merge:j}=F;var U;return function(X){const L=[];function E(l){j(!0,l,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function T(l){return l.marker.states&&l.marker.states.normal&&l.marker.states.normal.opacity}function s(l){return!!(l._hasPointMarkers&&l.points&&l.points.length)}function b(){const l=this;l.chart.styledMode&&(l.markerGroup&&l.markerGroup[l.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),s(l)&&l.points.forEach(f=>{f.graphic&&(f.graphic[f.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),f.graphic[!1===f.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function x(l){this.resetA11yMarkerOptions=j(l.options.marker||{},this.userOptions.marker||{})}function c(){const l=this,f=l.options;!function m(l){return l.chart.options.accessibility.enabled&&!1!==(l.options.accessibility&&l.options.accessibility.enabled)&&function y(l){const f=l.chart.options.accessibility;return l.points.length<f.series.pointDescriptionEnabledThreshold||!1===f.series.pointDescriptionEnabledThreshold}(l)}(l)?l.a11yMarkersForced&&(delete l.a11yMarkersForced,function u(l){const f=l.resetA11yMarkerOptions;f&&l.update({marker:{enabled:f.enabled,states:{normal:{opacity:f.states&&f.states.normal&&f.states.normal.opacity}}}})}(l),delete l.resetA11yMarkerOptions):(f.marker&&!1===f.marker.enabled&&(l.a11yMarkersForced=!0,E(l.options)),s(l)&&function M(l){let f=l.points.length;for(;f--;){const d=l.points[f],p=d.options,C=d.hasForcedA11yMarker;if(delete d.hasForcedA11yMarker,p.marker){const w=C&&0===T(p);p.marker.enabled&&!w?(g(p),d.hasForcedA11yMarker=!1):!1===p.marker.enabled&&(E(p),d.hasForcedA11yMarker=!0)}}}(l))}function g(l){j(!0,l.marker,{states:{normal:{opacity:T(l)||1}}})}X.compose=function I(l){F.pushUnique(L,l)&&(G(l,"afterSetOptions",x),G(l,"render",c),G(l,"afterRender",b))}}(U||(U={})),U}),Z(D,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[D["Core/Series/Point.js"],D["Core/Series/Series.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/ChartUtilities.js"]],function(F,G,j,U,X,L,I,E){const{seriesTypes:T}=j,{doc:M}=U,{defined:s,fireEvent:y}=X,{getPointFromXY:b,getSeriesFromName:x,scrollToPoint:c}=E;function m(a){const o=a.index,i=a.series.points;let t=i.length;if(i[o]===a)return o;for(;t--;)if(i[t]===a)return t}function g(a){const i=a.chart.options.accessibility.keyboardNavigation.seriesNavigation,t=a.options.accessibility||{},e=t.keyboardNavigation;return e&&!1===e.enabled||!1===t.enabled||!1===a.options.enableMouseTracking||!a.visible||i.pointNavigationEnabledThreshold&&i.pointNavigationEnabledThreshold<=a.points.length}function u(a){return a.isNull&&a.series.chart.options.accessibility.keyboardNavigation.seriesNavigation.skipNullPoints||!1===a.visible||!1===a.isInside||a.options.accessibility&&!1===a.options.accessibility.enabled||g(a.series)}function l(a){const o=a.points||[],i=o.length;for(let t=0;t<i;++t)if(!u(o[t]))return o[t];return null}function f(a){const o=a.series||[],i=o.length;for(let t=0;t<i;++t)if(!g(o[t])){const e=l(o[t]);if(e)return e}return null}function d(a){let i=a.series.length,t=!1;for(;i--&&(a.highlightedPoint=a.series[i].points[a.series[i].points.length-1],t=a.series[i].highlightNextValidPoint(),!t););return t}function C(a){delete a.highlightedPoint;const o=f(a);return!!o&&o.highlight()}class w{constructor(o,i){this.keyCodes=i,this.chart=o}init(){const o=this,i=this.chart,t=this.eventProvider=new I;t.addEvent(G,"destroy",function(){return o.onSeriesDestroy(this)}),t.addEvent(i,"afterApplyDrilldown",function(){!function p(a){const o=f(a);o&&o.highlight(!1)}(this)}),t.addEvent(i,"drilldown",function(e){const n=e.point,h=n.series;o.lastDrilledDownPoint={x:n.x,y:n.y,seriesName:h?h.name:""}}),t.addEvent(i,"drillupall",function(){setTimeout(function(){o.onDrillupAll()},10)}),t.addEvent(F,"afterSetState",function(){const e=this,n=e.graphic&&e.graphic.element,h=M.activeElement,r=h&&h.getAttribute("class"),S=r&&r.indexOf("highcharts-a11y-proxy-button")>-1;i.highlightedPoint===e&&h!==n&&!S&&n&&n.focus&&n.focus()})}onDrillupAll(){const o=this.lastDrilledDownPoint,i=this.chart,t=o&&x(i,o.seriesName);let e;o&&t&&s(o.x)&&s(o.y)&&(e=b(t,o.x,o.y)),e=e||f(i),i.container&&i.container.focus(),e&&e.highlight&&e.highlight(!1)}getKeyboardNavigationHandler(){const o=this,i=this.keyCodes,t=this.chart,e=t.inverted;return new L(t,{keyCodeMap:[[e?[i.up,i.down]:[i.left,i.right],function(n){return o.onKbdSideways(this,n)}],[e?[i.left,i.right]:[i.up,i.down],function(n){return o.onKbdVertical(this,n)}],[[i.enter,i.space],function(n,h){const r=t.highlightedPoint;return r&&(h.point=r,y(r.series,"click",h),r.firePointEvent("click")),this.response.success}],[[i.home],function(){return C(t),this.response.success}],[[i.end],function(){return d(t),this.response.success}],[[i.pageDown,i.pageUp],function(n){return t.highlightAdjacentSeries(n===i.pageDown),this.response.success}]],init:function(){return o.onHandlerInit(this)},validate:function(){return!!f(t)},terminate:function(){return o.onHandlerTerminate()}})}onKbdSideways(o,i){const t=this.keyCodes;return this.attemptHighlightAdjacentPoint(o,i===t.right||i===t.down)}onHandlerInit(o){const i=this.chart;return i.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&i.highlightedPoint?i.highlightedPoint.highlight():C(i),o.response.success}onKbdVertical(o,i){const t=this.chart,e=this.keyCodes,n=i===e.down||i===e.right,h=t.options.accessibility.keyboardNavigation.seriesNavigation;return h.mode&&"serialize"===h.mode?this.attemptHighlightAdjacentPoint(o,n):(t[t.highlightedPoint&&t.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](n),o.response.success)}onHandlerTerminate(){const o=this.chart,i=o.options.accessibility.keyboardNavigation;o.tooltip&&o.tooltip.hide(0);const t=o.highlightedPoint&&o.highlightedPoint.series;t&&t.onMouseOut&&t.onMouseOut(),o.highlightedPoint&&o.highlightedPoint.onMouseOut&&o.highlightedPoint.onMouseOut(),i.seriesNavigation.rememberPointFocus||delete o.highlightedPoint}attemptHighlightAdjacentPoint(o,i){const t=this.chart,e=t.options.accessibility.keyboardNavigation.wrapAround;return t.highlightAdjacentPoint(i)||e&&(i?C(t):d(t))?o.response.success:o.response[i?"next":"prev"]}onSeriesDestroy(o){const i=this.chart;i.highlightedPoint&&i.highlightedPoint.series===o&&(delete i.highlightedPoint,i.focusElement&&i.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(a){const o=[];function i(v){const P=this,A=P.series,k=P.highlightedPoint,O=k&&m(k)||0,B=P.series&&P.series[P.series.length-1];let W,R;if(!A[0]||!A[0].points)return!1;if(k){if(W=A[k.series.index+(v?1:-1)],R=(k&&k.series.points||[])[O+(v?1:-1)],!R&&W&&(R=W.points[v?0:W.points.length-1]),!R)return!1}else R=v?A[0].points[0]:B&&B.points&&B.points[B.points.length-1];return u(R)?(W=R.series,P.highlightedPoint=g(W)?v?W.points[W.points.length-1]:W.points[0]:R,P.highlightAdjacentPoint(v)):R.highlight()}function t(v){const P=this.highlightedPoint;let k,A=1/0;return!(!s(P.plotX)||!s(P.plotY))&&(this.series.forEach(O=>{g(O)||O.points.forEach(N=>{if(!s(N.plotY)||!s(N.plotX)||N===P)return;let B=N.plotY-P.plotY;const Y=Math.abs(N.plotX-P.plotX),W=Math.abs(B)*Math.abs(B)+Y*Y*4;O.yAxis&&O.yAxis.reversed&&(B*=-1),!(B<=0&&v||B>=0&&!v||W<5||u(N))&&W<A&&(A=W,k=N)})}),!!k&&k.highlight())}function e(v){const P=this,A=P.highlightedPoint,k=P.series&&P.series[P.series.length-1],O=k&&k.points&&k.points[k.points.length-1];let N,B,Y;return P.highlightedPoint?(N=P.series[A.series.index+(v?-1:1)],!(!N||(B=function h(v,P,A,k){let N,B,Y,O=1/0,W=P.points.length;const R=z=>!(s(z.plotX)&&s(z.plotY));if(!R(v)){for(;W--;)N=P.points[W],!R(N)&&(Y=(v.plotX-N.plotX)*(v.plotX-N.plotX)*(A||1)+(v.plotY-N.plotY)*(v.plotY-N.plotY)*(k||1),Y<O&&(O=Y,B=W));return s(B)?P.points[B]:void 0}}(A,N,4),!B))&&(g(N)?(B.highlight(),Y=P.highlightAdjacentSeries(v),Y||(A.highlight(),!1)):(B.highlight(),B.series.highlightNextValidPoint()))):(N=v?P.series&&P.series[0]:k,B=v?N&&N.points&&N.points[0]:O,!!B&&B.highlight())}function r(v=!0){const P=this.series.chart;return!this.isNull&&v?this.onMouseOver():P.tooltip&&P.tooltip.hide(0),c(this),this.graphic&&(P.setFocusToElement(this.graphic),!v&&P.focusElement&&P.focusElement.removeFocusBorder()),P.highlightedPoint=this,this}function S(){const v=this.chart.highlightedPoint,P=(v&&v.series)===this?m(v):0,A=this.points,k=A.length;if(A&&k){for(let O=P;O<k;++O)if(!u(A[O]))return A[O].highlight();for(let O=P;O>=0;--O)if(!u(A[O]))return A[O].highlight()}return!1}a.compose=function n(v,P,A){if(X.pushUnique(o,v)){const k=v.prototype;k.highlightAdjacentPoint=i,k.highlightAdjacentPointVertical=t,k.highlightAdjacentSeries=e}if(X.pushUnique(o,P)&&(P.prototype.highlight=r),X.pushUnique(o,A)){const k=A.prototype;k.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(O=>{T[O]&&(T[O].prototype.keyboardMoveVertical=!1)}),k.highlightNextValidPoint=S}}}(w||(w={})),w}),Z(D,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],D["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],D["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(F,G,j,U,X,L){const{hideSeriesFromAT:I}=G,{describeSeries:E}=X;return class T extends F{static compose(s,y,b){U.compose(b),j.compose(b),L.compose(s,y,b)}init(){this.newDataAnnouncer=new U(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new L(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const s=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===s.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(s){s.labelBySeries&&s.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(y){!1!==(y.options.accessibility&&y.options.accessibility.enabled)&&y.visible?E(y):I(y)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),Z(D,"Accessibility/Components/ZoomComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{unhideChartElementFromAT:L}=G,{getFakeMouseEvent:I}=j,{attr:E,pick:T}=X;return class s extends F{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const b=this,x=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(c=>{b.addEvent(x,c,function(){b.updateProxyOverlays()})})}onChartUpdate(){const b=this.chart,x=this;b.mapNavigation&&b.mapNavigation.navButtons.forEach((c,m)=>{L(b,c.element),x.setMapNavButtonAttrs(c.element,"accessibility.zoom.mapZoom"+(m?"Out":"In"))})}setMapNavButtonAttrs(b,x){const c=this.chart,m=c.langFormat(x,{chart:c});E(b,{tabindex:-1,role:"button","aria-label":m})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const b=this.chart;this.proxyProvider.clearGroup("zoom"),b.resetZoomButton&&this.createZoomProxyButton(b.resetZoomButton,"resetZoomProxyButton",b.langFormat("accessibility.zoom.resetZoomButton",{chart:b})),b.drillUpButton&&b.breadcrumbs&&b.breadcrumbs.list&&this.createZoomProxyButton(b.drillUpButton,"drillUpProxyButton",b.langFormat("accessibility.drillUpButton",{chart:b,buttonText:b.breadcrumbs.getButtonText(b.breadcrumbs.list[b.breadcrumbs.list.length-1])}))}createZoomProxyButton(b,x,c){this[x]=this.proxyProvider.addProxyElement("zoom",{click:b},{"aria-label":c,tabindex:-1})}getMapZoomNavigation(){const b=this.keyCodes,x=this.chart,c=this;return new U(x,{keyCodeMap:[[[b.up,b.down,b.left,b.right],function(m){return c.onMapKbdArrow(this,m)}],[[b.tab],function(m,g){return c.onMapKbdTab(this,g)}],[[b.space,b.enter],function(){return c.onMapKbdClick(this)}]],validate:function(){return function M(y){return!!(y.mapView&&y.mapNavigation&&y.mapNavigation.navButtons.length)}(x)},init:function(m){return c.onMapNavInit(m)}})}onMapKbdArrow(b,x){const c=this.chart,m=this.keyCodes,g=c.container,u=x===m.up||x===m.down,d=(u?c.plotHeight:c.plotWidth)/10*(x===m.left||x===m.up?1:-1),p=10*Math.random(),C={x:g.offsetLeft+c.plotLeft+c.plotWidth/2+p,y:g.offsetTop+c.plotTop+c.plotHeight/2+p},w=u?{x:C.x,y:C.y+d}:{x:C.x+d,y:C.y};return[I("mousedown",C),I("mousemove",w),I("mouseup",w)].forEach(a=>g.dispatchEvent(a)),b.response.success}onMapKbdTab(b,x){const c=this.chart,m=b.response,g=x.shiftKey,u=g&&!this.focusedMapNavButtonIx||!g&&this.focusedMapNavButtonIx;if(c.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),u)return c.mapView&&c.mapView.zoomBy(),m[g?"prev":"next"];this.focusedMapNavButtonIx+=g?-1:1;const l=c.mapNavigation.navButtons[this.focusedMapNavButtonIx];return c.setFocusToElement(l.box,l.element),l.setState(2),m.success}onMapKbdClick(b){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),b.response.success}onMapNavInit(b){const x=this.chart,g=b>0?x.mapNavigation.navButtons[0]:x.mapNavigation.navButtons[1];x.setFocusToElement(g.box,g.element),g.setState(2),this.focusedMapNavButtonIx=b>0?0:1}simpleButtonNavigation(b,x,c){const m=this.keyCodes,g=this,u=this.chart;return new U(u,{keyCodeMap:[[[m.tab,m.up,m.down,m.left,m.right],function(l,f){return this.response[l===m.tab&&f.shiftKey||l===m.left||l===m.up?"prev":"next"]}],[[m.space,m.enter],function(){const l=c(this,u);return T(l,this.response.success)}]],validate:function(){return u[b]&&u[b].box&&g[x].buttonElement},init:function(){u.setFocusToElement(u[b].box,g[x].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(b,x){x.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(b,x){return x.drillUp(),b.response.prev}),this.getMapZoomNavigation()]}}}),Z(D,"Accessibility/HighContrastMode.js",[D["Core/Globals.js"]],function(F){const{doc:G,isMS:j,win:U}=F;return{isHighContrastModeActive:function X(){const E=/(Edg)/.test(U.navigator.userAgent);if(U.matchMedia&&E)return U.matchMedia("(-ms-high-contrast: active)").matches;if(j&&U.getComputedStyle){const T=G.createElement("div");T.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",G.body.appendChild(T);const s=(T.currentStyle||U.getComputedStyle(T)).backgroundImage;return G.body.removeChild(T),"none"===s}return U.matchMedia&&U.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function L(E){E.highContrastModeActive=!0;const T=E.options.accessibility.highContrastTheme;E.update(T,!1),E.series.forEach(function(M){const s=T.plotOptions[M.type]||{};M.update({color:s.color||"windowText",colors:[s.color||"windowText"],borderColor:s.borderColor||"window"}),M.points.forEach(function(y){y.options&&y.options.color&&y.update({color:s.color||"windowText",borderColor:s.borderColor||"window"},!1)})}),E.redraw()}}}),Z(D,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),Z(D,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),Z(D,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),Z(D,"Accessibility/Options/DeprecatedOptions.js",[D["Core/Utilities.js"]],function(F){const{error:G,pick:j}=F;function U(b,x,c){let g,m=b,u=0;for(;u<x.length-1;++u)g=x[u],m=m[g]=j(m[g],{});m[x[x.length-1]]=c}function X(b,x,c,m){function g(f,d){return d.reduce(function(p,C){return p[C]},f)}const u=g(b.options,x),l=g(b.options,c);Object.keys(m).forEach(function(f){const d=u[f];typeof d<"u"&&(U(l,m[f],d),G(32,!1,b,{[x.join(".")+"."+f]:c.join(".")+"."+m[f].join(".")}))})}return function y(b){(function L(b){const x=b.options.chart,c=b.options.accessibility||{};["description","typeDescription"].forEach(function(m){x[m]&&(c[m]=x[m],G(32,!1,b,{[`chart.${m}`]:`use accessibility.${m}`}))})})(b),function I(b){b.axes.forEach(function(x){const c=x.options;c&&c.description&&(c.accessibility=c.accessibility||{},c.accessibility.description=c.description,G(32,!1,b,{"axis.description":"use axis.accessibility.description"}))})}(b),b.series&&function E(b){const x={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};b.series.forEach(function(c){Object.keys(x).forEach(function(m){let g=c.options[m];"accessibility.pointDescriptionFormatter"===m&&(g=c.options.accessibility&&c.options.accessibility.pointDescriptionFormatter),typeof g<"u"&&(U(c.options,x[m],"skipKeyboardNavigation"===m?!g:g),G(32,!1,b,{[`series.${m}`]:"series."+x[m].join(".")}))})})}(b),function T(b){X(b,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}(b),function M(b){X(b,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}(b),function s(b){X(b,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}(b)}}),Z(D,"Accessibility/Accessibility.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/A11yI18n.js"],D["Accessibility/Components/ContainerComponent.js"],D["Accessibility/FocusBorder.js"],D["Accessibility/Components/InfoRegionsComponent.js"],D["Accessibility/KeyboardNavigation.js"],D["Accessibility/Components/LegendComponent.js"],D["Accessibility/Components/MenuComponent.js"],D["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],D["Accessibility/ProxyProvider.js"],D["Accessibility/Components/RangeSelectorComponent.js"],D["Accessibility/Components/SeriesComponent/SeriesComponent.js"],D["Accessibility/Components/ZoomComponent.js"],D["Accessibility/HighContrastMode.js"],D["Accessibility/HighContrastTheme.js"],D["Accessibility/Options/A11yDefaults.js"],D["Accessibility/Options/LangDefaults.js"],D["Accessibility/Options/DeprecatedOptions.js"]],function(F,G,j,U,X,L,I,E,T,M,s,y,b,x,c,m,g,u,l,f,d){const{defaultOptions:p}=F,{doc:C}=G,{addEvent:w,extend:a,fireEvent:o,merge:i}=j,{removeElement:t}=U;class e{constructor(h){this.chart=void 0,this.components=void 0,this.keyboardNavigation=void 0,this.proxyProvider=void 0,this.init(h)}init(h){if(this.chart=h,!C.addEventListener)return this.zombie=!0,this.components={},void h.renderTo.setAttribute("aria-hidden",!0);d(h),this.proxyProvider=new b(this.chart),this.initComponents(),this.keyboardNavigation=new T(h,this.components)}initComponents(){const h=this.chart,r=this.proxyProvider,S=h.options.accessibility;this.components={container:new L,infoRegions:new E,legend:new M,chartMenu:new s,rangeSelector:new x,series:new c,zoom:new m},S.customComponents&&a(this.components,S.customComponents);const v=this.components;this.getComponentOrder().forEach(function(P){v[P].initBase(h,r),v[P].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const h=Object.keys(this.components).filter(r=>"series"!==r);return["series"].concat(h)}update(){const h=this.components,r=this.chart,S=r.options.accessibility;o(r,"beforeA11yUpdate"),r.types=this.getChartTypes();const v=S.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(v),this.getComponentOrder().forEach(function(P){h[P].onChartUpdate(),o(r,"afterA11yComponentUpdate",{name:P,component:h[P]})}),this.keyboardNavigation.update(v),!r.highContrastModeActive&&g.isHighContrastModeActive()&&g.setHighContrastTheme(r),o(r,"afterA11yUpdate",{accessibility:this})}destroy(){const h=this.chart||{},r=this.components;Object.keys(r).forEach(function(S){r[S].destroy(),r[S].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),h.announcerContainer&&t(h.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),h.renderTo&&h.renderTo.setAttribute("aria-hidden",!0),h.focusElement&&h.focusElement.removeFocusBorder()}getChartTypes(){const h={};return this.chart.series.forEach(function(r){h[r.type]=1}),Object.keys(h)}}return function(n){const h=[];function r(){this.accessibility&&this.accessibility.destroy()}function S(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const O=this.accessibility;O&&!O.zombie&&(O.proxyProvider.updateProxyElementPositions(),O.getComponentOrder().forEach(function(N){O.components[N].onChartRender()}))}function v(O){const N=O.options.accessibility;N&&(N.customComponents&&(this.options.accessibility.customComponents=N.customComponents,delete N.customComponents),i(!0,this.options.accessibility,N),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function P(){let O=this.accessibility;const N=this.options.accessibility;N&&N.enabled?O&&!O.zombie?O.update():(this.accessibility=O=new n(this),O&&!O.zombie&&O.update()):O?(O.destroy&&O.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function k(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}n.i18nFormat=X.i18nFormat,n.compose=function A(O,N,B,Y,W,R){T.compose(O),y.compose(Y),M.compose(O,N),s.compose(O),c.compose(O,B,Y),X.compose(O),I.compose(O,W),R&&x.compose(O,R),j.pushUnique(h,O)&&(O.prototype.updateA11yEnabled=P,w(O,"destroy",r),w(O,"render",S),w(O,"update",v),["addSeries","init"].forEach(H=>{w(O,H,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(H=>{w(O,H,function(){const q=this.accessibility;q&&!q.zombie&&q.update()})})),j.pushUnique(h,B)&&w(B,"update",k),j.pushUnique(h,Y)&&["update","updatedData","remove"].forEach(z=>{w(Y,z,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(e||(e={})),i(!0,p,l,{accessibility:{highContrastTheme:u},lang:f}),e}),Z(D,"masters/modules/accessibility.src.js",[D["Core/Globals.js"],D["Accessibility/Accessibility.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(F,G,j,U,X,L,I){const E=F;E.i18nFormat=G.i18nFormat,E.A11yChartUtilities=U,E.A11yHTMLUtilities=X,E.AccessibilityComponent=j,E.KeyboardNavigationHandler=L,E.SeriesAccessibilityDescriber=I,G.compose(E.Chart,E.Legend,E.Point,E.Series,E.SVGElement,E.RangeSelector)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},4949:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Extensions/Annotations/AnnotationChart.js",[D["Core/Utilities.js"]],function(F){const{addEvent:G,erase:j,find:U,fireEvent:X,pick:L,wrap:I}=F,E=[];function T(m,g){const u=this.initAnnotation(m);return this.options.annotations.push(u.options),L(g,!0)&&(u.redraw(),u.graphic.attr({opacity:1})),u}function M(){const m=this;m.plotBoxClip=this.renderer.clipRect(this.plotBox),m.controlPointsGroup=m.renderer.g("control-points").attr({zIndex:99}).clip(m.plotBoxClip).add(),m.options.annotations.forEach((g,u)=>{if(!m.annotations.some(l=>l.options===g)){const l=m.initAnnotation(g);m.options.annotations[u]=l.options}}),m.drawAnnotations(),G(m,"redraw",m.drawAnnotations),G(m,"destroy",function(){m.plotBoxClip.destroy(),m.controlPointsGroup.destroy()}),G(m,"exportData",function(g){const l=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,f=!g.dataRows[1].xValues,d=m.options.lang&&m.options.lang.exportData&&m.options.lang.exportData.annotationHeader,p=function(t){let e;return l&&(e=l(t),!1!==e)?e:(e=d+" "+t,f?{columnTitle:e,topLevelColumnTitle:e}:e)},C=g.dataRows[0].length,w=m.options.exporting&&m.options.exporting.csv&&m.options.exporting.csv.annotations&&m.options.exporting.csv.annotations.itemDelimiter,a=m.options.exporting&&m.options.exporting.csv&&m.options.exporting.csv.annotations&&m.options.exporting.csv.annotations.join;m.annotations.forEach(t=>{t.options.labelOptions&&t.options.labelOptions.includeInDataExport&&t.labels.forEach(e=>{if(e.options.text){const n=e.options.text;e.points.forEach(h=>{const r=h.x,S=h.series.xAxis?h.series.xAxis.options.index:-1;let v=!1;if(-1===S){const P=g.dataRows[0].length,A=new Array(P);for(let k=0;k<P;++k)A[k]="";A.push(n),A.xValues=[],A.xValues[S]=r,g.dataRows.push(A),v=!0}if(v||g.dataRows.forEach(P=>{!v&&P.xValues&&void 0!==S&&r===P.xValues[S]&&(a&&P.length>C?P[P.length-1]+=w+n:P.push(n),v=!0)}),!v){const P=g.dataRows[0].length,A=new Array(P);for(let k=0;k<P;++k)A[k]="";A[0]=r,A.push(n),A.xValues=[],void 0!==S&&(A.xValues[S]=r),g.dataRows.push(A)}})}})});let o=0;g.dataRows.forEach(t=>{o=Math.max(o,t.length)});const i=o-g.dataRows[0].length;for(let t=0;t<i;t++){const e=p(t+1);f?(g.dataRows[0].push(e.topLevelColumnTitle),g.dataRows[1].push(e.columnTitle)):g.dataRows[0].push(e)}})}function s(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(m=>{m.redraw(),m.graphic.animate({opacity:1},m.animationConfig)})}function y(m){const g=this.annotations,u="annotations"===m.coll?m:U(g,function(l){return l.options.id===m});u&&(X(u,"remove"),j(this.options.annotations,u.options),j(g,u),u.destroy())}function b(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function x(m){this.chart.hasDraggedAnnotation||m.apply(this,Array.prototype.slice.call(arguments,1))}var c;return(c||(c={})).compose=function g(u,l,f){if(F.pushUnique(E,l)){G(l,"afterInit",b);const d=l.prototype;d.addAnnotation=T,d.callbacks.push(M),d.collectionsWithInit.annotations=[T],d.collectionsWithUpdate.push("annotations"),d.drawAnnotations=s,d.removeAnnotation=y,d.initAnnotation=function(C){const a=new(u.types[C.type]||u)(this,C);return this.annotations.push(a),a}}F.pushUnique(E,f)&&I(f.prototype,"onContainerMouseDown",x)},c}),Z(D,"Extensions/Annotations/AnnotationDefaults.js",[D["Core/Utilities.js"]],function(F){const{defined:G}=F;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return G(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}}),Z(D,"Extensions/Annotations/EventEmitter.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{doc:j,isTouchDevice:U}=F,{addEvent:X,fireEvent:L,objectEach:I,pick:E,removeEvent:T}=G;return class M{addEvents(){const y=this,b=function(x){X(x,U?"touchstart":"mousedown",c=>{y.onMouseDown(c)},{passive:!1})};if(b(this.graphic.element),(y.labels||[]).forEach(x=>{x.options.useHTML&&x.graphic.text&&b(x.graphic.text.element)}),I(y.options.events,(x,c)=>{const m=function(g){("click"!==c||!y.cancelClick)&&x.call(y,y.chart.pointer.normalize(g),y.target)};-1===(y.nonDOMEvents||[]).indexOf(c)?y.graphic.on(c,m):X(y,c,m,{passive:!1})}),y.options.draggable&&(X(y,"drag",y.onDrag),!y.graphic.renderer.styledMode)){const x={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[y.options.draggable]};y.graphic.css(x),(y.labels||[]).forEach(c=>{c.options.useHTML&&c.graphic.text&&c.graphic.text.css(x)})}y.isUpdating||L(y,"add")}destroy(){this.removeDocEvents(),T(this),this.hcEvents=null}mouseMoveToRadians(y,b,x){let l,c=y.prevChartY-x,m=y.prevChartX-b,g=y.chartY-x,u=y.chartX-b;return this.chart.inverted&&(l=m,m=c,c=l,l=u,u=g,g=l),Math.atan2(g,u)-Math.atan2(c,m)}mouseMoveToScale(y,b,x){let l=(y.chartX-b||1)/(y.prevChartX-b||1),f=(y.chartY-x||1)/(y.prevChartY-x||1);if(this.chart.inverted){const d=f;f=l,l=d}return{x:l,y:f}}mouseMoveToTranslation(y){let c,b=y.chartX-y.prevChartX,x=y.chartY-y.prevChartY;return this.chart.inverted&&(c=x,x=b,b=c),{x:b,y:x}}onDrag(y){if(this.chart.isInsidePlot(y.chartX-this.chart.plotLeft,y.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){const b=this.mouseMoveToTranslation(y);"x"===this.options.draggable&&(b.y=0),"y"===this.options.draggable&&(b.x=0);const x=this;x.points.length?x.translate(b.x,b.y):(x.shapes.forEach(c=>c.translate(b.x,b.y)),x.labels.forEach(c=>c.translate(b.x,b.y))),this.redraw(!1)}}onMouseDown(y){if(y.preventDefault&&y.preventDefault(),2===y.button)return;const b=this,x=b.chart.pointer;let c=(y=x.normalize(y)).chartX,m=y.chartY;b.cancelClick=!1,b.chart.hasDraggedAnnotation=!0,b.removeDrag=X(j,U?"touchmove":"mousemove",function(g){b.hasDragged=!0,(g=x.normalize(g)).prevChartX=c,g.prevChartY=m,L(b,"drag",g),c=g.chartX,m=g.chartY},U?{passive:!1}:void 0),b.removeMouseUp=X(j,U?"touchend":"mouseup",function(g){const u=E(b.target&&b.target.annotation,b.target);u&&(u.cancelClick=b.hasDragged),b.cancelClick=b.hasDragged,b.hasDragged=!1,b.chart.hasDraggedAnnotation=!1,L(E(u,b),"afterUpdate"),b.onMouseUp(g)},U?{passive:!1}:void 0)}onMouseUp(y){const b=this.chart,x=this.target||this,c=b.options.annotations,m=b.annotations.indexOf(x);this.removeDocEvents(),c[m]=x.options}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}}),Z(D,"Extensions/Annotations/ControlPoint.js",[D["Extensions/Annotations/EventEmitter.js"],D["Core/Utilities.js"]],function(F,G){const{merge:j,pick:U}=G;return class X extends F{constructor(I,E,T,M){super(),this.graphic=void 0,this.nonDOMEvents=["drag"],this.chart=I,this.target=E,this.options=T,this.index=U(T.index,M)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null}redraw(I){this.graphic[I?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const I=this.chart,E=this.options;this.graphic=I.renderer.symbol(E.symbol,0,0,E.width,E.height).add(I.controlPointsGroup).css(E.style),this.setVisibility(E.visible),this.addEvents()}setVisibility(I){this.graphic[I?"show":"hide"](),this.options.visible=I}update(I){const E=this.chart,T=this.target,M=this.index,s=j(!0,this.options,I);this.destroy(),this.constructor(E,T,s,M),this.render(E.controlPointsGroup),this.redraw()}}}),Z(D,"Extensions/Annotations/MockPoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G){const{series:{prototype:j}}=F,{defined:U,fireEvent:X}=G;class L{static fromPoint(E){return new L(E.series.chart,null,{x:E.x,y:E.y,xAxis:E.series.xAxis,yAxis:E.series.yAxis})}static pointToPixels(E,T){const M=E.series,s=M.chart;let x,y=E.plotX||0,b=E.plotY||0;return s.inverted&&(E.mock?(y=E.plotY,b=E.plotX):(y=s.plotWidth-(E.plotY||0),b=s.plotHeight-(E.plotX||0))),M&&!T&&(x=M.getPlotBox(),y+=x.translateX,b+=x.translateY),{x:y,y:b}}static pointToOptions(E){return{x:E.x,y:E.y,xAxis:E.series.xAxis,yAxis:E.series.yAxis}}constructor(E,T,M){this.plotX=void 0,this.plotY=void 0,this.mock=!0,this.series={visible:!0,chart:E,getPlotBox:j.getPlotBox},this.target=T||null,this.options=M,this.applyOptions(this.getOptions())}applyOptions(E){this.command=E.command,this.setAxis(E,"x"),this.setAxis(E,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"==typeof this.options}isInsidePlot(){const E=this.plotX,T=this.plotY,M=this.series.xAxis,s=this.series.yAxis,y={x:E,y:T,isInsidePlot:!0,options:{}};return M&&(y.isInsidePlot=U(E)&&E>=0&&E<=M.len),s&&(y.isInsidePlot=y.isInsidePlot&&U(T)&&T>=0&&T<=s.len),X(this.series.chart,"afterIsInsidePlot",y),y.isInsidePlot}refresh(){const E=this.series,T=E.xAxis,M=E.yAxis,s=this.getOptions();T?(this.x=s.x,this.plotX=T.toPixels(s.x,!0)):(this.x=void 0,this.plotX=s.x),M?(this.y=s.y,this.plotY=M.toPixels(s.y,!0)):(this.y=null,this.plotY=s.y),this.isInside=this.isInsidePlot()}refreshOptions(){const E=this.series,T=E.xAxis,M=E.yAxis;this.x=this.options.x=T?this.options.x=T.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=M?M.toValue(this.plotY,!0):this.plotY}rotate(E,T,M){if(!this.hasDynamicOptions()){const s=Math.cos(M),y=Math.sin(M),b=this.plotX-E,x=this.plotY-T,m=b*y+x*s;this.plotX=b*s-x*y+E,this.plotY=m+T,this.refreshOptions()}}scale(E,T,M,s){if(!this.hasDynamicOptions()){const b=this.plotY*s,c=(1-s)*T;this.plotX=(1-M)*E+this.plotX*M,this.plotY=c+b,this.refreshOptions()}}setAxis(E,T){const M=T+"Axis",s=E[M],y=this.series.chart;this.series[M]="object"==typeof s?s:U(s)?y[M][s]||y.get(s):null}toAnchor(){const E=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(E[0]=this.plotY,E[1]=this.plotX),E}translate(E,T,M,s){this.hasDynamicOptions()||(this.plotX+=M,this.plotY+=s,this.refreshOptions())}}return L}),Z(D,"Extensions/Annotations/ControlTarget.js",[D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j){var U;return function(X){const L=[];function I(){const f=this.controlPoints,d=this.options.controlPoints||[];d.forEach((p,C)=>{const w=j.merge(this.options.controlPointOptions,p);w.index||(w.index=C),d[C]=w,f.push(new F(this.chart,this,w))})}function E(f){const d=f.series.getPlotBox(),p=f.series.chart,C=f.mock?f.toAnchor():p.tooltip&&p.tooltip.getAnchor.call({chart:f.series.chart},f)||[0,0,0,0],w={x:C[0]+(this.options.x||0),y:C[1]+(this.options.y||0),height:C[2]||0,width:C[3]||0};return{relativePosition:w,absolutePosition:j.merge(w,{x:w.x+(f.mock?d.translateX:p.plotLeft),y:w.y+(f.mock?d.translateY:p.plotTop)})}}function M(){this.controlPoints.forEach(f=>f.destroy()),this.chart=null,this.controlPoints=null,this.points=null,this.options=null,this.annotation&&(this.annotation=null)}function s(){const f=this.options;return f.points||f.point&&j.splat(f.point)}function y(){const f=this.getPointsOptions(),d=this.points,p=f&&f.length||0;let C,w;for(C=0;C<p;C++){if(w=this.point(f[C],d[C]),!w)return void(d.length=0);w.mock&&w.refresh(),d[C]=w}return d}function b(f,d){if(f&&f.series)return f;if(!d||null===d.series)if(j.isObject(f))d=new G(this.chart,this,f);else if(j.isString(f))d=this.chart.get(f)||null;else if("function"==typeof f){const p=f.call(d,this);d=p.series?p:new G(this.chart,this,f)}return d}function x(f){this.controlPoints.forEach(d=>d.redraw(f))}function c(){this.controlPoints.forEach(f=>f.render())}function m(f,d,p,C,w){if(this.chart.inverted){const a=d;d=p,p=a}this.points.forEach((a,o)=>this.transformPoint(f,d,p,C,w,o),this)}function g(f,d,p,C,w,a){let o=this.points[a];o.mock||(o=this.points[a]=G.fromPoint(o)),o[f](d,p,C,w)}function u(f,d){this.transform("translate",null,null,f,d)}function l(f,d,p){this.transformPoint("translate",null,null,f,d,p)}X.compose=function T(f){j.pushUnique(L,f)&&j.merge(!0,f.prototype,{addControlPoints:I,anchor:E,destroyControlTarget:M,getPointsOptions:s,linkPoints:y,point:b,redrawControlPoints:x,renderControlPoints:c,transform:m,transformPoint:g,translate:u,translatePoint:l})}}(U||(U={})),U}),Z(D,"Extensions/Annotations/Controllables/Controllable.js",[D["Extensions/Annotations/ControlTarget.js"],D["Core/Utilities.js"]],function(F,G){const{merge:j}=G;class U{constructor(L,I,E,T){this.graphic=void 0,this.annotation=L,this.chart=L.chart,this.collection="label"===T?"labels":"shapes",this.controlPoints=[],this.options=I,this.points=[],this.index=E,this.itemType=T,this.init(L,I,E)}attr(...L){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(L){const I=this.constructor.attrsMap,E={},T=this.chart.styledMode;let M,s;for(M in L)s=I[M],typeof I[M]<"u"&&(!T||-1===["fill","stroke","stroke-width"].indexOf(s))&&(E[s]=L[M]);return E}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(L,I,E){this.annotation=L,this.chart=L.chart,this.options=I,this.points=[],this.controlPoints=[],this.index=E,this.linkPoints(),this.addControlPoints()}redraw(L){this.redrawControlPoints(L)}render(L){this.renderControlPoints()}rotate(L,I,E){this.transform("rotate",L,I,E)}scale(L,I,E,T){this.transform("scale",L,I,E,T)}setControlPointsVisibility(L){this.controlPoints.forEach(I=>{I.setVisibility(L)})}shouldBeDrawn(){return!!this.points.length}translateShape(L,I,E){const T=this.annotation.chart,M=this.annotation.userOptions,s=T.annotations.indexOf(this.annotation),y=T.options.annotations[s];this.translatePoint(L,I,0),E&&this.translatePoint(L,I,1),y[this.collection][this.index].point=this.options.point,M[this.collection][this.index].point=this.options.point}update(L){const I=this.annotation,E=j(!0,this.options,L),T=this.graphic.parentGroup,M=this.constructor;this.destroy();const s=new M(I,E,this.index,this.itemType);j(!0,this,s),this.render(T),this.redraw()}}return F.compose(U),U}),Z(D,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}}),Z(D,"Extensions/Annotations/Controllables/ControllablePath.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllableDefaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{defaultMarkers:X}=G,{addEvent:L,defined:I,extend:E,merge:T,uniqueKey:M}=U,s=[],y=c("marker-end"),b=c("marker-start"),x="rgba(192,192,192,"+(j.svg?1e-4:.002)+")";function c(l){return function(f){this.attr(l,"url(#"+f+")")}}function m(){this.options.defs=T(X,this.options.defs||{})}function g(l,f){const d={attributes:{id:l}},p={stroke:f.color||"none",fill:f.color||"rgba(0, 0, 0, 0.75)"};d.children=f.children&&f.children.map(function(a){return T(p,a)});const C=T(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},f,d),w=this.definition(C);return w.id=l,w}return(()=>{class l extends F{static compose(d,p){U.pushUnique(s,d)&&L(d,"afterGetContainer",m),U.pushUnique(s,p)&&(p.prototype.addMarker=g)}constructor(d,p,C){super(d,p,C,"shape"),this.type="path"}toD(){const d=this.options.d;if(d)return"function"==typeof d?d.call(this):d;const p=this.points,C=p.length,w=[];let e,a=C,o=p[0],i=a&&this.anchor(o).absolutePosition,t=0;if(i)for(w.push(["M",i.x,i.y]);++t<C&&a;)o=p[t],e=o.command||"L",i=this.anchor(o).absolutePosition,"M"===e||"L"===e?w.push([e,i.x,i.y]):"Z"===e&&w.push([e]),a=o.series.visible;return a&&this.graphic?this.chart.renderer.crispLine(w,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(d){const p=this.options,C=this.attrsFromOptions(p);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(C).add(d),p.className&&this.graphic.addClass(p.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(d),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:x,fill:x,"stroke-width":this.graphic.strokeWidth()+2*p.snap}),super.render(),E(this.graphic,{markerStartSetter:b,markerEndSetter:y}),this.setMarkers(this)}redraw(d){if(this.graphic){const p=this.toD(),C=d?"animate":"attr";p?(this.graphic[C]({d:p}),this.tracker[C]({d:p})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!p}super.redraw(d)}setMarkers(d){const p=d.options,C=d.chart,w=C.options.defs,a=p.fill,o=I(a)&&"none"!==a?a:p.stroke;["markerStart","markerEnd"].forEach(function(t){let n,h,r,S,e=p[t];if(e){for(r in w)if(n=w[r],(e===(n.attributes&&n.attributes.id)||e===n.id)&&"marker"===n.tagName){h=n;break}h&&(S=d[t]=C.renderer.addMarker((p.id||M())+"-"+e,T(h,{color:o})),d.attr(t,S.getAttribute("id")))}})}}return l.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},l})()}),Z(D,"Extensions/Annotations/Controllables/ControllableRect.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U}=j;class X extends F{constructor(I,E,T){super(I,E,T,"shape"),this.type="rect",this.translate=super.translateShape}render(I){const E=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(E).add(I),super.render()}redraw(I){if(this.graphic){const E=this.anchor(this.points[0]).absolutePosition;E?this.graphic[I?"animate":"attr"]({x:E.x,y:E.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(E)}super.redraw(I)}}return X.attrsMap=U(G.attrsMap,{width:"width",height:"height"}),X}),Z(D,"Extensions/Annotations/Controllables/ControllableCircle.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U}=j;class X extends F{constructor(I,E,T){super(I,E,T,"shape"),this.type="circle",this.translate=super.translateShape}redraw(I){if(this.graphic){const E=this.anchor(this.points[0]).absolutePosition;E?this.graphic[I?"animate":"attr"]({x:E.x,y:E.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!E}super.redraw.call(this,I)}render(I){const E=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(E).add(I),super.render()}setRadius(I){this.options.r=I}}return X.attrsMap=U(G.attrsMap,{r:"r"}),X}),Z(D,"Extensions/Annotations/Controllables/ControllableEllipse.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U,defined:X}=j;class L extends F{constructor(E,T,M){super(E,T,M,"shape"),this.type="ellipse"}init(E,T,M){X(T.yAxis)&&T.points.forEach(s=>{s.yAxis=T.yAxis}),X(T.xAxis)&&T.points.forEach(s=>{s.xAxis=T.xAxis}),super.init(E,T,M)}render(E){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(E),super.render()}translate(E,T){super.translateShape(E,T,!0)}getDistanceFromLine(E,T,M,s){return Math.abs((T.y-E.y)*M-(T.x-E.x)*s+T.x*E.y-T.y*E.x)/Math.sqrt((T.y-E.y)*(T.y-E.y)+(T.x-E.x)*(T.x-E.x))}getAttrs(E,T){const M=E.x,s=E.y,y=T.x,b=T.y,x=(M+y)/2,c=(s+b)/2,m=Math.sqrt((M-y)*(M-y)/4+(s-b)*(s-b)/4);let u=180*Math.atan((b-s)/(y-M))/Math.PI;return x<M&&(u+=180),{cx:x,cy:c,rx:m,ry:this.getRY(),angle:u}}getRY(){const E=this.getYAxis();return X(E)?Math.abs(E.toPixels(this.options.ry)-E.toPixels(0)):this.options.ry}getYAxis(){return this.chart.yAxis[this.options.yAxis]}getAbsolutePosition(E){return this.anchor(E).absolutePosition}redraw(E){if(this.graphic){const T=this.getAbsolutePosition(this.points[0]),M=this.getAbsolutePosition(this.points[1]),s=this.getAttrs(T,M);T?this.graphic[E?"animate":"attr"]({cx:s.cx,cy:s.cy,rx:s.rx,ry:s.ry,rotation:s.angle,rotationOriginX:s.cx,rotationOriginY:s.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(T)}super.redraw(E)}setYRadius(E){const T=this.annotation.userOptions.shapes;this.options.ry=E,T&&T[0]&&(T[0].ry=E,T[0].ry=E)}}return L.attrsMap=U(G.attrsMap,{ry:"ry"}),L}),Z(D,"Extensions/Annotations/Controllables/ControllableLabel.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Core/FormatUtilities.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{format:X}=G,{extend:L,isNumber:I,pick:E}=U,T=[];function M(y,b,x,c,m){const g=m&&m.anchorX,u=m&&m.anchorY;let l,f,d=x/2;return I(g)&&I(u)&&(l=[["M",g,u]],f=b-u,f<0&&(f=-c-f),f<x&&(d=g<y+x/2?f:x-f),u>b+c?l.push(["L",y+d,b+c]):u<b?l.push(["L",y+d,b]):g<y?l.push(["L",y,b+c/2]):g>y+x&&l.push(["L",y+x,b+c/2])),l||[]}return(()=>{class y extends F{static alignedPosition(x,c){const m=x.align,g=x.verticalAlign;let f,d,u=(c.x||0)+(x.x||0),l=(c.y||0)+(x.y||0);return"right"===m?f=1:"center"===m&&(f=2),f&&(u+=(c.width-(x.width||0))/f),"bottom"===g?d=1:"middle"===g&&(d=2),d&&(l+=(c.height-(x.height||0))/d),{x:Math.round(u),y:Math.round(l)}}static compose(x){U.pushUnique(T,x)&&(x.prototype.symbols.connector=M)}static justifiedOptions(x,c,m,g){const u=m.align,l=m.verticalAlign,f=c.box?0:c.padding||0,d=c.getBBox(),p={align:u,verticalAlign:l,x:m.x,y:m.y,width:c.width,height:c.height},C=(g.x||0)-x.plotLeft,w=(g.y||0)-x.plotTop;let a;return a=C+f,a<0&&("right"===u?p.align="left":p.x=(p.x||0)-a),a=C+d.width-f,a>x.plotWidth&&("left"===u?p.align="right":p.x=(p.x||0)+x.plotWidth-a),a=w+f,a<0&&("bottom"===l?p.verticalAlign="top":p.y=(p.y||0)-a),a=w+d.height-f,a>x.plotHeight&&("top"===l?p.verticalAlign="bottom":p.y=(p.y||0)+x.plotHeight-a),p}constructor(x,c,m){super(x,c,m,"label")}translatePoint(x,c){super.translatePoint(x,c,0)}translate(x,c){const m=this.annotation.chart,g=this.annotation.userOptions,u=m.annotations.indexOf(this.annotation),f=m.options.annotations[u];if(m.inverted){const d=x;x=c,c=d}this.options.x+=x,this.options.y+=c,f[this.collection][this.index].x=this.options.x,f[this.collection][this.index].y=this.options.y,g[this.collection][this.index].x=this.options.x,g[this.collection][this.index].y=this.options.y}render(x){const c=this.options,m=this.attrsFromOptions(c),g=c.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,c.shape,null,null,c.useHTML,null,"annotation-label").attr(m).add(x),this.annotation.chart.styledMode||("contrast"===g.color&&(g.color=this.annotation.chart.renderer.getContrast(y.shapesWithoutBackground.indexOf(c.shape)>-1?"#FFFFFF":c.backgroundColor)),this.graphic.css(c.style).shadow(c.shadow)),c.className&&this.graphic.addClass(c.className),this.graphic.labelrank=c.labelrank,super.render()}redraw(x){const c=this.options,m=this.text||c.format||c.text,g=this.graphic,u=this.points[0];if(!g)return void this.redraw(x);g.attr({text:m?X(String(m),u.getLabelConfig(),this.annotation.chart):c.formatter.call(u,this)});const l=this.anchor(u),f=this.position(l);f?(g.alignAttr=f,f.anchorX=l.absolutePosition.x,f.anchorY=l.absolutePosition.y,g[x?"animate":"attr"](f)):g.attr({x:0,y:-9999}),g.placed=!!f,super.redraw(x)}anchor(x){const c=super.anchor.apply(this,arguments),m=this.options.x||0,g=this.options.y||0;return c.absolutePosition.x-=m,c.absolutePosition.y-=g,c.relativePosition.x-=m,c.relativePosition.y-=g,c}position(x){const c=this.graphic,m=this.annotation.chart,g=m.tooltip,u=this.points[0],l=this.options,f=x.absolutePosition,d=x.relativePosition;let p,C,w,a,o=u.series.visible&&j.prototype.isInsidePlot.call(u);if(c&&o){const{width:i=0,height:t=0}=c;l.distance&&g?p=g.getPosition.call({chart:m,distance:E(l.distance,16),getPlayingField:g.getPlayingField},i,t,{plotX:d.x,plotY:d.y,negative:u.negative,ttBelow:u.ttBelow,h:d.height||d.width}):l.positioner?p=l.positioner.call(this):(C={x:f.x,y:f.y,width:0,height:0},p=y.alignedPosition(L(l,{width:i,height:t}),C),"justify"===this.options.overflow&&(p=y.alignedPosition(y.justifiedOptions(m,c,l,p),C))),l.crop&&(w=p.x-m.plotLeft,a=p.y-m.plotTop,o=m.isInsidePlot(w,a)&&m.isInsidePlot(w+i,a+t))}return o?p:null}}return y.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},y.shapesWithoutBackground=["connector"],y})()}),Z(D,"Extensions/Annotations/Controllables/ControllableImage.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllableLabel.js"]],function(F,G){return(()=>{class U extends F{constructor(L,I,E){super(L,I,E,"shape"),this.type="image",this.translate=super.translateShape}render(L){const I=this.attrsFromOptions(this.options),E=this.options;this.graphic=this.annotation.chart.renderer.image(E.src,0,-9e9,E.width,E.height).attr(I).add(L),this.graphic.width=E.width,this.graphic.height=E.height,super.render()}redraw(L){if(this.graphic){const I=this.anchor(this.points[0]),E=G.prototype.position.call(this,I);E?this.graphic[L?"animate":"attr"]({x:E.x,y:E.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(E)}super.redraw(L)}}return U.attrsMap={width:"width",height:"height",zIndex:"zIndex"},U})()}),Z(D,"Core/Chart/ChartNavigationComposition.js",[],function(){var F;return function(G){G.compose=function j(X){return X.navigation||(X.navigation=new U(X)),X};class U{constructor(L){this.updates=[],this.chart=L}addUpdate(L){this.chart.navigation.updates.push(L)}update(L,I){this.updates.forEach(E=>{E.call(this.chart,L,I)})}}G.Additions=U}(F||(F={})),F}),Z(D,"Extensions/Annotations/NavigationBindingsUtilities.js",[D["Core/Utilities.js"]],function(F){const{defined:G,isNumber:j,pick:U}=F,X={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:X,getAssignedAxis:function L(T){return T.filter(M=>{const s=M.axis.getExtremes(),y=s.min,b=s.max,x=U(M.axis.minPointOffset,0);return j(y)&&j(b)&&M.value>=y-x&&M.value<=b+x&&!M.axis.options.isInternal})[0]},getFieldType:function I(T,M){const s=X[T];let y=typeof M;return G(s)&&(y=s),{string:"text",number:"number",boolean:"checkbox"}[y]}}}),Z(D,"Extensions/Annotations/NavigationBindingsDefaults.js",[D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(F,G){const{getAssignedAxis:j}=F,{isNumber:U,merge:X}=G;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:s.value,y:y.value,xAxis:s.axis.options.index,yAxis:y.axis.options.index},r:5}]},b.annotationsOptions,b.bindings.circleAnnotation.annotationsOptions))},steps:[function(T,M){const s=M.options.shapes,y=s&&s[0]&&s[0].point||{};let b;if(U(y.xAxis)&&U(y.yAxis)){const x=this.chart.inverted,c=this.chart.xAxis[y.xAxis].toPixels(y.x),m=this.chart.yAxis[y.yAxis].toPixels(y.y);b=Math.max(Math.sqrt(Math.pow(x?m-T.chartX:c-T.chartX,2)+Math.pow(x?c-T.chartY:m-T.chartY,2)),5)}M.update({shapes:[{r:b}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:s.axis.options.index,yAxis:y.axis.options.index,points:[{x:s.value,y:y.value},{x:s.value,y:y.value}],ry:1}]},b.annotationsOptions,b.bindings.ellipseAnnotation.annotationOptions))},steps:[function(T,M){const s=M.shapes[0],y=s.getAbsolutePosition(s.points[1]);s.translatePoint(T.chartX-y.x,T.chartY-y.y,1),s.redraw(!1)},function(T,M){const s=M.shapes[0],y=s.getAbsolutePosition(s.points[0]),b=s.getAbsolutePosition(s.points[1]),x=s.getDistanceFromLine(y,b,T.chartX,T.chartY),c=s.getYAxis(),m=Math.abs(c.toValue(0)-c.toValue(x));s.setYRadius(m),s.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis);if(!s||!y)return;const b=s.value,x=y.value,c=s.axis.options.index,m=y.axis.options.index,g=this.chart.options.navigation;return this.chart.addAnnotation(X({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{command:"Z"}]}]},g.annotationsOptions,g.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(T,M){const s=M.options.shapes,y=s&&s[0]&&s[0].points||[],b=this.chart.pointer.getCoordinates(T),x=j(b.xAxis),c=j(b.yAxis);if(x&&c){const m=x.value,g=c.value;y[1].x=m,y[2].x=m,y[2].y=g,y[3].y=g,M.update({shapes:[{points:y}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:s.axis.options.index,yAxis:y.axis.options.index,x:s.value,y:y.value},overflow:"none",crop:!0}]},b.annotationsOptions,b.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),Z(D,"Extensions/Annotations/NavigationBindings.js",[D["Core/Chart/ChartNavigationComposition.js"],D["Core/Defaults.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsDefaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I){const{setOptions:E}=G,{format:T}=j,{doc:M,win:s}=U,{getFieldType:y}=L,{addEvent:b,attr:x,fireEvent:m,isArray:g,isFunction:u,isNumber:l,isObject:f,merge:d,objectEach:p,pick:C}=I,w=[];function o(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function i(){this.navigationBindings&&this.navigationBindings.destroy()}function t(){const v=this.options;v&&v.navigation&&v.navigation.bindings&&(this.navigationBindings=new S(this,v.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function e(){const v=this.navigationBindings,P="highcharts-disabled-btn";if(this&&v){let A=!1;if(this.series.forEach(k=>{!k.options.isInternal&&k.visible&&(A=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const k=this.navigationBindings.container[0];p(v.boundClassNames,(O,N)=>{const B=k.querySelectorAll("."+N);if(B)for(let Y=0;Y<B.length;Y++){const W=B[Y],R=W.className;"normal"===O.noDataState||A?-1!==R.indexOf(P)&&W.classList.remove(P):-1===R.indexOf(P)&&(W.className+=" "+P)}})}}}function n(){this.deselectAnnotation()}function h(){this.selectedButtonElement=null}function r(v){const P=v.prototype.defaultOptions.events&&v.prototype.defaultOptions.events.click;function A(Y){const W=this,R=W.chart.navigationBindings,z=R.activeAnnotation;P&&P.call(W,Y),z!==W?(R.deselectAnnotation(),R.activeAnnotation=W,W.setControlPointsVisibility(!0),m(R,"showPopup",{annotation:W,formType:"annotation-toolbar",options:R.annotationToFields(W),onSubmit:function(H){if("remove"===H.actionType)R.activeAnnotation=!1,R.chart.removeAnnotation(W);else{const _={};R.fieldsToOptions(H.fields,_),R.deselectAnnotation();const q=_.typeOptions;"measure"===W.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),W.update(_)}}})):m(R,"closePopup"),Y.activeAnnotation=!0}let k,O;d(!0,v.prototype.defaultOptions.events,{click:A,touchstart:function N(Y){k=Y.touches[0].clientX,O=Y.touches[0].clientY},touchend:function B(Y){k&&Math.sqrt(Math.pow(k-Y.changedTouches[0].clientX,2)+Math.pow(O-Y.changedTouches[0].clientY,2))>=4||A.call(this,Y)}})}let S=(()=>{class v{static compose(A,k){I.pushUnique(w,A)&&(b(A,"remove",o),r(A),p(A.types,O=>{r(O)})),I.pushUnique(w,k)&&(b(k,"destroy",i),b(k,"load",t),b(k,"render",e)),I.pushUnique(w,v)&&(b(v,"closePopup",n),b(v,"deselectButton",h)),I.pushUnique(w,E)&&E(X)}constructor(A,k){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=A,this.options=k,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=M.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const A=this,k=A.chart,O=A.container,N=A.options;A.boundClassNames={},p(N.bindings||{},B=>{A.boundClassNames[B.className]=B}),[].forEach.call(O,B=>{A.eventsToUnbind.push(b(B,"click",Y=>{const W=A.getButtonEvents(B,Y);W&&!W.button.classList.contains("highcharts-disabled-btn")&&A.bindingsButtonClick(W.button,W.events,Y)}))}),p(N.events||{},(B,Y)=>{u(B)&&A.eventsToUnbind.push(b(A,Y,B,{passive:!1}))}),A.eventsToUnbind.push(b(k.container,"click",function(B){!k.cancelClick&&k.isInsidePlot(B.chartX-k.plotLeft,B.chartY-k.plotTop,{visiblePlotOnly:!0})&&A.bindingsChartClick(this,B)})),A.eventsToUnbind.push(b(k.container,U.isTouchDevice?"touchmove":"mousemove",function(B){A.bindingsContainerMouseMove(this,B)},U.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const A=this;F.compose(this.chart).navigation.addUpdate(k=>{A.update(k)})}bindingsButtonClick(A,k,O){const N=this,B=N.chart,Y=B.renderer.boxWrapper;let W=!0;N.selectedButtonElement&&(N.selectedButtonElement.classList===A.classList&&(W=!1),m(N,"deselectButton",{button:N.selectedButtonElement}),N.nextEvent&&(N.currentUserDetails&&"annotations"===N.currentUserDetails.coll&&B.removeAnnotation(N.currentUserDetails),N.mouseMoveEvent=N.nextEvent=!1)),W?(N.selectedButton=k,N.selectedButtonElement=A,m(N,"selectButton",{button:A}),k.init&&k.init.call(N,A,O),(k.start||k.steps)&&B.renderer.boxWrapper.addClass("highcharts-draw-mode")):(B.stockTools&&B.stockTools.toggleButtonActiveClass(A),Y.removeClass("highcharts-draw-mode"),N.nextEvent=!1,N.mouseMoveEvent=!1,N.selectedButton=null)}bindingsChartClick(A,k){const O=this,N=O.activeAnnotation,B=O.selectedButton,Y=this.chart.renderer.boxWrapper;N&&(N.cancelClick||k.activeAnnotation||!k.target.parentNode||function a(v,P){const A=s.Element.prototype,k=A.matches||A.msMatchesSelector||A.webkitMatchesSelector;let O=null;if(A.closest)O=A.closest.call(v,P);else do{if(k.call(v,P))return v;v=v.parentElement||v.parentNode}while(null!==v&&1===v.nodeType);return O}(k.target,".highcharts-popup")?N.cancelClick&&setTimeout(()=>{N.cancelClick=!1},0):m(O,"closePopup")),B&&B.start&&(O.nextEvent?(O.nextEvent(k,O.currentUserDetails),O.steps&&(O.stepIndex++,B.steps[O.stepIndex]?O.mouseMoveEvent=O.nextEvent=B.steps[O.stepIndex]:(m(O,"deselectButton",{button:O.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),B.end&&B.end.call(O,k,O.currentUserDetails),O.nextEvent=!1,O.mouseMoveEvent=!1,O.selectedButton=null))):(O.currentUserDetails=B.start.call(O,k),O.currentUserDetails&&B.steps?(O.stepIndex=0,O.steps=!0,O.mouseMoveEvent=O.nextEvent=B.steps[O.stepIndex]):(m(O,"deselectButton",{button:O.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),O.steps=!1,O.selectedButton=null,B.end&&B.end.call(O,k,O.currentUserDetails))))}bindingsContainerMouseMove(A,k){this.mouseMoveEvent&&this.mouseMoveEvent(k,this.currentUserDetails)}fieldsToOptions(A,k){return p(A,(O,N)=>{const B=parseFloat(O),Y=N.split("."),W=Y.length-1;if(l(B)&&!O.match(/px/g)&&!N.match(/format/g)&&(O=B),"undefined"!==O){let R=k;Y.forEach((z,H)=>{const _=C(Y[H+1],"");W===H?R[z]=O:(R[z]||(R[z]=_.match(/\d/g)?[]:{}),R=R[z])})}}),k}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(A){const k=A.options,O=v.annotationsEditable,N=O.nestedOptions,B=C(k.type,k.shapes&&k.shapes[0]&&k.shapes[0].type,k.labels&&k.labels[0]&&k.labels[0].type,"label"),Y=v.annotationsNonEditable[k.langKey]||[],W={langKey:k.langKey,type:B};function R(z,H,_,q,V){let $;_&&z&&-1===Y.indexOf(H)&&((_.indexOf&&_.indexOf(H))>=0||_[H]||!0===_)&&(g(z)?(q[H]=[],z.forEach((J,tt)=>{f(J)?(q[H][tt]={},p(J,(st,it)=>{R(st,it,N[H],q[H][tt],H)})):R(J,0,N[H],q[H],H)})):f(z)?($={},g(q)?(q.push($),$[H]={},$=$[H]):q[H]=$,p(z,(J,tt)=>{R(J,tt,0===H?_:N[H],$,H)})):"format"===H?q[H]=[T(z,A.labels[0].points[0]).toString(),"text"]:g(q)?q.push([z,y(V,z)]):q[H]=[z,y(H,z)])}return p(k,(z,H)=>{"typeOptions"===H?(W[H]={},p(k[H],(_,q)=>{R(_,q,N,W[H],q)})):R(z,H,O[B],W,H)}),W}getClickedClassNames(A,k){let B,O=k.target,N=[];for(;O&&O.tagName;)if(B=x(O,"class"),B&&(N=N.concat(B.split(" ").map(Y=>[Y,O]))),O=O.parentNode,O===A)return N;return N}getButtonEvents(A,k){const O=this;let B;return this.getClickedClassNames(A,k).forEach(Y=>{O.boundClassNames[Y[0]]&&!B&&(B={events:O.boundClassNames[Y[0]],button:Y[1]})}),B}update(A){this.options=d(!0,this.options,A),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(A=>A())}destroy(){this.removeEvents()}}return v.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},v.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},v})();return S}),Z(D,"Shared/BaseForm.js",[D["Core/Renderer/HTML/AST.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,createElement:U}=G;return class X{constructor(I,E){this.iconsURL=E,this.container=this.createPopupContainer(I),this.closeButton=this.addCloseButton()}createPopupContainer(I,E="highcharts-popup highcharts-no-tooltip"){return U("div",{className:E},void 0,I)}addCloseButton(I="highcharts-popup-close"){const E=this,T=this.iconsURL,M=U("div",{className:I},void 0,this.container);return M.style["background-image"]="url("+(T.match(/png|svg|jpeg|jpg|gif/gi)?T:T+"close.svg")+")",["click","touchstart"].forEach(s=>{j(M,s,E.closeButtonEvents.bind(E))}),M}closeButtonEvents(){this.closePopup()}showPopup(I="highcharts-annotation-toolbar"){const E=this.container,T=this.closeButton;this.type=void 0,E.innerHTML=F.emptyHTML,E.className.indexOf(I)>=0&&(E.classList.remove(I),E.removeAttribute("style")),E.appendChild(T),E.style.display="block",E.style.height=""}closePopup(){this.container.style.display="none"}}}),Z(D,"Extensions/Annotations/Popup/PopupAnnotations.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{doc:j,isFirefox:U}=F,{createElement:X,isArray:L,isObject:I,objectEach:E,pick:T,stableSort:M}=G;function b(c,m,g,u,l,f){if(!m)return;const d=this.addInput,p=this.lang;let C,w;E(u,(a,o)=>{C=""!==g?g+"."+o:o,I(a)&&(!L(a)||L(a)&&I(a[0])?(w=p[o]||o,w.match(/\d/g)||l.push([!0,w,c]),b.call(this,c,m,C,a,l,!1)):l.push([this,C,"annotation",c,a]))}),f&&(M(l,a=>a[1].match(/format/g)?-1:1),U&&l.reverse(),l.forEach(a=>{!0===a[0]?X("span",{className:"highcharts-annotation-title"},void 0,a[2]).appendChild(j.createTextNode(a[1])):(a[4]={value:a[4][0],type:a[4][1]},d.apply(a[0],a.splice(1)))}))}return{addForm:function s(c,m,g,u){if(!c)return;const l=this.container,f=this.lang;let d=X("h2",{className:"highcharts-popup-main-title"},void 0,l);d.appendChild(j.createTextNode(f[m.langKey]||m.langKey||"")),d=X("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,l);const p=X("div",{className:"highcharts-popup-bottom-row"},void 0,l);b.call(this,d,c,"",m,[],!0),this.addButton(p,u?f.addButton||"Add":f.saveButton||"Save",u?"add":"save",l,g)},addToolbar:function y(c,m,g){const u=this.lang,l=this.container,f=this.showForm,d="highcharts-annotation-toolbar";-1===l.className.indexOf(d)&&(l.className+=" "+d),c&&(l.style.top=c.plotTop+10+"px"),X("span",void 0,void 0,l).appendChild(j.createTextNode(T(u[m.langKey]||m.langKey,m.shapes&&m.shapes[0].type,"")));let p=this.addButton(l,u.removeButton||"Remove","remove",l,g);p.className+=" highcharts-annotation-remove-button",p.style["background-image"]="url("+this.iconsURL+"destroy.svg)",p=this.addButton(l,u.editButton||"Edit","edit",l,()=>{f.call(this,"annotation-edit",c,m,g)}),p.className+=" highcharts-annotation-edit-button",p.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}}),Z(D,"Extensions/Annotations/Popup/PopupIndicators.js",[D["Core/Renderer/HTML/AST.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{doc:L}=G,{annotationsFieldsTypes:I}=j,{seriesTypes:E}=U,{addEvent:T,createElement:M,defined:s,isArray:y,isObject:b,objectEach:x,stableSort:c}=X;var m=(()=>{return(r=m||(m={}))[r["params.algorithm"]=0]="params.algorithm",r[r["params.average"]=1]="params.average",m;var r})();const g={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function u(r){const S=M("div",{className:"highcharts-popup-lhs-col"},void 0,r),v=M("div",{className:"highcharts-popup-rhs-col"},void 0,r);return M("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,v),{lhsCol:S,rhsCol:v}}function f(r,S,v,P){const A=S.params||S.options.params;P.innerHTML=F.emptyHTML,M("h3",{className:"highcharts-indicator-title"},void 0,P).appendChild(L.createTextNode(e(S,v).indicatorFullName)),M("input",{type:"hidden",name:"highcharts-type-"+v,value:v},void 0,P),n.call(this,v,"series",r,P,S,S.linkedParent&&S.linkedParent.options.id),A.volumeSeriesID&&n.call(this,v,"volume",r,P,S,S.linkedParent&&A.volumeSeriesID),p.call(this,r,"params",A,v,P)}function d(r,S,v,P){const A=this,k=A.lang,O=S.querySelectorAll(".highcharts-popup-lhs-col")[0],N=S.querySelectorAll(".highcharts-popup-rhs-col")[0],B="edit"===v,Y=B?r.series:r.options.plotOptions||{};if(!r&&Y)return;let W,R=[];B||y(Y)?y(Y)&&(R=i.call(this,Y)):R=o.call(this,Y,P),c(R,(_,q)=>{const V=_.indicatorFullName.toLowerCase(),$=q.indicatorFullName.toLowerCase();return V<$?-1:V>$?1:0}),O.children[1]&&O.children[1].remove();const z=M("ul",{className:"highcharts-indicator-list"},void 0,O),H=N.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];R.forEach(_=>{const{indicatorFullName:q,indicatorType:V,series:$}=_;W=M("li",{className:"highcharts-indicator-list"},void 0,z),W.appendChild(L.createTextNode(q)),["click","touchstart"].forEach(J=>{T(W,J,function(){const tt=H.parentNode.children[1];f.call(A,r,$,V,H),tt&&(tt.style.display="block"),B&&$.options&&M("input",{type:"hidden",name:"highcharts-id-"+V,value:$.options.id},void 0,H).setAttribute("highcharts-data-series-id",$.options.id)})})}),z.childNodes.length>0?z.childNodes[0].click():B||(F.setElementHTML(H.parentNode.children[0],k.noFilterMatch||""),H.parentNode.children[1].style.display="none")}function p(r,S,v,P,A){if(!r)return;const k=this.addInput;x(v,(O,N)=>{const B=I[N];let Y=P;B&&(Y=B);const W=S+"."+N;if(s(O)&&W)if(b(O)&&(k.call(this,W,P,A,{}),p.call(this,r,W,O,P,A)),W in m){const R=w.call(this,P,W,A);a.call(this,r,S,R,P,N,O)}else"params.volumeSeriesID"!==W&&!y(O)&&k.call(this,W,P,A,{value:O,type:"number"})})}function C(r,S){const v=this,P=S.querySelectorAll(".highcharts-popup-lhs-col")[0],O=this.lang.clearFilter,N=M("div",{className:"highcharts-input-wrapper"},void 0,P),B=function(R){d.call(v,r,v.container,"add",R)},Y=this.addInput("searchIndicators","input",N,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),W=M("a",{textContent:O},void 0,N);Y.classList.add("highcharts-input-search-indicators"),W.classList.add("clear-filter-button"),T(Y,"input",function(R){B(this.value),W.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(R=>{T(W,R,function(){Y.value="",B(""),W.style.display="none"})})}function w(r,S,v){const P=S.split("."),A=P[P.length-1],k="highcharts-"+S+"-type-"+r,O=this.lang;M("label",{htmlFor:k},null,v).appendChild(L.createTextNode(O[A]||S));const N=M("select",{name:k,className:"highcharts-popup-field",id:"highcharts-select-"+S},null,v);return N.setAttribute("id","highcharts-select-"+S),N}function a(r,S,v,P,A,k,O){"series"===S||"volume"===S?r.series.forEach(N=>{const B=N.options,Y=B.name||B.params?N.name:B.id||"";"highcharts-navigator-series"!==B.id&&B.id!==(O&&O.options&&O.options.id)&&(!s(k)&&"volume"===S&&"column"===N.type&&(k=B.id),M("option",{value:B.id},void 0,v).appendChild(L.createTextNode(Y)))}):P&&A&&g[A+"-"+P].forEach(Y=>{M("option",{value:Y},void 0,v).appendChild(L.createTextNode(Y))}),s(k)&&(v.value=k)}function o(r,S){const A=this.chart&&this.chart.options.lang,k=A&&A.navigation&&A.navigation.popup&&A.navigation.popup.indicatorAliases,O=[];let N;return x(r,(B,Y)=>{const W=B&&B.options;if(B.params||W&&W.params){const{indicatorFullName:R,indicatorType:z}=e(B,Y);if(S){const H=S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_=new RegExp(H,"i"),q=k&&k[z]&&k[z].join(" ")||"";(R.match(_)||q.match(_))&&(N={indicatorFullName:R,indicatorType:z,series:B},O.push(N))}else N={indicatorFullName:R,indicatorType:z,series:B},O.push(N)}}),O}function i(r){const S=[];return r.forEach(v=>{v.is("sma")&&S.push({indicatorFullName:v.name,indicatorType:v.type,series:v})}),S}function e(r,S){const v=r.options;let P=E[S]&&E[S].prototype.nameBase||S.toUpperCase(),A=S;return v&&v.type&&(A=r.options.type,P=r.name),{indicatorFullName:P,indicatorType:A}}function n(r,S,v,P,A,k){if(!v)return;const B=w.call(this,r,S,P);a.call(this,v,S,B,void 0,void 0,void 0,A),s(k)&&(B.value=k)}return{addForm:function l(r,S,v){const P=this.lang;let A;if(!r)return;this.tabs.init.call(this,r);const k=this.container.querySelectorAll(".highcharts-tab-item-content");u(k[0]),C.call(this,r,k[0]),d.call(this,r,k[0],"add"),A=k[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(A,P.addButton||"add","add",A,v),u(k[1]),d.call(this,r,k[1],"edit"),A=k[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(A,P.saveButton||"save","edit",A,v),this.addButton(A,P.removeButton||"remove","remove",A,v)},getAmount:function t(){let r=0;return this.series.forEach(S=>{(S.params||S.options.params)&&r++}),r}}}),Z(D,"Extensions/Annotations/Popup/PopupTabs.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{doc:j}=F,{addEvent:U,createElement:X}=G;function L(){return X("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function I(b,x){const m=this.lang;let g="highcharts-tab-item";0===x&&(g+=" highcharts-tab-disabled");const u=X("span",{className:g},void 0,this.container);return u.appendChild(j.createTextNode(m[b+"Button"]||b)),u.setAttribute("highcharts-data-tab-type",b),u}function E(){const b=this.container,x=b.querySelectorAll(".highcharts-tab-item"),c=b.querySelectorAll(".highcharts-tab-item-content");for(let m=0;m<x.length;m++)x[m].classList.remove("highcharts-tab-item-active"),c[m].classList.remove("highcharts-tab-item-show")}function M(b,x){const c=this.container.querySelectorAll(".highcharts-tab-item-content");b.className+=" highcharts-tab-item-active",c[x].className+=" highcharts-tab-item-show"}function s(b){const x=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((g,u)=>{0===b&&"edit"===g.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach(l=>{U(g,l,function(){E.call(x),M.call(x,this,u)})})})}return{init:function T(b){if(!b)return;const x=this.indicators.getAmount.call(b),c=I.call(this,"add");I.call(this,"edit",x),L.call(this),L.call(this),s.call(this,x),M.call(this,c,0)}}}),Z(D,"Extensions/Annotations/Popup/Popup.js",[D["Shared/BaseForm.js"],D["Core/Globals.js"],D["Core/Defaults.js"],D["Extensions/Annotations/Popup/PopupAnnotations.js"],D["Extensions/Annotations/Popup/PopupIndicators.js"],D["Extensions/Annotations/Popup/PopupTabs.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I){const{doc:E}=G,{getOptions:T}=j,{addEvent:M,createElement:s,extend:y,fireEvent:b,pick:x}=I;class m extends F{constructor(u,l,f){super(u,l),this.chart=f,this.lang=T().lang.navigation.popup,M(this.container,"mousedown",()=>{const d=f&&f.navigationBindings&&f.navigationBindings.activeAnnotation;if(d){d.cancelClick=!0;const p=M(E,"click",()=>{setTimeout(()=>{d.cancelClick=!1},0),p()})}})}addInput(u,l,f,d){const p=u.split("."),C=p[p.length-1],w=this.lang,a="highcharts-"+l+"-"+x(d.htmlFor,C);C.match(/^\d+$/)||s("label",{htmlFor:a,className:d.labelClassName},void 0,f).appendChild(E.createTextNode(w[C]||C));const o=s("input",{name:a,value:d.value,type:d.type,className:"highcharts-popup-field"},void 0,f);return o.setAttribute("highcharts-data-name",u),o}closeButtonEvents(){if(this.chart){const u=this.chart.navigationBindings;b(u,"closePopup"),u&&u.selectedButtonElement&&b(u,"deselectButton",{button:u.selectedButtonElement})}else super.closeButtonEvents()}addButton(u,l,f,d,p){const C=s("button",void 0,void 0,u);return C.appendChild(E.createTextNode(l)),p&&["click","touchstart"].forEach(w=>{M(C,w,()=>(this.closePopup(),p(function c(g,u){const l=Array.prototype.slice.call(g.querySelectorAll("input")),f=Array.prototype.slice.call(g.querySelectorAll("select")),C=g.querySelectorAll("#highcharts-select-series > option:checked")[0],w=g.querySelectorAll("#highcharts-select-volume > option:checked")[0],a={actionType:u,linkedTo:C&&C.getAttribute("value")||"",fields:{}};return l.forEach(o=>{const i=o.getAttribute("highcharts-data-name");o.getAttribute("highcharts-data-series-id")?a.seriesId=o.value:i?a.fields[i]=o.value:a.type=o.value}),f.forEach(o=>{const i=o.id;if("highcharts-select-series"!==i&&"highcharts-select-volume"!==i){const t=i.split("highcharts-select-")[1];a.fields[t]=o.value}}),w&&(a.fields["params.volumeSeriesID"]=w.getAttribute("value")||""),a}(d,f))))}),C}showForm(u,l,f,d){l&&(this.showPopup(),"indicators"===u&&this.indicators.addForm.call(this,l,f,d),"annotation-toolbar"===u&&this.annotations.addToolbar.call(this,l,f,d),"annotation-edit"===u&&this.annotations.addForm.call(this,l,f,d),"flag"===u&&this.annotations.addForm.call(this,l,f,d,!0),this.type=u,this.container.style.height=this.container.offsetHeight+"px")}}return y(m.prototype,{annotations:U,indicators:X,tabs:L}),m}),Z(D,"Extensions/Annotations/Popup/PopupComposition.js",[D["Extensions/Annotations/Popup/Popup.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,wrap:U}=G,X=[];function I(){this.popup&&this.popup.closePopup()}function E(s){this.popup||(this.popup=new F(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.0.0/gfx/stock-icons/",this.chart)),this.popup.showForm(s.formType,this.chart,s.options,s.onSubmit)}function T(s,y){this.inClass(y.target,"highcharts-popup")||s.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function L(s,y){G.pushUnique(X,s)&&(j(s,"closePopup",I),j(s,"showPopup",E)),G.pushUnique(X,y)&&U(y.prototype,"onContainerMouseDown",T)}}}),Z(D,"Extensions/Annotations/Annotation.js",[D["Core/Animation/AnimationUtilities.js"],D["Extensions/Annotations/AnnotationChart.js"],D["Extensions/Annotations/AnnotationDefaults.js"],D["Extensions/Annotations/Controllables/ControllableRect.js"],D["Extensions/Annotations/Controllables/ControllableCircle.js"],D["Extensions/Annotations/Controllables/ControllableEllipse.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Extensions/Annotations/Controllables/ControllableImage.js"],D["Extensions/Annotations/Controllables/ControllableLabel.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/ControlTarget.js"],D["Extensions/Annotations/EventEmitter.js"],D["Extensions/Annotations/MockPoint.js"],D["Extensions/Annotations/NavigationBindings.js"],D["Extensions/Annotations/Popup/PopupComposition.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I,E,T,M,s,y,b,x,c,m){const{getDeferredAnimation:g}=F,{destroyObjectProperties:u,erase:l,fireEvent:f,merge:d,pick:p,splat:C}=m;function a(i,t){const e={};return["labels","shapes"].forEach(n=>{const h=i[n];h&&(e[n]=t[n]?C(t[n]).map(function(r,S){return d(h[S],r)}):i[n])}),e}let o=(()=>{class i extends y{static compose(e,n,h){G.compose(i,e,n),T.compose(h),I.compose(e,h),x.compose(i,e),c.compose(x,n)}constructor(e,n){super(),this.coll="annotations",this.animationConfig=void 0,this.graphic=void 0,this.group=void 0,this.labelCollector=void 0,this.labelsGroup=void 0,this.shapesGroup=void 0,this.chart=e,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=d(this.defaultOptions,n),this.userOptions=n;const h=a(this.options,n);this.options.labels=h.labels,this.options.shapes=h.shapes,this.init(e,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){const e=this.options.labels||[];e.forEach((n,h)=>{const r=this.initLabel(n,h);d(!0,e[h],r.options)})}addShapes(){const e=this.options.shapes||[];e.forEach((n,h)=>{const r=this.initShape(n,h);d(!0,e[h],r.options)})}destroy(){const e=this.chart,n=function(h){h.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipXAxis=null,this.clipYAxis=null,l(e.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),u(this,e)}destroyItem(e){l(this[e.itemType+"s"],e),e.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(e,n){this.setOptions(n);const h=a(this.options,n);this.options.labels=h.labels,this.options.shapes=h.shapes,this.chart=e,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=n,this.labels=[],this.shapes=[]}init(e,n,h=this.index){const r=this.chart,S=this.options.animation;this.index=h,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=g(r,S)}initLabel(e,n){const h=d(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},e),r=new T(this,h,n);return r.itemType="label",this.labels.push(r),r}initShape(e,n){const h=d(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},e),r=new i.shapesMap[h.type](this,h,n);return r.itemType="shape",this.shapes.push(r),r}redraw(e){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,e),this.redrawItems(this.labels,e),this.redrawControlPoints(e)}redrawItem(e,n){e.linkPoints(),e.shouldBeDrawn()?(e.graphic||this.renderItem(e),e.redraw(p(n,!0)&&e.graphic.placed),e.points.length&&function w(i){const t=i.graphic,e=i.points.some(n=>!1!==n.series.visible&&!1!==n.visible);t&&(e?"hidden"===t.visibility&&t.show():t.hide())}(e)):this.destroyItem(e)}redrawItems(e,n){let h=e.length;for(;h--;)this.redrawItem(e[h],n)}remove(){return this.chart.removeAnnotation(this)}render(){const e=this.chart.renderer;this.graphic=e.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=e.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=e.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(e){e.render("label"===e.itemType?this.labelsGroup:this.shapesGroup)}renderItems(e){let n=e.length;for(;n--;)this.renderItem(e[n])}setClipAxes(){const e=this.chart.xAxis,n=this.chart.yAxis,h=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((r,S)=>{const v=S&&(S.point||S.points&&S.points[0]);return[e[v&&v.xAxis]||r[0],n[v&&v.yAxis]||r[1]]},[]);this.clipXAxis=h[0],this.clipYAxis=h[1]}setControlPointsVisibility(e){const n=function(h){h.setControlPointsVisibility(e)};this.controlPoints.forEach(h=>{h.setVisibility(e)}),this.shapes.forEach(n),this.labels.forEach(n)}setLabelCollector(){const e=this;e.labelCollector=function(){return e.labels.reduce(function(n,h){return h.options.allowOverlap||n.push(h.graphic),n},[])},e.chart.labelCollectors.push(e.labelCollector)}setOptions(e){this.options=d(this.defaultOptions,e)}setVisibility(e){const n=this.options,h=this.chart.navigationBindings,r=p(e,!n.visible);if(this.graphic.attr("visibility",r?"inherit":"hidden"),!r){const S=function(v){v.setControlPointsVisibility(r)};this.shapes.forEach(S),this.labels.forEach(S),h.activeAnnotation===this&&h.popup&&"annotation-toolbar"===h.popup.type&&f(h,"closePopup")}n.visible=r}update(e,n){const h=this.chart,r=a(this.userOptions,e),S=h.annotations.indexOf(this),v=d(!0,this.userOptions,e);v.labels=r.labels,v.shapes=r.shapes,this.destroy(),this.initProperties(h,v),this.init(h,v),h.options.annotations[S]=v,this.isUpdating=!0,p(n,!0)&&h.redraw(),f(this,"afterUpdate"),this.isUpdating=!1}}return i.ControlPoint=M,i.MockPoint=b,i.shapesMap={rect:U,circle:X,ellipse:L,path:I,image:E},i.types={},i})();return o.prototype.defaultOptions=j,o.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],s.compose(o),o}),Z(D,"Extensions/Annotations/Types/BasicAnnotation.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U}=j;let X=(()=>{class L extends F{addControlPoints(){const E=this.options,T=L.basicControlPoints,M=this.basicType;(E.labels||E.shapes||[]).forEach(y=>{y.controlPoints=T[M]})}init(){const E=this.options;if(E.shapes){delete E.labelOptions;const T=E.shapes[0].type;this.basicType=T&&"path"!==T?T:"rectangle"}else delete E.shapes,this.basicType="label";super.init.apply(this,arguments)}}return L.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(I){if(!I.graphic.placed)return{x:0,y:-9e7};const E=G.pointToPixels(I.points[0]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const T=this.mouseMoveToTranslation(I);E.translatePoint(T.x,T.y),E.annotation.userOptions.labels[0].point=E.options.point,E.redraw(!1)}}},{symbol:"square",positioner:function(I){return I.graphic.placed?{x:I.graphic.alignAttr.x-this.graphic.width/2,y:I.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(I,E){const T=this.mouseMoveToTranslation(I);E.translate(T.x,T.y),E.annotation.userOptions.labels[0].point=E.options.point,E.redraw(!1)}}}],rectangle:[{positioner:function(I){const E=G.pointToPixels(I.points[2]);return{x:E.x-4,y:E.y-4}},events:{drag:function(I,E){const T=E.annotation,M=this.chart.pointer.getCoordinates(I),s=M.xAxis[0].value,y=M.yAxis[0].value,b=E.options.points,x=T.userOptions.shapes;b[1].x=s,b[2].x=s,b[2].y=y,b[3].y=y,x&&x[0]&&(x[0].points=E.options.points),T.redraw(!1)}}}],circle:[{positioner:function(I){const E=G.pointToPixels(I.points[0]),T=I.options.r;return{x:E.x+T*Math.cos(Math.PI/4)-this.graphic.width/2,y:E.y+T*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(I,E){const T=E.annotation,M=this.mouseMoveToTranslation(I),s=T.userOptions.shapes;E.setRadius(Math.max(E.options.r+M.y/Math.sin(Math.PI/4),5)),s&&s[0]&&(s[0].r=E.options.r,s[0].point=E.options.point),E.redraw(!1)}}}],ellipse:[{positioner:function(I){const E=I.getAbsolutePosition(I.points[0]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const T=E.getAbsolutePosition(E.points[0]);E.translatePoint(I.chartX-T.x,I.chartY-T.y,0),E.redraw(!1)}}},{positioner:function(I){const E=I.getAbsolutePosition(I.points[1]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const T=E.getAbsolutePosition(E.points[1]);E.translatePoint(I.chartX-T.x,I.chartY-T.y,1),E.redraw(!1)}}},{positioner:function(I){const E=I.getAbsolutePosition(I.points[0]),T=I.getAbsolutePosition(I.points[1]),M=I.getAttrs(E,T);return{x:M.cx-this.graphic.width/2+M.ry*Math.sin(M.angle*Math.PI/180),y:M.cy-this.graphic.height/2-M.ry*Math.cos(M.angle*Math.PI/180)}},events:{drag:function(I,E){const T=E.getAbsolutePosition(E.points[0]),M=E.getAbsolutePosition(E.points[1]),s=E.getDistanceFromLine(T,M,I.chartX,I.chartY),y=E.getYAxis(),b=Math.abs(y.toValue(0)-y.toValue(s));E.setYRadius(b),E.redraw(!1)}}}]},L})();return X.prototype.defaultOptions=U(F.prototype.defaultOptions,{}),F.types.basicAnnotation=X,X}),Z(D,"Extensions/Annotations/Types/CrookedLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{merge:X}=U;class L extends F{setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}getPointsOptions(){const E=this.options.typeOptions;return(E.points||[]).map(T=>(T.xAxis=E.xAxis,T.yAxis=E.yAxis,T))}getControlPointsOptions(){return this.getPointsOptions()}addControlPoints(){this.getControlPointsOptions().forEach(function(E,T){const M=new G(this.chart,this,X(this.options.controlPointOptions,E.controlPoint),T);this.controlPoints.push(M),E.controlPoint=M.options},this)}addShapes(){const E=this.options.typeOptions,T=this.initShape(X(E.line,{type:"path",points:this.points.map((M,s)=>function(y){return y.annotation.points[s]})}),0);E.line=T.options}}return L.prototype.defaultOptions=X(F.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(I){const E=this.graphic,T=j.pointToPixels(I.points[this.index]);return{x:T.x-E.width/2,y:T.y-E.height/2}},events:{drag:function(I,E){if(E.chart.isInsidePlot(I.chartX-E.chart.plotLeft,I.chartY-E.chart.plotTop,{visiblePlotOnly:!0})){const T=this.mouseMoveToTranslation(I),M=E.options.typeOptions;E.translatePoint(T.x,T.y,this.index),M.points[this.index].x=E.points[this.index].x,M.points[this.index].y=E.points[this.index].y,E.redraw(!1)}}}}}),F.types.crookedLine=L,L}),Z(D,"Extensions/Annotations/Types/ElliottWave.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U}=j;class X extends G{addLabels(){this.getPointsOptions().forEach((I,E)=>{const M=this.initLabel(U(I.label,{text:this.options.typeOptions.labels[E],point:function(s){return s.annotation.points[E]}}),!1);I.label=M.options})}}return X.prototype.defaultOptions=U(G.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),F.types.elliottWave=X,X}),Z(D,"Extensions/Annotations/Types/Tunnel.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{merge:L}=X;function I(T,M,s){return(M.y-T.y)/(M.x-T.x)*(s-T.x)+T.y}class E extends j{getPointsOptions(){const M=j.prototype.getPointsOptions.call(this);return M[2]=this.heightPointOptions(M[1]),M[3]=this.heightPointOptions(M[0]),M}getControlPointsOptions(){return this.getPointsOptions().slice(0,2)}heightPointOptions(M){const s=L(M);return s.y+=this.options.typeOptions.height,s}addControlPoints(){j.prototype.addControlPoints.call(this);const M=this.options,s=M.typeOptions,y=new G(this.chart,this,L(M.controlPointOptions,s.heightControlPoint),2);this.controlPoints.push(y),s.heightControlPoint=y.options}addShapes(){this.addLine(),this.addBackground()}addLine(){const M=this.initShape(L(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(s){const y=U.pointToOptions(s.annotation.points[2]);return y.command="M",y},this.points[3]]}),0);this.options.typeOptions.line=M.options}addBackground(){const M=this.initShape(L(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=M.options}translateSide(M,s,y){const b=Number(y),x=0===b?3:2;this.translatePoint(M,s,b),this.translatePoint(M,s,x)}translateHeight(M){this.translatePoint(0,M,2),this.translatePoint(0,M,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height}}return E.prototype.defaultOptions=L(j.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(T){const M=U.pointToPixels(T.points[2]),s=U.pointToPixels(T.points[3]),y=(M.x+s.x)/2;return{x:y-this.graphic.width/2,y:I(M,s,y)-this.graphic.height/2}},events:{drag:function(T,M){M.chart.isInsidePlot(T.chartX-M.chart.plotLeft,T.chartY-M.chart.plotTop,{visiblePlotOnly:!0})&&(M.translateHeight(this.mouseMoveToTranslation(T).y),M.redraw(!1))}}}},controlPointOptions:{events:{drag:function(T,M){if(M.chart.isInsidePlot(T.chartX-M.chart.plotLeft,T.chartY-M.chart.plotTop,{visiblePlotOnly:!0})){const s=this.mouseMoveToTranslation(T);M.translateSide(s.x,s.y,!!this.index),M.redraw(!1)}}}}}),F.types.tunnel=E,E}),Z(D,"Extensions/Annotations/Types/InfinityLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{merge:X}=U;class L extends G{static edgePoint(E,T){return function(M){const s=M.annotation,y=s.options.typeOptions.type;let b=s.points;return("horizontalLine"===y||"verticalLine"===y)&&(b=[b[0],new j(s.chart,b[0].target,{x:b[0].x+ +("horizontalLine"===y),y:b[0].y+ +("verticalLine"===y),xAxis:b[0].options.xAxis,yAxis:b[0].options.yAxis})]),L.findEdgePoint(b[E],b[T])}}static findEdgeCoordinate(E,T,M,s){const y="x"===M?"y":"x";return(T[M]-E[M])*(s-E[y])/(T[y]-E[y])+E[M]}static findEdgePoint(E,T){const M=E.series.chart,s=E.series.xAxis,y=T.series.yAxis,b=j.pointToPixels(E),x=j.pointToPixels(T),c=x.x-b.x,m=x.y-b.y,g=s.left,l=y.top,f=l+y.height,d=c<0?g:g+s.width,p=m<0?l:f,C={x:0===c?b.x:d,y:0===m?b.y:p};let w,a,o;return 0!==c&&0!==m&&(a=L.findEdgeCoordinate(b,x,"y",d),w=L.findEdgeCoordinate(b,x,"x",p),a>=l&&a<=f?(C.x=d,C.y=a):(C.x=w,C.y=p)),C.x-=M.plotLeft,C.y-=M.plotTop,E.series.chart.inverted&&(o=C.x,C.x=C.y,C.y=o),C}addShapes(){const E=this.options.typeOptions,T=[this.points[0],L.endEdgePoint];E.type.match(/line/gi)&&(T[0]=L.startEdgePoint);const M=this.initShape(X(E.line,{type:"path",points:T}),0);E.line=M.options}}return L.endEdgePoint=L.edgePoint(0,1),L.startEdgePoint=L.edgePoint(1,0),L.prototype.defaultOptions=X(G.prototype.defaultOptions,{}),F.types.infinityLine=L,L}),Z(D,"Extensions/Annotations/Types/TimeCycles.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/ControlPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{merge:X,isNumber:L,defined:I}=U;class M extends G{init(y,b,x){I(b.yAxis)&&b.points.forEach(c=>{c.yAxis=b.yAxis}),I(b.xAxis)&&b.points.forEach(c=>{c.xAxis=b.xAxis}),super.init(y,b,x)}setPath(){this.shapes[0].options.d=this.getPath()}getPath(){return[(s=this.startX,y=this.y,["M",s,y])].concat(function T(s,y,b,x){const c=[];for(let m=1;m<=y;m++)c.push(["A",s/2,s/2,0,1,1,b+m*s,x]);return c}(this.pixelInterval,this.numberOfCircles,this.startX,this.y));var s,y}addShapes(){const y=this.options.typeOptions;this.setPathProperties();const b=this.initShape(X(y.line,{type:"path",d:this.getPath(),points:this.options.points}),0);y.line=b.options}addControlPoints(){const y=this.options,b=y.typeOptions;y.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",b.controlPointOptions.forEach(x=>{const c=X(y.controlPointOptions,x),m=new j(this.chart,this,c,0);this.controlPoints.push(m)})}setPathProperties(){const y=this.options.typeOptions,b=y.points;if(!b)return;const x=b[0],u=this.chart.xAxis[y.xAxis||0],l=this.chart.yAxis[y.yAxis||0],f=x.x,d=x.y,p=b[1].x;if(!f||!p)return;const C=L(d)?l.toPixels(d):l.top+l.height,w=L(f)?u.toPixels(f):u.left,a=L(p)?u.toPixels(p):u.left+30,o=u.len,i=Math.round(Math.max(Math.abs(a-w),2)),t=Math.floor(o/i)+2,e=(Math.floor((w-u.left)/i)+1)*i;this.startX=w-e,this.y=C,this.pixelInterval=i,this.numberOfCircles=t}redraw(y){this.setPathProperties(),this.setPath(),super.redraw(y)}}return M.prototype.defaultOptions=X(G.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(s){return{x:s.anchor(s.points[0]).absolutePosition.x-this.graphic.width/2,y:s.y-this.graphic.height}},events:{drag:function(s,y){const b=y.anchor(y.points[0]).absolutePosition;y.translatePoint(s.chartX-b.x,0,0),y.redraw(!1)}}},{positioner:function(s){return{x:s.anchor(s.points[1]).absolutePosition.x-this.graphic.width/2,y:s.y-this.graphic.height}},events:{drag:function(s,y){const b=y.anchor(y.points[1]).absolutePosition;y.translatePoint(s.chartX-b.x,0,1),y.redraw(!1)}}}]}}),F.types.timeCycles=M,M}),Z(D,"Extensions/Annotations/Types/Fibonacci.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Extensions/Annotations/Types/Tunnel.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{merge:X}=U;function L(E,T){return function(){const M=this.annotation;if(!M.startRetracements||!M.endRetracements)return[];const s=this.anchor(M.startRetracements[E]).absolutePosition,y=this.anchor(M.endRetracements[E]).absolutePosition,b=[["M",Math.round(s.x),Math.round(s.y)],["L",Math.round(y.x),Math.round(y.y)]];if(T){const x=this.anchor(M.endRetracements[E-1]).absolutePosition,c=this.anchor(M.startRetracements[E-1]).absolutePosition;b.push(["L",Math.round(x.x),Math.round(x.y)],["L",Math.round(c.x),Math.round(c.y)])}return b}}let I=(()=>{class E extends j{linkPoints(){super.linkPoints(),this.linkRetracementsPoints()}linkRetracementsPoints(){const M=this.points,s=M[0].y-M[3].y,y=M[1].y-M[2].y,b=M[0].x,x=M[1].x;E.levels.forEach((c,m)=>{const g=M[0].y-s*c,u=M[1].y-y*c;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(m,b,g,this.startRetracements),this.linkRetracementPoint(m,x,u,this.endRetracements)})}linkRetracementPoint(M,s,y,b){const x=b[M],c=this.options.typeOptions;x?(x.options.x=s,x.options.y=y,x.refresh()):b[M]=new G(this.chart,this,{x:s,y,xAxis:c.xAxis,yAxis:c.yAxis})}addShapes(){E.levels.forEach(function(M,s){const{backgroundColors:y,lineColor:b,lineColors:x}=this.options.typeOptions;this.initShape({type:"path",d:L(s),stroke:x[s]||b},s),s>0&&this.initShape({type:"path",fill:y[s-1],strokeWidth:0,d:L(s,!0)})},this)}addLabels(){E.levels.forEach(function(M,s){const y=this.options.typeOptions,b=this.initLabel(X(y.labels[s],{point:function(x){return G.pointToOptions(x.annotation.startRetracements[s])},text:M.toString()}));y.labels[s]=b.options},this)}}return E.levels=[0,.236,.382,.5,.618,.786,1],E})();return I.prototype.defaultOptions=X(j.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),F.types.fibonacci=I,I}),Z(D,"Extensions/Annotations/Types/FibonacciTimeZones.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/Types/InfinityLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{merge:I}=L;function E(M,s,y){return function(b){const x=b.annotation.chart;let m=b.annotation.points;const l=m[0].series.xAxis.toValue(m[0].plotX+(x.inverted?x.plotTop:x.plotLeft)+y*(m.length>1?m[1].plotX-m[0].plotX:0));return m=[new X(x,m[0].target,{x:l,y:0,xAxis:m[0].options.xAxis,yAxis:m[0].options.yAxis}),new X(x,m[0].target,{x:l,y:1,xAxis:m[0].options.xAxis,yAxis:m[0].options.yAxis})],U.findEdgePoint(m[M],m[s])}}class T extends j{addShapes(){let y=1,b=1;for(let x=0;x<11;x++){const c=x?y:0,m=[E(1,0,c),E(0,1,c)];b=y+b,y=b-y,1===x&&(this.secondLineEdgePoints=[m[0],m[1]]),this.initShape(I(this.options.typeOptions.line,{type:"path",points:m}),x)}}addControlPoints(){const s=this.options,y=s.typeOptions,b=new G(this.chart,this,I(s.controlPointOptions,y.controlPointOptions),0);this.controlPoints.push(b),y.controlPointOptions=b.options}}return T.prototype.defaultOptions=I(j.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){const M=this.target,s=this.graphic,y=M.secondLineEdgePoints,b={annotation:M},x=y[0](b).y,c=y[1](b).y,m=this.chart.plotLeft,g=this.chart.plotTop;let u=y[0](b).x,l=(x+c)/2;return this.chart.inverted&&([u,l]=[l,u]),{x:m+u-s.width/2,y:g+l-s.height/2}},events:{drag:function(M,s){if(s.chart.isInsidePlot(M.chartX-s.chart.plotLeft,M.chartY-s.chart.plotTop,{visiblePlotOnly:!0})){const b=this.mouseMoveToTranslation(M);s.translatePoint(b.x,0,1),s.redraw(!1)}}}}}}),F.types.fibonacciTimeZones=T,T}),Z(D,"Extensions/Annotations/Types/Pitchfork.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/InfinityLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{merge:X}=U;class L extends G{static outerLineEdgePoint(E){return function(T){const M=T.annotation,s=M.points;return L.findEdgePoint(s[E],s[0],new j(M.chart,T,M.midPointOptions()))}}static findEdgePoint(E,T,M){const s=Math.atan2(M.plotY-T.plotY,M.plotX-T.plotX),y=1e7;return{x:E.plotX+y*Math.cos(s),y:E.plotY+y*Math.sin(s)}}static middleLineEdgePoint(E){const T=E.annotation;return G.findEdgePoint(T.points[0],new j(T.chart,E,T.midPointOptions()))}midPointOptions(){const E=this.points;return{x:(E[1].x+E[2].x)/2,y:(E[1].y+E[2].y)/2,xAxis:E[0].series.xAxis,yAxis:E[0].series.yAxis}}addShapes(){this.addLines(),this.addBackgrounds()}addLines(){this.initShape({type:"path",points:[this.points[0],L.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],L.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],L.bottomLineEdgePoint]},2)}addBackgrounds(){const E=this.shapes,T=this.options.typeOptions,M=this.initShape(X(T.innerBackground,{type:"path",points:[function(y){const b=y.annotation,x=b.points,c=b.midPointOptions();return{x:(x[1].x+c.x)/2,y:(x[1].y+c.y)/2,xAxis:c.xAxis,yAxis:c.yAxis}},E[1].points[1],E[2].points[1],function(y){const b=y.annotation,x=b.points,c=b.midPointOptions();return{x:(c.x+x[2].x)/2,y:(c.y+x[2].y)/2,xAxis:c.xAxis,yAxis:c.yAxis}}]}),3),s=this.initShape(X(T.outerBackground,{type:"path",points:[this.points[1],E[1].points[1],E[2].points[1],this.points[2]]}),4);T.innerBackground=M.options,T.outerBackground=s.options}}return L.topLineEdgePoint=L.outerLineEdgePoint(1),L.bottomLineEdgePoint=L.outerLineEdgePoint(0),L.prototype.defaultOptions=X(G.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),F.types.pitchfork=L,L}),Z(D,"Extensions/Annotations/Types/VerticalLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(F,G,j){const{merge:U,pick:X}=j;class L extends F{static connectorFirstPoint(E){const T=E.annotation,M=T.chart,s=M.inverted,y=T.points[0],b=X(y.series.yAxis&&y.series.yAxis.left,0),x=X(y.series.yAxis&&y.series.yAxis.top,0),c=T.options.typeOptions.label.offset,m=G.pointToPixels(y,!0)[s?"x":"y"];return{x:y.x,xAxis:y.series.xAxis,y:m+c+(s?b-M.plotLeft:x-M.plotTop)}}static connectorSecondPoint(E){const T=E.annotation,M=T.chart,s=M.inverted,y=T.options.typeOptions,b=T.points[0],x=X(b.series.yAxis&&b.series.yAxis.left,0),c=X(b.series.yAxis&&b.series.yAxis.top,0),m=G.pointToPixels(b,!0)[s?"x":"y"];let g=y.yOffset;return y.label.offset<0&&(g*=-1),{x:b.x,xAxis:b.series.xAxis,y:m+g+(s?x-M.plotLeft:c-M.plotTop)}}getPointsOptions(){return[this.options.typeOptions.point]}addShapes(){const E=this.options.typeOptions,T=this.initShape(U(E.connector,{type:"path",points:[L.connectorFirstPoint,L.connectorSecondPoint]}),0);E.connector=T.options,this.userOptions.typeOptions.point=E.point}addLabels(){const E=this.options.typeOptions,T=E.label;let M=0,s=T.offset,y=T.offset<0?"bottom":"top",b="center";this.chart.inverted&&(M=T.offset,s=0,y="middle",b=T.offset<0?"right":"left");const x=this.initLabel(U(T,{verticalAlign:y,align:b,x:M,y:s}));E.label=x.options}}return L.prototype.defaultOptions=U(F.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(I){return I.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),F.types.verticalLine=L,L}),Z(D,"Extensions/Annotations/Types/Measure.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Core/Utilities.js"]],function(F,G,j){const{defined:U,extend:X,isNumber:L,merge:I,pick:E}=j;function T(){let f="";return""!==this.max&&""!==this.min&&(f=(this.max+this.min)/2),f}function M(){const f=this.chart.series,d=y(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=0,C=!1;return f.forEach(w=>{w.visible&&"highcharts-navigator-series"!==w.options.id&&w.points.forEach(a=>{!a.isNull&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p++,C=!0)})}),C||(p=""),p}function s(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function y(f,d,p,C){return{xAxisMin:Math.min(d,f),xAxisMax:Math.max(d,f),yAxisMin:Math.min(C,p),yAxisMax:Math.max(C,p)}}function b(f,d,p){return f.toValue(f.toPixels(d)+p)}function x(){const f=this.options.typeOptions,d=this.chart,p=d.inverted,C=d.xAxis[f.xAxis],w=d.yAxis[f.yAxis],a=f.background,o=p?a.height:a.width,i=p?a.width:a.height,t=f.selectType,e=p?C.left:w.top,n=p?w.top:C.left;this.startXMin=f.point.x,this.startYMin=f.point.y,this.startXMax=L(o)?this.startXMin+o:b(C,this.startXMin,parseFloat(o)),this.startYMax=L(i)?this.startYMin-i:b(w,this.startYMin,parseFloat(i)),"x"===t?(this.startYMin=w.toValue(e),this.startYMax=w.toValue(e+w.len)):"y"===t&&(this.startXMin=C.toValue(n),this.startXMax=C.toValue(n+C.len))}function c(){const f=this.chart.series,d=y(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=-1/0,C=!1;return f.forEach(w=>{w.visible&&"highcharts-navigator-series"!==w.options.id&&w.points.forEach(a=>{!a.isNull&&a.y>p&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p=a.y,C=!0)})}),C||(p=""),p}function m(){const f=this.chart.series,d=y(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=1/0,C=!1;return f.forEach(w=>{w.visible&&"highcharts-navigator-series"!==w.options.id&&w.points.forEach(a=>{!a.isNull&&a.y<p&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p=a.y,C=!0)})}),C||(p=""),p}function g(f){const d=this.options.typeOptions,p=this.chart.xAxis[d.xAxis],C=this.chart.yAxis[d.yAxis],w=this.offsetX,a=this.offsetY;this.xAxisMin=b(p,this.startXMin,w),this.xAxisMax=b(p,this.startXMax,w),this.yAxisMin=b(C,this.startYMin,a),this.yAxisMax=b(C,this.startYMax,a),this.min=m.call(this),this.max=c.call(this),this.average=T.call(this),this.bins=M.call(this),f&&this.resize(0,0)}function u(f,d,p,C,w){const a=this.options.typeOptions,o=a.selectType,i=this.chart.xAxis[a.xAxis],t=this.chart.yAxis[a.yAxis],e=this.startXMin,n=this.startXMax,h=this.startYMin,r=this.startYMax,S=this.offsetX,v=this.offsetY;d&&("x"===o?0===p?this.startXMin=b(i,e,C):this.startXMax=b(i,n,C):"y"===o?0===p?this.startYMin=b(t,h,w):this.startYMax=b(t,r,w):(this.startXMax=b(i,n,C),this.startYMax=b(t,r,w))),f&&(this.startXMin=b(i,e,S),this.startXMax=b(i,n,S),this.startYMin=b(t,h,v),this.startYMax=b(t,r,v),this.offsetX=0,this.offsetY=0)}class l extends F{init(d,p,C){super.init(d,p,C),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,x.call(this),this.addValues(),this.addShapes()}setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}pointsOptions(){return this.options.points}shapePointsOptions(){const d=this.options.typeOptions,p=d.xAxis,C=d.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:p,yAxis:C},{x:this.xAxisMax,y:this.yAxisMin,xAxis:p,yAxis:C},{x:this.xAxisMax,y:this.yAxisMax,xAxis:p,yAxis:C},{x:this.xAxisMin,y:this.yAxisMax,xAxis:p,yAxis:C}]}addControlPoints(){const d=this.chart.inverted,p=this.options.controlPointOptions,C=this.options.typeOptions.selectType;U(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===C?p.style.cursor=d?"ns-resize":"ew-resize":"y"===C&&(p.style.cursor=d?"ew-resize":"ns-resize"));let w=new G(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(w),"xy"!==C&&(w=new G(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(w))}addValues(d){const p=this.options.typeOptions,C=p.label.formatter;g.call(this,d),p.label.enabled&&(this.labels.length>0?this.labels[0].text=C&&C.call(this)||s.call(this):this.initLabel(X({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(w){const a=w.annotation,o=w.options;return{x:a.xAxisMin,y:a.yAxisMin,xAxis:E(p.xAxis,o.xAxis),yAxis:E(p.yAxis,o.yAxis)}},text:C&&C.call(this)||s.call(this)},p.label),void 0))}addShapes(){this.addCrosshairs(),this.addBackground()}addBackground(){typeof this.shapePointsOptions()[0].x>"u"||this.initShape(X({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)}addCrosshairs(){const d=this.chart,p=this.options.typeOptions,w=d.xAxis[p.xAxis],a=d.yAxis[p.yAxis],o=d.inverted,i={point:this.options.typeOptions.point,type:"path"};let v,P,A,t=w.toPixels(this.xAxisMin),e=w.toPixels(this.xAxisMax),n=a.toPixels(this.yAxisMin),h=a.toPixels(this.yAxisMax),r=[],S=[];o&&(A=t,t=n,n=A,A=e,e=h,h=A),p.crosshairX.enabled&&(r=[["M",t,n+(h-n)/2],["L",e,n+(h-n)/2]]),p.crosshairY.enabled&&(S=[["M",t+(e-t)/2,n],["L",t+(e-t)/2,h]]),this.shapes.length>0?(this.shapes[0].options.d=r,this.shapes[1].options.d=S):(v=I(i,p.crosshairX),P=I(i,p.crosshairY),this.initShape(X({d:r},v),0),this.initShape(X({d:S},P),1))}onDrag(d){const p=this.mouseMoveToTranslation(d),C=this.options.typeOptions.selectType,w="y"===C?0:p.x,a="x"===C?0:p.y;this.translate(w,a),this.offsetX+=w,this.offsetY+=a,this.redraw(!1,!1,!0)}resize(d,p,C,w){const a=this.shapes[2];"x"===w?0===C?(a.translatePoint(d,0,0),a.translatePoint(d,p,3)):(a.translatePoint(d,0,1),a.translatePoint(d,p,2)):"y"===w?0===C?(a.translatePoint(0,p,0),a.translatePoint(0,p,1)):(a.translatePoint(0,p,2),a.translatePoint(0,p,3)):(a.translatePoint(d,0,1),a.translatePoint(d,p,2),a.translatePoint(0,p,3)),u.call(this,!1,!0,C,d,p),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)}redraw(d,p,C){this.linkPoints(),this.graphic||this.render(),C&&u.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(p),this.addCrosshairs(),this.redrawItems(this.shapes,d),this.redrawItems(this.labels,d),this.controlPoints.forEach(w=>w.redraw())}translate(d,p){this.shapes.forEach(C=>C.translate(d,p)),this.options.typeOptions.point={x:this.startXMin,y:this.startYMin}}}return l.prototype.defaultOptions=I(F.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"0.7em",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(f){const d=this.index,p=f.chart,C=f.options,w=C.typeOptions,a=w.selectType,o=C.controlPointOptions,i=p.inverted,t=p.xAxis[w.xAxis],e=p.yAxis[w.yAxis],n=y(f.xAxisMin,f.xAxisMax,f.yAxisMin,f.yAxisMax);let S,v,h=f.xAxisMax,r=f.yAxisMax;return"x"===a&&(r=(n.yAxisMax+n.yAxisMin)/2,0===d&&(h=f.xAxisMin)),"y"===a&&(h=n.xAxisMin+(n.xAxisMax-n.xAxisMin)/2,0===d&&(r=f.yAxisMin)),i?(S=e.toPixels(r),v=t.toPixels(h)):(S=t.toPixels(h),v=e.toPixels(r)),{x:S-o.width/2,y:v-o.height/2}},events:{drag:function(f,d){const p=this.mouseMoveToTranslation(f),C=d.options.typeOptions.selectType,a="y"===C?0:p.x,o="x"===C?0:p.y;d.resize(a,o,this.index,C),d.resizeX+=a,d.resizeY+=o,d.redraw(!1,!0)}}}}),F.types.measure=l,l}),Z(D,"masters/modules/annotations-advanced.src.js",[D["Core/Globals.js"],D["Extensions/Annotations/Annotation.js"]],function(F,G){const j=F;j.Annotation=G,G.compose(j.Chart,j.Pointer,j.SVGRenderer)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},4346:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Extensions/PriceIndication.js",[D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,isArray:U,merge:X}=G;j(F,"afterRender",function(){const L=this,I=L.options,E=I.lastVisiblePrice,T=I.lastPrice;if((E||T)&&"highcharts-navigator-series"!==I.id){let f,M=L.xAxis,s=L.yAxis,y=s.crosshair,b=s.cross,x=s.crossLabel,c=L.points,g=c.length,u=L.xData[L.xData.length-1],l=L.yData[L.yData.length-1];if(T&&T.enabled&&(s.crosshair=s.options.crosshair=I.lastPrice,!L.chart.styledMode&&s.crosshair&&s.options.crosshair&&I.lastPrice&&(s.crosshair.color=s.options.crosshair.color=I.lastPrice.color||L.color),s.cross=L.lastPrice,f=U(l)?l[3]:l,L.lastPriceLabel&&L.lastPriceLabel.destroy(),delete s.crossLabel,s.drawCrosshair(null,{x:u,y:f,plotX:M.toPixels(u,!0),plotY:s.toPixels(f,!0)}),L.yAxis.cross&&(L.lastPrice=L.yAxis.cross,L.lastPrice.addClass("highcharts-color-"+L.colorIndex),L.lastPrice.y=f),L.lastPriceLabel=s.crossLabel),E&&E.enabled&&g>0){s.crosshair=s.options.crosshair=X({color:"transparent"},I.lastVisiblePrice),s.cross=L.lastVisiblePrice;const d=c[g-1].isInside?c[g-1]:c[g-2];L.lastVisiblePriceLabel&&L.lastVisiblePriceLabel.destroy(),delete s.crossLabel,s.drawCrosshair(null,d),s.cross&&(L.lastVisiblePrice=s.cross,d&&"number"==typeof d.y&&(L.lastVisiblePrice.y=d.y)),L.lastVisiblePriceLabel=s.crossLabel}s.crosshair=s.options.crosshair=y,s.cross=b,s.crossLabel=x}})}),Z(D,"masters/modules/price-indicator.src.js",[],function(){})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470),lt(1335)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},9457:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Core/Chart/ChartNavigationComposition.js",[],function(){var F;return function(G){G.compose=function j(X){return X.navigation||(X.navigation=new U(X)),X};class U{constructor(L){this.updates=[],this.chart=L}addUpdate(L){this.chart.navigation.updates.push(L)}update(L,I){this.updates.forEach(E=>{E.call(this.chart,L,I)})}}G.Additions=U}(F||(F={})),F}),Z(D,"Extensions/Annotations/NavigationBindingsUtilities.js",[D["Core/Utilities.js"]],function(F){const{defined:G,isNumber:j,pick:U}=F,X={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:X,getAssignedAxis:function L(T){return T.filter(M=>{const s=M.axis.getExtremes(),y=s.min,b=s.max,x=U(M.axis.minPointOffset,0);return j(y)&&j(b)&&M.value>=y-x&&M.value<=b+x&&!M.axis.options.isInternal})[0]},getFieldType:function I(T,M){const s=X[T];let y=typeof M;return G(s)&&(y=s),{string:"text",number:"number",boolean:"checkbox"}[y]}}}),Z(D,"Extensions/Annotations/NavigationBindingsDefaults.js",[D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(F,G){const{getAssignedAxis:j}=F,{isNumber:U,merge:X}=G;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:s.value,y:y.value,xAxis:s.axis.options.index,yAxis:y.axis.options.index},r:5}]},b.annotationsOptions,b.bindings.circleAnnotation.annotationsOptions))},steps:[function(T,M){const s=M.options.shapes,y=s&&s[0]&&s[0].point||{};let b;if(U(y.xAxis)&&U(y.yAxis)){const x=this.chart.inverted,c=this.chart.xAxis[y.xAxis].toPixels(y.x),m=this.chart.yAxis[y.yAxis].toPixels(y.y);b=Math.max(Math.sqrt(Math.pow(x?m-T.chartX:c-T.chartX,2)+Math.pow(x?c-T.chartY:m-T.chartY,2)),5)}M.update({shapes:[{r:b}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:s.axis.options.index,yAxis:y.axis.options.index,points:[{x:s.value,y:y.value},{x:s.value,y:y.value}],ry:1}]},b.annotationsOptions,b.bindings.ellipseAnnotation.annotationOptions))},steps:[function(T,M){const s=M.shapes[0],y=s.getAbsolutePosition(s.points[1]);s.translatePoint(T.chartX-y.x,T.chartY-y.y,1),s.redraw(!1)},function(T,M){const s=M.shapes[0],y=s.getAbsolutePosition(s.points[0]),b=s.getAbsolutePosition(s.points[1]),x=s.getDistanceFromLine(y,b,T.chartX,T.chartY),c=s.getYAxis(),m=Math.abs(c.toValue(0)-c.toValue(x));s.setYRadius(m),s.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis);if(!s||!y)return;const b=s.value,x=y.value,c=s.axis.options.index,m=y.axis.options.index,g=this.chart.options.navigation;return this.chart.addAnnotation(X({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{xAxis:c,yAxis:m,x:b,y:x},{command:"Z"}]}]},g.annotationsOptions,g.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(T,M){const s=M.options.shapes,y=s&&s[0]&&s[0].points||[],b=this.chart.pointer.getCoordinates(T),x=j(b.xAxis),c=j(b.yAxis);if(x&&c){const m=x.value,g=c.value;y[1].x=m,y[2].x=m,y[2].y=g,y[3].y=g,M.update({shapes:[{points:y}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(T){const M=this.chart.pointer.getCoordinates(T),s=j(M.xAxis),y=j(M.yAxis),b=this.chart.options.navigation;if(s&&y)return this.chart.addAnnotation(X({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:s.axis.options.index,yAxis:y.axis.options.index,x:s.value,y:y.value},overflow:"none",crop:!0}]},b.annotationsOptions,b.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),Z(D,"Extensions/Annotations/NavigationBindings.js",[D["Core/Chart/ChartNavigationComposition.js"],D["Core/Defaults.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsDefaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I){const{setOptions:E}=G,{format:T}=j,{doc:M,win:s}=U,{getFieldType:y}=L,{addEvent:b,attr:x,fireEvent:m,isArray:g,isFunction:u,isNumber:l,isObject:f,merge:d,objectEach:p,pick:C}=I,w=[];function o(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function i(){this.navigationBindings&&this.navigationBindings.destroy()}function t(){const v=this.options;v&&v.navigation&&v.navigation.bindings&&(this.navigationBindings=new S(this,v.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function e(){const v=this.navigationBindings,P="highcharts-disabled-btn";if(this&&v){let A=!1;if(this.series.forEach(k=>{!k.options.isInternal&&k.visible&&(A=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const k=this.navigationBindings.container[0];p(v.boundClassNames,(O,N)=>{const B=k.querySelectorAll("."+N);if(B)for(let Y=0;Y<B.length;Y++){const W=B[Y],R=W.className;"normal"===O.noDataState||A?-1!==R.indexOf(P)&&W.classList.remove(P):-1===R.indexOf(P)&&(W.className+=" "+P)}})}}}function n(){this.deselectAnnotation()}function h(){this.selectedButtonElement=null}function r(v){const P=v.prototype.defaultOptions.events&&v.prototype.defaultOptions.events.click;function A(Y){const W=this,R=W.chart.navigationBindings,z=R.activeAnnotation;P&&P.call(W,Y),z!==W?(R.deselectAnnotation(),R.activeAnnotation=W,W.setControlPointsVisibility(!0),m(R,"showPopup",{annotation:W,formType:"annotation-toolbar",options:R.annotationToFields(W),onSubmit:function(H){if("remove"===H.actionType)R.activeAnnotation=!1,R.chart.removeAnnotation(W);else{const _={};R.fieldsToOptions(H.fields,_),R.deselectAnnotation();const q=_.typeOptions;"measure"===W.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),W.update(_)}}})):m(R,"closePopup"),Y.activeAnnotation=!0}let k,O;d(!0,v.prototype.defaultOptions.events,{click:A,touchstart:function N(Y){k=Y.touches[0].clientX,O=Y.touches[0].clientY},touchend:function B(Y){k&&Math.sqrt(Math.pow(k-Y.changedTouches[0].clientX,2)+Math.pow(O-Y.changedTouches[0].clientY,2))>=4||A.call(this,Y)}})}let S=(()=>{class v{static compose(A,k){I.pushUnique(w,A)&&(b(A,"remove",o),r(A),p(A.types,O=>{r(O)})),I.pushUnique(w,k)&&(b(k,"destroy",i),b(k,"load",t),b(k,"render",e)),I.pushUnique(w,v)&&(b(v,"closePopup",n),b(v,"deselectButton",h)),I.pushUnique(w,E)&&E(X)}constructor(A,k){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=A,this.options=k,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=M.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const A=this,k=A.chart,O=A.container,N=A.options;A.boundClassNames={},p(N.bindings||{},B=>{A.boundClassNames[B.className]=B}),[].forEach.call(O,B=>{A.eventsToUnbind.push(b(B,"click",Y=>{const W=A.getButtonEvents(B,Y);W&&!W.button.classList.contains("highcharts-disabled-btn")&&A.bindingsButtonClick(W.button,W.events,Y)}))}),p(N.events||{},(B,Y)=>{u(B)&&A.eventsToUnbind.push(b(A,Y,B,{passive:!1}))}),A.eventsToUnbind.push(b(k.container,"click",function(B){!k.cancelClick&&k.isInsidePlot(B.chartX-k.plotLeft,B.chartY-k.plotTop,{visiblePlotOnly:!0})&&A.bindingsChartClick(this,B)})),A.eventsToUnbind.push(b(k.container,U.isTouchDevice?"touchmove":"mousemove",function(B){A.bindingsContainerMouseMove(this,B)},U.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const A=this;F.compose(this.chart).navigation.addUpdate(k=>{A.update(k)})}bindingsButtonClick(A,k,O){const N=this,B=N.chart,Y=B.renderer.boxWrapper;let W=!0;N.selectedButtonElement&&(N.selectedButtonElement.classList===A.classList&&(W=!1),m(N,"deselectButton",{button:N.selectedButtonElement}),N.nextEvent&&(N.currentUserDetails&&"annotations"===N.currentUserDetails.coll&&B.removeAnnotation(N.currentUserDetails),N.mouseMoveEvent=N.nextEvent=!1)),W?(N.selectedButton=k,N.selectedButtonElement=A,m(N,"selectButton",{button:A}),k.init&&k.init.call(N,A,O),(k.start||k.steps)&&B.renderer.boxWrapper.addClass("highcharts-draw-mode")):(B.stockTools&&B.stockTools.toggleButtonActiveClass(A),Y.removeClass("highcharts-draw-mode"),N.nextEvent=!1,N.mouseMoveEvent=!1,N.selectedButton=null)}bindingsChartClick(A,k){const O=this,N=O.activeAnnotation,B=O.selectedButton,Y=this.chart.renderer.boxWrapper;N&&(N.cancelClick||k.activeAnnotation||!k.target.parentNode||function a(v,P){const A=s.Element.prototype,k=A.matches||A.msMatchesSelector||A.webkitMatchesSelector;let O=null;if(A.closest)O=A.closest.call(v,P);else do{if(k.call(v,P))return v;v=v.parentElement||v.parentNode}while(null!==v&&1===v.nodeType);return O}(k.target,".highcharts-popup")?N.cancelClick&&setTimeout(()=>{N.cancelClick=!1},0):m(O,"closePopup")),B&&B.start&&(O.nextEvent?(O.nextEvent(k,O.currentUserDetails),O.steps&&(O.stepIndex++,B.steps[O.stepIndex]?O.mouseMoveEvent=O.nextEvent=B.steps[O.stepIndex]:(m(O,"deselectButton",{button:O.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),B.end&&B.end.call(O,k,O.currentUserDetails),O.nextEvent=!1,O.mouseMoveEvent=!1,O.selectedButton=null))):(O.currentUserDetails=B.start.call(O,k),O.currentUserDetails&&B.steps?(O.stepIndex=0,O.steps=!0,O.mouseMoveEvent=O.nextEvent=B.steps[O.stepIndex]):(m(O,"deselectButton",{button:O.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),O.steps=!1,O.selectedButton=null,B.end&&B.end.call(O,k,O.currentUserDetails))))}bindingsContainerMouseMove(A,k){this.mouseMoveEvent&&this.mouseMoveEvent(k,this.currentUserDetails)}fieldsToOptions(A,k){return p(A,(O,N)=>{const B=parseFloat(O),Y=N.split("."),W=Y.length-1;if(l(B)&&!O.match(/px/g)&&!N.match(/format/g)&&(O=B),"undefined"!==O){let R=k;Y.forEach((z,H)=>{const _=C(Y[H+1],"");W===H?R[z]=O:(R[z]||(R[z]=_.match(/\d/g)?[]:{}),R=R[z])})}}),k}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(A){const k=A.options,O=v.annotationsEditable,N=O.nestedOptions,B=C(k.type,k.shapes&&k.shapes[0]&&k.shapes[0].type,k.labels&&k.labels[0]&&k.labels[0].type,"label"),Y=v.annotationsNonEditable[k.langKey]||[],W={langKey:k.langKey,type:B};function R(z,H,_,q,V){let $;_&&z&&-1===Y.indexOf(H)&&((_.indexOf&&_.indexOf(H))>=0||_[H]||!0===_)&&(g(z)?(q[H]=[],z.forEach((J,tt)=>{f(J)?(q[H][tt]={},p(J,(st,it)=>{R(st,it,N[H],q[H][tt],H)})):R(J,0,N[H],q[H],H)})):f(z)?($={},g(q)?(q.push($),$[H]={},$=$[H]):q[H]=$,p(z,(J,tt)=>{R(J,tt,0===H?_:N[H],$,H)})):"format"===H?q[H]=[T(z,A.labels[0].points[0]).toString(),"text"]:g(q)?q.push([z,y(V,z)]):q[H]=[z,y(H,z)])}return p(k,(z,H)=>{"typeOptions"===H?(W[H]={},p(k[H],(_,q)=>{R(_,q,N,W[H],q)})):R(z,H,O[B],W,H)}),W}getClickedClassNames(A,k){let B,O=k.target,N=[];for(;O&&O.tagName;)if(B=x(O,"class"),B&&(N=N.concat(B.split(" ").map(Y=>[Y,O]))),O=O.parentNode,O===A)return N;return N}getButtonEvents(A,k){const O=this;let B;return this.getClickedClassNames(A,k).forEach(Y=>{O.boundClassNames[Y[0]]&&!B&&(B={events:O.boundClassNames[Y[0]],button:Y[1]})}),B}update(A){this.options=d(!0,this.options,A),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(A=>A())}destroy(){this.removeEvents()}}return v.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},v.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},v})();return S}),Z(D,"Stock/StockTools/StockToolsUtilities.js",[D["Core/Defaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{getOptions:X}=F,{getAssignedAxis:L,getFieldType:I}=G,{defined:E,fireEvent:T,isNumber:M,uniqueKey:s}=U,y=["apo","ad","aroon","aroonoscillator","atr","ao","cci","chaikin","cmf","cmo","disparityindex","dmi","dpo","linearRegressionAngle","linearRegressionIntercept","linearRegressionSlope","klinger","macd","mfi","momentum","natr","obv","ppo","roc","rsi","slowstochastic","stochastic","trix","williamsr"],b=["ad","cmf","klinger","mfi","obv","vbp","vwap"];function c(C,w){const a=w.pointer.getCoordinates(C);let o,i,e,t=Number.MAX_VALUE;if(w.navigationBindings&&(o=L(a.xAxis),i=L(a.yAxis)),!o||!i)return;const n=o.value,h=i.value;return i.axis.series.forEach(r=>{r.points&&r.points.forEach(S=>{S&&t>Math.abs(S.x-n)&&(t=Math.abs(S.x-n),e=S)})}),e&&e.x&&e.y?{x:e.x,y:e.y,below:h<e.y,series:e.series,xAxis:e.series.xAxis.options.index||0,yAxis:e.series.yAxis.options.index||0}:void 0}return{indicatorsWithAxes:y,indicatorsWithVolume:b,addFlagFromForm:function x(C){return function(w){const a=this,o=a.chart,i=o.stockTools,t=c(w,o);if(!t)return;const n={type:"flags",onSeries:t.series.id,shape:C,data:[{x:t.x,y:t.y}],xAxis:t.xAxis,yAxis:t.yAxis,point:{events:{click:function(){const h=this,r=h.options;T(a,"showPopup",{point:h,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[r.title,I("title",r.title)],name:[r.name,I("name",r.name)]},onSubmit:function(S){"remove"===S.actionType?h.remove():h.update(a.fieldsToOptions(S.fields,{}))}})}}}};(!i||!i.guiEnabled)&&o.addSeries(n),T(a,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",I("label","A")],name:["Flag A",I("label","Flag A")]},onSubmit:function(h){a.fieldsToOptions(h.fields,n.data[0]),o.addSeries(n)}})}},attractToPoint:c,getAssignedAxis:L,isNotNavigatorYAxis:function m(C){return"highcharts-navigator-yaxis"!==C.userOptions.className},isPriceIndicatorEnabled:function g(C){return C.some(w=>w.lastVisiblePrice||w.lastPrice)},manageIndicators:function u(C){const w=this.chart,a={linkedTo:C.linkedTo,type:C.type};let o,i,t,e;if("edit"===C.actionType)this.fieldsToOptions(C.fields,a),e=w.get(C.seriesId),e&&e.update(a,!1);else if("remove"===C.actionType){if(e=w.get(C.seriesId),e&&(o=e.yAxis,e.linkedSeries&&e.linkedSeries.forEach(n=>{n.remove(!1)}),e.remove(!1),y.indexOf(e.type)>=0)){const n={height:o.options.height,top:o.options.top};o.remove(!1),this.resizeYAxes(n)}}else a.id=s(),this.fieldsToOptions(C.fields,a),i=w.get(a.linkedTo),t=X().plotOptions,typeof i<"u"&&i instanceof j&&"sum"===i.getDGApproximation()&&!E(t&&t[a.type]&&t.dataGrouping&&t.dataGrouping.approximation)&&(a.dataGrouping={approximation:"sum"}),y.indexOf(C.type)>=0?(o=w.addAxis({id:s(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),a.yAxis=o.options.id,this.resizeYAxes()):a.yAxis=w.get(C.linkedTo).options.yAxis,b.indexOf(C.type)>=0&&(a.params.volumeSeriesID=w.series.filter(function(n){return"column"===n.options.type})[0].options.id),w.addSeries(a,!1);T(this,"deselectButton",{button:this.selectedButtonElement}),w.redraw()},updateHeight:function l(C,w){const a=w.options.typeOptions,o=M(a.yAxis)&&this.chart.yAxis[a.yAxis];o&&a.points&&w.update({typeOptions:{height:o.toValue(C[o.horiz?"chartX":"chartY"])-(a.points[1].y||0)}})},updateNthPoint:function f(C){return function(w,a){const o=a.options.typeOptions,i=M(o.xAxis)&&this.chart.xAxis[o.xAxis],t=M(o.yAxis)&&this.chart.yAxis[o.yAxis];i&&t&&(o.points.forEach((e,n)=>{n>=C&&(e.x=i.toValue(w[i.horiz?"chartX":"chartY"]),e.y=t.toValue(w[t.horiz?"chartX":"chartY"]))}),a.update({typeOptions:{points:o.points}}))}},updateRectSize:function d(C,w){const a=w.chart,o=w.options.typeOptions,i=M(o.xAxis)&&a.xAxis[o.xAxis],t=M(o.yAxis)&&a.yAxis[o.yAxis];if(i&&t){const e=i.toValue(C[i.horiz?"chartX":"chartY"]),n=t.toValue(C[t.horiz?"chartX":"chartY"]),h=e-o.point.x,r=o.point.y-n;w.update({typeOptions:{background:{width:a.inverted?r:h,height:a.inverted?h:r}}})}}}}),Z(D,"Stock/StockTools/StockToolsBindings.js",[D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Stock/StockTools/StockToolsUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{getAssignedAxis:X}=G,{addFlagFromForm:L,attractToPoint:I,isNotNavigatorYAxis:E,isPriceIndicatorEnabled:T,manageIndicators:M,updateHeight:s,updateNthPoint:y,updateRectSize:b}=j,{fireEvent:x,merge:c}=U;return{segment:{className:"highcharts-segment",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"segment",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.segment.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowSegment.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},ray:{className:"highcharts-ray",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"ray",type:"infinityLine",typeOptions:{type:"ray",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.ray.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowRay.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.infinityLine.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowInfinityLine.annotationsOptions);return this.chart.addAnnotation(p)},steps:[y(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.horizontalLine.annotationsOptions);this.chart.addAnnotation(p)}},verticalLine:{className:"highcharts-vertical-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.verticalLine.annotationsOptions);this.chart.addAnnotation(p)}},crooked3:{className:"highcharts-crooked3",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"crooked3",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p}]}},C.annotationsOptions,C.bindings.crooked3.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),y(2)]},crooked5:{className:"highcharts-crooked5",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"crooked5",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]}},C.annotationsOptions,C.bindings.crooked5.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),y(2),y(3),y(4)]},elliott3:{className:"highcharts-elliott3",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"elliott3",type:"elliottWave",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.elliott3.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),y(2),y(3)]},elliott5:{className:"highcharts-elliott5",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"elliott5",type:"elliottWave",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.elliott5.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),y(2),y(3),y(4),y(5)]},measureX:{className:"highcharts-measure-x",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const C=this.chart.options.navigation,w=c({langKey:"measure",type:"measure",typeOptions:{selectType:"x",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.measureX.annotationsOptions);return this.chart.addAnnotation(w)},steps:[b]},measureY:{className:"highcharts-measure-y",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const C=this.chart.options.navigation,w=c({langKey:"measure",type:"measure",typeOptions:{selectType:"y",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.measureY.annotationsOptions);return this.chart.addAnnotation(w)},steps:[b]},measureXY:{className:"highcharts-measure-xy",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const C=this.chart.options.navigation,w=c({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.measureXY.annotationsOptions);return this.chart.addAnnotation(w)},steps:[b]},fibonacci:{className:"highcharts-fibonacci",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"fibonacci",type:"fibonacci",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},C.annotationsOptions,C.bindings.fibonacci.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),s]},parallelChannel:{className:"highcharts-parallel-channel",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"parallelChannel",type:"tunnel",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p}]}},C.annotationsOptions,C.bindings.parallelChannel.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),s]},pitchfork:{className:"highcharts-pitchfork",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,C=this.chart.options.navigation,w=c({langKey:"pitchfork",type:"pitchfork",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value,controlPoint:{style:{fill:"#f21313"}}},{x:d,y:p},{x:d,y:p}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},C.annotationsOptions,C.bindings.pitchfork.annotationsOptions);return this.chart.addAnnotation(w)},steps:[y(1),y(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(g){const u=I(g,this.chart);if(!u)return;this.verticalCounter=this.verticalCounter||0;const l=this.chart.options.navigation,f=c({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40,text:this.verticalCounter.toString()}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalCounter.annotationsOptions),d=this.chart.addAnnotation(f);this.verticalCounter++,d.options.events.click.call(d,{})}},timeCycles:{className:"highcharts-time-cycles",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=c({langKey:"timeCycles",type:"timeCycles",typeOptions:{xAxis:u.xAxis,yAxis:u.yAxis,points:[{x:u.x},{x:u.x}],line:{stroke:"rgba(0, 0, 0, 0.75)",fill:"transparent",strokeWidth:2}}},l.annotationsOptions,l.bindings.timeCycles.annotationsOptions),d=this.chart.addAnnotation(f);return d.options.events.click.call(d,{}),d},steps:[y(1)]},verticalLabel:{className:"highcharts-vertical-label",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=c({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalLabel.annotationsOptions),d=this.chart.addAnnotation(f);d.options.events.click.call(d,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=c({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40,format:" "},connector:{fill:"none",stroke:u.below?"#f21313":"#06b535"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalArrow.annotationsOptions),d=this.chart.addAnnotation(f);d.options.events.click.call(d,{})}},fibonacciTimeZones:{className:"highcharts-fibonacci-time-zones",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=X(u.xAxis),f=X(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=c({type:"fibonacciTimeZones",langKey:"fibonacciTimeZones",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value}]}},d.annotationsOptions,d.bindings.fibonacciTimeZones.annotationsOptions);return this.chart.addAnnotation(p)},steps:[function(g,u){const l=u.options.typeOptions.points,f=l&&l[0].x,d=this.chart.pointer.getCoordinates(g),p=X(d.xAxis),C=X(d.yAxis);u.update({typeOptions:{xAxis:p.axis.options.index,yAxis:C.axis.options.index,points:[{x:f},{x:p.value}]}})}]},flagCirclepin:{className:"highcharts-flag-circlepin",start:L("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:L("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:L("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:L("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(g){this.chart.update({chart:{zooming:{type:"x"}}}),x(this,"deselectButton",{button:g})}},zoomY:{className:"highcharts-zoom-y",init:function(g){this.chart.update({chart:{zooming:{type:"y"}}}),x(this,"deselectButton",{button:g})}},zoomXY:{className:"highcharts-zoom-xy",init:function(g){this.chart.update({chart:{zooming:{type:"xy"}}}),x(this,"deselectButton",{button:g})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(g){this.chart.series[0].update({type:"line",useOhlcData:!0}),x(this,"deselectButton",{button:g})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(g){this.chart.series[0].update({type:"ohlc"}),x(this,"deselectButton",{button:g})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(g){this.chart.series[0].update({type:"candlestick"}),x(this,"deselectButton",{button:g})}},seriesTypeHeikinAshi:{className:"highcharts-series-type-heikinashi",init:function(g){this.chart.series[0].update({type:"heikinashi"}),x(this,"deselectButton",{button:g})}},seriesTypeHLC:{className:"highcharts-series-type-hlc",init:function(g){this.chart.series[0].update({type:"hlc",useOhlcData:!0}),x(this,"deselectButton",{button:g})}},seriesTypeHollowCandlestick:{className:"highcharts-series-type-hollowcandlestick",init:function(g){this.chart.series[0].update({type:"hollowcandlestick"}),x(this,"deselectButton",{button:g})}},fullScreen:{className:"highcharts-full-screen",noDataState:"normal",init:function(g){this.chart.fullscreen&&this.chart.fullscreen.toggle(),x(this,"deselectButton",{button:g})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(g){const u=this.chart,l=u.series,f=u.stockTools,d=T(u.series);f&&f.guiEnabled&&(l.forEach(function(p){p.update({lastPrice:{enabled:!d},lastVisiblePrice:{enabled:!d,label:{enabled:!0}}},!1)}),u.redraw()),x(this,"deselectButton",{button:g})}},indicators:{className:"highcharts-indicators",init:function(){const g=this;x(g,"showPopup",{formType:"indicators",options:{},onSubmit:function(u){M.call(g,u)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(g){const u=this.chart,l=u.stockTools,f=l.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(u.annotations||[]).forEach(function(d){d.setVisibility(!this.toggledAnnotations)},this),l&&l.guiEnabled&&(g.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+f+'annotations-hidden.svg")':'url("'+f+'annotations-visible.svg")'),x(this,"deselectButton",{button:g})}},saveChart:{className:"highcharts-save-chart",noDataState:"normal",init:function(g){const l=this.chart,f=[],d=[],p=[],C=[];l.annotations.forEach(function(w,a){f[a]=w.userOptions}),l.series.forEach(function(w){w.is("sma")?d.push(w.userOptions):"flags"===w.type&&p.push(w.userOptions)}),l.yAxis.forEach(function(w){E(w)&&C.push(w.options)}),F.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:f,indicators:d,flags:p,yAxes:C})),x(this,"deselectButton",{button:g})}}}}),Z(D,"Stock/StockTools/StockToolsDefaults.js",[],function(){return{lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",typeHLC:"HLC",typeHollowCandlestick:"Hollow Candlestick",typeHeikinAshi:"Heikin Ashi",circle:"Circle",ellipse:"Ellipse",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",timeCycles:"Time Cycles"}},navigation:{popup:{circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",timeCycles:"Time Cycles",flags:"Flags",addButton:"Add",saveButton:"Save",editButton:"Edit",removeButton:"Remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background",noFilterMatch:"No match",searchIndicators:"Search Indicators",clearFilter:"\u2715 clear filter",index:"Index",period:"Period",periods:"Periods",standardDeviation:"Standard deviation",periodTenkan:"Tenkan period",periodSenkouSpanB:"Senkou Span B period",periodATR:"ATR period",multiplierATR:"ATR multiplier",shortPeriod:"Short period",longPeriod:"Long period",signalPeriod:"Signal period",decimals:"Decimals",algorithm:"Algorithm",topBand:"Top band",bottomBand:"Bottom band",initialAccelerationFactor:"Initial acceleration factor",maxAccelerationFactor:"Max acceleration factor",increment:"Increment",multiplier:"Multiplier",ranges:"Ranges",highIndex:"High index",lowIndex:"Low index",deviation:"Deviation",xAxisUnit:"x-axis unit",factor:"Factor",fastAvgPeriod:"Fast average period",slowAvgPeriod:"Slow average period",average:"Average",indicatorAliases:{abands:["Acceleration Bands"],bb:["Bollinger Bands"],dema:["Double Exponential Moving Average"],ema:["Exponential Moving Average"],ikh:["Ichimoku Kinko Hyo"],keltnerchannels:["Keltner Channels"],linearRegression:["Linear Regression"],pivotpoints:["Pivot Points"],pc:["Price Channel"],priceenvelopes:["Price Envelopes"],psar:["Parabolic SAR"],sma:["Simple Moving Average"],supertrend:["Super Trend"],tema:["Triple Exponential Moving Average"],vbp:["Volume by Price"],vwap:["Volume Weighted Moving Average"],wma:["Weighted Moving Average"],zigzag:["Zig Zag"],apo:["Absolute price indicator"],ad:["Accumulation/Distribution"],aroon:["Aroon"],aroonoscillator:["Aroon oscillator"],atr:["Average True Range"],ao:["Awesome oscillator"],cci:["Commodity Channel Index"],chaikin:["Chaikin"],cmf:["Chaikin Money Flow"],cmo:["Chande Momentum Oscillator"],disparityindex:["Disparity Index"],dmi:["Directional Movement Index"],dpo:["Detrended price oscillator"],klinger:["Klinger Oscillator"],linearRegressionAngle:["Linear Regression Angle"],linearRegressionIntercept:["Linear Regression Intercept"],linearRegressionSlope:["Linear Regression Slope"],macd:["Moving Average Convergence Divergence"],mfi:["Money Flow Index"],momentum:["Momentum"],natr:["Normalized Average True Range"],obv:["On-Balance Volume"],ppo:["Percentage Price oscillator"],roc:["Rate of Change"],rsi:["Relative Strength Index"],slowstochastic:["Slow Stochastic"],stochastic:["Stochastic"],trix:["TRIX"],williamsr:["Williams %R"]}}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:["indicators","separator","simpleShapes","lines","crookedLines","measure","advanced","toggleAnnotations","separator","verticalLabels","flags","separator","zoomChange","fullScreen","typeChange","separator","currentPriceIndicator","saveChart"],definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","ellipse","rectangle"],circle:{symbol:"circle.svg"},ellipse:{symbol:"ellipse.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:["segment","arrowSegment","ray","arrowRay","line","arrowInfinityLine","horizontalLine","verticalLine"],segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowInfinityLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","fibonacciTimeZones","pitchfork","parallelChannel","timeCycles"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},fibonacciTimeZones:{symbol:"fibonacci-timezone.svg"},parallelChannel:{symbol:"parallel-channel.svg"},timeCycles:{symbol:"time-cycles.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick","typeHollowCandlestick","typeHLC","typeHeikinAshi"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"},typeHLC:{symbol:"series-hlc.svg"},typeHeikinAshi:{symbol:"series-heikin-ashi.svg"},typeHollowCandlestick:{symbol:"series-hollow-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}}),Z(D,"Stock/StockTools/StockTools.js",[D["Core/Defaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Stock/StockTools/StockToolsBindings.js"],D["Stock/StockTools/StockToolsDefaults.js"],D["Stock/StockTools/StockToolsUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{setOptions:I}=F,{getAssignedAxis:E}=G,{isNotNavigatorYAxis:T,isPriceIndicatorEnabled:M}=X,{correctFloat:s,defined:y,isNumber:b,pick:x}=L,c=[];function g(p,C,w,a){let i,t,e,o=0;function n(r){return y(r)&&!b(r)&&r.match("%")}return a&&(e=s(parseFloat(a.top)/100),t=s(parseFloat(a.height)/100)),{positions:p.map((r,S)=>{let v=s(n(r.options.height)?parseFloat(r.options.height)/100:r.height/C),P=s(n(r.options.top)?parseFloat(r.options.top)/100:(r.top-r.chart.plotTop)/C);return t?(P>e&&(P-=t),o=Math.max(o,(P||0)+(v||0))):(b(v)||(v=p[S-1].series.every(A=>A.is("sma"))?i:w/100),b(P)||(P=o),i=v,o=s(Math.max(o,(P||0)+(v||0)))),{height:100*v,top:100*P}}),allAxesHeight:o}}function u(p){const C=[];return p.forEach(function(w,a){const o=p[a+1];C[a]=o?{enabled:!0,controlledAxis:{next:[x(o.options.id,o.options.index)]}}:{enabled:!1}}),C}function l(p,C,w,a){return p.forEach(function(o,i){const t=p[i-1];o.top=t?s(t.height+t.top):0,w&&(o.height=s(o.height+a*C))}),p}function f(p){const w=this.chart,a=w.yAxis.filter(T),o=w.plotHeight,{positions:i,allAxesHeight:t}=this.getYAxisPositions(a,o,20,p),e=this.getYAxisResizers(a);!p&&t<=s(1)?i[i.length-1]={height:20,top:s(100*t-20)}:i.forEach(function(n){n.height=n.height/(100*t)*100,n.top=n.top/(100*t)*100}),i.forEach(function(n,h){a[h].update({height:n.height+"%",top:n.top+"%",resize:e[h],offset:0},!1)})}return{compose:function m(p){if(L.pushUnique(c,p)){const C=p.prototype;C.getYAxisPositions=g,C.getYAxisResizers=u,C.recalculateYAxisPositions=l,C.resizeYAxes=f,C.utils={indicatorsWithAxes:X.indicatorsWithAxes,indicatorsWithVolume:X.indicatorsWithVolume,getAssignedAxis:E,isPriceIndicatorEnabled:M,manageIndicators:X.manageIndicators}}L.pushUnique(c,I)&&(I(U),I({navigation:{bindings:j}}))}}}),Z(D,"Stock/StockTools/StockToolbar.js",[D["Core/Utilities.js"]],function(F){const{addEvent:G,createElement:j,css:U,fireEvent:X,getStyle:L,isArray:I,merge:E,pick:T}=F;class M{constructor(y,b,x){this.arrowDown=void 0,this.arrowUp=void 0,this.arrowWrapper=void 0,this.listWrapper=void 0,this.showhideBtn=void 0,this.submenu=void 0,this.toolbar=void 0,this.wrapper=void 0,this.chart=x,this.options=y,this.lang=b,this.iconsURL=this.getIconsURL(),this.guiEnabled=y.enabled,this.visible=T(y.visible,!0),this.placed=T(y.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),X(this,"afterInit")}init(){const y=this.lang,b=this.options,x=this.toolbar,m=b.definitions,g=x.childNodes;b.buttons.forEach(u=>{const l=this.addButton(x,m,u,y);this.eventsToUnbind.push(G(l.buttonWrapper,"click",()=>this.eraseActiveButtons(g,l.buttonWrapper))),I(m[u].items)&&this.addSubmenu(l,m[u])})}addSubmenu(y,b){const x=y.submenuArrow,c=y.buttonWrapper,m=L(c,"width"),g=this.wrapper,u=this.listWrapper,l=this.toolbar.childNodes,f=this.submenu=j("ul",{className:"highcharts-submenu-wrapper"},void 0,c);this.addSubmenuItems(c,b),this.eventsToUnbind.push(G(x,"click",d=>{if(d.stopPropagation(),this.eraseActiveButtons(l,c),c.className.indexOf("highcharts-current")>=0)u.style.width=u.startWidth+"px",c.classList.remove("highcharts-current"),f.style.display="none";else{f.style.display="block";let p=f.offsetHeight-c.offsetHeight-3;f.offsetHeight+c.offsetTop>g.offsetHeight&&c.offsetTop>p||(p=0),U(f,{top:-p+"px",left:m+3+"px"}),c.className+=" highcharts-current",u.startWidth=g.offsetWidth,u.style.width=u.startWidth+L(u,"padding-left")+f.offsetWidth+3+"px"}}))}addSubmenuItems(y,b){const x=this,c=this.submenu,m=this.lang,g=this.listWrapper;let l;b.items.forEach(d=>{l=this.addButton(c,b,d,m),this.eventsToUnbind.push(G(l.mainButton,"click",function(){x.switchSymbol(this,y,!0),g.style.width=g.startWidth+"px",c.style.display="none"}))});const f=c.querySelectorAll("li > .highcharts-menu-item-btn")[0];this.switchSymbol(f,!1)}eraseActiveButtons(y,b,x){[].forEach.call(y,c=>{c!==b&&(c.classList.remove("highcharts-current"),c.classList.remove("highcharts-active"),(x=c.querySelectorAll(".highcharts-submenu-wrapper")).length>0&&(x[0].style.display="none"))})}addButton(y,b,x,c={}){const m=b[x],g=m.items,l=m.className||"",f=j("li",{className:T(M.prototype.classMapping[x],"")+" "+l,title:c[x]||x},void 0,y),d=j("span",{className:"highcharts-menu-item-btn"},void 0,f);if(g&&g.length){const p=j("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},void 0,f);return p.style.backgroundImage="url("+this.iconsURL+"arrow-bottom.svg)",{buttonWrapper:f,mainButton:d,submenuArrow:p}}return d.style.backgroundImage="url("+this.iconsURL+m.symbol+")",{buttonWrapper:f,mainButton:d}}addNavigation(){const y=this.wrapper;this.arrowWrapper=j("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=j("div",{className:"highcharts-arrow-up"},void 0,this.arrowWrapper),this.arrowUp.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=j("div",{className:"highcharts-arrow-down"},void 0,this.arrowWrapper),this.arrowDown.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",y.insertBefore(this.arrowWrapper,y.childNodes[0]),this.scrollButtons()}scrollButtons(){const y=this.wrapper,b=this.toolbar,x=.1*y.offsetHeight;let c=0;this.eventsToUnbind.push(G(this.arrowUp,"click",()=>{c>0&&(c-=x,b.style.marginTop=-c+"px")})),this.eventsToUnbind.push(G(this.arrowDown,"click",()=>{y.offsetHeight+c<=b.offsetHeight+x&&(c+=x,b.style.marginTop=-c+"px")}))}createHTML(){const y=this.chart,b=this.options,x=y.container,c=y.options.navigation;let g,u;const l=this.wrapper=j("div",{className:"highcharts-stocktools-wrapper "+b.className+" "+(c&&c.bindingsClassName)});x.appendChild(l),["mousedown","mousemove","click","touchstart"].forEach(f=>{G(l,f,d=>d.stopPropagation())}),G(l,"mouseover",f=>y.pointer.onContainerMouseLeave(f)),this.toolbar=u=j("ul",{className:"highcharts-stocktools-toolbar "+b.toolbarClassName}),this.listWrapper=g=j("div",{className:"highcharts-menu-wrapper"}),l.insertBefore(g,l.childNodes[0]),g.insertBefore(u,g.childNodes[0]),this.showHideToolbar(),this.addNavigation()}showHideNavigatorion(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")}showHideToolbar(){const y=this.chart,b=this.wrapper,x=this.listWrapper,c=this.submenu,m=this.showhideBtn=j("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},void 0,b);let g=this.visible;m.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",g?(b.style.height="100%",m.style.top=L(x,"padding-top")+"px",m.style.left=b.offsetWidth+L(x,"padding-left")+"px"):(c&&(c.style.display="none"),m.style.left="0px",g=this.visible=!1,x.classList.add("highcharts-hide"),m.classList.toggle("highcharts-arrow-right"),b.style.height=m.offsetHeight+"px"),this.eventsToUnbind.push(G(m,"click",()=>{y.update({stockTools:{gui:{visible:!g,placed:!0}}})}))}switchSymbol(y,b){const x=y.parentNode,c=x.className,m=x.parentNode.parentNode;c.indexOf("highcharts-disabled-btn")>-1||(m.className="",c&&m.classList.add(c.trim()),m.querySelectorAll(".highcharts-menu-item-btn")[0].style.backgroundImage=y.style.backgroundImage,b&&this.toggleButtonActiveClass(m))}toggleButtonActiveClass(y){const b=y.classList;b.contains("highcharts-active")?b.remove("highcharts-active"):b.add("highcharts-active")}unselectAllButtons(y){const b=y.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(b,x=>{x!==y&&x.classList.remove("highcharts-active")})}update(y,b){E(!0,this.chart.options.stockTools,y),this.destroy(),this.chart.setStockTools(y),this.chart.navigationBindings&&this.chart.navigationBindings.update(),this.chart.isDirtyBox=!0,T(b,!0)&&this.chart.redraw()}destroy(){const y=this.wrapper,b=y&&y.parentNode;this.eventsToUnbind.forEach(x=>x()),b&&b.removeChild(y)}redraw(){this.showHideNavigatorion()}getIconsURL(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/11.0.0/gfx/stock-icons/"}}return M.prototype.classMapping={circle:"highcharts-circle-annotation",ellipse:"highcharts-ellipse-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowInfinityLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",fibonacciTimeZones:"highcharts-fibonacci-time-zones",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",timeCycles:"highcharts-time-cycles",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeHLC:"highcharts-series-type-hlc",typeCandlestick:"highcharts-series-type-candlestick",typeHollowCandlestick:"highcharts-series-type-hollowcandlestick",typeHeikinAshi:"highcharts-series-type-heikinashi",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},M}),Z(D,"Stock/StockTools/StockToolsGui.js",[D["Core/Defaults.js"],D["Stock/StockTools/StockToolsDefaults.js"],D["Stock/StockTools/StockToolbar.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{setOptions:X}=F,{addEvent:L,getStyle:I,merge:E,pick:T}=U,M=[];function s(p){const C=this.options,w=C.lang,a=E(C.stockTools&&C.stockTools.gui,p&&p.gui);this.stockTools=new j(a,w&&w.stockTools&&w.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}function b(){this.setStockTools()}function x(){if(this.stockTools){const p=this.options.chart,C=this.stockTools.listWrapper,w=C&&(C.startWidth+I(C,"padding-left")+I(C,"padding-right")||C.offsetWidth);let a=!1;if(w&&w<this.plotWidth){const o=T(p.spacingLeft,p.spacing&&p.spacing[3],0)+w,i=o-this.spacingBox.x;this.spacingBox.x=o,this.spacingBox.width-=i,a=!0}else 0===w&&(a=!0);w!==this.stockTools.prevOffsetWidth&&(this.stockTools.prevOffsetWidth=w,a&&(this.isDirtyLegend=!0))}}function c(){this.stockTools&&this.stockTools.destroy()}function m(){const p=this.stockTools&&this.stockTools.listWrapper,C=p&&(p.startWidth+I(p,"padding-left")+I(p,"padding-right")||p.offsetWidth);C&&C<this.plotWidth&&(this.plotLeft+=C,this.spacing[3]+=C)}function g(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}function u(){const p=this.stockTools,C=p&&p.toolbar&&p.toolbar.querySelector(".highcharts-current-price-indicator");p&&this.navigationBindings&&this.options.series&&C&&(C.firstChild.style["background-image"]=this.navigationBindings.constructor.prototype.utils.isPriceIndicatorEnabled(this.series)?'url("'+p.getIconsURL()+'current-price-hide.svg")':'url("'+p.getIconsURL()+'current-price-show.svg")')}function l(p){const w=this.chart.stockTools;if(w&&w.guiEnabled){let a=p.button;a.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(a=a.parentNode.parentNode),w.toggleButtonActiveClass(a)}}function f(p){const w=this.chart.stockTools;if(w&&w.guiEnabled){let a=p.button;w.unselectAllButtons(p.button),a.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(a=a.parentNode.parentNode),w.toggleButtonActiveClass(a)}}return{compose:function y(p,C){U.pushUnique(M,p)&&(L(p,"afterGetContainer",b),L(p,"beforeRedraw",x),L(p,"beforeRender",x),L(p,"destroy",c),L(p,"getMargins",m,{order:0}),L(p,"redraw",g),L(p,"render",u),p.prototype.setStockTools=s),U.pushUnique(M,C)&&(L(C,"deselectButton",l),L(C,"selectButton",f)),U.pushUnique(M,X)&&X(G)}}}),Z(D,"masters/modules/stock-tools.src.js",[D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindings.js"],D["Stock/StockTools/StockTools.js"],D["Stock/StockTools/StockToolsGui.js"],D["Stock/StockTools/StockToolbar.js"]],function(F,G,j,U,X){const L=F;L.Toolbar=X,j.compose(G),U.compose(L.Chart,G)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470),lt(1335)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},1335:(Ct,Et,lt)=>{"use strict";var Mt,vt,K;K=function(K){function D(Z,F,G,j){Z.hasOwnProperty(F)||(Z[F]=j.apply(null,G),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:Z[F]}})))}D(K=K?K._modules:{},"Core/Axis/BrokenAxis.js",[K["Core/Axis/Stacking/StackItem.js"],K["Core/Utilities.js"]],function(Z,F){const{addEvent:G,find:j,fireEvent:U,isArray:X,isNumber:L,pick:I}=F;var E;return function(T){function M(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function s(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function y(){const f=this.brokenAxis;if(f&&f.hasBreaks){const d=this.tickPositions,p=this.tickPositions.info,C=[];for(let w=0;w<d.length;w++)f.isInAnyBreak(d[w])||C.push(d[w]);this.tickPositions=C,this.tickPositions.info=p}}function b(){this.brokenAxis||(this.brokenAxis=new l(this))}function x(){const{isDirty:f,options:{connectNulls:d},points:p,xAxis:C,yAxis:w}=this;if(f){let a=p.length;for(;a--;){const o=p[a],i=!(null===o.y&&!1===d)&&(C&&C.brokenAxis&&C.brokenAxis.isInAnyBreak(o.x,!0)||w&&w.brokenAxis&&w.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!i&&!1!==o.options.visible}}}function c(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,I(this.pointArrayMap,["y"]))}function m(f,d){const p=this,C=p.points;let w,a,o,i;if(f&&f.brokenAxis&&f.brokenAxis.hasBreaks){const t=f.brokenAxis;d.forEach(function(e){w=t&&t.breakArray||[],a=f.isXAxis?f.min:I(p.options.threshold,f.min),C.forEach(function(n){i=I(n["stack"+e.toUpperCase()],n[e]),w.forEach(function(h){L(a)&&L(i)&&(o=!1,a<h.from&&i>h.to||a>h.from&&i<h.from?o="pointBreak":(a<h.from&&i>h.from&&i<h.to||a>h.from&&i>h.to&&i<h.from)&&(o="pointInBreak"),o&&U(f,o,{point:n,brk:h}))})})})}}function g(){var f=this.currentDataGrouping,d=f&&f.gapSize;f=this.points.slice();const p=this.yAxis;let C=this.options.gapSize,w=f.length-1;var a;if(C&&0<w)for("value"!==this.options.gapUnit&&(C*=this.basePointRange),d&&d>C&&d>=this.basePointRange&&(C=d);w--;)a&&!1!==a.visible||(a=f[w+1]),d=f[w],!1!==a.visible&&!1!==d.visible&&(a.x-d.x>C&&(f.splice(w+1,0,{isNull:!0,x:a=(d.x+a.x)/2}),p.stacking&&this.options.stacking&&((a=p.stacking.stacks[this.stackKey][a]=new Z(p,p.options.stackLabels,!1,a,this.stack)).total=0)),a=d);return this.getGraphPath(f)}const u=[];T.compose=function(f,d){if(F.pushUnique(u,f)&&(f.keepProps.push("brokenAxis"),G(f,"init",b),G(f,"afterInit",M),G(f,"afterSetTickPositions",y),G(f,"afterSetOptions",s)),F.pushUnique(u,d)){const p=d.prototype;p.drawBreaks=m,p.gappedPath=g,G(d,"afterGeneratePoints",x),G(d,"afterRender",c)}return f};class l{static isInBreak(d,p){const C=d.repeat||1/0,w=d.from,a=d.to-d.from;return p=p>=w?(p-w)%C:C-(w-p)%C,d.inclusive?p<=a:p<a&&0!==p}static lin2Val(d){var p=this.brokenAxis;if(!(p=p&&p.breakArray)||!L(d))return d;let C,w;for(w=0;w<p.length&&(C=p[w],!(C.from>=d));w++)(C.to<d||l.isInBreak(C,d))&&(d+=C.len);return d}static val2Lin(d){var p=this.brokenAxis;if(!(p=p&&p.breakArray)||!L(d))return d;let w,a,C=d;for(a=0;a<p.length;a++)if(w=p[a],w.to<=d)C-=w.len;else{if(w.from>=d)break;if(l.isInBreak(w,d)){C-=d-w.from;break}}return C}constructor(d){this.hasBreaks=!1,this.axis=d}findBreakAt(d,p){return j(p,function(C){return C.from<d&&d<C.to})}isInAnyBreak(d,p){const C=this.axis,w=C.options.breaks||[];let o,i,t,a=w.length;if(a&&L(d)){for(;a--;)l.isInBreak(w[a],d)&&(o=!0,i||(i=I(w[a].showPoints,!C.isXAxis)));t=o&&p?o&&!i:o}return t}setBreaks(d,p){const C=this,w=C.axis,a=X(d)&&!!d.length;w.isDirty=C.hasBreaks!==a,C.hasBreaks=a,w.options.breaks=w.userOptions.breaks=d,w.forceRedraw=!0,w.series.forEach(function(o){o.isDirty=!0}),a||w.val2lin!==l.val2Lin||(delete w.val2lin,delete w.lin2val),a&&(w.userOptions.ordinal=!1,w.lin2val=l.lin2Val,w.val2lin=l.val2Lin,w.setExtremes=function(o,i,t,e,n){if(C.hasBreaks){const h=this.options.breaks||[];let r;for(;r=C.findBreakAt(o,h);)o=r.to;for(;r=C.findBreakAt(i,h);)i=r.from;i<o&&(i=o)}w.constructor.prototype.setExtremes.call(this,o,i,t,e,n)},w.setAxisTranslation=function(){if(w.constructor.prototype.setAxisTranslation.call(this),C.unitLength=void 0,C.hasBreaks){const o=w.options.breaks||[],i=[],t=[],e=I(w.pointRangePadding,0);let h,r,P,A,n=0,S=w.userMin||w.min,v=w.userMax||w.max;o.forEach(function(k){r=k.repeat||1/0,L(S)&&L(v)&&(l.isInBreak(k,S)&&(S+=k.to%r-S%r),l.isInBreak(k,v)&&(v-=v%r-k.from%r))}),o.forEach(function(k){if(P=k.from,r=k.repeat||1/0,L(S)&&L(v)){for(;P-r>S;)P-=r;for(;P<S;)P+=r;for(A=P;A<v;A+=r)i.push({value:A,move:"in"}),i.push({value:A+k.to-k.from,move:"out",size:k.breakSize})}}),i.sort(function(k,O){return k.value===O.value?("in"===k.move?0:1)-("in"===O.move?0:1):k.value-O.value}),h=0,P=S,i.forEach(function(k){h+="in"===k.move?1:-1,1===h&&"in"===k.move&&(P=k.value),0===h&&L(P)&&(t.push({from:P,to:k.value,len:k.value-P-(k.size||0)}),n+=k.value-P-(k.size||0))}),C.breakArray=t,L(S)&&L(v)&&L(w.min)&&(C.unitLength=v-S-n+e,U(w,"afterBreaks"),w.staticScale?w.transA=w.staticScale:C.unitLength&&(w.transA*=(v-w.min+e)/C.unitLength),e&&(w.minPixelPadding=w.transA*(w.minPointOffset||0)),w.min=S,w.max=v)}}),I(p,!0)&&w.chart.redraw()}}T.Additions=l}(E||(E={})),E}),D(K,"masters/modules/broken-axis.src.js",[K["Core/Globals.js"],K["Core/Axis/BrokenAxis.js"]],function(Z,F){F.compose(Z.Axis,Z.Series)}),D(K,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),D(K,"Extensions/DataGrouping/ApproximationDefaults.js",[K["Extensions/DataGrouping/ApproximationRegistry.js"],K["Core/Utilities.js"]],function(Z,F){function G(T){const M=T.length;return T=j(T),E(T)&&M&&(T=L(T/M)),T}function j(T){let s,M=T.length;if(!M&&T.hasNulls)s=null;else if(M)for(s=0;M--;)s+=T[M];return s}const{arrayMax:U,arrayMin:X,correctFloat:L,extend:I,isNumber:E}=F;return F={average:G,averages:function(){const T=[];return[].forEach.call(arguments,function(M){T.push(G(M))}),typeof T[0]>"u"?void 0:T},close:function(T){return T.length?T[T.length-1]:T.hasNulls?null:void 0},high:function(T){return T.length?U(T):T.hasNulls?null:void 0},hlc:function(T,M,s){if(T=Z.high(T),M=Z.low(M),s=Z.close(s),E(T)||E(M)||E(s))return[T,M,s]},low:function(T){return T.length?X(T):T.hasNulls?null:void 0},ohlc:function(T,M,s,y){if(T=Z.open(T),M=Z.high(M),s=Z.low(s),y=Z.close(y),E(T)||E(M)||E(s)||E(y))return[T,M,s,y]},open:function(T){return T.length?T[0]:T.hasNulls?null:void 0},range:function(T,M){return T=Z.low(T),M=Z.high(M),E(T)||E(M)?[T,M]:null===T&&null===M?null:void 0},sum:j},I(Z,F),F}),D(K,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),D(K,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[K["Extensions/DataGrouping/DataGroupingDefaults.js"],K["Core/Utilities.js"]],function(Z,F){function G(y){const b=this,x=b.series;x.forEach(function(c){c.groupPixelWidth=void 0}),x.forEach(function(c){c.groupPixelWidth=b.getGroupPixelWidth&&b.getGroupPixelWidth(),c.groupPixelWidth&&(c.hasProcessed=!0),c.applyGrouping(!!y.hasExtremesChanged)})}function j(){const y=this.series;let m,g,b=y.length,x=0,c=!1;for(;b--;)(g=y[b].options.dataGrouping)&&(x=Math.max(x,T(g.groupPixelWidth,Z.common.groupPixelWidth)),m=(y[b].processedXData||y[b].data).length,(y[b].groupPixelWidth||m>this.chart.plotSizeX/x||m&&g.forced)&&(c=!0));return c?x:0}function U(){this.series.forEach(function(y){y.hasProcessed=!1})}function X(y,b){let x;if(b=T(b,!0),y||(y={forced:!1,units:null}),this instanceof s)for(x=this.series.length;x--;)this.series[x].update({dataGrouping:y},!1);else this.chart.options.series.forEach(function(c){c.dataGrouping="boolean"==typeof y?y:E(y,c.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),b&&this.chart.redraw()}const{addEvent:L,extend:I,merge:E,pick:T}=F,M=[];let s;return{compose:function(y){s=y,F.pushUnique(M,y)&&(L(y,"afterSetScale",U),L(y,"postProcessData",G),I(y.prototype,{applyGrouping:G,getGroupPixelWidth:j,setDataGrouping:X}))}}}),D(K,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[K["Extensions/DataGrouping/ApproximationRegistry.js"],K["Extensions/DataGrouping/DataGroupingDefaults.js"],K["Core/Axis/DateTimeAxis.js"],K["Core/Defaults.js"],K["Core/Series/SeriesRegistry.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X){function L(p){var C=this.chart,w=this.options.dataGrouping,a=!1!==this.allowDG&&w&&l(w.enabled,C.options.isStock),o=this.visible||!C.options.chart.ignoreHiddenSeries;const i=this.currentDataGrouping;var t=!1;if(a&&!this.requireSorting&&(this.requireSorting=t=!0),p=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||p)||!a,t&&(this.requireSorting=!1),!p){this.destroyGroupedData(),p=w.groupAll?this.xData:this.processedXData,a=w.groupAll?this.yData:this.processedYData;var r,e=C.plotSizeX,n=(t=this.xAxis).options.ordinal,h=this.groupPixelWidth;let N;if(h&&p&&p.length&&e){this.isDirty=N=!0,this.points=null;var S=t.getExtremes(),v=S.min;S=S.max,n=n&&t.ordinal&&t.ordinal.getGroupIntervalFactor(v,S,this)||1,e=t.getTimeTicks(G.Additions.prototype.normalizeTimeTickInterval(h*(S-v)/e*n,w.units||F.units),Math.min(v,p[0]),Math.max(S,p[p.length-1]),t.options.startOfWeek,p,this.closestPointRange),p=(h=y.groupData.apply(this,[p,a,e,w.approximation])).groupedXData,a=h.groupedYData,n=0,w&&w.smoothed&&p.length&&(w.firstAnchor="firstPoint",w.anchor="middle",w.lastAnchor="lastPoint",c(32,!1,C,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),C=p;var P=S,A=this.options.dataGrouping;if(S=this.currentDataGrouping&&this.currentDataGrouping.gapSize,A&&this.xData&&S&&this.groupMap){v=C.length-1;var k=A.anchor;const B=l(A.firstAnchor,k);if(A=l(A.lastAnchor,k),k&&"start"!==k){var O=S*{middle:.5,end:1}[k];for(k=C.length-1;k--&&0<k;)C[k]+=O}B&&"start"!==B&&this.xData[0]>=C[0]&&(O=this.groupMap[0].length,g(k=this.groupMap[0].start)&&g(O)&&(r=k+(O-1)),C[0]={middle:C[0]+.5*S,end:C[0]+S,firstPoint:this.xData[0],lastPoint:r&&this.xData[r]}[B]),A&&"start"!==A&&S&&C[v]>=P-S&&(C[v]={middle:C[v]+.5*S,end:C[v]+S,firstPoint:(r=this.groupMap[this.groupMap.length-1].start)&&this.xData[r],lastPoint:this.xData[this.xData.length-1]}[A])}for(r=1;r<e.length;r++)e.info.segmentStarts&&-1!==e.info.segmentStarts.indexOf(r)||(n=Math.max(e[r]-e[r-1],n));(S=e.info).gapSize=n,this.closestPointRange=e.info.totalRange,this.groupMap=h.groupMap,o&&(o=t,x((r=p)[0])&&g(o.min)&&g(o.dataMin)&&r[0]<o.min&&((!x(o.options.min)&&o.min<=o.dataMin||o.min===o.dataMin)&&(o.min=Math.min(r[0],o.min)),o.dataMin=Math.min(r[0],o.dataMin)),x(r[r.length-1])&&g(o.max)&&g(o.dataMax)&&r[r.length-1]>o.max&&((!x(o.options.max)&&g(o.dataMax)&&o.max>=o.dataMax||o.max===o.dataMax)&&(o.max=Math.max(r[r.length-1],o.max)),o.dataMax=Math.max(r[r.length-1],o.dataMax))),w.groupAll&&(this.allGroupedData=a,p=(w=this.cropData(p,a,t.min,t.max,1)).xData,a=w.yData,this.cropStart=w.start),this.processedXData=p,this.processedYData=a}else this.groupMap=null;this.hasGroupedData=N,this.currentDataGrouping=S,this.preventGraphAnimation=(i&&i.totalRange)!==(S&&S.totalRange)}}function I(){this.groupedData&&(this.groupedData.forEach(function(p,C){p&&(this.groupedData[C]=p.destroy?p.destroy():null)},this),this.groupedData.length=0)}function E(){f.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function T(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function M(p,C,w,a){const o=this,i=o.data,t=o.options&&o.options.data,e=[],n=[],h=[],r=p.length,S=!!C,v=[],P=o.pointArrayMap,A=P&&P.length,k=["x"].concat(P||["y"]),O=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let N=0,B=0;if(a="function"==typeof a?a:a&&Z[a]?Z[a]:Z[o.getDGApproximation&&o.getDGApproximation()||"average"],A)for(var Y=P.length;Y--;)v.push([]);else v.push([]);Y=A||1;for(let z=0;z<=r;z++)if(!(p[z]<w[0])){for(;typeof w[N+1]<"u"&&p[z]>=w[N+1]||z===r;){var W=w[N];o.dataGroupInfo={start:O?B:o.cropStart+B,length:v[0].length};var R=a.apply(o,v);for(o.pointClass&&!x(o.dataGroupInfo.options)&&(o.dataGroupInfo.options=u(o.pointClass.prototype.optionsToObject.call({series:o},o.options.data[o.cropStart+B])),k.forEach(function(H){delete o.dataGroupInfo.options[H]})),typeof R<"u"&&(e.push(W),n.push(R),h.push(o.dataGroupInfo)),B=z,W=0;W<Y;W++)v[W].length=0,v[W].hasNulls=!1;if(N+=1,z===r)break}if(z===r)break;if(P){W=o.options.dataGrouping&&o.options.dataGrouping.groupAll?z:o.cropStart+z,W=i&&i[W]||o.pointClass.prototype.applyOptions.apply({series:o},[t[W]]);for(let H=0;H<A;H++)g(R=W[P[H]])?v[H].push(R):null===R&&(v[H].hasNulls=!0)}else g(W=S?C[z]:null)?v[0].push(W):null===W&&(v[0].hasNulls=!0)}return{groupedXData:e,groupedYData:n,groupMap:h}}function s(p){p=p.options;const C=this.type,w=this.chart.options.plotOptions,a=this.useCommonDataGrouping&&F.common,o=F.seriesSpecific;let i=j.defaultOptions.plotOptions[C].dataGrouping;if(w&&(o[C]||a)){const t=this.chart.rangeSelector;i||(i=u(F.common,o[C])),p.dataGrouping=u(a,i,w.series&&w.series.dataGrouping,w[C].dataGrouping,this.userOptions.dataGrouping,!p.isInternal&&t&&g(t.selected)&&t.buttonOptions[t.selected].dataGrouping)}}const{series:{prototype:y}}=U,{addEvent:b,defined:x,error:c,extend:m,isNumber:g,merge:u,pick:l}=X,f=y.generatePoints,d=[];return{compose:function(p){const C=p.prototype.pointClass;X.pushUnique(d,C)&&b(C,"update",function(){if(this.dataGroup)return c(24,!1,this.series.chart),!1}),X.pushUnique(d,p)&&(b(p,"afterSetOptions",s),b(p,"destroy",I),m(p.prototype,{applyGrouping:L,destroyGroupedData:I,generatePoints:E,getDGApproximation:T,groupData:M}))},groupData:M}}),D(K,"Extensions/DataGrouping/DataGrouping.js",[K["Extensions/DataGrouping/DataGroupingAxisComposition.js"],K["Extensions/DataGrouping/DataGroupingDefaults.js"],K["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],K["Core/FormatUtilities.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U){function X(s){const y=this.chart,b=y.time,x=s.labelConfig,c=x.series;var m=c.tooltipOptions,g=c.options.dataGrouping;const u=c.xAxis;var l=m.xDateFormat;let f,d,p=m[s.isFooter?"footerFormat":"headerFormat"];u&&"datetime"===u.options.type&&g&&T(x.key)&&(d=c.currentDataGrouping,g=g.dateTimeLabelFormats||F.common.dateTimeLabelFormats,d?(m=g[d.unitName],1===d.count?l=m[0]:(l=m[1],f=m[2])):!l&&g&&u.dateTime&&(l=u.dateTime.getXDateFormat(x.x,m.dateTimeLabelFormats)),l=b.dateFormat(l,x.key),f&&(l+=b.dateFormat(f,x.key+d.totalRange-1)),c.chart.styledMode&&(p=this.styledModeFormat(p)),s.text=L(p,{point:E(x.point,{key:l}),series:c},y),s.preventDefault())}const{format:L}=j,{addEvent:I,extend:E,isNumber:T}=U,M=[];return{compose:function(s,y,b){Z.compose(s),G.compose(y),b&&U.pushUnique(M,b)&&I(b,"headerFormatter",X)},groupData:G.groupData}}),D(K,"masters/modules/datagrouping.src.js",[K["Core/Globals.js"],K["Extensions/DataGrouping/ApproximationDefaults.js"],K["Extensions/DataGrouping/ApproximationRegistry.js"],K["Extensions/DataGrouping/DataGrouping.js"]],function(Z,F,G,j){Z.dataGrouping={approximationDefaults:F,approximations:G},j.compose(Z.Axis,Z.Series,Z.Tooltip)}),D(K,"Series/DataModifyComposition.js",[K["Core/Axis/Axis.js"],K["Core/Series/Point.js"],K["Core/Series/Series.js"],K["Core/Utilities.js"]],function(Z,F,G,j){const{prototype:{tooltipFormatter:U}}=F,{addEvent:X,arrayMax:L,arrayMin:I,correctFloat:E,defined:T,isArray:M,isNumber:s,isString:y,pick:b}=j;var x;return function(c){function m(i,t,e){this.isXAxis||(this.series.forEach(function(n){"compare"===i&&"boolean"!=typeof t?n.setCompare(t,!1):"cumulative"!==i||y(t)||n.setCumulative(t,!1)}),b(e,!0)&&this.chart.redraw())}function g(i){const t=this,{numberFormatter:e}=t.series.chart,n=function(h){i=i.replace("{point."+h+"}",(0<t[h]&&"change"===h?"+":"")+e(t[h],b(t.series.tooltipOptions.changeDecimals,2)))};return T(t.change)&&n("change"),T(t.cumulativeSum)&&n("cumulativeSum"),U.apply(this,[i])}function u(){const i=this.options.compare;let t;("percent"===i||"value"===i||this.options.cumulative)&&(t=new o(this),"percent"===i||"value"===i?t.initCompare(i):t.initCumulative()),this.dataModify=t}function l(i){const t=(i=i.dataExtremes).activeYData;if(this.dataModify&&i){let e;this.options.compare?e=[this.dataModify.modifyValue(i.dataMin),this.dataModify.modifyValue(i.dataMax)]:this.options.cumulative&&M(t)&&2<=t.length&&(e=o.getCumulativeExtremes(t)),e&&(i.dataMin=I(e),i.dataMax=L(e))}}function f(i,t){this.options.compare=this.userOptions.compare=i,this.update({},b(t,!0)),!this.dataModify||"value"!==i&&"percent"!==i?this.points.forEach(e=>{delete e.change}):this.dataModify.initCompare(i)}function d(){if(this.xAxis&&this.processedYData&&this.dataModify){const i=this.processedXData,t=this.processedYData,e=t.length,n=!0===this.options.compareStart?0:1;let r,h=-1;for(this.pointArrayMap&&(h=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),r=0;r<e-n;r++){const S=t[r]&&-1<h?t[r][h]:t[r];if(s(S)&&0!==S&&i[r+n]>=(this.xAxis.min||0)){this.dataModify.compareValue=S;break}}}}function p(i,t){this.setModifier("compare",i,t)}function C(i,t){i=b(i,!1),this.options.cumulative=this.userOptions.cumulative=i,this.update({},b(t,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(e=>{delete e.cumulativeSum})}function w(i,t){this.setModifier("cumulative",i,t)}const a=[];c.compose=function(i,t,e){if(j.pushUnique(a,i)){const n=i.prototype;n.setCompare=f,n.setCumulative=C,X(i,"afterInit",u),X(i,"afterGetExtremes",l),X(i,"afterProcessData",d)}return j.pushUnique(a,t)&&((t=t.prototype).setCompare=p,t.setModifier=m,t.setCumulative=w),j.pushUnique(a,e)&&(e.prototype.tooltipFormatter=g),i};class o{constructor(t){this.series=t}modifyValue(){return 0}static getCumulativeExtremes(t){let e=1/0,n=-1/0;return t.reduce((h,r)=>(r=h+r,e=Math.min(e,r,h),n=Math.max(n,r,h),r)),[e,n]}initCompare(t){this.modifyValue=function(e,n){null===e&&(e=0);const h=this.compareValue;return typeof e<"u"&&typeof h<"u"?(e="value"===t?e-h:e/h*100-(100===this.series.options.compareBase?0:100),typeof n<"u"&&(n=this.series.points[n])&&(n.change=e),e):0}}initCumulative(){this.modifyValue=function(t,e){if(null===t&&(t=0),void 0!==t&&void 0!==e){const n=0<e?this.series.points[e-1]:null;return n&&n.cumulativeSum&&(t=E(n.cumulativeSum+t)),(e=this.series.points[e])&&(e.cumulativeSum=t),t}return 0}}}c.Additions=o}(x||(x={})),x}),D(K,"Core/Axis/NavigatorAxisComposition.js",[K["Core/Globals.js"],K["Core/Utilities.js"]],function(Z,F){function G(){this.navigatorAxis||(this.navigatorAxis=new s(this))}function j(y){var b=this.chart.options,x=b.navigator;const c=this.navigatorAxis,m=b.chart.zooming.pinchType,g=b.rangeSelector;b=b.chart.zooming.type,this.isXAxis&&(x&&x.enabled||g&&g.enabled)&&("y"===b?y.zoomed=!1:(!U&&"xy"===b||U&&"xy"===m)&&this.options.range&&(x=c.previousZoom,I(y.newMin)?c.previousZoom=[this.min,this.max]:x&&(y.newMin=x[0],y.newMax=x[1],c.previousZoom=void 0))),typeof y.zoomed<"u"&&y.preventDefault()}const{isTouchDevice:U}=Z,{addEvent:X,correctFloat:L,defined:I,isNumber:E,pick:T}=F,M=[];class s{static compose(b){F.pushUnique(M,b)&&(b.keepProps.push("navigatorAxis"),X(b,"init",G),X(b,"zoom",j))}constructor(b){this.axis=b}destroy(){this.axis=void 0}toFixedRange(b,x,c,m){var g=this.axis,u=g.chart;b=T(c,g.translate(b,!0,!g.horiz)),x=T(m,g.translate(x,!0,!g.horiz)),g=(g.pointRange||0)/2;const l=(u=u&&u.fixedRange)&&(x-b)/u;return I(c)||(b=L(b+g)),I(m)||(x=L(x-g)),.7<l&&1.3>l&&(m?b=x-u:x=b+u),E(b)&&E(x)||(b=x=void 0),{min:b,max:x}}}return s}),D(K,"Stock/Navigator/NavigatorDefaults.js",[K["Core/Color/Color.js"],K["Core/Series/SeriesRegistry.js"]],function(Z,F){return({parse:Z}=Z),({seriesTypes:F}=F),{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Z("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof F.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),D(K,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(Z,F,G,j,U={}){return Z=U.width?U.width/2:G,F=Math.round(Z/3)+.5,[["M",-Z-1,.5],["L",Z,.5],["L",Z,(j=U.height||j)+.5],["L",-Z-1,j+.5],["L",-Z-1,.5],["M",-F,4],["L",-F,j-3],["M",F-1,4],["L",F-1,j-3]]}}}),D(K,"Stock/Navigator/NavigatorComposition.js",[K["Core/Defaults.js"],K["Core/Globals.js"],K["Core/Axis/NavigatorAxisComposition.js"],K["Stock/Navigator/NavigatorDefaults.js"],K["Stock/Navigator/NavigatorSymbols.js"],K["Core/Renderer/RendererRegistry.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X,L){function I(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function E(){var a;const o=this.legend,i=this.navigator;let t,e,n;if(i){t=o&&o.options,e=i.xAxis,n=i.yAxis;const{scrollbarHeight:h,scrollButtonSize:r}=i;this.inverted?(i.left=i.opposite?this.chartWidth-h-i.height:this.spacing[3]+h,i.top=this.plotTop+r):(i.left=p(e.left,this.plotLeft+r),i.top=i.navigatorOptions.top||this.chartHeight-i.height-h-((null===(a=this.scrollbar)||void 0===a?void 0:a.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?o.legendHeight+p(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&n&&(this.inverted?e.options.left=n.options.left=i.left:e.options.top=n.options.top=i.top,e.setAxisSize(),n.setAxisSize())}}function T(a){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),p(a.redraw,!0)&&this.redraw(a.animation))}function M(){const a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}function s(){const a=this.options,o=a.navigator,i=a.rangeSelector;if((o&&o.enabled||i&&i.enabled)&&(!g&&"x"===a.chart.zooming.type||g&&"x"===a.chart.zooming.pinchType))return!1}function y(a){const o=a.navigator;o&&a.xAxis[0]&&(a=a.xAxis[0].getExtremes(),o.render(a.min,a.max))}function b(a){const o=a.options.navigator||{},i=a.options.scrollbar||{};this.navigator||this.scroller||!o.enabled&&!i.enabled||(d(!0,this.options.navigator,o),d(!0,this.options.scrollbar,i),delete a.options.navigator,delete a.options.scrollbar)}function x(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:c,setOptions:m}=Z,{isTouchDevice:g}=F,{getRendererType:u}=X,{addEvent:l,extend:f,merge:d,pick:p}=L,C=[];let w;return{compose:function(a,o,i,t){G.compose(a),w=i,L.pushUnique(C,o)&&(o.prototype.callbacks.push(y),l(o,"afterAddSeries",I),l(o,"afterSetChartSize",E),l(o,"afterUpdate",T),l(o,"beforeRender",M),l(o,"beforeShowResetZoom",s),l(o,"update",b)),L.pushUnique(C,t)&&l(t,"afterUpdate",x),L.pushUnique(C,u)&&f(u().prototype.symbols,U),L.pushUnique(C,m)&&f(c,{navigator:j})}}}),D(K,"Core/Axis/ScrollbarAxis.js",[K["Core/Utilities.js"]],function(Z){const{addEvent:F,defined:G,pick:j}=Z,U=[];return class X{static compose(I,E){if(!Z.pushUnique(U,I))return I;const T=M=>{const s=j(M.options&&M.options.min,M.min),y=j(M.options&&M.options.max,M.max);return{axisMin:s,axisMax:y,scrollMin:G(M.dataMin)?Math.min(s,M.min,M.dataMin,j(M.threshold,1/0)):s,scrollMax:G(M.dataMax)?Math.max(y,M.max,M.dataMax,j(M.threshold,-1/0)):y}};return F(I,"afterInit",function(){const M=this;M.options&&M.options.scrollbar&&M.options.scrollbar.enabled&&(M.options.scrollbar.vertical=!M.horiz,M.options.startOnTick=M.options.endOnTick=!1,M.scrollbar=new E(M.chart.renderer,M.options.scrollbar,M.chart),F(M.scrollbar,"changed",function(s){let{axisMin:y,axisMax:b,scrollMin:x,scrollMax:c}=T(M);var m=c-x;let g;G(y)&&G(b)&&(M.horiz&&!M.reversed||!M.horiz&&M.reversed?(g=x+m*this.to,m=x+m*this.from):(g=x+m*(1-this.from),m=x+m*(1-this.to)),this.shouldUpdateExtremes(s.DOMType)?M.setExtremes(m,g,!0,"mousemove"!==s.DOMType&&"touchmove"!==s.DOMType,s):this.setRange(this.from,this.to))}))}),F(I,"afterRender",function(){let{scrollMin:M,scrollMax:s}=T(this),y=this.scrollbar;var b=this.axisTitleMargin+(this.titleOffset||0),x=this.chart.scrollbarsOffsets;let c=this.options.margin||0;y&&(this.horiz?(this.opposite||(x[1]+=b),y.position(this.left,this.top+this.height+2+x[1]-(this.opposite?c:0),this.width,this.height),this.opposite||(x[1]+=c),b=1):(this.opposite&&(x[0]+=b),y.position(y.options.opposite?this.left+this.width+2+x[0]-(this.opposite?0:c):this.opposite?0:c,this.top,this.width,this.height),this.opposite&&(x[0]+=c),b=0),x[b]+=y.size+(y.options.margin||0),isNaN(M)||isNaN(s)||!G(this.min)||!G(this.max)||this.min===this.max?y.setRange(0,1):(x=(this.min-M)/(s-M),b=(this.max-M)/(s-M),this.horiz&&!this.reversed||!this.horiz&&this.reversed?y.setRange(x,b):y.setRange(1-b,1-x)))}),F(I,"afterGetOffset",function(){const M=this.scrollbar;var s=M&&!M.options.opposite;s=this.horiz?2:s?3:1,M&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[s]+=M.size+(M.options.margin||0))}),I}}}),D(K,"Stock/Scrollbar/ScrollbarDefaults.js",[K["Core/Globals.js"]],function(Z){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"none",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),D(K,"Stock/Scrollbar/Scrollbar.js",[K["Core/Defaults.js"],K["Core/Globals.js"],K["Core/Axis/ScrollbarAxis.js"],K["Stock/Scrollbar/ScrollbarDefaults.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U){const{defaultOptions:X}=Z,{addEvent:L,correctFloat:I,defined:E,destroyObjectProperties:T,fireEvent:M,merge:s,pick:y,removeEvent:b}=U;let x=(()=>{class c{static compose(g){G.compose(g,c)}static swapXY(g,u){return u&&g.forEach(l=>{const f=l.length;let d;for(let p=0;p<f;p+=2)d=l[p+1],"number"==typeof d&&(l[p+1]=l[p+2],l[p+2]=d)}),g}constructor(g,u,l){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(g,u,l)}addEvents(){var g=this.options.inverted?[1,0]:[0,1];const u=this.scrollbarButtons,l=this.scrollbarGroup.element,f=this.track.element,d=this.mouseDownHandler.bind(this),p=this.mouseMoveHandler.bind(this),C=this.mouseUpHandler.bind(this);g=[[u[g[0]].element,"click",this.buttonToMinClick.bind(this)],[u[g[1]].element,"click",this.buttonToMaxClick.bind(this)],[f,"click",this.trackClick.bind(this)],[l,"mousedown",d],[l.ownerDocument,"mousemove",p],[l.ownerDocument,"mouseup",C]],F.hasTouch&&g.push([l,"touchstart",d],[l.ownerDocument,"touchmove",p],[l.ownerDocument,"touchend",C]),g.forEach(function(w){L.apply(null,w)}),this._events=g}buttonToMaxClick(g){const u=(this.to-this.from)*y(this.options.step,.2);this.updatePosition(this.from+u,this.to+u),M(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}buttonToMinClick(g){const u=I(this.to-this.from)*y(this.options.step,.2);this.updatePosition(I(this.from-u),I(this.to-u)),M(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}cursorToScrollbarPosition(g){var u=this.options;return{chartX:(g.chartX-this.x-this.xOffset)/(this.barWidth-(u=u.minWidth>this.calculatedWidth?u.minWidth:0)),chartY:(g.chartY-this.y-this.yOffset)/(this.barWidth-u)}}destroy(){const g=this,u=g.chart.scroller;g.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(l){g[l]&&g[l].destroy&&(g[l]=g[l].destroy())}),u&&g===u.scrollbar&&(u.scrollbar=null,T(u.scrollbarButtons))}drawScrollbarButton(g){const u=this.renderer,l=this.scrollbarButtons,f=this.options,d=this.size;var p=u.g().add(this.group);l.push(p),f.buttonsEnabled&&(p=u.rect().addClass("highcharts-scrollbar-button").add(p),this.chart.styledMode||p.attr({stroke:f.buttonBorderColor,"stroke-width":f.buttonBorderWidth,fill:f.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:d+1,height:d+1,r:f.buttonBorderRadius},p.strokeWidth())),g=u.path(c.swapXY([["M",d/2+(g?-1:1),d/2-3],["L",d/2+(g?-1:1),d/2+3],["L",d/2+(g?2:-2),d/2]],f.vertical)).addClass("highcharts-scrollbar-arrow").add(l[g]),this.chart.styledMode||g.attr({fill:f.buttonArrowColor}))}init(g,u,l){this.scrollbarButtons=[],this.renderer=g,this.userOptions=u,this.options=s(j,X.scrollbar,u),this.options.margin=y(this.options.margin,10),this.chart=l,this.size=y(this.options.size,this.options.height),u.enabled&&(this.render(),this.addEvents())}mouseDownHandler(g){g=this.chart.pointer.normalize(g),g=this.cursorToScrollbarPosition(g),this.chartX=g.chartX,this.chartY=g.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(g){var u=this.chart.pointer.normalize(g),l=this.options.vertical?"chartY":"chartX";const f=this.initPositions||[];!this.grabbedCenter||g.touches&&0===g.touches[0][l]||(l=(u=this.cursorToScrollbarPosition(u)[l])-(l=this[l]),this.hasDragged=!0,this.updatePosition(f[0]+l,f[1]+l),this.hasDragged&&M(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:g.type,DOMEvent:g}))}mouseUpHandler(g){this.hasDragged&&M(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:g.type,DOMEvent:g}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(g,u,l,f){const{buttonsEnabled:d,margin:p=0,vertical:C}=this.options,w=this.rendered?"animate":"attr";let a=f,o=0;this.group.show(),this.x=g,this.y=u+this.trackBorderWidth,this.width=l,this.height=f,this.xOffset=a,this.yOffset=o,C?(this.width=this.yOffset=l=this.size,this.xOffset=a=0,this.yOffset=o=d?this.size:0,this.barWidth=f-(d?2*l:0),this.x=g+=p):(this.height=f=this.size,this.xOffset=a=d?this.size:0,this.barWidth=l-(d?2*f:0),this.y+=p),this.group[w]({translateX:g,translateY:this.y}),this.track[w]({width:l,height:f}),this.scrollbarButtons[1][w]({translateX:C?0:l-a,translateY:C?f-o:0})}removeEvents(){this._events.forEach(function(g){b.apply(null,g)}),this._events.length=0}render(){const g=this.renderer,u=this.options,l=this.size,f=this.chart.styledMode,d=g.g("scrollbar").attr({zIndex:u.zIndex}).hide().add();this.group=d,this.track=g.rect().addClass("highcharts-scrollbar-track").attr({r:u.trackBorderRadius||0,height:l,width:l}).add(d),f||this.track.attr({fill:u.trackBackgroundColor,stroke:u.trackBorderColor,"stroke-width":u.trackBorderWidth});const p=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-p%2/2,y:-p%2/2}),this.scrollbarGroup=g.g().add(d),this.scrollbar=g.rect().addClass("highcharts-scrollbar-thumb").attr({height:l-p,width:l-p,r:u.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=g.path(c.swapXY([["M",-3,l/4],["L",-3,2*l/3],["M",0,l/4],["L",0,2*l/3],["M",3,l/4],["L",3,2*l/3]],u.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),f||(this.scrollbar.attr({fill:u.barBackgroundColor,stroke:u.barBorderColor,"stroke-width":u.barBorderWidth}),this.scrollbarRifles.attr({stroke:u.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(g,u){const l=this.options,f=l.vertical;var d=l.minWidth,p=this.barWidth;const C=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(E(p)){var w=p*Math.min(u,1);g=Math.max(g,0);var a=Math.ceil(p*g);this.calculatedWidth=w=I(w-a),w<d&&(a=(p-d+w)*g,w=d),d=Math.floor(a+this.xOffset+this.yOffset),p=w/2-.5,this.from=g,this.to=u,f?(this.scrollbarGroup[C]({translateY:d}),this.scrollbar[C]({height:w}),this.scrollbarRifles[C]({translateY:p}),this.scrollbarTop=d,this.scrollbarLeft=0):(this.scrollbarGroup[C]({translateX:d}),this.scrollbar[C]({width:w}),this.scrollbarRifles[C]({translateX:p}),this.scrollbarLeft=d,this.scrollbarTop=0),12>=w?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===l.showFull&&(0>=g&&1<=u?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(g){return y(this.options.liveRedraw,F.svg&&!F.isTouchDevice&&!this.chart.boosted)||"mouseup"===g||"touchend"===g||!E(g)}trackClick(g){const u=this.chart.pointer.normalize(g),l=this.to-this.from;this.options.vertical&&u.chartY>this.y+this.scrollbarTop||!this.options.vertical&&u.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+l,this.to+l):this.updatePosition(this.from-l,this.to-l),M(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}update(g){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,g),this.chart)}updatePosition(g,u){1<u&&(g=I(1-I(u-g)),u=1),0>g&&(u=I(u-g),g=0),this.from=g,this.to=u}}return c.defaultOptions=j,c})();return X.scrollbar=s(!0,x.defaultOptions,X.scrollbar),x}),D(K,"Stock/Navigator/Navigator.js",[K["Core/Axis/Axis.js"],K["Core/Defaults.js"],K["Core/Globals.js"],K["Core/Axis/NavigatorAxisComposition.js"],K["Stock/Navigator/NavigatorComposition.js"],K["Stock/Scrollbar/Scrollbar.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X,L){function I(o,...i){if((i=[].filter.call(i,f)).length)return Math[o].apply(0,i)}const{defaultOptions:E}=F,{hasTouch:T,isTouchDevice:M}=G,{addEvent:s,clamp:y,correctFloat:b,defined:x,destroyObjectProperties:c,erase:m,extend:g,find:u,isArray:l,isNumber:f,merge:d,pick:p,removeEvent:C,splat:w}=L;class a{static compose(i,t,e){U.compose(i,t,a,e)}constructor(i){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(i)}drawHandle(i,t,e,n){const h=this.navigatorOptions.handles.height;this.handles[t][n](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(i,10)+.5-h)}:{translateX:Math.round(this.left+parseInt(i,10)),translateY:Math.round(this.top+this.height/2-h/2-1)})}drawOutline(i,t,e,n){const h=this.navigatorOptions.maskInside;var r=this.outline.strokeWidth();const S=r/2;var v=r%2/2;const P=this.scrollButtonSize,A=this.size,k=this.top,O=k-S,N=k+(r=this.height);let B=this.left;e?(v=[["M",B+r,k-P-v],["L",B+r,e=k+t+v],["L",B,e],["M",B,t=k+i+v],["L",B+r,t],["L",B+r,k+A+P]],h&&v.push(["M",B+r,e-S],["L",B+r,t+S])):(B-=P,v=[["M",B,O],["L",i+=B+P-v,O],["L",i,N],["M",t+=B+P-v,N],["L",t,O],["L",B+A+2*P,k+S]],h&&v.push(["M",i-S,O],["L",t+S,O])),this.outline[n]({d:v})}drawMasks(i,t,e,n){const h=this.left,r=this.top,S=this.height;let v,P,A,k;e?(A=[h,h,h],k=[r,r+i,r+t],P=[S,S,S],v=[i,t-i,this.size-t]):(A=[h,h+i,h+t],k=[r,r,r],P=[i,t-i,this.size-t],v=[S,S,S]),this.shades.forEach((O,N)=>{O[n]({x:A[N],y:k[N],width:P[N],height:v[N]})})}renderElements(){const i=this,t=i.navigatorOptions,e=t.maskInside,n=i.chart,h=n.renderer,r={cursor:n.inverted?"ns-resize":"ew-resize"},S=i.navigatorGroup=h.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!e,e,!e].forEach((v,P)=>{const A=h.rect().addClass("highcharts-navigator-mask"+(1===P?"-inside":"-outside")).add(S);n.styledMode||(A.attr({fill:v?t.maskFill:"rgba(0,0,0,0)"}),1===P&&A.css(r)),i.shades[P]=A}),i.outline=h.path().addClass("highcharts-navigator-outline").add(S),n.styledMode||i.outline.attr({"stroke-width":t.outlineWidth,stroke:t.outlineColor}),t.handles&&t.handles.enabled){const v=t.handles,{height:P,width:A}=v;[0,1].forEach(k=>{i.handles[k]=h.symbol(v.symbols[k],-A/2-1,0,A,P,v),n.inverted&&i.handles[k].attr({rotation:90,rotationOriginX:Math.floor(-A/2),rotationOriginY:(P+A)/2}),i.handles[k].attr({zIndex:7-k}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][k]).add(S),n.styledMode||i.handles[k].attr({fill:v.backgroundColor,stroke:v.borderColor,"stroke-width":v.lineWidth}).css(r)})}}update(i){(this.series||[]).forEach(t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,i),this.init(this.chart)}render(i,t,e,n){var h=this.chart;const r=this.xAxis,S=r.pointRange||0;var v=r.navigatorAxis.fake?h.xAxis[0]:r;const P=this.navigatorEnabled;var A=this.rendered,k=h.inverted;const O=h.xAxis[0].minRange,N=h.xAxis[0].options.maxRange,B=this.scrollButtonSize;let W,Y=this.scrollbarHeight;if(!this.hasDragged||x(e)){if(i=b(i-S/2),t=b(t+S/2),!f(i)||!f(t)){if(!A)return;e=0,n=p(r.width,v.width)}this.left=p(r.left,h.plotLeft+B+(k?h.plotWidth:0));var R=this.size=W=p(r.len,(k?h.plotHeight:h.plotWidth)-2*B);h=k?Y:W+2*B,e=p(e,r.toPixels(i,!0)),n=p(n,r.toPixels(t,!0)),f(e)&&Math.abs(e)!==1/0||(e=0,n=h),i=r.toValue(e,!0),t=r.toValue(n,!0);var z=Math.abs(b(t-i));z<O?this.grabbedLeft?e=r.toPixels(t-O-S,!0):this.grabbedRight&&(n=r.toPixels(i+O+S,!0)):x(N)&&b(z-S)>N&&(this.grabbedLeft?e=r.toPixels(t-N-S,!0):this.grabbedRight&&(n=r.toPixels(i+N+S,!0))),this.zoomedMax=y(Math.max(e,n),0,R),this.zoomedMin=y(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,n),0,R),this.range=this.zoomedMax-this.zoomedMin,R=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),P&&(this.navigatorGroup.attr({visibility:"inherit"}),this.drawMasks(e,R,k,A=A&&!this.hasDragged?"animate":"attr"),this.drawOutline(e,R,k,A),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,k,A),this.drawHandle(R,1,k,A))),this.scrollbar&&(k?(k=this.top-B,v=this.left-Y+(P||!v.opposite?0:(v.titleOffset||0)+v.axisTitleMargin),Y=W+2*B):(k=this.top+(P?this.height:-Y),v=this.left-B),this.scrollbar.position(v,k,h,Y),this.scrollbar.setRange(this.zoomedMin/(W||1),this.zoomedMax/(W||1))),this.rendered=!0}}addMouseEvents(){const i=this,t=i.chart,e=t.container;let h,r,n=[];i.mouseMoveHandler=h=function(S){i.onMouseMove(S)},i.mouseUpHandler=r=function(S){i.onMouseUp(S)},n=i.getPartsEvents("mousedown"),n.push(s(t.renderTo,"mousemove",h),s(e.ownerDocument,"mouseup",r)),T&&(n.push(s(t.renderTo,"touchmove",h),s(e.ownerDocument,"touchend",r)),n.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=n,i.series&&i.series[0]&&n.push(s(i.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(i){const t=this,e=[];return["shades","handles"].forEach(function(n){t[n].forEach(function(h,r){e.push(s(h.element,i,function(S){t[n+"Mousedown"](S,r)}))})}),e}shadesMousedown(i,t){i=this.chart.pointer.normalize(i);const e=this.chart,n=this.xAxis,h=this.zoomedMin,r=this.size,S=this.range;let A,k,v=this.left,P=i.chartX;e.inverted&&(P=i.chartY,v=this.top),1===t?(this.grabbedCenter=P,this.fixedWidth=S,this.dragOffset=P-h):(i=P-v-S/2,0===t?i=Math.max(0,i):2===t&&i+S>=r&&(i=r-S,this.reversedExtremes?(i-=S,k=this.getUnionExtremes().dataMin):A=this.getUnionExtremes().dataMax),i!==h&&(this.fixedWidth=S,t=n.navigatorAxis.toFixedRange(i,i+S,k,A),x(t.min)&&e.xAxis[0].setExtremes(Math.min(t.min,t.max),Math.max(t.min,t.max),!0,null,{trigger:"navigator"})))}handlesMousedown(i,t){this.chart.pointer.normalize(i);const e=(i=this.chart).xAxis[0],n=this.reversedExtremes;0===t?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=n?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=n?e.max:e.min),i.fixedRange=null}onMouseMove(i){const t=this;var e=t.chart;const n=t.navigatorSize,h=t.range,r=t.dragOffset,S=e.inverted;let v=t.left;i.touches&&0===i.touches[0].pageX||(i=e.pointer.normalize(i),e=i.chartX,S&&(v=t.top,e=i.chartY),t.grabbedLeft?(t.hasDragged=!0,t.render(0,0,e-v,t.otherHandlePos)):t.grabbedRight?(t.hasDragged=!0,t.render(0,0,t.otherHandlePos,e-v)):t.grabbedCenter&&(t.hasDragged=!0,e<r?e=r:e>n+r-h&&(e=n+r-h),t.render(0,0,e-r,e-r+h)),t.hasDragged&&t.scrollbar&&p(t.scrollbar.options.liveRedraw,!M&&!this.chart.boosted)&&(i.DOMType=i.type,setTimeout(function(){t.onMouseUp(i)},0)))}onMouseUp(i){var t=this.chart,e=this.xAxis,n=this.scrollbar;const h=i.DOMEvent||i,r=t.inverted,S=this.rendered&&!this.hasDragged?"animate":"attr";let v,P;(!this.hasDragged||n&&n.hasDragged)&&"scrollbar"!==i.trigger||(n=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?v=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(P=this.fixedExtreme),this.zoomedMax===this.size&&(P=this.reversedExtremes?n.dataMin:n.dataMax),0===this.zoomedMin&&(v=this.reversedExtremes?n.dataMax:n.dataMin),e=e.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,v,P),x(e.min)&&t.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:h})),"mousemove"!==i.DOMType&&"touchmove"!==i.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&f(this.zoomedMin)&&f(this.zoomedMax)&&(t=Math.round(this.zoomedMin),i=Math.round(this.zoomedMax),this.shades&&this.drawMasks(t,i,r,S),this.outline&&this.drawOutline(t,i,r,S),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(t,0,r,S),this.drawHandle(i,1,r,S)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(i){i()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const i=this.baseSeries||[];this.navigatorEnabled&&i[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&i.forEach(function(t){C(t,"updatedData",this.updatedDataHandler)},this),i[0].xAxis&&C(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(i){var t=i.options,e=t.navigator||{},n=e.enabled,h=t.scrollbar||{},r=h.enabled;t=n&&e.height||0;var S=r&&h.height||0;const v=h.buttonsEnabled&&S||0;this.handles=[],this.shades=[],this.chart=i,this.setBaseSeries(),this.height=t,this.scrollbarHeight=S,this.scrollButtonSize=v,this.scrollbarEnabled=r,this.navigatorEnabled=n,this.navigatorOptions=e,this.scrollbarOptions=h,this.opposite=p(e.opposite,!(n||!i.inverted));const P=this;h=i.xAxis.length,r=i.yAxis.length,S=(n=P.baseSeries)&&n[0]&&n[0].xAxis||i.xAxis[0]||{options:{}},i.isDirtyBox=!0,P.navigatorEnabled?(P.xAxis=new Z(i,d({breaks:S.options.breaks,ordinal:S.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:h,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},i.inverted?{offsets:[v,0,-v,0],width:t}:{offsets:[0,-v,0,v],height:t})),P.yAxis=new Z(i,d(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:r,isInternal:!0,reversed:p(e.yAxis&&e.yAxis.reversed,i.yAxis[0]&&i.yAxis[0].reversed,!1),zoomEnabled:!1},i.inverted?{width:t}:{height:t})),n||e.series.data?P.updateNavigatorSeries(!1):0===i.series.length&&(P.unbindRedraw=s(i,"beforeRedraw",function(){0<i.series.length&&!P.series&&(P.setBaseSeries(),P.unbindRedraw())})),P.reversedExtremes=i.inverted&&!P.xAxis.reversed||!i.inverted&&P.xAxis.reversed,P.renderElements(),P.addMouseEvents()):(P.xAxis={chart:i,navigatorAxis:{fake:!0},translate:function(A,k){var O=i.xAxis[0];const N=O.getExtremes(),B=O.len-2*v,Y=I("min",O.options.min,N.dataMin);return O=I("max",O.options.max,N.dataMax)-Y,k?A*O/B+Y:B*(A-Y)/O},toPixels:function(A){return this.translate(A)},toValue:function(A){return this.translate(A,!0)}},P.xAxis.navigatorAxis.axis=P.xAxis,P.xAxis.navigatorAxis.toFixedRange=j.prototype.toFixedRange.bind(P.xAxis.navigatorAxis)),i.options.scrollbar.enabled&&(e=d(i.options.scrollbar,{vertical:i.inverted}),!f(e.margin)&&P.navigatorEnabled&&(e.margin=i.inverted?-3:3),i.scrollbar=P.scrollbar=new X(i.renderer,e,i),s(P.scrollbar,"changed",function(A){var k=P.size;const O=k*this.to;k*=this.from,P.hasDragged=P.scrollbar.hasDragged,P.render(0,0,k,O),this.shouldUpdateExtremes(A.DOMType)&&setTimeout(function(){P.onMouseUp(A)})})),P.addBaseSeriesEvents(),P.addChartEvents()}getUnionExtremes(i){const t=this.chart.xAxis[0],e=this.xAxis,n=e.options,h=t.options;let r;return i&&null===t.dataMin||(r={dataMin:p(n&&n.min,I("min",h.min,t.dataMin,e.dataMin,e.min)),dataMax:p(n&&n.max,I("max",h.max,t.dataMax,e.dataMax,e.max))}),r}setBaseSeries(i,t){const e=this.chart,n=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?u(e.series,h=>!h.options.isInternal).index:0),(e.series||[]).forEach((h,r)=>{h.options.isInternal||!h.options.showInNavigator&&(r!==i&&h.options.id!==i||!1===h.options.showInNavigator)||n.push(h)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(i,t){const e=this,n=e.chart,h=e.baseSeries,r={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},S=e.series=(e.series||[]).filter(O=>{const N=O.baseSeries;return!(0>h.indexOf(N)&&(N&&(C(N,"updatedData",e.updatedDataHandler),delete N.navigatorSeries),O.chart&&O.destroy(),1))});let v,P,k,A=e.navigatorOptions.series;h&&h.length&&h.forEach(O=>{const N=O.navigatorSeries;var B=g({color:O.color,visible:O.visible},l(A)?E.navigator.series:A);N&&!1===e.navigatorOptions.adaptToUpdatedData||(r.name="Navigator "+h.length,v=O.options||{},k=v.navigatorOptions||{},B.dataLabels=w(B.dataLabels),P=d(v,r,B,k),P.pointRange=p(B.pointRange,k.pointRange,E.plotOptions[P.type||"line"].pointRange),B=k.data||B.data,e.hasNavigatorData=e.hasNavigatorData||!!B,P.data=B||v.data&&v.data.slice(0),N&&N.options?N.update(P,t):(O.navigatorSeries=n.initSeries(P),O.navigatorSeries.baseSeries=O,S.push(O.navigatorSeries)))}),(A.data&&(!h||!h.length)||l(A))&&(e.hasNavigatorData=!1,A=w(A),A.forEach((O,N)=>{r.name="Navigator "+(S.length+1),P=d(E.navigator.series,{color:n.series[N]&&!n.series[N].options.isInternal&&n.series[N].color||n.options.colors[N]||n.options.colors[0]},r,O),P.data=O.data,P.data&&(e.hasNavigatorData=!0,S.push(n.initSeries(P)))})),i&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const i=this,t=i.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(s(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(e=>{e.eventsToUnbind.push(s(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),e.eventsToUnbind.push(s(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&e.eventsToUnbind.push(s(e,"updatedData",this.updatedDataHandler)),e.eventsToUnbind.push(s(e,"remove",function(){this.navigatorSeries&&(m(i.series,this.navigatorSeries),x(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(i){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)},i)}modifyNavigatorAxisExtremes(){const i=this.xAxis;if(typeof i.getExtremes<"u"){const t=this.getUnionExtremes(!0);!t||t.dataMin===i.min&&t.dataMax===i.max||(i.min=t.dataMin,i.max=t.dataMax)}}modifyBaseAxisExtremes(){const i=this.chart.navigator;var t=this.getExtremes();const e=t.dataMin,n=t.dataMax;t=t.max-t.min;const h=i.stickToMin,r=i.stickToMax,S=p(this.options.overscroll,0),v=i.series&&i.series[0],P=!!this.setExtremes;let A,k;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(h&&(k=e,A=k+t),r&&(A=n+S,h||(k=Math.max(e,A-t,i.getBaseSeriesMin(v&&v.xData?v.xData[0]:-Number.MAX_VALUE)))),P&&(h||r)&&f(k)&&(this.min=this.userMin=k,this.max=this.userMax=A)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){const i=this.chart.navigator,t=this.navigatorSeries;i.stickToMax=p(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i.reversedExtremes?0===Math.round(i.zoomedMin):Math.round(i.zoomedMax)>=Math.round(i.size)),i.stickToMin=i.shouldStickToMin(this,i),t&&!i.hasNavigatorData&&(t.options.pointStart=this.xData[0],t.setData(this.options.data,!1,null,!1))}shouldStickToMin(i,t){t=t.getBaseSeriesMin(i.xData[0]);var e=i.xAxis;i=e.max;const n=e.min;return e=e.options.range,!(!f(i)||!f(n))&&(e&&0<i-t?i-t<e:n<=t)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(s(this.chart,"redraw",function(){const i=this.navigator,t=i&&(i.baseSeries&&i.baseSeries[0]&&i.baseSeries[0].xAxis||this.xAxis[0]);t&&i.render(t.min,t.max)}),s(this.chart,"getMargins",function(){let i=this.navigator,t=i.opposite?"plotTop":"marginBottom";this.inverted&&(t=i.opposite?"marginRight":"plotLeft"),this[t]=(this[t]||0)+(i.navigatorEnabled||!this.inverted?i.height+i.scrollbarHeight:0)+i.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach(i=>{i.destroy&&i.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(i=>{this[i]&&this[i].destroy&&this[i].destroy(),this[i]=null}),[this.handles].forEach(i=>{c(i)})}}return a}),D(K,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),D(K,"Stock/RangeSelector/RangeSelectorComposition.js",[K["Core/Defaults.js"],K["Stock/RangeSelector/RangeSelectorDefaults.js"],K["Core/Utilities.js"]],function(Z,F,G){function j(){const C=this.range,w=C.type,a=this.max,o=this.chart.time,i=function(h,r){const S="year"===w?"FullYear":"Month",v=new o.Date(h),P=o.get(S,v);return o.set(S,v,P+r),P===o.get(S,v)&&o.set("Date",v,0),v.getTime()-h};let t,e;g(C)?(t=a-C,e=C):C&&(t=a+i(a,-(C.count||1)),this.chart&&(this.chart.fixedRange=a-t));const n=l(this.dataMin,Number.MIN_VALUE);return g(t)||(t=n),t<=n&&(t=n,typeof e>"u"&&(e=i(t,C.count)),this.newMax=Math.min(t+e,l(this.dataMax,Number.MAX_VALUE))),g(a)?!g(C)&&C&&C._offsetMin&&(t+=C._offsetMin):t=void 0,t}function U(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new p(this))}function X(){var C=this.axes;const w=this.rangeSelector;w&&(g(w.deferredYTDClick)&&(w.clickButton(w.deferredYTDClick),delete w.deferredYTDClick),C.forEach(a=>{a.updateNames(),a.setScale()}),this.getAxisMargins(),w.render(),C=w.options.verticalAlign,w.options.floating||("bottom"===C?this.extraBottomMargin=!0:"middle"!==C&&(this.extraTopMargin=!0)))}function L(C){let w,a,o,i;const t=C.rangeSelector,e=()=>{t&&(w=C.xAxis[0].getExtremes(),a=C.legend,i=t&&t.options.verticalAlign,g(w.min)&&t.render(w.min,w.max),a.display&&"top"===i&&i===a.options.verticalAlign&&(o=u(C.spacingBox),o.y="vertical"===a.options.layout?C.plotTop:o.y+t.getHeight(),a.group.placed=!1,a.align(o)))};t&&(m(f,n=>n[0]===C)||f.push([C,[b(C.xAxis[0],"afterSetExtremes",function(n){t&&t.render(n.min,n.max)}),b(C,"redraw",e)]]),e())}function I(){for(let C=0,w=f.length;C<w;++C){const a=f[C];if(a[0]===this){a[1].forEach(o=>o()),f.splice(C,1);break}}}function E(){var C=this.rangeSelector;C&&(C=C.getHeight(),this.extraTopMargin&&(this.plotTop+=C),this.extraBottomMargin&&(this.marginBottom+=C))}function T(){var C=this.rangeSelector;C&&!C.options.floating&&(C.render(),"bottom"===(C=C.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==C&&(this.extraTopMargin=!0))}function M(C){var w=C.options.rangeSelector;C=this.extraBottomMargin;const a=this.extraTopMargin;let o=this.rangeSelector;w&&w.enabled&&!x(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new p(this)),this.extraTopMargin=this.extraBottomMargin=!1,o&&(L(this),w=w&&w.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===w?this.extraBottomMargin=!0:"middle"!==w&&(this.extraTopMargin=!0)),this.extraBottomMargin!==C||this.extraTopMargin!==a)&&(this.isDirtyBox=!0)}const{defaultOptions:s,setOptions:y}=Z,{addEvent:b,defined:x,extend:c,find:m,isNumber:g,merge:u,pick:l}=G,f=[],d=[];let p;return{compose:function(C,w,a){p=a,G.pushUnique(d,C)&&(C.prototype.minFromRange=j),G.pushUnique(d,w)&&(b(w,"afterGetContainer",U),b(w,"beforeRender",X),b(w,"destroy",I),b(w,"getMargins",E),b(w,"render",T),b(w,"update",M),w.prototype.callbacks.push(L)),G.pushUnique(d,y)&&(c(s,{rangeSelector:F.rangeSelector}),c(s.lang,F.lang))}}}),D(K,"Stock/RangeSelector/RangeSelector.js",[K["Core/Axis/Axis.js"],K["Core/Defaults.js"],K["Core/Globals.js"],K["Stock/RangeSelector/RangeSelectorComposition.js"],K["Core/Renderer/SVG/SVGElement.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X){const{defaultOptions:I}=F,{addEvent:E,createElement:T,css:M,defined:s,destroyObjectProperties:y,discardElement:b,extend:x,fireEvent:c,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=X;class C{static compose(a,o){j.compose(a,o,C)}constructor(a){this.buttons=void 0,this.buttonOptions=C.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=a,this.init(a)}clickButton(a,o){const i=this.chart,t=this.buttonOptions[a],e=i.xAxis[0];var n=i.scroller&&i.scroller.getUnionExtremes()||e||{},h=t.type;const r=t.dataGrouping;let P,k,S=n.dataMin,v=n.dataMax,A=e&&Math.round(Math.min(e.max,f(v,e.max)));n=t._range;let O,N,B,Y=!0;if(null!==S&&null!==v){if(i.fixedRange=n,this.setSelected(a),r&&(this.forcedDataGrouping=!0,Z.prototype.setDataGrouping.call(e||{chart:this.chart},r,!1),this.frozenStates=t.preserveDataGrouping),"month"===h||"year"===h)e?(P=e.minFromRange.call(h={range:t,max:A,chart:i,dataMin:S,dataMax:v}),m(h.newMax)&&(A=h.newMax),Y=!1):n=t;else if(n)P=Math.max(A-n,S),A=Math.min(P+n,v),Y=!1;else if("ytd"===h){if(!e)return void(this.deferredYTDClick=a);(typeof v>"u"||typeof S>"u")&&(S=Number.MAX_VALUE,v=Number.MIN_VALUE,i.series.forEach(W=>{(W=W.xData)&&(S=Math.min(W[0],S),v=Math.max(W[W.length-1],v))}),o=!1),P=O=(h=this.getYTDExtremes(v,S,i.time.useUTC)).min,A=h.max}else"all"===h&&e&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),P=S,A=v);Y&&t._offsetMin&&s(P)&&(P+=t._offsetMin),t._offsetMax&&s(A)&&(A+=t._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=a+1),e?e.setExtremes(P,A,f(o,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:t}):(k=p(i.options.xAxis)[0],B=k.range,k.range=n,N=k.min,k.min=O,E(i,"load",function(){k.range=B,k.min=N})),c(this,"afterBtnClick")}}setSelected(a){this.selected=this.options.selected=a}init(a){const o=this,i=a.options.rangeSelector,t=i.buttons||o.defaultButtons.slice(),e=i.selected,n=function(){const h=o.minInput,r=o.maxInput;h&&h.blur&&c(h,"blur"),r&&r.blur&&c(r,"blur")};o.chart=a,o.options=i,o.buttons=[],o.buttonOptions=t,this.eventsToUnbind=[],this.eventsToUnbind.push(E(a.container,"mousedown",n)),this.eventsToUnbind.push(E(a,"resize",n)),t.forEach(o.computeButtonRange),typeof e<"u"&&t[e]&&this.clickButton(e,!1),this.eventsToUnbind.push(E(a,"load",function(){a.xAxis&&a.xAxis[0]&&E(a.xAxis[0],"setExtremes",function(h){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==h.trigger&&"updatedData"!==h.trigger&&o.forcedDataGrouping&&!o.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const a=this;var o=this.chart;const i=this.dropdown,t=o.xAxis[0],e=Math.round(t.max-t.min),n=!t.hasVisibleSeries,h=o.scroller&&o.scroller.getUnionExtremes()||t,r=h.dataMin,S=h.dataMax,v=(o=a.getYTDExtremes(S,r,o.time.useUTC)).min,P=o.max,A=a.selected,k=a.options.allButtonsEnabled,O=a.buttons;let N=m(A);a.buttonOptions.forEach((B,Y)=>{var W=B._range,R=B.type,z=B.count||1;const H=O[Y],_=B._offsetMax-B._offsetMin,q=Y===A,V=W>S-r,$=W<t.minRange;B=0;let J=!1,tt=!1;W=W===e,("month"===R||"year"===R)&&e+36e5>=864e5*{month:28,year:365}[R]*z-_&&e-36e5<=864e5*{month:31,year:366}[R]*z+_?W=!0:"ytd"===R?(W=P-v+_===e,J=!q):"all"===R&&(W=t.max-t.min>=S-r,tt=!q&&N&&W),z=q&&W||W&&!N&&!J||q&&a.frozenStates,(R=!k&&(V||$||tt||n))?B=3:z&&(N=!0,B=2),H.state!==B&&(H.setState(B),i&&(i.options[Y+1].disabled=R,2===B&&(i.selectedIndex=Y+1)),0===B&&A===Y&&a.setSelected())})}computeButtonRange(a){const o=a.type,i=a.count||1,t={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};t[o]?a._range=t[o]*i:("month"===o||"year"===o)&&(a._range=864e5*{month:30,year:365}[o]*i),a._offsetMin=f(a.offsetMin,0),a._offsetMax=f(a.offsetMax,0),a._range+=a._offsetMax-a._offsetMin}getInputValue(a){const i=this.chart.time;return(a="min"===a?this.minInput:this.maxInput)?("text"===a.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(a.value,i.useUTC,i):0}setInputValue(a,o){const i=this.options,t=this.chart.time,e="min"===a?this.minInput:this.maxInput;if(a="min"===a?this.minDateBox:this.maxDateBox,e){var n=e.getAttribute("data-hc-time");n=s(n)?Number(n):void 0,s(o)&&(s(n)&&e.setAttribute("data-hc-time-previous",n),e.setAttribute("data-hc-time",o),n=o),e.value=t.dateFormat(this.inputTypeFormats[e.type]||i.inputEditDateFormat,n),a&&a.attr({text:t.dateFormat(i.inputDateFormat,n)})}}setInputExtremes(a,o,i){if(a="min"===a?this.minInput:this.maxInput){const t=this.inputTypeFormats[a.type],e=this.chart.time;t&&(o=e.dateFormat(t,o),a.min!==o&&(a.min=o),i=e.dateFormat(t,i),a.max!==i&&(a.max=i))}}showInput(a){const o="min"===a?this.minDateBox:this.maxDateBox;if((a="min"===a?this.minInput:this.maxInput)&&o&&this.inputGroup){const i="text"===a.type,{translateX:t,translateY:e}=this.inputGroup,{inputBoxWidth:n}=this.options;M(a,{width:i?o.width+(n?-2:20)+"px":"auto",height:o.height-2+"px",border:"2px solid silver"}),M(a,i&&n?{left:t+o.x+"px",top:e+"px"}:{left:Math.min(Math.round(o.x+t-(a.offsetWidth-o.width)/2),this.chart.chartWidth-a.offsetWidth)+"px",top:e-(a.offsetHeight-o.height)/2+"px"})}}hideInput(a){(a="min"===a?this.minInput:this.maxInput)&&M(a,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(a,o,i){var e,t=a.split("/").join("-").split(" ").join("T");return-1===t.indexOf("T")&&(t+="T00:00"),o?t+="Z":((e=G.isSafari)&&(e=!(6<(e=t).length&&(e.lastIndexOf("-")===e.length-6||e.lastIndexOf("+")===e.length-6))),e&&(t+=0>=(e=new Date(t).getTimezoneOffset()/60)?`+${l(-e)}:00`:`-${l(e)}:00`)),t=Date.parse(t),m(t)||(a=a.split("-"),t=Date.UTC(d(a[0]),d(a[1])-1,d(a[2]))),i&&o&&m(t)&&(t+=i.getTimezoneOffset(t)),t}drawInput(a){function o(){const{maxInput:O,minInput:N}=n,B=i.xAxis[0];var Y=i.scroller&&i.scroller.xAxis?i.scroller.xAxis:B;const W=Y.dataMin;Y=Y.dataMax;let R=n.getInputValue(a);R!==Number(A.getAttribute("data-hc-time-previous"))&&m(R)&&(A.setAttribute("data-hc-time-previous",R),v&&O&&m(W)?R>Number(O.getAttribute("data-hc-time"))?R=void 0:R<W&&(R=W):N&&m(Y)&&(R<Number(N.getAttribute("data-hc-time"))?R=void 0:R>Y&&(R=Y)),typeof R<"u"&&B.setExtremes(v?R:B.min,v?B.max:R,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:i,div:t,inputGroup:e}=this,n=this,h=i.renderer.style||{};var r=i.renderer;const S=i.options.rangeSelector,v="min"===a;var P=I.lang[v?"rangeSelectorFrom":"rangeSelectorTo"]||"";P=r.label(P,0).addClass("highcharts-range-label").attr({padding:P?2:0,height:P?S.inputBoxHeight:0}).add(e),r=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:S.inputBoxWidth,height:S.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(a),n[a+"Input"].focus()}),i.styledMode||r.attr({stroke:S.inputBoxBorderColor,"stroke-width":1}),r.add(e);const A=T("input",{name:a,className:"highcharts-range-selector"},void 0,t);A.setAttribute("type",function L(w){if(-1!==w.indexOf("%L"))return"text";const a="aAdewbBmoyY".split("").some(i=>-1!==w.indexOf("%"+i)),o="HkIlMS".split("").some(i=>-1!==w.indexOf("%"+i));return a&&o?"datetime-local":a?"date":o?"time":"text"}(S.inputDateFormat||"%e %b %Y")),i.styledMode||(P.css(g(h,S.labelStyle)),r.css(g({color:"#333333"},h,S.inputStyle)),M(A,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},S.inputStyle))),A.onfocus=()=>{n.showInput(a)},A.onblur=()=>{A===G.doc.activeElement&&o(),n.hideInput(a),n.setInputValue(a),A.blur()};let k=!1;return A.onchange=()=>{k||(o(),n.hideInput(a),A.blur())},A.onkeypress=O=>{13===O.keyCode&&o()},A.onkeydown=O=>{k=!0,38!==O.keyCode&&40!==O.keyCode||o()},A.onkeyup=()=>{k=!1},{dateBox:r,input:A,label:P}}getPosition(){var a=this.chart;const o=a.options.rangeSelector;return{buttonTop:(a="top"===o.verticalAlign?a.plotTop-a.axisOffset[0]:0)+o.buttonPosition.y,inputTop:a+o.inputPosition.y-10}}getYTDExtremes(a,o,i){const t=this.chart.time;var e=new t.Date(a);const n=t.get("FullYear",e);return i=i?t.Date.UTC(n,0,1):+new t.Date(n,0,1),o=Math.max(o,i),e=e.getTime(),{max:Math.min(a||e,e),min:o}}render(a,o){var i=this.chart,t=i.renderer;const e=i.container;var n=i.options;const h=n.rangeSelector,r=f(n.chart.style&&n.chart.style.zIndex,0)+1;if(n=h.inputEnabled,!1!==h.enabled){if(this.rendered||(this.group=t.g("range-selector-group").attr({zIndex:7}).add(),this.div=T("div",void 0,{position:"relative",height:0,zIndex:r}),this.buttonOptions.length&&this.renderButtons(),e.parentNode&&e.parentNode.insertBefore(this.div,e),n&&(this.inputGroup=t.g("input-group").add(this.group),t=this.drawInput("min"),this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input,t=this.drawInput("max"),this.maxDateBox=t.dateBox,this.maxLabel=t.label,this.maxInput=t.input)),n&&(this.setInputValue("min",a),this.setInputValue("max",o),a=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{},s(a.dataMin)&&s(a.dataMax)&&(i=i.xAxis[0].minRange||0,this.setInputExtremes("min",a.dataMin,Math.min(a.dataMax,this.getInputValue("max"))-i),this.setInputExtremes("max",Math.max(a.dataMin,this.getInputValue("min"))+i,a.dataMax)),this.inputGroup)){let S=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(v=>{if(v){const{width:P}=v.getBBox();P&&(v.attr({x:S}),S+=P+h.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:a,chart:o,options:i}=this,t=I.lang,e=o.renderer,n=g(i.buttonTheme),h=n&&n.states,r=n.width||28;delete n.width,delete n.states,this.buttonGroup=e.g("range-selector-buttons").add(this.group);const S=this.dropdown=T("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(S,"touchstart",()=>{S.style.fontSize="16px"}),[[G.isMS?"mouseover":"mouseenter"],[G.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([v,P])=>{E(S,v,()=>{const A=a[this.currentButtonIndex()];A&&c(A.element,P||v)})}),this.zoomText=e.label(t&&t.rangeSelectorZoom||"",0).attr({padding:i.buttonTheme.padding,height:i.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(i.labelStyle),n["stroke-width"]=f(n["stroke-width"],0)),T("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,S),this.buttonOptions.forEach((v,P)=>{T("option",{textContent:v.title||v.text},void 0,S),a[P]=e.button(v.text,0,0,A=>{const k=v.events&&v.events.click;let O;k&&(O=k.call(v,A)),!1!==O&&this.clickButton(P),this.isActive=!0},n,h&&h.hover,h&&h.select,h&&h.disabled).attr({"text-align":"center",width:r}).add(this.buttonGroup),v.title&&a[P].attr("title",v.title)})}alignElements(){const{buttonGroup:a,buttons:o,chart:i,group:t,inputGroup:e,options:n,zoomText:h}=this;var r=i.options;const S=r.exporting&&!1!==r.exporting.enabled&&r.navigation&&r.navigation.buttonOptions,{buttonPosition:v,inputPosition:P,verticalAlign:A}=n;r=(B,Y)=>S&&this.titleCollision(i)&&"top"===A&&"right"===Y.align&&Y.y-B.getBBox().height-12<(S.y||0)+(S.height||0)+i.spacing[0]?-40:0;var k=i.plotLeft;if(t&&v&&P){var O=v.x-i.spacing[3];if(a){if(this.positionButtons(),!this.initialButtonGroupWidth){let R=0;h&&(R+=h.getBBox().width+5),o.forEach((z,H)=>{R+=z.width,H!==o.length-1&&(R+=n.buttonSpacing)}),this.initialButtonGroupWidth=R}k-=i.spacing[3],this.updateButtonStates();var N=r(a,v);this.alignButtonGroup(N),t.placed=a.placed=i.hasLoaded}N=0,e&&(N=r(e,P),"left"===P.align?O=k:"right"===P.align&&(O=-Math.max(i.axisOffset[1],-N)),e.align({y:P.y,width:e.getBBox().width,align:P.align,x:P.x+O-2},!0,i.spacingBox),e.placed=i.hasLoaded),this.handleCollision(N),t.align({verticalAlign:A},!0,i.spacingBox),r=t.alignAttr.translateY,k=t.getBBox().height+20,O=0,"bottom"===A&&(O=r-(k=k+(O=(O=i.legend&&i.legend.options)&&"bottom"===O.verticalAlign&&O.enabled&&!O.floating?i.legend.legendHeight+f(O.margin,10):0)-20)-(n.floating?0:n.y)-(i.titleOffset?i.titleOffset[2]:0)-10),"top"===A?(n.floating&&(O=0),i.titleOffset&&i.titleOffset[0]&&(O=i.titleOffset[0]),O+=i.margin[0]-i.spacing[0]||0):"middle"===A&&(P.y===v.y?O=r:(P.y||v.y)&&(O=0>P.y||0>v.y?O-Math.min(P.y,v.y):r-k)),t.translate(n.x,n.y+Math.floor(O));const{minInput:B,maxInput:Y,dropdown:W}=this;n.inputEnabled&&B&&Y&&(B.style.marginTop=t.translateY+"px",Y.style.marginTop=t.translateY+"px"),W&&(W.style.marginTop=t.translateY+"px")}}alignButtonGroup(a,o){const{chart:i,options:t,buttonGroup:e}=this,{buttonPosition:n}=t,h=i.plotLeft-i.spacing[3];let r=n.x-i.spacing[3];"right"===n.align?r+=a-h:"center"===n.align&&(r-=h/2),e&&e.align({y:n.y,width:f(o,this.initialButtonGroupWidth),align:n.align,x:r},!0,i.spacingBox)}positionButtons(){const{buttons:a,chart:o,options:i,zoomText:t}=this,e=o.hasLoaded?"animate":"attr",{buttonPosition:n}=i,h=o.plotLeft;let r=h;t&&"hidden"!==t.visibility&&(t[e]({x:f(h+n.x,h)}),r+=n.x+t.getBBox().width+5);for(let S=0,v=this.buttonOptions.length;S<v;++S)"hidden"!==a[S].visibility?(a[S][e]({x:r}),r+=a[S].width+i.buttonSpacing):a[S][e]({x:h})}handleCollision(a){const{chart:o,buttonGroup:i,inputGroup:t}=this,{buttonPosition:e,dropdown:n,inputPosition:h}=this.options,r=()=>{let P=0;return this.buttons.forEach(A=>{(A=A.getBBox()).width>P&&(P=A.width)}),P},S=P=>{if(t&&i){const A=t.alignAttr.translateX+t.alignOptions.x-a+t.getBBox().x+2,k=t.alignOptions.width,O=i.alignAttr.translateX+i.getBBox().x;return O+P>A&&A+k>O&&e.y<h.y+t.getBBox().height}return!1},v=()=>{t&&i&&t.attr({translateX:t.alignAttr.translateX+(o.axisOffset[1]>=-a?0:-a),translateY:t.alignAttr.translateY+i.getBBox().height+10})};if(i){if("always"===n)return this.collapseButtons(a),void(S(r())&&v());"never"===n&&this.expandButtons()}t&&i?h.align===e.align||S(this.initialButtonGroupWidth+20)?"responsive"===n?(this.collapseButtons(a),S(r())&&v()):v():"responsive"===n&&this.expandButtons():i&&"responsive"===n&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(a):this.expandButtons())}collapseButtons(a){const{buttons:o,buttonOptions:i,chart:t,dropdown:e,options:n,zoomText:h}=this,r=t.userOptions.rangeSelector&&t.userOptions.rangeSelector.buttonTheme||{},S=A=>({text:A?`${A} \u25be`:"\u25be",width:"auto",paddingLeft:f(n.buttonTheme.paddingLeft,r.padding,8),paddingRight:f(n.buttonTheme.paddingRight,r.padding,8)});h&&h.hide();let v=!1;i.forEach((A,k)=>{2!==(k=o[k]).state?k.hide():(k.show(),k.attr(S(A.text)),v=!0)}),v||(e&&(e.selectedIndex=0),o[0].show(),o[0].attr(S(this.zoomText&&this.zoomText.textStr)));const{align:P}=n.buttonPosition;this.positionButtons(),"right"!==P&&"center"!==P||this.alignButtonGroup(a,o[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:a,buttonOptions:o,options:i,zoomText:t}=this;this.hideDropdown(),t&&t.show(),o.forEach((e,n)=>{(n=a[n]).show(),n.attr({text:e.text,width:i.buttonTheme.width||28,paddingLeft:f(i.buttonTheme.paddingLeft,"unset"),paddingRight:f(i.buttonTheme.paddingRight,"unset")}),2>n.state&&n.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:a}=this;return a&&0<a.selectedIndex?a.selectedIndex-1:0}showDropdown(){const{buttonGroup:a,buttons:o,chart:i,dropdown:t}=this;if(a&&t){const{translateX:e,translateY:n}=a,h=o[this.currentButtonIndex()].getBBox();M(t,{left:i.plotLeft+e+"px",top:n+.5+"px",width:h.width+"px",height:h.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:a}=this;a&&(M(a,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var a=this.options,o=this.group;const i=a.y,t=a.buttonPosition.y,e=a.inputPosition.y;return a.height?a.height:(this.alignElements(),a=o?o.getBBox(!0).height+13+i:0,o=Math.min(e,t),(0>e&&0>t||0<e&&0<t)&&(a+=Math.abs(o)),a)}titleCollision(a){return!(a.options.title.text||a.options.subtitle.text)}update(a){const o=this.chart;g(!0,o.options.rangeSelector,a),this.destroy(),this.init(o),this.render()}destroy(){const a=this,o=a.minInput,i=a.maxInput;a.eventsToUnbind&&(a.eventsToUnbind.forEach(t=>t()),a.eventsToUnbind=void 0),y(a.buttons),o&&(o.onfocus=o.onblur=o.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),u(a,function(t,e){t&&"chart"!==e&&(t instanceof U?t.destroy():t instanceof window.HTMLElement&&b(t)),t!==C.prototype[e]&&(a[e]=null)},this)}}return x(C.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),C}),D(K,"Core/Axis/OrdinalAxis.js",[K["Core/Axis/Axis.js"],K["Core/Globals.js"],K["Core/Series/Series.js"],K["Core/Utilities.js"]],function(Z,F,G,j){const{addEvent:U,correctFloat:X,css:L,defined:I,error:E,pick:T,timeUnits:M}=j,s=[];var y;return function(b){function x(o,i,t,e,n=[],h=0,r){const S={},v=this.options.tickPixelInterval;var k,P=this.chart.time,A=[];let O,N;var B=0;let Y=[],W=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!n||3>n.length||typeof i>"u")return P.getTimeTicks.apply(P,arguments);const R=n.length;for(k=0;k<R;k++){if(N=k&&n[k-1]>t,n[k]<i&&(B=k),k===R-1||n[k+1]-n[k]>5*h||N){if(n[k]>W){for(O=P.getTimeTicks(o,n[B],n[k],e);O.length&&O[0]<=W;)O.shift();O.length&&(W=O[O.length-1]),A.push(Y.length),Y=Y.concat(O)}B=k+1}if(N)break}if(O){if(n=O.info,r&&n.unitRange<=M.hour){for(k=Y.length-1,B=1;B<k;B++)if(P.dateFormat("%d",Y[B])!==P.dateFormat("%d",Y[B-1])){S[Y[B]]="day";var z=!0}z&&(S[Y[0]]="day"),n.higherRanks=S}n.segmentStarts=A,Y.info=n}else E(12,!1,this.chart);if(r&&I(v)){let H;for(P=[],z=[],k=B=Y.length;k--;)A=this.translate(Y[k]),H&&(z[k]=H-A),P[k]=H=A;for(z.sort(),(z=z[Math.floor(z.length/2)])<.6*v&&(z=null),k=Y[B-1]>t?B-1:B,H=void 0;k--;)A=P[k],B=Math.abs(H-A),H&&B<.8*v&&(null===z||B<.8*z)?(S[Y[k]]&&!S[Y[k+1]]?(B=k+1,H=A):B=k,Y.splice(B,1)):H=A}return Y}function c(o){const i=this.ordinal.positions;if(!i)return o;let e,t=i.length-1;return 0>o?o=i[0]:o>t?o=i[t]:(t=Math.floor(o),e=o-t),typeof e<"u"&&typeof i[t]<"u"?i[t]+(e?e*(i[t+1]-i[t]):0):o}function m(o){var i=this.ordinal,t=i.positions;if(!t)return o;var e=(o-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<e&&e<this.left+this.len||(i.extendedOrdinalPositions||(i.extendedOrdinalPositions=i.getExtendedPositions()),t=i.extendedOrdinalPositions),t&&t.length){if(o=i.getIndexOfPoint(e,t),i=X(o%1),0<=o&&o<t.length-1)return t[Math.floor(o)]+i*(t[Math.ceil(o)]-t[Math.floor(o)]);e=t[0];const n=((t=t[(i=t.length)-1])-e)/(i-1);return 0>o?e+n*o:t+n*(o-i)}return o}function g(o,i){const t=b.Additions.findIndexOf(o,i,!0);return o[t]===i?t:t+(i-o[t])/(o[t+1]-o[t])}function u(){this.ordinal||(this.ordinal=new b.Additions(this))}function l(){this.isXAxis&&I(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&I(this.userMin)&&(this.min+=this.options.overscroll))}function f(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function d(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function p(o){const i=this.xAxis[0],t=i.options.overscroll,e=o.originalEvent.chartX,n=this.options.chart.panning;let h=!1;if(n&&"y"!==n.type&&i.options.ordinal&&i.series.length){var r=this.mouseDownX;const A=i.getExtremes(),k=A.dataMax,O=A.min,N=A.max;var S=this.hoverPoints,v=i.closestPointRange||i.ordinal&&i.ordinal.overscrollPointsRange;r=(r-e)/(i.translationSlope*(i.ordinal.slope||v));var P={ordinal:{positions:v=i.ordinal.getExtendedPositions(),extendedOrdinalPositions:v}};v=i.index2val;const B=i.val2lin;let Y;P.ordinal.positions?1<Math.abs(r)&&(S&&S.forEach(function(W){W.setState()}),0>r?(S=P,Y=i.ordinal.positions?i:P):(S=i.ordinal.positions?i:P,Y=P),k>(P=Y.ordinal.positions)[P.length-1]&&P.push(k),this.fixedRange=N-O,(r=i.navigatorAxis.toFixedRange(void 0,void 0,v.apply(S,[B.apply(S,[O,!0])+r]),v.apply(Y,[B.apply(Y,[N,!0])+r]))).min>=Math.min(A.dataMin,O)&&r.max<=Math.max(k,N)+t&&i.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=e,L(this.container,{cursor:"move"})):h=!0}else h=!0;h||n&&/y/.test(n.type)?t&&(i.max=i.dataMax+t):o.preventDefault()}function C(){const o=this.xAxis;o&&o.options.ordinal&&(delete o.ordinal.index,delete o.ordinal.extendedOrdinalPositions)}function w(o,i){const t=this.ordinal;var e=t.positions;let n=t.slope,h=t.extendedOrdinalPositions;if(!e)return o;var r=e.length;if(e[0]<=o&&e[r-1]>=o)o=g(e,o);else{if(h||(h=t.getExtendedPositions&&t.getExtendedPositions(),t.extendedOrdinalPositions=h),!h||!h.length)return o;r=h.length,n||(n=(h[r-1]-h[0])/r),e=g(h,e[0]),o=o>=h[0]&&o<=h[r-1]?g(h,o)-e:o<h[0]?-e-(h[0]-o)/n:(o-h[r-1])/n+r-e}return i?o:n*(o||0)+t.offset}b.compose=function(o,i,t){if(j.pushUnique(s,o)){const e=o.prototype;e.getTimeTicks=x,e.index2val=c,e.lin2val=m,e.val2lin=w,e.ordinal2lin=e.val2lin,U(o,"afterInit",u),U(o,"foundExtremes",l),U(o,"afterSetScale",f),U(o,"initialAxisTranslation",d)}return j.pushUnique(s,t)&&U(t,"pan",p),j.pushUnique(s,i)&&U(i,"updatedData",C),o};class a{constructor(i){this.index={},this.axis=i}beforeSetTickPositions(){const i=this.axis,t=i.ordinal;var e=i.getExtremes();const n=e.min;var h=e.max;const r=i.isXAxis&&!!i.options.breaks;e=i.options.ordinal;const S=i.chart.options.chart.ignoreHiddenSeries;let v,P;var A;let k=[],O=Number.MAX_VALUE,N=!1,B=!1,Y=!1;if(e||r){let R=0;if(i.series.forEach(function(z,H){if(P=[],0<H&&"highcharts-navigator-series"!==z.options.id&&1<z.processedXData.length&&(B=R!==z.processedXData[1]-z.processedXData[0]),R=z.processedXData[1]-z.processedXData[0],z.boosted&&(Y=z.boosted),!(S&&!1===z.visible||!1===z.takeOrdinalPosition&&!r)&&(k=k.concat(z.processedXData),v=k.length,k.sort(function(_,q){return _-q}),O=Math.min(O,T(z.closestPointRange,O)),v)){for(H=0;H<v-1;)k[H]!==k[H+1]&&P.push(k[H+1]),H++;P[0]!==k[0]&&P.unshift(k[0]),k=P}}),B&&Y&&(k.pop(),k.shift()),v=k.length,2<v){var W=k[1]-k[0];for(A=v-1;A--&&!N;)k[A+1]-k[A]!==W&&(N=!0);!i.options.keepOrdinalPadding&&(k[0]-n>W||h-k[k.length-1]>W)&&(N=!0)}else i.options.overscroll&&(2===v?O=k[1]-k[0]:1===v?(O=i.options.overscroll,k=[k[0],k[0]+O]):O=t.overscrollPointsRange);N||i.forceOrdinal?(i.options.overscroll&&(t.overscrollPointsRange=O,k=k.concat(t.getOverscrollPositions())),t.positions=k,W=i.ordinal2lin(Math.max(n,k[0]),!0),A=Math.max(i.ordinal2lin(Math.min(h,k[k.length-1]),!0),1),t.slope=h=(h-n)/(A-W),t.offset=n-W*h):(t.overscrollPointsRange=T(i.closestPointRange,t.overscrollPointsRange),t.positions=i.ordinal.slope=t.offset=void 0)}i.isOrdinal=e&&N,t.groupIntervalFactor=null}static findIndexOf(i,t,e){let r,n=0,h=i.length-1;for(;n<h;)r=Math.ceil((n+h)/2),i[r]<=t?n=r:h=r-1;return i[n]===t||e?n:-1}getExtendedPositions(){const i=this,t=i.axis,e=t.constructor.prototype,n=t.chart,h=t.series[0].currentDataGrouping,r=h?h.count+h.unitName:"raw",S=t.options.overscroll,v=t.getExtremes();let P,A,k=i.index;return k||(k=i.index={}),k[r]||(P={series:[],chart:n,forceOrdinal:!1,getExtremes:function(){return{min:v.dataMin,max:v.dataMax+S}},getGroupPixelWidth:e.getGroupPixelWidth,getTimeTicks:e.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:e.ordinal2lin,getIndexOfPoint:e.getIndexOfPoint,val2lin:e.val2lin},P.ordinal.axis=P,t.series.forEach(function(O){A={xAxis:P,xData:O.xData.slice(),chart:n,destroyGroupedData:F.noop,getProcessedData:G.prototype.getProcessedData,applyGrouping:G.prototype.applyGrouping},A.xData=A.xData.concat(i.getOverscrollPositions()),A.options={dataGrouping:h?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[h.unitName,[h.count]]]}:{enabled:!1}},P.series.push(A),O.processData.apply(A)}),A.closestPointRange!==A.basePointRange&&A.currentDataGrouping&&(P.forceOrdinal=!0),t.ordinal.beforeSetTickPositions.apply({axis:P}),k[r]=P.ordinal.positions),k[r]}getGroupIntervalFactor(i,t,e){const n=(e=e.processedXData).length;var h=[],r=this.groupIntervalFactor;if(!r){for(r=0;r<n-1;r++)h[r]=e[r+1]-e[r];h.sort(function(S,v){return S-v}),h=h[Math.floor(n/2)],i=Math.max(i,e[0]),t=Math.min(t,e[n-1]),this.groupIntervalFactor=r=n*h/(t-i)}return r}getIndexOfPoint(i,t){const e=this.axis,n=this.positions?this.positions[0]:0;let h=e.series[0].points&&e.series[0].points[0]&&e.series[0].points[0].plotX||e.minPixelPadding;return 1<e.series.length&&e.series.forEach(function(r){r.points&&I(r.points[0])&&I(r.points[0].plotX)&&r.points[0].plotX<h&&r.points[0].plotX>=T(e.min,-1/0)&&(h=r.points[0].plotX)}),i=(i-h)/(e.translationSlope*(this.slope||e.closestPointRange||this.overscrollPointsRange)),a.findIndexOf(t,n)+i}getOverscrollPositions(){const i=this.axis,t=i.options.overscroll,e=this.overscrollPointsRange,n=[];let h=i.dataMax;if(I(e))for(;h<=i.dataMax+t;)h+=e,n.push(h);return n}postProcessTickInterval(i){const t=this.axis,e=this.slope;return e?t.options.breaks?t.closestPointRange||i:i/(e/t.closestPointRange):i}}b.Additions=a}(y||(y={})),y}),D(K,"Series/HLC/HLCPoint.js",[K["Core/Series/SeriesRegistry.js"]],function(Z){return({column:{prototype:{pointClass:Z}}}=Z.seriesTypes),class F extends Z{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}}),D(K,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),D(K,"Series/HLC/HLCSeries.js",[K["Series/HLC/HLCPoint.js"],K["Series/HLC/HLCSeriesDefaults.js"],K["Core/Series/SeriesRegistry.js"],K["Core/Utilities.js"]],function(Z,F,G,j){const{column:U}=G.seriesTypes,{extend:X,merge:L}=j;class I extends U{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(T,M,s){const y=T[0];T=T[1],"number"==typeof y[2]&&(y[2]=Math.max(s+M,y[2])),"number"==typeof T[2]&&(T[2]=Math.min(s-M,T[2]))}getPointPath(T,M){M=M.strokeWidth();const s=T.series,y=M%2/2,b=Math.round(T.plotX)-y,x=Math.round(T.shapeArgs.width/2),c=[["M",b,Math.round(T.yBottom)],["L",b,Math.round(T.plotHigh)]];return null!==T.close&&(T=Math.round(T.plotClose)+y,c.push(["M",b,T],["L",b+x,T]),s.extendStem(c,M/2,T)),c}drawSinglePoint(T){var M=T.series;const s=M.chart;let y=T.graphic;typeof T.plotY<"u"&&(y||(T.graphic=y=s.renderer.path().add(M.group)),s.styledMode||y.attr(M.pointAttribs(T,T.selected&&"select")),M=M.getPointPath(T,y),y[y?"animate":"attr"]({d:M}).addClass(T.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(T,M){return delete(T=super.pointAttribs.call(this,T,M)).fill,T}toYData(T){return[T.high,T.low,T.close]}translate(){const T=this,M=T.yAxis,s=this.pointArrayMap&&this.pointArrayMap.slice()||[],y=s.map(b=>`plot${b.charAt(0).toUpperCase()+b.slice(1)}`);y.push("yBottom"),s.push("low"),super.translate.apply(T),T.points.forEach(function(b){s.forEach(function(x,c){null!==(x=b[x])&&(T.dataModify&&(x=T.dataModify.modifyValue(x)),b[y[c]]=M.toPixels(x,!0))}),b.tooltipPos[1]=b.plotHigh+M.pos-T.chart.plotTop})}}return I.defaultOptions=L(U.defaultOptions,F),X(I.prototype,{pointClass:Z,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),G.registerSeriesType("hlc",I),I}),D(K,"Series/OHLC/OHLCPoint.js",[K["Core/Series/SeriesRegistry.js"]],function(Z){return({seriesTypes:{hlc:Z}}=Z),class F extends Z.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const j=super.getZone();return this.resolveUpColor(),j}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),D(K,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),D(K,"Series/OHLC/OHLCSeries.js",[K["Series/OHLC/OHLCPoint.js"],K["Series/OHLC/OHLCSeriesDefaults.js"],K["Core/Series/SeriesRegistry.js"],K["Core/Utilities.js"]],function(Z,F,G,j){function U(y){const b=(y=y.options).dataGrouping;b&&y.useOhlcData&&"highcharts-navigator-series"!==y.id&&(b.approximation="ohlc")}function X(y){(y=y.options).useOhlcData&&"highcharts-navigator-series"!==y.id&&E(this,{pointValKey:s.prototype.pointValKey,pointArrayMap:s.prototype.pointArrayMap,toYData:s.prototype.toYData})}const{seriesTypes:{hlc:L}}=G,{addEvent:I,extend:E,merge:T}=j,M=[];class s extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(b,...x){j.pushUnique(M,b)&&(I(b,"afterSetOptions",U),I(b,"init",X))}getPointPath(b,x){const c=super.getPointPath(b,x),m=(x=x.strokeWidth())%2/2,g=Math.round(b.plotX)-m,u=Math.round(b.shapeArgs.width/2);return null!==b.open&&(b=Math.round(b.plotOpen)+m,c.push(["M",g,b],["L",g-u,b]),super.extendStem(c,x/2,b)),c}pointAttribs(b,x){x=super.pointAttribs.call(this,b,x);const c=this.options;return delete x.fill,!b.options.color&&c.upColor&&b.open<b.close&&(x.stroke=c.upColor),x}toYData(b){return[b.open,b.high,b.low,b.close]}}return s.defaultOptions=T(L.defaultOptions,F),E(s.prototype,{pointClass:Z,pointArrayMap:["open","high","low","close"]}),G.registerSeriesType("ohlc",s),s}),D(K,"Series/Candlestick/CandlestickSeriesDefaults.js",[K["Core/Defaults.js"],K["Core/Utilities.js"]],function(Z,F){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),D(K,"Series/Candlestick/CandlestickSeries.js",[K["Series/Candlestick/CandlestickSeriesDefaults.js"],K["Core/Defaults.js"],K["Core/Series/SeriesRegistry.js"],K["Core/Utilities.js"]],function(Z,F,G,j){({defaultOptions:F}=F);const{column:U,ohlc:X}=G.seriesTypes;({merge:j}=j);class L extends X{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(E,T){const M=U.prototype.pointAttribs.call(this,E,T),s=this.options,y=E.open<E.close,b=s.lineColor||this.color,x=E.color||this.color;return M["stroke-width"]=s.lineWidth,M.fill=E.options.color||y&&s.upColor||x,M.stroke=E.options.lineColor||y&&s.upLineColor||b,T&&(M.fill=(E=s.states[T]).color||M.fill,M.stroke=E.lineColor||M.stroke,M["stroke-width"]=E.lineWidth||M["stroke-width"]),M}drawPoints(){var E=this.points;const T=this.chart,M=this.yAxis.reversed;for(const x of E){var s=void 0,y=void 0;let c,m;var b=void 0;let g,u;const l=!(E=x.graphic);typeof x.plotY<"u"&&(E||(x.graphic=E=T.renderer.path().add(this.group)),this.chart.styledMode||E.attr(this.pointAttribs(x,x.selected&&"select")).shadow(this.options.shadow),b=E.strokeWidth()%2/2,g=Math.round(x.plotX)-b,s=x.plotOpen,y=x.plotClose,c=Math.min(s,y),s=Math.max(s,y),u=Math.round(x.shapeArgs.width/2),y=M?s!==x.yBottom:Math.round(c)!==Math.round(x.plotHigh),m=M?Math.round(c)!==Math.round(x.plotHigh):s!==x.yBottom,c=Math.round(c)+b,s=Math.round(s)+b,(b=[]).push(["M",g-u,s],["L",g-u,c],["L",g+u,c],["L",g+u,s],["Z"],["M",g,c],["L",g,y?Math.round(M?x.yBottom:x.plotHigh):c],["M",g,s],["L",g,m?Math.round(M?x.plotHigh:x.yBottom):s]),E[l?"attr":"animate"]({d:b}).addClass(x.getClassName(),!0))}}}return L.defaultOptions=j(X.defaultOptions,F.plotOptions,{tooltip:X.defaultOptions.tooltip},Z),G.registerSeriesType("candlestick",L),L}),D(K,"Series/Flags/FlagsPoint.js",[K["Core/Series/SeriesRegistry.js"],K["Core/Utilities.js"]],function(Z,F){({column:{prototype:{pointClass:Z}}}=Z.seriesTypes);const{isNumber:G}=F;return class j extends Z{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return G(this.y)||typeof this.y>"u"}hasNewShapeType(){const X=this.options.shape||this.series.options.shape;return this.graphic&&X&&X!==this.graphic.symbolKey}}}),D(K,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),D(K,"Series/Flags/FlagsSymbols.js",[K["Core/Renderer/RendererRegistry.js"]],function(Z){var F;return function(G){function j(L,I,E,T,M){const s=M&&M.anchorX||L,y=this.circle(s-1,(M=M&&M.anchorY||I)-1,2,2);return y.push(["M",s,M],["L",L,I+T],["L",L,I],["L",L+E,I],["L",L+E,I+T],["L",L,I+T],["Z"]),y}function U(L,I){L[I+"pin"]=function(E,T,M,s,y){const b=y&&y.anchorX;let x;if(y=y&&y.anchorY,"circle"===I&&s>M&&(E-=Math.round((s-M)/2),M=s),x=L[I](E,T,M,s),b&&y){let c=b;"circle"===I?c=E+M/2:(M=x[1],"M"===(E=x[0])[0]&&"L"===M[0]&&(c=(E[1]+M[1])/2)),x.push(["M",c,T>y?T:T+s],["L",b,y]),x=x.concat(L.circle(b-1,y-1,2,2))}return x}}const X=[];G.compose=function(L){-1===X.indexOf(L)&&(X.push(L),(L=L.prototype.symbols).flag=j,U(L,"circle"),U(L,"square")),L=Z.getRendererType(),X.indexOf(L)&&X.push(L)}}(F||(F={})),F}),D(K,"Series/OnSeriesComposition.js",[K["Series/Column/ColumnSeries.js"],K["Core/Series/Series.js"],K["Core/Utilities.js"]],function(Z,F,G){const{prototype:j}=Z,{prototype:U}=F,{defined:X,stableSort:L}=G;var I;return function(E){function T(y){return U.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,y)}function M(){j.translate.apply(this);const y=this;var b=y.options,x=y.chart;const c=y.points;var m=b.onSeries;const g=(m=m&&x.get(m))&&m.options.step,u=m&&m.points,l=x.inverted,f=y.xAxis,d=y.yAxis;let p;x=c.length-1,b=b.onKey||"y";let a,o,i,t,C=u&&u.length,w=0;if(m&&m.visible&&C){w=(m.pointXOffset||0)+(m.barW||0)/2;var e=m.currentDataGrouping;for(o=u[C-1].x+(e?e.totalRange:0),L(c,(n,h)=>n.x-h.x),b="plot"+b[0].toUpperCase()+b.substr(1);C--&&c[x]&&(a=u[C],(e=c[x]).y=a.y,!(a.x<=e.x&&typeof a[b]<"u"&&(e.x<=o&&(e.plotY=a[b],a.x<e.x&&!g&&(i=u[C+1])&&typeof i[b]<"u"&&(t=(e.x-a.x)/(i.x-a.x),e.plotY+=t*(i[b]-a[b]),e.y+=t*(i.y-a.y))),x--,C++,0>x))););}c.forEach((n,h)=>{let r;n.plotX+=w,(typeof n.plotY>"u"||l)&&(0<=n.plotX&&n.plotX<=f.len?l?(n.plotY=f.translate(n.x,0,1,0,1),n.plotX=X(n.y)?d.translate(n.y,0,0,0,1):0):n.plotY=(f.opposite?0:y.yAxis.len)+f.offset:n.shapeArgs={}),(p=c[h-1])&&p.plotX===n.plotX&&(typeof p.stackIndex>"u"&&(p.stackIndex=0),r=p.stackIndex+1),n.stackIndex=r}),this.onSeries=m}const s=[];E.compose=function(y){if(G.pushUnique(s,y)){const b=y.prototype;b.getPlotBox=T,b.translate=M}return y},E.getPlotBox=T,E.translate=M}(I||(I={})),I}),D(K,"Series/Flags/FlagsSeries.js",[K["Series/Flags/FlagsPoint.js"],K["Series/Flags/FlagsSeriesDefaults.js"],K["Series/Flags/FlagsSymbols.js"],K["Core/Globals.js"],K["Series/OnSeriesComposition.js"],K["Core/Renderer/RendererUtilities.js"],K["Core/Series/SeriesRegistry.js"],K["Core/Renderer/SVG/SVGElement.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X,L,I,E){({noop:j}=j);const{distribute:T}=X,{series:M,seriesTypes:{column:s}}=L,{addEvent:y,defined:b,extend:x,merge:c,objectEach:m,wrap:g}=E;class u extends s{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(f){f&&this.setClip()}drawPoints(){var f=this.points,d=this.chart;const p=d.renderer,C=d.inverted,w=this.options,a=w.y,o=this.yAxis,i={},t=[];let e,n,h,r,S,v,P;for(h=f.length;h--;){r=f[h],v=(C?r.plotY:r.plotX)>this.xAxis.len,e=r.plotX;var A=r.stackIndex,k=r.options.shape||w.shape;n=r.plotY,typeof n<"u"&&(n=r.plotY+a-(typeof A<"u"&&A*w.stackDistance)),r.anchorX=A?void 0:r.plotX,S=A?void 0:r.plotY,P="flag"!==k,A=r.graphic,typeof n<"u"&&0<=e&&!v?(A&&r.hasNewShapeType()&&(A=A.destroy()),A||(A=r.graphic=p.label("",null,null,k,null,null,w.useHTML).addClass("highcharts-point").add(this.markerGroup),r.graphic.div&&(r.graphic.div.point=r),A.isNew=!0),A.attr({align:P?"center":"left",width:w.width,height:w.height,"text-align":w.textAlign}),d.styledMode||A.attr(this.pointAttribs(r)).css(c(w.style,r.style)).shadow(w.shadow),0<e&&(e-=A.strokeWidth()%2),k={y:n,anchorY:S},w.allowOverlapX&&(k.x=e,k.anchorX=r.anchorX),A.attr({text:r.options.title||w.title||"A"})[A.isNew?"attr":"animate"](k),w.allowOverlapX||(i[r.plotX]?i[r.plotX].size=Math.max(i[r.plotX].size,A.width):i[r.plotX]={align:P?.5:0,size:A.width,target:e,anchorX:e}),r.tooltipPos=[e,n+o.pos-d.plotTop]):A&&(r.graphic=A.destroy())}if(!w.allowOverlapX){let O=100;m(i,function(N){N.plotX=N.anchorX,t.push(N),O=Math.max(N.size,O)}),T(t,C?o.len:this.xAxis.len,O);for(const N of f)d=N.plotX,(d=(f=N.graphic)&&i[d])&&f&&(b(d.pos)?f[f.isNew?"attr":"animate"]({x:d.pos+(d.align||0)*d.size,anchorX:N.anchorX}).show().isNew=!1:f.hide().isNew=!0)}w.useHTML&&this.markerGroup&&g(this.markerGroup,"on",function(O){return I.prototype.on.apply(O.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const f=this.points;super.drawTracker();for(const d of f){const p=d.graphic;p&&(d.unbindMouseOver&&d.unbindMouseOver(),d.unbindMouseOver=y(p.element,"mouseover",function(){0<d.stackIndex&&!d.raised&&(d._y=p.y,p.attr({y:d._y-8}),d.raised=!0);for(const C of f)C!==d&&C.raised&&C.graphic&&(C.graphic.attr({y:C._y}),C.raised=!1)}))}}pointAttribs(f,d){const p=this.options,C=f&&f.color||this.color;let w=p.lineColor,a=f&&f.lineWidth;return f=f&&f.fillColor||p.fillColor,d&&(f=p.states[d].fillColor,w=p.states[d].lineColor,a=p.states[d].lineWidth),{fill:f||C,stroke:w||C,"stroke-width":a||p.lineWidth||0}}setClip(){M.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return u.compose=G.compose,u.defaultOptions=c(s.defaultOptions,F),U.compose(u),x(u.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Z,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:j,init:M.prototype.init}),L.registerSeriesType("flags",u),u}),D(K,"Core/Chart/StockChart.js",[K["Core/Axis/Axis.js"],K["Core/Chart/Chart.js"],K["Core/FormatUtilities.js"],K["Core/Defaults.js"],K["Stock/Navigator/NavigatorDefaults.js"],K["Stock/RangeSelector/RangeSelectorDefaults.js"],K["Stock/Scrollbar/ScrollbarDefaults.js"],K["Core/Series/Series.js"],K["Core/Renderer/SVG/SVGRenderer.js"],K["Core/Utilities.js"]],function(Z,F,G,j,U,X,L,I,E,T){function M(a,o){return"xAxis"===a?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===a?{labels:{y:-2},opposite:p(o.opposite,!0),showLastLabel:!(!o.categories&&"category"!==o.type),title:{text:null}}:{}}function s(a,o){return"xAxis"===a?(a={type:"datetime",categories:void 0},p(o.navigator&&o.navigator.enabled,U.enabled,!0)&&(a.startOnTick=!1,a.endOnTick=!1),a):{}}const{format:y}=G,{getOptions:b}=j,{addEvent:x,clamp:c,defined:m,extend:g,find:u,isNumber:l,isString:f,merge:d,pick:p,splat:C}=T;class w extends F{init(o,i){const t=b(),e=o.xAxis,n=o.yAxis;var h=p(o.navigator&&o.navigator.enabled,U.enabled,!0);o.xAxis=o.yAxis=void 0,h=d({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:h},scrollbar:{enabled:p(L.enabled,!0)},rangeSelector:{enabled:p(X.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:p(t.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},o,{isStock:!0}),o.xAxis=e,o.yAxis=n,h.xAxis=C(o.xAxis||{}).map(function(r,S){return d(M("xAxis",r),t.xAxis,t.xAxis&&t.xAxis[S],r,s("xAxis",o))}),h.yAxis=C(o.yAxis||{}).map(function(r,S){return d(M("yAxis",r),t.yAxis,t.yAxis&&t.yAxis[S],r)}),super.init(h,i)}createAxis(o,i){return i.axis=d(M(o,i.axis),i.axis,s(o,this.userOptions)),super.createAxis(o,i)}}return(a=w||(w={})).stockChart=function(o,i,t){return new a(o,i,t)},x(I,"setOptions",function(a){let o;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?o={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(o={marker:{enabled:!1,radius:2}}),o&&(a.plotOptions[this.type]=d(a.plotOptions[this.type],o)))}),x(Z,"autoLabelAlign",function(a){const{chart:o,options:i}=this,t=o._labelPanes=o._labelPanes||{},e=i.labels;if(o.options.isStock&&"yAxis"===this.coll){const n=i.top+","+i.height;!t[n]&&e.enabled&&(15===e.distance&&1===this.side&&(e.distance=0),typeof e.align>"u"&&(e.align="right"),t[n]=this,a.align="right",a.preventDefault())}}),x(Z,"destroy",function(){const a=this.chart,o=this.options&&this.options.top+","+this.options.height;o&&a._labelPanes&&a._labelPanes[o]===this&&delete a._labelPanes[o]}),x(Z,"getPlotLinePath",function(a){let S,v,P,A,N,B,z,i=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,e=i.chart,n=e.renderer,h=i.left,r=i.top,k=[],O=[],Y=a.translatedValue,W=a.value,R=a.force;(e.options.isStock&&!1!==a.acrossPanes&&"xAxis"===i.coll||"yAxis"===i.coll)&&(a.preventDefault(),O=function o(H){const _="xAxis"===H?"yAxis":"xAxis";return l(H=i.options[_])?[e[_][H]]:f(H)?[e.get(H)]:t.map(function(q){return q[_]})}(i.coll),N=i.isXAxis?e.yAxis:e.xAxis,N.forEach(function(H){if(!m(H.options.id)||-1===H.options.id.indexOf("navigator")){var _=H.isXAxis?"yAxis":"xAxis";_=m(H.options[_])?e[_][H.options[_]]:e[_][0],i===_&&O.push(H)}}),B=O.length?[]:[i.isXAxis?e.yAxis[0]:e.xAxis[0]],O.forEach(function(H){-1!==B.indexOf(H)||u(B,function(_){return _.pos===H.pos&&_.len===H.len})||B.push(H)}),z=p(Y,i.translate(W,void 0,void 0,a.old)),l(z)&&B.forEach(i.horiz?function(H){let _;v=H.pos,A=v+H.len,S=P=Math.round(z+i.transB),"pass"!==R&&(S<h||S>h+i.width)&&(R?S=P=c(S,h,h+i.width):_=!0),_||k.push(["M",S,v],["L",P,A])}:function(H){let _;S=H.pos,P=S+H.len,v=A=Math.round(r+i.height-z),"pass"!==R&&(v<r||v>r+i.height)&&(R?v=A=c(v,r,r+i.height):_=!0),_||k.push(["M",S,v],["L",P,A])}),a.path=0<k.length?n.crispPolyLine(k,a.lineWidth||1):null)}),E.prototype.crispPolyLine=function(a,o){for(let i=0;i<a.length;i+=2){const t=a[i],e=a[i+1];t[1]===e[1]&&(t[1]=e[1]=Math.round(t[1])-o%2/2),t[2]===e[2]&&(t[2]=e[2]=Math.round(t[2])+o%2/2)}return a},x(Z,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),x(Z,"afterDrawCrosshair",function(a){var o,i;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&l(this.min)&&l(this.max)){var t=this.chart,e=this.logarithmic,n=this.crosshair.label,h=this.horiz,r=this.opposite,S=this.left,v=this.top,P=this.width,A=this.crossLabel,k=n.format,O="",N="inside"===this.options.tickPosition,B=!1!==this.crosshair.snap,Y=0,W=a.e||this.cross&&this.cross.e;a=a.point;var R=this.min,z=this.max;e&&(R=e.lin2log(R),z=e.lin2log(z)),e=h?"center":r?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",A||(A=this.crossLabel=t.renderer.label("",0,void 0,n.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(a&&a.series?a.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:n.align||e,padding:p(n.padding,8),r:p(n.borderRadius,3),zIndex:2}).add(this.labelGroup),t.styledMode||A.attr({fill:n.backgroundColor||a&&a.series&&a.series.color||"#666666",stroke:n.borderColor||"","stroke-width":n.borderWidth||0}).css(g({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},n.style||{}))),h?(P=B?(a.plotX||0)+S:W.chartX,v+=r?0:this.height):(P=S+this.offset+(r?P:0),v=B?(a.plotY||0)+v:W.chartY),k||n.formatter||(this.dateTime&&(O="%b %d, %Y"),k="{value"+(O?":"+O:"")+"}"),O=B?this.isXAxis?a.x:a.y:this.toValue(h?W.chartX:W.chartY),B=a&&a.series?a.series.isPointInside(a):l(O)&&O>R&&O<z,W="",k?W=y(k,{value:O},t):n.formatter&&l(O)&&(W=n.formatter.call(this,O)),A.attr({text:W,x:P,y:v,visibility:B?"inherit":"hidden"}),n=A.getBBox(),!l(A.x)||h||r||(P=A.x-n.width/2),l(A.y)&&(h?(N&&!r||!N&&r)&&(v=A.y-n.height):v=A.y-n.height/2),h?(o=S-n.x,i=S+this.width-n.x):(o="left"===this.labelAlign?S:0,i="right"===this.labelAlign?S+this.width:t.chartWidth),A.translateX<o&&(Y=o-A.translateX),A.translateX+n.width>=i&&(Y=-(A.translateX+n.width-i)),A.attr({x:P+Y,y:v,anchorX:h?P:this.opposite?0:t.chartWidth,anchorY:h?this.opposite?t.chartHeight:0:v+n.height/2})}}),I.prototype.forceCropping=function(){const o=this.options.dataGrouping;return!1!==this.allowDG&&o&&p(o.enabled,this.chart.options.isStock)},x(F,"update",function(a){"scrollbar"in(a=a.options)&&this.navigator&&(d(!0,this.options.scrollbar,a.scrollbar),this.navigator.update({}),delete a.scrollbar)}),w;var a}),D(K,"masters/modules/stock.src.js",[K["Core/Globals.js"],K["Series/DataModifyComposition.js"],K["Stock/Navigator/Navigator.js"],K["Stock/RangeSelector/RangeSelector.js"],K["Stock/Scrollbar/Scrollbar.js"],K["Core/Axis/OrdinalAxis.js"],K["Series/OHLC/OHLCSeries.js"],K["Series/Flags/FlagsSeries.js"],K["Core/Chart/StockChart.js"]],function(Z,F,G,j,U,X,L,I,E){Z.Navigator=G,Z.RangeSelector=j,Z.Scrollbar=U,Z.StockChart=Z.stockChart=E.stockChart,F.compose(Z.Series,Z.Axis,Z.Point),I.compose(Z.Renderer),G.compose(Z.Axis,Z.Chart,Z.Series),L.compose(Z.Series),X.compose(Z.Axis,Z.Series,Z.Chart),j.compose(Z.Axis,Z.Chart),U.compose(Z.Axis)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))},3885:(Ct,Et,lt)=>{var Mt,vt,K;K=function(K){"use strict";var D=K?K._modules:{};function Z(F,G,j,U){F.hasOwnProperty(G)||(F[G]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:F[G]}})))}Z(D,"Core/Axis/BrokenAxis.js",[D["Core/Axis/Stacking/StackItem.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,find:U,fireEvent:X,isArray:L,isNumber:I,pick:E}=G;var T;return function(M){const s=[];function b(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function x(){const p=this;p.brokenAxis&&p.brokenAxis.hasBreaks&&(p.options.ordinal=!1)}function c(){const p=this,C=p.brokenAxis;if(C&&C.hasBreaks){const w=p.tickPositions,a=p.tickPositions.info,o=[];for(let i=0;i<w.length;i++)C.isInAnyBreak(w[i])||o.push(w[i]);p.tickPositions=o,p.tickPositions.info=a}}function m(){const p=this;p.brokenAxis||(p.brokenAxis=new d(p))}function g(){const{isDirty:p,options:{connectNulls:C},points:w,xAxis:a,yAxis:o}=this;if(p){let i=w.length;for(;i--;){const t=w[i],n=!(null===t.y&&!1===C)&&(a&&a.brokenAxis&&a.brokenAxis.isInAnyBreak(t.x,!0)||o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(t.y,!0));t.visible=!n&&!1!==t.options.visible}}}function u(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,E(this.pointArrayMap,["y"]))}function l(p,C){const w=this,a=w.points;let o,i,t,e;if(p&&p.brokenAxis&&p.brokenAxis.hasBreaks){const n=p.brokenAxis;C.forEach(function(h){o=n&&n.breakArray||[],i=p.isXAxis?p.min:E(w.options.threshold,p.min),a.forEach(function(r){e=E(r["stack"+h.toUpperCase()],r[h]),o.forEach(function(S){I(i)&&I(e)&&(t=!1,i<S.from&&e>S.to||i>S.from&&e<S.from?t="pointBreak":(i<S.from&&e>S.from&&e<S.to||i>S.from&&e>S.to&&e<S.from)&&(t="pointInBreak"),t&&X(p,t,{point:r,brk:S}))})})})}}function f(){const p=this.currentDataGrouping,C=p&&p.gapSize,w=this.points.slice(),a=this.yAxis;let t,o=this.options.gapSize,i=w.length-1;if(o&&i>0){let e,n;for("value"!==this.options.gapUnit&&(o*=this.basePointRange),C&&C>o&&C>=this.basePointRange&&(o=C);i--;)if(n&&!1!==n.visible||(n=w[i+1]),e=w[i],!1!==n.visible&&!1!==e.visible){if(n.x-e.x>o){const h=(e.x+n.x)/2;w.splice(i+1,0,{isNull:!0,x:h}),a.stacking&&this.options.stacking&&(t=a.stacking.stacks[this.stackKey][h]=new F(a,a.options.stackLabels,!1,h,this.stack),t.total=0)}n=e}}return this.getGraphPath(w)}M.compose=function y(p,C){if(G.pushUnique(s,p)&&(p.keepProps.push("brokenAxis"),j(p,"init",m),j(p,"afterInit",b),j(p,"afterSetTickPositions",c),j(p,"afterSetOptions",x)),G.pushUnique(s,C)){const w=C.prototype;w.drawBreaks=l,w.gappedPath=f,j(C,"afterGeneratePoints",g),j(C,"afterRender",u)}return p};class d{static isInBreak(C,w){const a=C.repeat||1/0,o=C.from,i=C.to-C.from,t=w>=o?(w-o)%a:a-(o-w)%a;let e;return e=C.inclusive?t<=i:t<i&&0!==t,e}static lin2Val(C){const a=this.brokenAxis,o=a&&a.breakArray;if(!o||!I(C))return C;let t,e,i=C;for(e=0;e<o.length&&(t=o[e],!(t.from>=i));e++)(t.to<i||d.isInBreak(t,i))&&(i+=t.len);return i}static val2Lin(C){const a=this.brokenAxis,o=a&&a.breakArray;if(!o||!I(C))return C;let t,e,i=C;for(e=0;e<o.length;e++)if(t=o[e],t.to<=C)i-=t.len;else{if(t.from>=C)break;if(d.isInBreak(t,C)){i-=C-t.from;break}}return i}constructor(C){this.hasBreaks=!1,this.axis=C}findBreakAt(C,w){return U(w,function(a){return a.from<C&&C<a.to})}isInAnyBreak(C,w){const o=this.axis,i=o.options.breaks||[];let e,n,h,t=i.length;if(t&&I(C)){for(;t--;)d.isInBreak(i[t],C)&&(e=!0,n||(n=E(i[t].showPoints,!o.isXAxis)));h=e&&w?e&&!n:e}return h}setBreaks(C,w){const a=this,o=a.axis,i=L(C)&&!!C.length;o.isDirty=a.hasBreaks!==i,a.hasBreaks=i,o.options.breaks=o.userOptions.breaks=C,o.forceRedraw=!0,o.series.forEach(function(t){t.isDirty=!0}),!i&&o.val2lin===d.val2Lin&&(delete o.val2lin,delete o.lin2val),i&&(o.userOptions.ordinal=!1,o.lin2val=d.lin2Val,o.val2lin=d.val2Lin,o.setExtremes=function(t,e,n,h,r){if(a.hasBreaks){const S=this.options.breaks||[];let v;for(;v=a.findBreakAt(t,S);)t=v.to;for(;v=a.findBreakAt(e,S);)e=v.from;e<t&&(e=t)}o.constructor.prototype.setExtremes.call(this,t,e,n,h,r)},o.setAxisTranslation=function(){if(o.constructor.prototype.setAxisTranslation.call(this),a.unitLength=void 0,a.hasBreaks){const t=o.options.breaks||[],e=[],n=[],h=E(o.pointRangePadding,0);let S,v,k,O,r=0,P=o.userMin||o.min,A=o.userMax||o.max;t.forEach(function(N){v=N.repeat||1/0,I(P)&&I(A)&&(d.isInBreak(N,P)&&(P+=N.to%v-P%v),d.isInBreak(N,A)&&(A-=A%v-N.from%v))}),t.forEach(function(N){if(k=N.from,v=N.repeat||1/0,I(P)&&I(A)){for(;k-v>P;)k-=v;for(;k<P;)k+=v;for(O=k;O<A;O+=v)e.push({value:O,move:"in"}),e.push({value:O+N.to-N.from,move:"out",size:N.breakSize})}}),e.sort(function(N,B){return N.value===B.value?("in"===N.move?0:1)-("in"===B.move?0:1):N.value-B.value}),S=0,k=P,e.forEach(function(N){S+="in"===N.move?1:-1,1===S&&"in"===N.move&&(k=N.value),0===S&&I(k)&&(n.push({from:k,to:N.value,len:N.value-k-(N.size||0)}),r+=N.value-k-(N.size||0))}),a.breakArray=n,I(P)&&I(A)&&I(o.min)&&(a.unitLength=A-P-r+h,X(o,"afterBreaks"),o.staticScale?o.transA=o.staticScale:a.unitLength&&(o.transA*=(A-o.min+h)/a.unitLength),h&&(o.minPixelPadding=o.transA*(o.minPointOffset||0)),o.min=P,o.max=A)}}),E(w,!0)&&o.chart.redraw()}}M.Additions=d}(T||(T={})),T}),Z(D,"masters/modules/broken-axis.src.js",[D["Core/Globals.js"],D["Core/Axis/BrokenAxis.js"]],function(F,G){G.compose(F.Axis,F.Series)}),Z(D,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),Z(D,"Extensions/DataGrouping/ApproximationDefaults.js",[D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Core/Utilities.js"]],function(F,G){const{arrayMax:j,arrayMin:U,correctFloat:X,extend:L,isNumber:I}=G;function E(l){const f=l.length;let d=g(l);return I(d)&&f&&(d=X(d/f)),d}function g(l){let d,f=l.length;if(!f&&l.hasNulls)d=null;else if(f)for(d=0;f--;)d+=l[f];return d}const u={average:E,averages:function T(){const l=[];return[].forEach.call(arguments,function(f){l.push(E(f))}),typeof l[0]>"u"?void 0:l},close:function M(l){return l.length?l[l.length-1]:l.hasNulls?null:void 0},high:function s(l){return l.length?j(l):l.hasNulls?null:void 0},hlc:function y(l,f,d){if(l=F.high(l),f=F.low(f),d=F.close(d),I(l)||I(f)||I(d))return[l,f,d]},low:function b(l){return l.length?U(l):l.hasNulls?null:void 0},ohlc:function x(l,f,d,p){if(l=F.open(l),f=F.high(f),d=F.low(d),p=F.close(p),I(l)||I(f)||I(d)||I(p))return[l,f,d,p]},open:function c(l){return l.length?l[0]:l.hasNulls?null:void 0},range:function m(l,f){return l=F.low(l),f=F.high(f),I(l)||I(f)?[l,f]:null===l&&null===f?null:void 0},sum:g};return L(F,u),u}),Z(D,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),Z(D,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Core/Utilities.js"]],function(F,G){const{addEvent:j,extend:U,merge:X,pick:L}=G,I=[];let E;function T(c){const m=this,g=m.series;g.forEach(function(u){u.groupPixelWidth=void 0}),g.forEach(function(u){u.groupPixelWidth=m.getGroupPixelWidth&&m.getGroupPixelWidth(),u.groupPixelWidth&&(u.hasProcessed=!0),u.applyGrouping(!!c.hasExtremesChanged)})}function s(){const c=this.series;let l,f,m=c.length,g=0,u=!1;for(;m--;)f=c[m].options.dataGrouping,f&&(g=Math.max(g,L(f.groupPixelWidth,F.common.groupPixelWidth)),l=(c[m].processedXData||c[m].data).length,(c[m].groupPixelWidth||l>this.chart.plotSizeX/g||l&&f.forced)&&(u=!0));return u?g:0}function y(){this.series.forEach(function(c){c.hasProcessed=!1})}function b(c,m){let u;if(m=L(m,!0),c||(c={forced:!1,units:null}),this instanceof E)for(u=this.series.length;u--;)this.series[u].update({dataGrouping:c},!1);else this.chart.options.series.forEach(function(l){l.dataGrouping="boolean"==typeof c?c:X(c,l.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),m&&this.chart.redraw()}return{compose:function M(c){E=c,G.pushUnique(I,c)&&(j(c,"afterSetScale",y),j(c,"postProcessData",T),U(c.prototype,{applyGrouping:T,getGroupPixelWidth:s,setDataGrouping:b}))}}}),Z(D,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Core/Axis/DateTimeAxis.js"],D["Core/Defaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{series:{prototype:I}}=X,{addEvent:E,defined:T,error:M,extend:s,isNumber:y,merge:b,pick:x}=L,c=I.generatePoints,m=[];function l(t){const e=this,n=e.chart,r=e.options.dataGrouping,S=!1!==e.allowDG&&r&&x(r.enabled,n.options.isStock),v=e.visible||!n.options.chart.ignoreHiddenSeries,P=this.currentDataGrouping;let A,k,O=!1;S&&!e.requireSorting&&(e.requireSorting=O=!0);const N=!1===function o(t,e){return!(t.isCartesian&&!t.isDirty&&!t.xAxis.isDirty&&!t.yAxis.isDirty&&!e)}(e,t)||!S;if(O&&(e.requireSorting=!1),!N){e.destroyGroupedData();const B=r.groupAll?e.xData:e.processedXData,Y=r.groupAll?e.yData:e.processedYData,W=n.plotSizeX,R=e.xAxis,z=R.options.ordinal,H=e.groupPixelWidth;let _,q;if(H&&B&&B.length&&W){q=!0,e.isDirty=!0,e.points=null;const V=R.getExtremes(),$=V.min,J=V.max,tt=z&&R.ordinal&&R.ordinal.getGroupIntervalFactor($,J,e)||1,it=R.getTimeTicks(j.Additions.prototype.normalizeTimeTickInterval(H*(J-$)/W*tt,r.units||G.units),Math.min($,B[0]),Math.max(J,B[B.length-1]),R.options.startOfWeek,B,e.closestPointRange),ot=I.groupData.apply(e,[B,Y,it,r.approximation]);let rt=ot.groupedXData,nt=ot.groupedYData,pt=0;for(r&&r.smoothed&&rt.length&&(r.firstAnchor="firstPoint",r.anchor="middle",r.lastAnchor="lastPoint",M(32,!1,n,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),function u(t,e,n){const r=t.options.dataGrouping,S=t.currentDataGrouping&&t.currentDataGrouping.gapSize;let v;if(r&&t.xData&&S&&t.groupMap){const P=e.length-1,A=r.anchor,k=x(r.firstAnchor,A),O=x(r.lastAnchor,A);if(A&&"start"!==A){const N=S*{middle:.5,end:1}[A];for(v=e.length-1;v--&&v>0;)e[v]+=N}if(k&&"start"!==k&&t.xData[0]>=e[0]){const N=t.groupMap[0].start,B=t.groupMap[0].length;let Y;y(N)&&y(B)&&(Y=N+(B-1)),e[0]={middle:e[0]+.5*S,end:e[0]+S,firstPoint:t.xData[0],lastPoint:Y&&t.xData[Y]}[k]}if(O&&"start"!==O&&S&&e[P]>=n-S){const N=t.groupMap[t.groupMap.length-1].start;e[P]={middle:e[P]+.5*S,end:e[P]+S,firstPoint:N&&t.xData[N],lastPoint:t.xData[t.xData.length-1]}[O]}}}(e,rt,J),_=1;_<it.length;_++)(!it.info.segmentStarts||-1===it.info.segmentStarts.indexOf(_))&&(pt=Math.max(it[_]-it[_-1],pt));A=it.info,A.gapSize=pt,e.closestPointRange=it.info.totalRange,e.groupMap=ot.groupMap,v&&function g(t,e){T(e[0])&&y(t.min)&&y(t.dataMin)&&e[0]<t.min&&((!T(t.options.min)&&t.min<=t.dataMin||t.min===t.dataMin)&&(t.min=Math.min(e[0],t.min)),t.dataMin=Math.min(e[0],t.dataMin)),T(e[e.length-1])&&y(t.max)&&y(t.dataMax)&&e[e.length-1]>t.max&&((!T(t.options.max)&&y(t.dataMax)&&t.max>=t.dataMax||t.max===t.dataMax)&&(t.max=Math.max(e[e.length-1],t.max)),t.dataMax=Math.max(e[e.length-1],t.dataMax))}(R,rt),r.groupAll&&(e.allGroupedData=nt,k=e.cropData(rt,nt,R.min,R.max,1),rt=k.xData,nt=k.yData,e.cropStart=k.start),e.processedXData=rt,e.processedYData=nt}else e.groupMap=null;e.hasGroupedData=q,e.currentDataGrouping=A,e.preventGraphAnimation=(P&&P.totalRange)!==(A&&A.totalRange)}}function d(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function p(){c.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function C(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function w(t,e,n,h){const r=this,S=r.data,v=r.options&&r.options.data,P=[],A=[],k=[],O=t.length,N=!!e,B=[],Y=r.pointArrayMap,W=Y&&Y.length,R=["x"].concat(Y||["y"]),z=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let H,_,q,V=0,$=0;const J="function"==typeof h?h:h&&F[h]?F[h]:F[r.getDGApproximation&&r.getDGApproximation()||"average"];if(W){let st=Y.length;for(;st--;)B.push([])}else B.push([]);const tt=W||1;for(let st=0;st<=O;st++)if(!(t[st]<n[0])){for(;typeof n[V+1]<"u"&&t[st]>=n[V+1]||st===O;){H=n[V],r.dataGroupInfo={start:z?$:r.cropStart+$,length:B[0].length},q=J.apply(r,B),r.pointClass&&!T(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=b(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+$])),R.forEach(function(it){delete r.dataGroupInfo.options[it]})),typeof q<"u"&&(P.push(H),A.push(q),k.push(r.dataGroupInfo)),$=st;for(let it=0;it<tt;it++)B[it].length=0,B[it].hasNulls=!1;if(V+=1,st===O)break}if(st===O)break;if(Y){const it=r.options.dataGrouping&&r.options.dataGrouping.groupAll?st:r.cropStart+st,ot=S&&S[it]||r.pointClass.prototype.applyOptions.apply({series:r},[v[it]]);let rt;for(let nt=0;nt<W;nt++)rt=ot[Y[nt]],y(rt)?B[nt].push(rt):null===rt&&(B[nt].hasNulls=!0)}else _=N?e[st]:null,y(_)?B[0].push(_):null===_&&(B[0].hasNulls=!0)}return{groupedXData:P,groupedYData:A,groupMap:k}}function a(t){const e=t.options,n=this.type,h=this.chart.options.plotOptions,r=this.useCommonDataGrouping&&G.common,S=G.seriesSpecific;let v=U.defaultOptions.plotOptions[n].dataGrouping;if(h&&(S[n]||r)){const P=this.chart.rangeSelector;v||(v=b(G.common,S[n])),e.dataGrouping=b(r,v,h.series&&h.series.dataGrouping,h[n].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&P&&y(P.selected)&&P.buttonOptions[P.selected].dataGrouping)}}return{compose:function f(t){const e=t.prototype.pointClass;L.pushUnique(m,e)&&E(e,"update",function(){if(this.dataGroup)return M(24,!1,this.series.chart),!1}),L.pushUnique(m,t)&&(E(t,"afterSetOptions",a),E(t,"destroy",d),s(t.prototype,{applyGrouping:l,destroyGroupedData:d,generatePoints:p,getDGApproximation:C,groupData:w}))},groupData:w}}),Z(D,"Extensions/DataGrouping/DataGrouping.js",[D["Extensions/DataGrouping/DataGroupingAxisComposition.js"],D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],D["Core/FormatUtilities.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{format:L}=U,{addEvent:I,extend:E,isNumber:T}=X,M=[];function y(x){const c=this.chart,m=c.time,g=x.labelConfig,u=g.series,f=u.tooltipOptions,d=u.options.dataGrouping,p=u.xAxis;let w,a,o,i,t,C=f.xDateFormat,e=f[x.isFooter?"footerFormat":"headerFormat"];p&&"datetime"===p.options.type&&d&&T(g.key)&&(a=u.currentDataGrouping,o=d.dateTimeLabelFormats||G.common.dateTimeLabelFormats,a?(i=o[a.unitName],1===a.count?C=i[0]:(C=i[1],w=i[2])):!C&&o&&p.dateTime&&(C=p.dateTime.getXDateFormat(g.x,f.dateTimeLabelFormats)),t=m.dateFormat(C,g.key),w&&(t+=m.dateFormat(w,g.key+a.totalRange-1)),u.chart.styledMode&&(e=this.styledModeFormat(e)),x.text=L(e,{point:E(g.point,{key:t}),series:u},c),x.preventDefault())}return{compose:function s(x,c,m){F.compose(x),j.compose(c),m&&X.pushUnique(M,m)&&I(m,"headerFormatter",y)},groupData:j.groupData}}),Z(D,"masters/modules/datagrouping.src.js",[D["Core/Globals.js"],D["Extensions/DataGrouping/ApproximationDefaults.js"],D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Extensions/DataGrouping/DataGrouping.js"]],function(F,G,j,U){const X=F;X.dataGrouping={approximationDefaults:G,approximations:j},U.compose(X.Axis,X.Series,X.Tooltip)}),Z(D,"Series/DataModifyComposition.js",[D["Core/Axis/Axis.js"],D["Core/Series/Point.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{prototype:{tooltipFormatter:X}}=G,{addEvent:L,arrayMax:I,arrayMin:E,correctFloat:T,defined:M,isArray:s,isNumber:y,isString:b,pick:x}=U;var c;return function(m){const g=[];function l(e,n,h){this.isXAxis||(this.series.forEach(function(r){"compare"===e&&"boolean"!=typeof n?r.setCompare(n,!1):"cumulative"===e&&!b(n)&&r.setCumulative(n,!1)}),x(h,!0)&&this.chart.redraw())}function f(e){const n=this,{numberFormatter:h}=n.series.chart,r=function(S){e=e.replace("{point."+S+"}",(n[S]>0&&"change"===S?"+":"")+h(n[S],x(n.series.tooltipOptions.changeDecimals,2)))};return M(n.change)&&r("change"),M(n.cumulativeSum)&&r("cumulativeSum"),X.apply(this,[e])}function d(){const e=this.options.compare;let n;("percent"===e||"value"===e||this.options.cumulative)&&(n=new t(this),"percent"===e||"value"===e?n.initCompare(e):n.initCumulative()),this.dataModify=n}function p(e){const n=e.dataExtremes,h=n.activeYData;if(this.dataModify&&n){let r;this.options.compare?r=[this.dataModify.modifyValue(n.dataMin),this.dataModify.modifyValue(n.dataMax)]:this.options.cumulative&&s(h)&&h.length>=2&&(r=t.getCumulativeExtremes(h)),r&&(n.dataMin=E(r),n.dataMax=I(r))}}function C(e,n){this.options.compare=this.userOptions.compare=e,this.update({},x(n,!0)),!this.dataModify||"value"!==e&&"percent"!==e?this.points.forEach(h=>{delete h.change}):this.dataModify.initCompare(e)}function w(){const e=this;if(e.xAxis&&e.processedYData&&e.dataModify){const n=e.processedXData,h=e.processedYData,r=h.length,S=!0===e.options.compareStart?0:1;let P,v=-1;for(e.pointArrayMap&&(v=e.pointArrayMap.indexOf(e.options.pointValKey||e.pointValKey||"y")),P=0;P<r-S;P++){const A=h[P]&&v>-1?h[P][v]:h[P];if(y(A)&&0!==A&&n[P+S]>=(e.xAxis.min||0)){e.dataModify.compareValue=A;break}}}}function a(e,n){this.setModifier("compare",e,n)}function o(e,n){e=x(e,!1),this.options.cumulative=this.userOptions.cumulative=e,this.update({},x(n,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(h=>{delete h.cumulativeSum})}function i(e,n){this.setModifier("cumulative",e,n)}m.compose=function u(e,n,h){if(U.pushUnique(g,e)){const r=e.prototype;r.setCompare=C,r.setCumulative=o,L(e,"afterInit",d),L(e,"afterGetExtremes",p),L(e,"afterProcessData",w)}if(U.pushUnique(g,n)){const r=n.prototype;r.setCompare=a,r.setModifier=l,r.setCumulative=i}return U.pushUnique(g,h)&&(h.prototype.tooltipFormatter=f),e};class t{constructor(n){this.series=n}modifyValue(){return 0}static getCumulativeExtremes(n){let h=1/0,r=-1/0;return n.reduce((S,v)=>{const P=S+v;return h=Math.min(h,P,S),r=Math.max(r,P,S),P}),[h,r]}initCompare(n){this.modifyValue=function(h,r){null===h&&(h=0);const S=this.compareValue;if(typeof h<"u"&&typeof S<"u"){if("value"===n?h-=S:h=h/S*100-(100===this.series.options.compareBase?0:100),typeof r<"u"){const v=this.series.points[r];v&&(v.change=h)}return h}return 0}}initCumulative(){this.modifyValue=function(n,h){if(null===n&&(n=0),void 0!==n&&void 0!==h){const r=h>0?this.series.points[h-1]:null;r&&r.cumulativeSum&&(n=T(r.cumulativeSum+n));const S=this.series.points[h];return S&&(S.cumulativeSum=n),n}return 0}}}m.Additions=t}(c||(c={})),c}),Z(D,"Core/Axis/NavigatorAxisComposition.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(F,G){const{isTouchDevice:j}=F,{addEvent:U,correctFloat:X,defined:L,isNumber:I,pick:E}=G,T=[];function M(){const b=this;b.navigatorAxis||(b.navigatorAxis=new y(b))}function s(b){const x=this,m=x.chart.options,g=m.navigator,u=x.navigatorAxis,l=m.chart.zooming.pinchType,f=m.rangeSelector,d=m.chart.zooming.type;if(x.isXAxis&&(g&&g.enabled||f&&f.enabled))if("y"===d)b.zoomed=!1;else if((!j&&"xy"===d||j&&"xy"===l)&&x.options.range){const p=u.previousZoom;L(b.newMin)?u.previousZoom=[x.min,x.max]:p&&(b.newMin=p[0],b.newMax=p[1],u.previousZoom=void 0)}typeof b.zoomed<"u"&&b.preventDefault()}class y{static compose(x){G.pushUnique(T,x)&&(x.keepProps.push("navigatorAxis"),U(x,"init",M),U(x,"zoom",s))}constructor(x){this.axis=x}destroy(){this.axis=void 0}toFixedRange(x,c,m,g){const u=this.axis,l=u.chart;let f=E(m,u.translate(x,!0,!u.horiz)),d=E(g,u.translate(c,!0,!u.horiz));const p=l&&l.fixedRange,C=(u.pointRange||0)/2,w=p&&(d-f)/p;return L(m)||(f=X(f+C)),L(g)||(d=X(d-C)),w>.7&&w<1.3&&(g?f=d-p:d=f+p),(!I(f)||!I(d))&&(f=d=void 0),{min:f,max:d}}}return y}),Z(D,"Stock/Navigator/NavigatorDefaults.js",[D["Core/Color/Color.js"],D["Core/Series/SeriesRegistry.js"]],function(F,G){const{parse:j}=F,{seriesTypes:U}=G;return{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:j("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof U.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),Z(D,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function F(j,U,X,L,I={}){const E=I.width?I.width/2:X,T=Math.round(E/3)+.5;return[["M",-E-1,.5],["L",E,.5],["L",E,(L=I.height||L)+.5],["L",-E-1,L+.5],["L",-E-1,.5],["M",-T,4],["L",-T,L-3],["M",T-1,4],["L",T-1,L-3]]}}}),Z(D,"Stock/Navigator/NavigatorComposition.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/NavigatorAxisComposition.js"],D["Stock/Navigator/NavigatorDefaults.js"],D["Stock/Navigator/NavigatorSymbols.js"],D["Core/Renderer/RendererRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I){const{defaultOptions:E,setOptions:T}=F,{isTouchDevice:M}=G,{getRendererType:s}=L,{addEvent:y,extend:b,merge:x,pick:c}=I,m=[];let g;function l(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function f(){var t;const e=this.legend,n=this.navigator;let h,r,S;if(n){h=e&&e.options,r=n.xAxis,S=n.yAxis;const{scrollbarHeight:v,scrollButtonSize:P}=n;this.inverted?(n.left=n.opposite?this.chartWidth-v-n.height:this.spacing[3]+v,n.top=this.plotTop+P):(n.left=c(r.left,this.plotLeft+P),n.top=n.navigatorOptions.top||this.chartHeight-n.height-v-((null===(t=this.scrollbar)||void 0===t?void 0:t.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(h&&"bottom"===h.verticalAlign&&"proximate"!==h.layout&&h.enabled&&!h.floating?e.legendHeight+c(h.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),r&&S&&(this.inverted?r.options.left=S.options.left=n.left:r.options.top=S.options.top=n.top,r.setAxisSize(),S.setAxisSize())}}function d(t){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new g(this),c(t.redraw,!0)&&this.redraw(t.animation))}function p(){const t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new g(this))}function C(){const t=this.options,e=t.navigator,n=t.rangeSelector;if((e&&e.enabled||n&&n.enabled)&&(!M&&"x"===t.chart.zooming.type||M&&"x"===t.chart.zooming.pinchType))return!1}function w(t){const e=t.navigator;if(e&&t.xAxis[0]){const n=t.xAxis[0].getExtremes();e.render(n.min,n.max)}}function a(t){const e=t.options.navigator||{},n=t.options.scrollbar||{};!this.navigator&&!this.scroller&&(e.enabled||n.enabled)&&(x(!0,this.options.navigator,e),x(!0,this.options.scrollbar,n),delete t.options.navigator,delete t.options.scrollbar)}function o(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function u(t,e,n,h){j.compose(t),g=n,I.pushUnique(m,e)&&(e.prototype.callbacks.push(w),y(e,"afterAddSeries",l),y(e,"afterSetChartSize",f),y(e,"afterUpdate",d),y(e,"beforeRender",p),y(e,"beforeShowResetZoom",C),y(e,"update",a)),I.pushUnique(m,h)&&y(h,"afterUpdate",o),I.pushUnique(m,s)&&b(s().prototype.symbols,X),I.pushUnique(m,T)&&b(E,{navigator:U})}}}),Z(D,"Core/Axis/ScrollbarAxis.js",[D["Core/Utilities.js"]],function(F){const{addEvent:G,defined:j,pick:U}=F,X=[];return class L{static compose(E,T){if(!F.pushUnique(X,E))return E;const M=s=>{const y=U(s.options&&s.options.min,s.min),b=U(s.options&&s.options.max,s.max);return{axisMin:y,axisMax:b,scrollMin:j(s.dataMin)?Math.min(y,s.min,s.dataMin,U(s.threshold,1/0)):y,scrollMax:j(s.dataMax)?Math.max(b,s.max,s.dataMax,U(s.threshold,-1/0)):b}};return G(E,"afterInit",function(){const s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new T(s.chart.renderer,s.options.scrollbar,s.chart),G(s.scrollbar,"changed",function(y){let u,l,{axisMin:b,axisMax:x,scrollMin:c,scrollMax:m}=M(s),g=m-c;!j(b)||!j(x)||(s.horiz&&!s.reversed||!s.horiz&&s.reversed?(u=c+g*this.to,l=c+g*this.from):(u=c+g*(1-this.from),l=c+g*(1-this.to)),this.shouldUpdateExtremes(y.DOMType)?s.setExtremes(l,u,!0,"mousemove"!==y.DOMType&&"touchmove"!==y.DOMType,y):this.setRange(this.from,this.to))}))}),G(E,"afterRender",function(){let u,l,f,s=this,{scrollMin:y,scrollMax:b}=M(s),x=s.scrollbar,c=s.axisTitleMargin+(s.titleOffset||0),m=s.chart.scrollbarsOffsets,g=s.options.margin||0;if(x){if(s.horiz)s.opposite||(m[1]+=c),x.position(s.left,s.top+s.height+2+m[1]-(s.opposite?g:0),s.width,s.height),s.opposite||(m[1]+=g),u=1;else{let d;s.opposite&&(m[0]+=c),d=x.options.opposite?s.left+s.width+2+m[0]-(s.opposite?0:g):s.opposite?0:g,x.position(d,s.top,s.width,s.height),s.opposite&&(m[0]+=g),u=0}m[u]+=x.size+(x.options.margin||0),isNaN(y)||isNaN(b)||!j(s.min)||!j(s.max)||s.min===s.max?x.setRange(0,1):(l=(s.min-y)/(b-y),f=(s.max-y)/(b-y),s.horiz&&!s.reversed||!s.horiz&&s.reversed?x.setRange(l,f):x.setRange(1-f,1-l))}}),G(E,"afterGetOffset",function(){const s=this,y=s.scrollbar,x=s.horiz?2:y&&!y.options.opposite?3:1;y&&(s.chart.scrollbarsOffsets=[0,0],s.chart.axisOffset[x]+=y.size+(y.options.margin||0))}),E}}}),Z(D,"Stock/Scrollbar/ScrollbarDefaults.js",[D["Core/Globals.js"]],function(F){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"none",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),Z(D,"Stock/Scrollbar/Scrollbar.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/ScrollbarAxis.js"],D["Stock/Scrollbar/ScrollbarDefaults.js"],D["Core/Utilities.js"]],function(F,G,j,U,X){const{defaultOptions:L}=F,{addEvent:I,correctFloat:E,defined:T,destroyObjectProperties:M,fireEvent:s,merge:y,pick:b,removeEvent:x}=X;let c=(()=>{class m{static compose(u){j.compose(u,m)}static swapXY(u,l){return l&&u.forEach(f=>{const d=f.length;let p;for(let C=0;C<d;C+=2)p=f[C+1],"number"==typeof p&&(f[C+1]=f[C+2],f[C+2]=p)}),u}constructor(u,l,f){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(u,l,f)}addEvents(){const u=this.options.inverted?[1,0]:[0,1],l=this.scrollbarButtons,f=this.scrollbarGroup.element,d=this.track.element,p=this.mouseDownHandler.bind(this),C=this.mouseMoveHandler.bind(this),w=this.mouseUpHandler.bind(this),a=[[l[u[0]].element,"click",this.buttonToMinClick.bind(this)],[l[u[1]].element,"click",this.buttonToMaxClick.bind(this)],[d,"click",this.trackClick.bind(this)],[f,"mousedown",p],[f.ownerDocument,"mousemove",C],[f.ownerDocument,"mouseup",w]];G.hasTouch&&a.push([f,"touchstart",p],[f.ownerDocument,"touchmove",C],[f.ownerDocument,"touchend",w]),a.forEach(function(o){I.apply(null,o)}),this._events=a}buttonToMaxClick(u){const l=this,f=(l.to-l.from)*b(l.options.step,.2);l.updatePosition(l.from+f,l.to+f),s(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}buttonToMinClick(u){const l=this,f=E(l.to-l.from)*b(l.options.step,.2);l.updatePosition(E(l.from-f),E(l.to-f)),s(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}cursorToScrollbarPosition(u){const l=this,f=l.options,d=f.minWidth>l.calculatedWidth?f.minWidth:0;return{chartX:(u.chartX-l.x-l.xOffset)/(l.barWidth-d),chartY:(u.chartY-l.y-l.yOffset)/(l.barWidth-d)}}destroy(){const u=this,l=u.chart.scroller;u.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(f){u[f]&&u[f].destroy&&(u[f]=u[f].destroy())}),l&&u===l.scrollbar&&(l.scrollbar=null,M(l.scrollbarButtons))}drawScrollbarButton(u){const l=this,f=l.renderer,d=l.scrollbarButtons,p=l.options,C=l.size,w=f.g().add(l.group);if(d.push(w),p.buttonsEnabled){const a=f.rect().addClass("highcharts-scrollbar-button").add(w);l.chart.styledMode||a.attr({stroke:p.buttonBorderColor,"stroke-width":p.buttonBorderWidth,fill:p.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:C+1,height:C+1,r:p.buttonBorderRadius},a.strokeWidth()));const o=f.path(m.swapXY([["M",C/2+(u?-1:1),C/2-3],["L",C/2+(u?-1:1),C/2+3],["L",C/2+(u?2:-2),C/2]],p.vertical)).addClass("highcharts-scrollbar-arrow").add(d[u]);l.chart.styledMode||o.attr({fill:p.buttonArrowColor})}}init(u,l,f){const d=this;d.scrollbarButtons=[],d.renderer=u,d.userOptions=l,d.options=y(U,L.scrollbar,l),d.options.margin=b(d.options.margin,10),d.chart=f,d.size=b(d.options.size,d.options.height),l.enabled&&(d.render(),d.addEvents())}mouseDownHandler(u){const l=this,f=l.chart.pointer.normalize(u),d=l.cursorToScrollbarPosition(f);l.chartX=d.chartX,l.chartY=d.chartY,l.initPositions=[l.from,l.to],l.grabbedCenter=!0}mouseMoveHandler(u){const l=this,f=l.chart.pointer.normalize(u),p=l.options.vertical?"chartY":"chartX",C=l.initPositions||[];let w,a,o;l.grabbedCenter&&(!u.touches||0!==u.touches[0][p])&&(a=l.cursorToScrollbarPosition(f)[p],w=l[p],o=a-w,l.hasDragged=!0,l.updatePosition(C[0]+o,C[1]+o),l.hasDragged&&s(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMType:u.type,DOMEvent:u}))}mouseUpHandler(u){const l=this;l.hasDragged&&s(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMType:u.type,DOMEvent:u}),l.grabbedCenter=l.hasDragged=l.chartX=l.chartY=null}position(u,l,f,d){const p=this,C=p.options,{buttonsEnabled:w,margin:a=0,vertical:o}=C,i=p.rendered?"animate":"attr";let t=d,e=0;p.group.show(),p.x=u,p.y=l+this.trackBorderWidth,p.width=f,p.height=d,p.xOffset=t,p.yOffset=e,o?(p.width=p.yOffset=f=e=p.size,p.xOffset=t=0,p.yOffset=e=w?p.size:0,p.barWidth=d-(w?2*f:0),p.x=u+=a):(p.height=d=p.size,p.xOffset=t=w?p.size:0,p.barWidth=f-(w?2*d:0),p.y=p.y+a),p.group[i]({translateX:u,translateY:p.y}),p.track[i]({width:f,height:d}),p.scrollbarButtons[1][i]({translateX:o?0:f-t,translateY:o?d-e:0})}removeEvents(){this._events.forEach(function(u){x.apply(null,u)}),this._events.length=0}render(){const u=this,l=u.renderer,f=u.options,d=u.size,p=u.chart.styledMode,C=l.g("scrollbar").attr({zIndex:f.zIndex}).hide().add();u.group=C,u.track=l.rect().addClass("highcharts-scrollbar-track").attr({r:f.trackBorderRadius||0,height:d,width:d}).add(C),p||u.track.attr({fill:f.trackBackgroundColor,stroke:f.trackBorderColor,"stroke-width":f.trackBorderWidth});const w=u.trackBorderWidth=u.track.strokeWidth();u.track.attr({x:-w%2/2,y:-w%2/2}),u.scrollbarGroup=l.g().add(C),u.scrollbar=l.rect().addClass("highcharts-scrollbar-thumb").attr({height:d-w,width:d-w,r:f.barBorderRadius||0}).add(u.scrollbarGroup),u.scrollbarRifles=l.path(m.swapXY([["M",-3,d/4],["L",-3,2*d/3],["M",0,d/4],["L",0,2*d/3],["M",3,d/4],["L",3,2*d/3]],f.vertical)).addClass("highcharts-scrollbar-rifles").add(u.scrollbarGroup),p||(u.scrollbar.attr({fill:f.barBackgroundColor,stroke:f.barBorderColor,"stroke-width":f.barBorderWidth}),u.scrollbarRifles.attr({stroke:f.rifleColor,"stroke-width":1})),u.scrollbarStrokeWidth=u.scrollbar.strokeWidth(),u.scrollbarGroup.translate(-u.scrollbarStrokeWidth%2/2,-u.scrollbarStrokeWidth%2/2),u.drawScrollbarButton(0),u.drawScrollbarButton(1)}setRange(u,l){const f=this,d=f.options,p=d.vertical,C=d.minWidth,w=f.barWidth,a=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!T(w))return;const o=w*Math.min(l,1);let i,t;u=Math.max(u,0),i=Math.ceil(w*u),f.calculatedWidth=t=E(o-i),t<C&&(i=(w-C+t)*u,t=C);const e=Math.floor(i+f.xOffset+f.yOffset),n=t/2-.5;f.from=u,f.to=l,p?(f.scrollbarGroup[a]({translateY:e}),f.scrollbar[a]({height:t}),f.scrollbarRifles[a]({translateY:n}),f.scrollbarTop=e,f.scrollbarLeft=0):(f.scrollbarGroup[a]({translateX:e}),f.scrollbar[a]({width:t}),f.scrollbarRifles[a]({translateX:n}),f.scrollbarLeft=e,f.scrollbarTop=0),t<=12?f.scrollbarRifles.hide():f.scrollbarRifles.show(),!1===d.showFull&&(u<=0&&l>=1?f.group.hide():f.group.show()),f.rendered=!0}shouldUpdateExtremes(u){return b(this.options.liveRedraw,G.svg&&!G.isTouchDevice&&!this.chart.boosted)||"mouseup"===u||"touchend"===u||!T(u)}trackClick(u){const l=this,f=l.chart.pointer.normalize(u),d=l.to-l.from;l.options.vertical&&f.chartY>l.y+l.scrollbarTop||!l.options.vertical&&f.chartX>l.x+l.scrollbarLeft?l.updatePosition(l.from+d,l.to+d):l.updatePosition(l.from-d,l.to-d),s(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}update(u){this.destroy(),this.init(this.chart.renderer,y(!0,this.options,u),this.chart)}updatePosition(u,l){l>1&&(u=E(1-E(l-u)),l=1),u<0&&(l=E(l-u),u=0),this.from=u,this.to=l}}return m.defaultOptions=U,m})();return L.scrollbar=y(!0,c.defaultOptions,L.scrollbar),c}),Z(D,"Stock/Navigator/Navigator.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/NavigatorAxisComposition.js"],D["Stock/Navigator/NavigatorComposition.js"],D["Stock/Scrollbar/Scrollbar.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I){const{defaultOptions:E}=G,{hasTouch:T,isTouchDevice:M}=j,{addEvent:s,clamp:y,correctFloat:b,defined:x,destroyObjectProperties:c,erase:m,extend:g,find:u,isArray:l,isNumber:f,merge:d,pick:p,removeEvent:C,splat:w}=I;function a(i,...t){const e=[].filter.call(t,f);if(e.length)return Math[i].apply(0,e)}class o{static compose(t,e,n){X.compose(t,e,o,n)}constructor(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.range=void 0,this.rendered=void 0,this.scrollbarHeight=0,this.scrollButtonSize=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}drawHandle(t,e,n,h){const r=this,S=r.navigatorOptions.handles.height;r.handles[e][h](n?{translateX:Math.round(r.left+r.height/2),translateY:Math.round(r.top+parseInt(t,10)+.5-S)}:{translateX:Math.round(r.left+parseInt(t,10)),translateY:Math.round(r.top+r.height/2-S/2-1)})}drawOutline(t,e,n,h){const r=this,S=r.navigatorOptions.maskInside,v=r.outline.strokeWidth(),P=v/2,A=v%2/2,k=r.scrollButtonSize,O=r.size,N=r.top,B=r.height,Y=N-P,W=N+B;let z,H,R=r.left;n?(z=N+e+A,H=[["M",R+B,N-k-A],["L",R+B,z],["L",R,z],["M",R,e=N+t+A],["L",R+B,e],["L",R+B,N+O+k]],S&&H.push(["M",R+B,z-P],["L",R+B,e+P])):(R-=k,H=[["M",R,Y],["L",t+=R+k-A,Y],["L",t,W],["M",e+=R+k-A,W],["L",e,Y],["L",R+O+2*k,N+P]],S&&H.push(["M",t-P,Y],["L",e+P,Y])),r.outline[h]({d:H})}drawMasks(t,e,n,h){const r=this,S=r.left,v=r.top,P=r.height;let A,k,O,N;n?(O=[S,S,S],N=[v,v+t,v+e],k=[P,P,P],A=[t,e-t,r.size-e]):(O=[S,S+t,S+e],N=[v,v,v],k=[t,e-t,r.size-e],A=[P,P,P]),r.shades.forEach((B,Y)=>{B[h]({x:O[Y],y:N[Y],width:k[Y],height:A[Y]})})}renderElements(){const t=this,e=t.navigatorOptions,n=e.maskInside,h=t.chart,S=h.renderer,v={cursor:h.inverted?"ns-resize":"ew-resize"},P=t.navigatorGroup=S.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach((A,k)=>{const O=S.rect().addClass("highcharts-navigator-mask"+(1===k?"-inside":"-outside")).add(P);h.styledMode||(O.attr({fill:A?e.maskFill:"rgba(0,0,0,0)"}),1===k&&O.css(v)),t.shades[k]=O}),t.outline=S.path().addClass("highcharts-navigator-outline").add(P),h.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles&&e.handles.enabled){const A=e.handles,{height:k,width:O}=A;[0,1].forEach(N=>{t.handles[N]=S.symbol(A.symbols[N],-O/2-1,0,O,k,A),h.inverted&&t.handles[N].attr({rotation:90,rotationOriginX:Math.floor(-O/2),rotationOriginY:(k+O)/2}),t.handles[N].attr({zIndex:7-N}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][N]).add(P),h.styledMode||t.handles[N].attr({fill:A.backgroundColor,stroke:A.borderColor,"stroke-width":A.lineWidth}).css(v)})}}update(t){(this.series||[]).forEach(n=>{n.baseSeries&&delete n.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,e,n,h){const r=this,S=r.chart,v=r.xAxis,P=v.pointRange||0,A=v.navigatorAxis.fake?S.xAxis[0]:v,k=r.navigatorEnabled,O=r.rendered,N=S.inverted,B=S.xAxis[0].minRange,Y=S.xAxis[0].options.maxRange,W=r.scrollButtonSize;let R,z,H,q,V,_=r.scrollbarHeight;if(this.hasDragged&&!x(n))return;if(t=b(t-P/2),e=b(e+P/2),!f(t)||!f(e)){if(!O)return;n=0,h=p(v.width,A.width)}r.left=p(v.left,S.plotLeft+W+(N?S.plotWidth:0));let $=r.size=q=p(v.len,(N?S.plotHeight:S.plotWidth)-2*W);R=N?_:q+2*W,n=p(n,v.toPixels(t,!0)),h=p(h,v.toPixels(e,!0)),(!f(n)||Math.abs(n)===1/0)&&(n=0,h=R);const J=v.toValue(n,!0),tt=v.toValue(h,!0),st=Math.abs(b(tt-J));st<B?this.grabbedLeft?n=v.toPixels(tt-B-P,!0):this.grabbedRight&&(h=v.toPixels(J+B+P,!0)):x(Y)&&b(st-P)>Y&&(this.grabbedLeft?n=v.toPixels(tt-Y-P,!0):this.grabbedRight&&(h=v.toPixels(J+Y+P,!0))),r.zoomedMax=y(Math.max(n,h),0,$),r.zoomedMin=y(r.fixedWidth?r.zoomedMax-r.fixedWidth:Math.min(n,h),0,$),r.range=r.zoomedMax-r.zoomedMin,$=Math.round(r.zoomedMax);const it=Math.round(r.zoomedMin);k&&(r.navigatorGroup.attr({visibility:"inherit"}),V=O&&!r.hasDragged?"animate":"attr",r.drawMasks(it,$,N,V),r.drawOutline(it,$,N,V),r.navigatorOptions.handles.enabled&&(r.drawHandle(it,0,N,V),r.drawHandle($,1,N,V))),r.scrollbar&&(N?(H=r.top-W,z=r.left-_+(k||!A.opposite?0:(A.titleOffset||0)+A.axisTitleMargin),_=q+2*W):(H=r.top+(k?r.height:-_),z=r.left-W),r.scrollbar.position(z,H,R,_),r.scrollbar.setRange(r.zoomedMin/(q||1),r.zoomedMax/(q||1))),r.rendered=!0}addMouseEvents(){const t=this,e=t.chart,n=e.container;let r,S,h=[];t.mouseMoveHandler=r=function(v){t.onMouseMove(v)},t.mouseUpHandler=S=function(v){t.onMouseUp(v)},h=t.getPartsEvents("mousedown"),h.push(s(e.renderTo,"mousemove",r),s(n.ownerDocument,"mouseup",S)),T&&(h.push(s(e.renderTo,"touchmove",r),s(n.ownerDocument,"touchend",S)),h.concat(t.getPartsEvents("touchstart"))),t.eventsToUnbind=h,t.series&&t.series[0]&&h.push(s(t.series[0].xAxis,"foundExtremes",function(){e.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){const e=this,n=[];return["shades","handles"].forEach(function(h){e[h].forEach(function(r,S){n.push(s(r.element,t,function(v){e[h+"Mousedown"](v,S)}))})}),n}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);const n=this,h=n.chart,r=n.xAxis,S=n.zoomedMin,v=n.size,P=n.range;let O,N,B,Y,A=n.left,k=t.chartX;h.inverted&&(k=t.chartY,A=n.top),1===e?(n.grabbedCenter=k,n.fixedWidth=P,n.dragOffset=k-S):(Y=k-A-P/2,0===e?Y=Math.max(0,Y):2===e&&Y+P>=v&&(Y=v-P,n.reversedExtremes?(Y-=P,N=n.getUnionExtremes().dataMin):O=n.getUnionExtremes().dataMax),Y!==S&&(n.fixedWidth=P,B=r.navigatorAxis.toFixedRange(Y,Y+P,N,O),x(B.min)&&h.xAxis[0].setExtremes(Math.min(B.min,B.max),Math.max(B.min,B.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){t=this.chart.pointer.normalize(t);const n=this,h=n.chart,r=h.xAxis[0],S=n.reversedExtremes;0===e?(n.grabbedLeft=!0,n.otherHandlePos=n.zoomedMax,n.fixedExtreme=S?r.min:r.max):(n.grabbedRight=!0,n.otherHandlePos=n.zoomedMin,n.fixedExtreme=S?r.max:r.min),h.fixedRange=null}onMouseMove(t){const e=this,n=e.chart,h=e.navigatorSize,r=e.range,S=e.dragOffset,v=n.inverted;let A,P=e.left;(!t.touches||0!==t.touches[0].pageX)&&(A=(t=n.pointer.normalize(t)).chartX,v&&(P=e.top,A=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,A-P,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,A-P)):e.grabbedCenter&&(e.hasDragged=!0,A<S?A=S:A>h+S-r&&(A=h+S-r),e.render(0,0,A-S,A-S+r)),e.hasDragged&&e.scrollbar&&p(e.scrollbar.options.liveRedraw,!M&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){const e=this,n=e.chart,h=e.xAxis,r=e.scrollbar,S=t.DOMEvent||t,v=n.inverted,P=e.rendered&&!e.hasDragged?"animate":"attr";let A,k,O,N,B,Y;(e.hasDragged&&(!r||!r.hasDragged)||"scrollbar"===t.trigger)&&(O=e.getUnionExtremes(),e.zoomedMin===e.otherHandlePos?N=e.fixedExtreme:e.zoomedMax===e.otherHandlePos&&(B=e.fixedExtreme),e.zoomedMax===e.size&&(B=e.reversedExtremes?O.dataMin:O.dataMax),0===e.zoomedMin&&(N=e.reversedExtremes?O.dataMax:O.dataMin),Y=h.navigatorAxis.toFixedRange(e.zoomedMin,e.zoomedMax,N,B),x(Y.min)&&n.xAxis[0].setExtremes(Math.min(Y.min,Y.max),Math.max(Y.min,Y.max),!0,!e.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:S})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(e.grabbedLeft=e.grabbedRight=e.grabbedCenter=e.fixedWidth=e.fixedExtreme=e.otherHandlePos=e.hasDragged=e.dragOffset=null),e.navigatorEnabled&&f(e.zoomedMin)&&f(e.zoomedMax)&&(k=Math.round(e.zoomedMin),A=Math.round(e.zoomedMax),e.shades&&e.drawMasks(k,A,v,P),e.outline&&e.drawOutline(k,A,v,P),e.navigatorOptions.handles.enabled&&Object.keys(e.handles).length===e.handles.length&&(e.drawHandle(k,0,v,P),e.drawHandle(A,1,v,P)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(e){C(e,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&C(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(t){const e=t.options,n=e.navigator||{},h=n.enabled,r=e.scrollbar||{},S=r.enabled,v=h&&n.height||0,P=S&&r.height||0,A=r.buttonsEnabled&&P||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=v,this.scrollbarHeight=P,this.scrollButtonSize=A,this.scrollbarEnabled=S,this.navigatorEnabled=h,this.navigatorOptions=n,this.scrollbarOptions=r,this.opposite=p(n.opposite,Boolean(!h&&t.inverted));const k=this,O=k.baseSeries,N=t.xAxis.length,B=t.yAxis.length,Y=O&&O[0]&&O[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,k.navigatorEnabled?(k.xAxis=new F(t,d({breaks:Y.options.breaks,ordinal:Y.options.ordinal},n.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:N,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[A,0,-A,0],width:v}:{offsets:[0,-A,0,A],height:v})),k.yAxis=new F(t,d(n.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:B,isInternal:!0,reversed:p(n.yAxis&&n.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:v}:{height:v})),O||n.series.data?k.updateNavigatorSeries(!1):0===t.series.length&&(k.unbindRedraw=s(t,"beforeRedraw",function(){t.series.length>0&&!k.series&&(k.setBaseSeries(),k.unbindRedraw())})),k.reversedExtremes=t.inverted&&!k.xAxis.reversed||!t.inverted&&k.xAxis.reversed,k.renderElements(),k.addMouseEvents()):(k.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(W,R){const z=t.xAxis[0],H=z.getExtremes(),_=z.len-2*A,q=a("min",z.options.min,H.dataMin),V=a("max",z.options.max,H.dataMax)-q;return R?W*V/_+q:_*(W-q)/V},toPixels:function(W){return this.translate(W)},toValue:function(W){return this.translate(W,!0)}},k.xAxis.navigatorAxis.axis=k.xAxis,k.xAxis.navigatorAxis.toFixedRange=U.prototype.toFixedRange.bind(k.xAxis.navigatorAxis)),t.options.scrollbar.enabled){const W=d(t.options.scrollbar,{vertical:t.inverted});!f(W.margin)&&k.navigatorEnabled&&(W.margin=t.inverted?-3:3),t.scrollbar=k.scrollbar=new L(t.renderer,W,t),s(k.scrollbar,"changed",function(R){const z=k.size,H=z*this.to,_=z*this.from;k.hasDragged=k.scrollbar.hasDragged,k.render(0,0,_,H),this.shouldUpdateExtremes(R.DOMType)&&setTimeout(function(){k.onMouseUp(R)})})}k.addBaseSeriesEvents(),k.addChartEvents()}getUnionExtremes(t){const e=this.chart.xAxis[0],n=this.xAxis,h=n.options,r=e.options;let S;return(!t||null!==e.dataMin)&&(S={dataMin:p(h&&h.min,a("min",r.min,e.dataMin,n.dataMin,n.min)),dataMax:p(h&&h.max,a("max",r.max,e.dataMax,n.dataMax,n.max))}),S}setBaseSeries(t,e){const n=this.chart,h=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?u(n.series,r=>!r.options.isInternal).index:0),(n.series||[]).forEach((r,S)=>{!r.options.isInternal&&(r.options.showInNavigator||(S===t||r.options.id===t)&&!1!==r.options.showInNavigator)&&h.push(r)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){const n=this,h=n.chart,r=n.baseSeries,S={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},v=n.series=(n.series||[]).filter(N=>{const B=N.baseSeries;return!(r.indexOf(B)<0&&(B&&(C(B,"updatedData",n.updatedDataHandler),delete B.navigatorSeries),N.chart&&N.destroy(),1))});let P,A,O,k=n.navigatorOptions.series;r&&r.length&&r.forEach(N=>{const B=N.navigatorSeries,Y=g({color:N.color,visible:N.visible},l(k)?E.navigator.series:k);if(B&&!1===n.navigatorOptions.adaptToUpdatedData)return;S.name="Navigator "+r.length,P=N.options||{},O=P.navigatorOptions||{},Y.dataLabels=w(Y.dataLabels),A=d(P,S,Y,O),A.pointRange=p(Y.pointRange,O.pointRange,E.plotOptions[A.type||"line"].pointRange);const W=O.data||Y.data;n.hasNavigatorData=n.hasNavigatorData||!!W,A.data=W||P.data&&P.data.slice(0),B&&B.options?B.update(A,e):(N.navigatorSeries=h.initSeries(A),N.navigatorSeries.baseSeries=N,v.push(N.navigatorSeries))}),(k.data&&!(r&&r.length)||l(k))&&(n.hasNavigatorData=!1,k=w(k),k.forEach((N,B)=>{S.name="Navigator "+(v.length+1),A=d(E.navigator.series,{color:h.series[B]&&!h.series[B].options.isInternal&&h.series[B].color||h.options.colors[B]||h.options.colors[0]},S,N),A.data=N.data,A.data&&(n.hasNavigatorData=!0,v.push(h.initSeries(A)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(s(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach(n=>{n.eventsToUnbind.push(s(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),n.eventsToUnbind.push(s(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&n.eventsToUnbind.push(s(n,"updatedData",this.updatedDataHandler)),n.eventsToUnbind.push(s(n,"remove",function(){this.navigatorSeries&&(m(t.series,this.navigatorSeries),x(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(e,n){return Math.min(e,n.xData&&n.xData.length?n.xData[0]:e)},t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(typeof t.getExtremes<"u"){const e=this.getUnionExtremes(!0);e&&(e.dataMin!==t.min||e.dataMax!==t.max)&&(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){const t=this,e=t.chart.navigator,n=t.getExtremes(),S=n.dataMin,v=n.dataMax,P=n.max-n.min,A=e.stickToMin,k=e.stickToMax,O=p(t.options.overscroll,0),N=e.series&&e.series[0],B=!!t.setExtremes;let W,R;t.eventArgs&&"rangeSelectorButton"===t.eventArgs.trigger||(A&&(R=S,W=R+P),k&&(W=v+O,A||(R=Math.max(S,W-P,e.getBaseSeriesMin(N&&N.xData?N.xData[0]:-Number.MAX_VALUE)))),B&&(A||k)&&f(R)&&(t.min=t.userMin=R,t.max=t.userMax=W)),e.stickToMin=e.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,e=this,n=this.navigatorSeries,h=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=p(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,h),t.stickToMin=t.shouldStickToMin(e,t),n&&!t.hasNavigatorData&&(n.options.pointStart=e.xData[0],n.setData(e.options.data,!1,null,!1))}shouldStickToMin(t,e){const n=e.getBaseSeriesMin(t.xData[0]),h=t.xAxis,r=h.max,S=h.min,v=h.options.range;let P=!0;return P=!(!f(r)||!f(S))&&(v&&r-n>0?r-n<v:S<=n),P}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(s(this.chart,"redraw",function(){const t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),s(this.chart,"getMargins",function(){let t=this,e=t.navigator,n=e.opposite?"plotTop":"marginBottom";t.inverted&&(n=e.opposite?"marginRight":"plotLeft"),t[n]=(t[n]||0)+(e.navigatorEnabled||!t.inverted?e.height+e.scrollbarHeight:0)+e.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{c(t)})}}return o}),Z(D,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),Z(D,"Stock/RangeSelector/RangeSelectorComposition.js",[D["Core/Defaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Core/Utilities.js"]],function(F,G,j){const{defaultOptions:U,setOptions:X}=F,{addEvent:L,defined:I,extend:E,find:T,isNumber:M,merge:s,pick:y}=j,b=[],x=[];let c;function m(){const o=this.range,i=o.type,t=this.max,e=this.chart.time,n=function(v,P){const A="year"===i?"FullYear":"Month",k=new e.Date(v),O=e.get(A,k);return e.set(A,k,O+P),O===e.get(A,k)&&e.set("Date",k,0),k.getTime()-v};let h,r;M(o)?(h=t-o,r=o):o&&(h=t+n(t,-(o.count||1)),this.chart&&(this.chart.fixedRange=t-h));const S=y(this.dataMin,Number.MIN_VALUE);return M(h)||(h=S),h<=S&&(h=S,typeof r>"u"&&(r=n(h,o.count)),this.newMax=Math.min(h+r,y(this.dataMax,Number.MAX_VALUE))),M(t)?!M(o)&&o&&o._offsetMin&&(h+=o._offsetMin):h=void 0,h}function u(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new c(this))}function l(){const o=this,i=o.axes,t=o.rangeSelector;if(t){M(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),i.forEach(n=>{n.updateNames(),n.setScale()}),o.getAxisMargins(),t.render();const e=t.options.verticalAlign;t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}}function f(o){let i,t,e,n;const h=o.rangeSelector,r=()=>{h&&(i=o.xAxis[0].getExtremes(),t=o.legend,n=h&&h.options.verticalAlign,M(i.min)&&h.render(i.min,i.max),t.display&&"top"===n&&n===t.options.verticalAlign&&(e=s(o.spacingBox),"vertical"===t.options.layout?e.y=o.plotTop:e.y+=h.getHeight(),t.group.placed=!1,t.align(e)))};h&&(T(b,v=>v[0]===o)||b.push([o,[L(o.xAxis[0],"afterSetExtremes",function(v){h&&h.render(v.min,v.max)}),L(o,"redraw",r)]]),r())}function d(){for(let o=0,i=b.length;o<i;++o){const t=b[o];if(t[0]===this)return t[1].forEach(e=>e()),void b.splice(o,1)}}function p(){const o=this.rangeSelector;if(o){const i=o.getHeight();this.extraTopMargin&&(this.plotTop+=i),this.extraBottomMargin&&(this.marginBottom+=i)}}function C(){const i=this.rangeSelector;if(i&&!i.options.floating){i.render();const t=i.options.verticalAlign;"bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)}}function w(o){const e=o.options.rangeSelector,n=this.extraBottomMargin,h=this.extraTopMargin;let r=this.rangeSelector;if(e&&e.enabled&&!I(r)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=r=new c(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r){f(this);const S=e&&e.verticalAlign||r.options&&r.options.verticalAlign;r.options.floating||("bottom"===S?this.extraBottomMargin=!0:"middle"!==S&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==n||this.extraTopMargin!==h)&&(this.isDirtyBox=!0)}}return{compose:function g(o,i,t){c=t,j.pushUnique(x,o)&&(o.prototype.minFromRange=m),j.pushUnique(x,i)&&(L(i,"afterGetContainer",u),L(i,"beforeRender",l),L(i,"destroy",d),L(i,"getMargins",p),L(i,"render",C),L(i,"update",w),i.prototype.callbacks.push(f)),j.pushUnique(x,X)&&(E(U,{rangeSelector:G.rangeSelector}),E(U.lang,G.lang))}}}),Z(D,"Stock/RangeSelector/RangeSelector.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Stock/RangeSelector/RangeSelectorComposition.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L){const{defaultOptions:I}=G,{addEvent:E,createElement:T,css:M,defined:s,destroyObjectProperties:y,discardElement:b,extend:x,fireEvent:c,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=L;class w{static compose(o,i){U.compose(o,i,w)}constructor(o){this.buttons=void 0,this.buttonOptions=w.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=o,this.init(o)}clickButton(o,i){const t=this,e=t.chart,n=t.buttonOptions[o],h=e.xAxis[0],r=e.scroller&&e.scroller.getUnionExtremes()||h||{},S=n.type,v=n.dataGrouping;let k,N,Y,W,R,z,H,P=r.dataMin,A=r.dataMax,O=h&&Math.round(Math.min(h.max,f(A,h.max))),B=n._range,_=!0;if(null!==P&&null!==A){if(e.fixedRange=B,t.setSelected(o),v&&(this.forcedDataGrouping=!0,F.prototype.setDataGrouping.call(h||{chart:this.chart},v,!1),this.frozenStates=n.preserveDataGrouping),"month"===S||"year"===S)h?(z={range:n,max:O,chart:e,dataMin:P,dataMax:A},k=h.minFromRange.call(z),m(z.newMax)&&(O=z.newMax),_=!1):B=n;else if(B)k=Math.max(O-B,P),O=Math.min(k+B,A),_=!1;else if("ytd"===S){if(!h)return void(t.deferredYTDClick=o);(typeof A>"u"||typeof P>"u")&&(P=Number.MAX_VALUE,A=Number.MIN_VALUE,e.series.forEach(q=>{const V=q.xData;V&&(P=Math.min(V[0],P),A=Math.max(V[V.length-1],A))}),i=!1),H=t.getYTDExtremes(A,P,e.time.useUTC),k=Y=H.min,O=H.max}else"all"===S&&h&&(e.navigator&&e.navigator.baseSeries[0]&&(e.navigator.baseSeries[0].xAxis.options.range=void 0),k=P,O=A);_&&n._offsetMin&&s(k)&&(k+=n._offsetMin),n._offsetMax&&s(O)&&(O+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=o+1),h?h.setExtremes(k,O,f(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(N=p(e.options.xAxis)[0],R=N.range,N.range=B,W=N.min,N.min=Y,E(e,"load",function(){N.range=R,N.min=W})),c(this,"afterBtnClick")}}setSelected(o){this.selected=this.options.selected=o}init(o){const i=this,t=o.options.rangeSelector,e=t.buttons||i.defaultButtons.slice(),n=t.selected,h=function(){const r=i.minInput,S=i.maxInput;r&&r.blur&&c(r,"blur"),S&&S.blur&&c(S,"blur")};i.chart=o,i.options=t,i.buttons=[],i.buttonOptions=e,this.eventsToUnbind=[],this.eventsToUnbind.push(E(o.container,"mousedown",h)),this.eventsToUnbind.push(E(o,"resize",h)),e.forEach(i.computeButtonRange),typeof n<"u"&&e[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(E(o,"load",function(){o.xAxis&&o.xAxis[0]&&E(o.xAxis[0],"setExtremes",function(r){this.max-this.min!==o.fixedRange&&"rangeSelectorButton"!==r.trigger&&"updatedData"!==r.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const o=this,i=this.chart,t=this.dropdown,e=i.xAxis[0],n=Math.round(e.max-e.min),h=!e.hasVisibleSeries,r=864e5,S=i.scroller&&i.scroller.getUnionExtremes()||e,v=S.dataMin,P=S.dataMax,A=o.getYTDExtremes(P,v,i.time.useUTC),k=A.min,O=A.max,N=o.selected,B=o.options.allButtonsEnabled,Y=o.buttons;let W=m(N);o.buttonOptions.forEach((R,z)=>{const H=R._range,_=R.type,q=R.count||1,V=Y[z],$=R._offsetMax-R._offsetMin,J=z===N;let it=0,ot=!1,rt=!1,nt=H===n;("month"===_||"year"===_)&&n+36e5>={month:28,year:365}[_]*r*q-$&&n-36e5<={month:31,year:366}[_]*r*q+$?nt=!0:"ytd"===_?(nt=O-k+$===n,ot=!J):"all"===_&&(nt=e.max-e.min>=P-v,rt=!J&&W&&nt);const pt=!B&&(H>P-v||H<e.minRange||rt||h);pt?it=3:(J&&nt||nt&&!W&&!ot||J&&o.frozenStates)&&(W=!0,it=2),V.state!==it&&(V.setState(it),t&&(t.options[z+1].disabled=pt,2===it&&(t.selectedIndex=z+1)),0===it&&N===z&&o.setSelected())})}computeButtonRange(o){const i=o.type,t=o.count||1,e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};e[i]?o._range=e[i]*t:("month"===i||"year"===i)&&(o._range=24*{month:30,year:365}[i]*36e5*t),o._offsetMin=f(o.offsetMin,0),o._offsetMax=f(o.offsetMax,0),o._range+=o._offsetMax-o._offsetMin}getInputValue(o){const i="min"===o?this.minInput:this.maxInput,e=this.chart.time;return i?("text"===i.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(i.value,e.useUTC,e):0}setInputValue(o,i){const t=this.options,e=this.chart.time,n="min"===o?this.minInput:this.maxInput,h="min"===o?this.minDateBox:this.maxDateBox;if(n){const r=n.getAttribute("data-hc-time");let S=s(r)?Number(r):void 0;if(s(i)){const v=S;s(v)&&n.setAttribute("data-hc-time-previous",v),n.setAttribute("data-hc-time",i),S=i}n.value=e.dateFormat(this.inputTypeFormats[n.type]||t.inputEditDateFormat,S),h&&h.attr({text:e.dateFormat(t.inputDateFormat,S)})}}setInputExtremes(o,i,t){const e="min"===o?this.minInput:this.maxInput;if(e){const n=this.inputTypeFormats[e.type],h=this.chart.time;if(n){const r=h.dateFormat(n,i);e.min!==r&&(e.min=r);const S=h.dateFormat(n,t);e.max!==S&&(e.max=S)}}}showInput(o){const i="min"===o?this.minDateBox:this.maxDateBox,t="min"===o?this.minInput:this.maxInput;if(t&&i&&this.inputGroup){const e="text"===t.type,{translateX:n,translateY:h}=this.inputGroup,{inputBoxWidth:r}=this.options;M(t,{width:e?i.width+(r?-2:20)+"px":"auto",height:i.height-2+"px",border:"2px solid silver"}),M(t,e&&r?{left:n+i.x+"px",top:h+"px"}:{left:Math.min(Math.round(i.x+n-(t.offsetWidth-i.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:h-(t.offsetHeight-i.height)/2+"px"})}}hideInput(o){const i="min"===o?this.minInput:this.maxInput;i&&M(i,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(o,i,t){let n=o.split("/").join("-").split(" ").join("T");if(-1===n.indexOf("T")&&(n+="T00:00"),i)n+="Z";else if(j.isSafari&&(!((r=n).length>6)||r.lastIndexOf("-")!==r.length-6&&r.lastIndexOf("+")!==r.length-6)){const r=new Date(n).getTimezoneOffset()/60;n+=r<=0?`+${l(-r)}:00`:`-${l(r)}:00`}var r;let h=Date.parse(n);if(!m(h)){const r=o.split("-");h=Date.UTC(d(r[0]),d(r[1])-1,d(r[2]))}return t&&i&&m(h)&&(h+=t.getTimezoneOffset(h)),h}drawInput(o){const{chart:i,div:t,inputGroup:e}=this,n=this,h=i.renderer.style||{},r=i.renderer,S=i.options.rangeSelector,P="min"===o;function A(){const{maxInput:W,minInput:R}=n,z=i.xAxis[0],H=i.scroller&&i.scroller.xAxis?i.scroller.xAxis:z,_=H.dataMin,q=H.dataMax;let V=n.getInputValue(o);V!==Number(B.getAttribute("data-hc-time-previous"))&&m(V)&&(B.setAttribute("data-hc-time-previous",V),P&&W&&m(_)?V>Number(W.getAttribute("data-hc-time"))?V=void 0:V<_&&(V=_):R&&m(q)&&(V<Number(R.getAttribute("data-hc-time"))?V=void 0:V>q&&(V=q)),typeof V<"u"&&z.setExtremes(P?V:z.min,P?z.max:V,void 0,void 0,{trigger:"rangeSelectorInput"}))}const k=I.lang[P?"rangeSelectorFrom":"rangeSelectorTo"]||"",O=r.label(k,0).addClass("highcharts-range-label").attr({padding:k?2:0,height:k?S.inputBoxHeight:0}).add(e),N=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:S.inputBoxWidth,height:S.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(o),n[o+"Input"].focus()});i.styledMode||N.attr({stroke:S.inputBoxBorderColor,"stroke-width":1}),N.add(e);const B=T("input",{name:o,className:"highcharts-range-selector"},void 0,t);B.setAttribute("type",function C(a){if(-1!==a.indexOf("%L"))return"text";const i=["a","A","d","e","w","b","B","m","o","y","Y"].some(e=>-1!==a.indexOf("%"+e)),t=["H","k","I","l","M","S"].some(e=>-1!==a.indexOf("%"+e));return i&&t?"datetime-local":i?"date":t?"time":"text"}(S.inputDateFormat||"%e %b %Y")),i.styledMode||(O.css(g(h,S.labelStyle)),N.css(g({color:"#333333"},h,S.inputStyle)),M(B,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},S.inputStyle))),B.onfocus=()=>{n.showInput(o)},B.onblur=()=>{B===j.doc.activeElement&&A(),n.hideInput(o),n.setInputValue(o),B.blur()};let Y=!1;return B.onchange=()=>{Y||(A(),n.hideInput(o),B.blur())},B.onkeypress=W=>{13===W.keyCode&&A()},B.onkeydown=W=>{Y=!0,(38===W.keyCode||40===W.keyCode)&&A()},B.onkeyup=()=>{Y=!1},{dateBox:N,input:B,label:O}}getPosition(){const o=this.chart,i=o.options.rangeSelector,t="top"===i.verticalAlign?o.plotTop-o.axisOffset[0]:0;return{buttonTop:t+i.buttonPosition.y,inputTop:t+i.inputPosition.y-10}}getYTDExtremes(o,i,t){const e=this.chart.time,n=new e.Date(o),h=e.get("FullYear",n),r=t?e.Date.UTC(h,0,1):+new e.Date(h,0,1),S=Math.max(i,r),v=n.getTime();return{max:Math.min(o||v,v),min:S}}render(o,i){const t=this.chart,e=t.renderer,n=t.container,h=t.options,r=h.rangeSelector,S=f(h.chart.style&&h.chart.style.zIndex,0)+1,v=r.inputEnabled;if(!1!==r.enabled){if(!this.rendered&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=T("div",void 0,{position:"relative",height:0,zIndex:S}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),v)){this.inputGroup=e.g("input-group").add(this.group);const A=this.drawInput("min");this.minDateBox=A.dateBox,this.minLabel=A.label,this.minInput=A.input;const k=this.drawInput("max");this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input}if(v){this.setInputValue("min",o),this.setInputValue("max",i);const A=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(s(A.dataMin)&&s(A.dataMax)){const k=t.xAxis[0].minRange||0;this.setInputExtremes("min",A.dataMin,Math.min(A.dataMax,this.getInputValue("max"))-k),this.setInputExtremes("max",Math.max(A.dataMin,this.getInputValue("min"))+k,A.dataMax)}if(this.inputGroup){let k=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(O=>{if(O){const{width:N}=O.getBBox();N&&(O.attr({x:k}),k+=N+r.inputSpacing)}})}}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:o,chart:i,options:t}=this,e=I.lang,n=i.renderer,h=g(t.buttonTheme),r=h&&h.states,S=h.width||28;delete h.width,delete h.states,this.buttonGroup=n.g("range-selector-buttons").add(this.group);const v=this.dropdown=T("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(v,"touchstart",()=>{v.style.fontSize="16px"}),[[j.isMS?"mouseover":"mouseenter"],[j.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([P,A])=>{E(v,P,()=>{const k=o[this.currentButtonIndex()];k&&c(k.element,A||P)})}),this.zoomText=n.label(e&&e.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),h["stroke-width"]=f(h["stroke-width"],0)),T("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,v),this.buttonOptions.forEach((P,A)=>{T("option",{textContent:P.title||P.text},void 0,v),o[A]=n.button(P.text,0,0,k=>{const O=P.events&&P.events.click;let N;O&&(N=O.call(P,k)),!1!==N&&this.clickButton(A),this.isActive=!0},h,r&&r.hover,r&&r.select,r&&r.disabled).attr({"text-align":"center",width:S}).add(this.buttonGroup),P.title&&o[A].attr("title",P.title)})}alignElements(){const{buttonGroup:o,buttons:i,chart:t,group:e,inputGroup:n,options:h,zoomText:r}=this,S=t.options,v=S.exporting&&!1!==S.exporting.enabled&&S.navigation&&S.navigation.buttonOptions,{buttonPosition:P,inputPosition:A,verticalAlign:k}=h,O=(B,Y)=>v&&this.titleCollision(t)&&"top"===k&&"right"===Y.align&&Y.y-B.getBBox().height-12<(v.y||0)+(v.height||0)+t.spacing[0]?-40:0;let N=t.plotLeft;if(e&&P&&A){let B=P.x-t.spacing[3];if(o){if(this.positionButtons(),!this.initialButtonGroupWidth){let $=0;r&&($+=r.getBBox().width+5),i.forEach((J,tt)=>{$+=J.width,tt!==i.length-1&&($+=h.buttonSpacing)}),this.initialButtonGroupWidth=$}N-=t.spacing[3],this.updateButtonStates();const V=O(o,P);this.alignButtonGroup(V),e.placed=o.placed=t.hasLoaded}let Y=0;n&&(Y=O(n,A),"left"===A.align?B=N:"right"===A.align&&(B=-Math.max(t.axisOffset[1],-Y)),n.align({y:A.y,width:n.getBBox().width,align:A.align,x:A.x+B-2},!0,t.spacingBox),n.placed=t.hasLoaded),this.handleCollision(Y),e.align({verticalAlign:k},!0,t.spacingBox);const W=e.alignAttr.translateY;let R=e.getBBox().height+20,z=0;if("bottom"===k){const V=t.legend&&t.legend.options;R=R+(V&&"bottom"===V.verticalAlign&&V.enabled&&!V.floating?t.legend.legendHeight+f(V.margin,10):0)-20,z=W-R-(h.floating?0:h.y)-(t.titleOffset?t.titleOffset[2]:0)-10}"top"===k?(h.floating&&(z=0),t.titleOffset&&t.titleOffset[0]&&(z=t.titleOffset[0]),z+=t.margin[0]-t.spacing[0]||0):"middle"===k&&(A.y===P.y?z=W:(A.y||P.y)&&(A.y<0||P.y<0?z-=Math.min(A.y,P.y):z=W-R)),e.translate(h.x,h.y+Math.floor(z));const{minInput:H,maxInput:_,dropdown:q}=this;h.inputEnabled&&H&&_&&(H.style.marginTop=e.translateY+"px",_.style.marginTop=e.translateY+"px"),q&&(q.style.marginTop=e.translateY+"px")}}alignButtonGroup(o,i){const{chart:t,options:e,buttonGroup:n}=this,{buttonPosition:r}=e,S=t.plotLeft-t.spacing[3];let v=r.x-t.spacing[3];"right"===r.align?v+=o-S:"center"===r.align&&(v-=S/2),n&&n.align({y:r.y,width:f(i,this.initialButtonGroupWidth),align:r.align,x:v},!0,t.spacingBox)}positionButtons(){const{buttons:o,chart:i,options:t,zoomText:e}=this,n=i.hasLoaded?"animate":"attr",{buttonPosition:h}=t,r=i.plotLeft;let S=r;e&&"hidden"!==e.visibility&&(e[n]({x:f(r+h.x,r)}),S+=h.x+e.getBBox().width+5);for(let v=0,P=this.buttonOptions.length;v<P;++v)"hidden"!==o[v].visibility?(o[v][n]({x:S}),S+=o[v].width+t.buttonSpacing):o[v][n]({x:r})}handleCollision(o){const{chart:i,buttonGroup:t,inputGroup:e}=this,{buttonPosition:n,dropdown:h,inputPosition:r}=this.options,S=()=>{let A=0;return this.buttons.forEach(k=>{const O=k.getBBox();O.width>A&&(A=O.width)}),A},v=A=>{if(e&&t){const k=e.alignAttr.translateX+e.alignOptions.x-o+e.getBBox().x+2,O=e.alignOptions.width,N=t.alignAttr.translateX+t.getBBox().x;return N+A>k&&k+O>N&&n.y<r.y+e.getBBox().height}return!1},P=()=>{e&&t&&e.attr({translateX:e.alignAttr.translateX+(i.axisOffset[1]>=-o?0:-o),translateY:e.alignAttr.translateY+t.getBBox().height+10})};if(t){if("always"===h)return this.collapseButtons(o),void(v(S())&&P());"never"===h&&this.expandButtons()}e&&t?r.align===n.align||v(this.initialButtonGroupWidth+20)?"responsive"===h?(this.collapseButtons(o),v(S())&&P()):P():"responsive"===h&&this.expandButtons():t&&"responsive"===h&&(this.initialButtonGroupWidth>i.plotWidth?this.collapseButtons(o):this.expandButtons())}collapseButtons(o){const{buttons:i,buttonOptions:t,chart:e,dropdown:n,options:h,zoomText:r}=this,S=e.userOptions.rangeSelector&&e.userOptions.rangeSelector.buttonTheme||{},v=k=>({text:k?`${k} \u25be`:"\u25be",width:"auto",paddingLeft:f(h.buttonTheme.paddingLeft,S.padding,8),paddingRight:f(h.buttonTheme.paddingRight,S.padding,8)});r&&r.hide();let P=!1;t.forEach((k,O)=>{const N=i[O];2!==N.state?N.hide():(N.show(),N.attr(v(k.text)),P=!0)}),P||(n&&(n.selectedIndex=0),i[0].show(),i[0].attr(v(this.zoomText&&this.zoomText.textStr)));const{align:A}=h.buttonPosition;this.positionButtons(),("right"===A||"center"===A)&&this.alignButtonGroup(o,i[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:o,buttonOptions:i,options:t,zoomText:e}=this;this.hideDropdown(),e&&e.show(),i.forEach((n,h)=>{const r=o[h];r.show(),r.attr({text:n.text,width:t.buttonTheme.width||28,paddingLeft:f(t.buttonTheme.paddingLeft,"unset"),paddingRight:f(t.buttonTheme.paddingRight,"unset")}),r.state<2&&r.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:o}=this;return o&&o.selectedIndex>0?o.selectedIndex-1:0}showDropdown(){const{buttonGroup:o,buttons:i,chart:t,dropdown:e}=this;if(o&&e){const{translateX:n,translateY:h}=o,r=i[this.currentButtonIndex()].getBBox();M(e,{left:t.plotLeft+n+"px",top:h+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:o}=this;o&&(M(o,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const i=this.options,t=this.group,h=i.y,r=i.buttonPosition.y,S=i.inputPosition.y;let v=0;if(i.height)return i.height;this.alignElements(),v=t?t.getBBox(!0).height+13+h:0;const P=Math.min(S,r);return(S<0&&r<0||S>0&&r>0)&&(v+=Math.abs(P)),v}titleCollision(o){return!(o.options.title.text||o.options.subtitle.text)}update(o){const i=this.chart;g(!0,i.options.rangeSelector,o),this.destroy(),this.init(i),this.render()}destroy(){const o=this,i=o.minInput,t=o.maxInput;o.eventsToUnbind&&(o.eventsToUnbind.forEach(e=>e()),o.eventsToUnbind=void 0),y(o.buttons),i&&(i.onfocus=i.onblur=i.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null),u(o,function(e,n){e&&"chart"!==n&&(e instanceof X?e.destroy():e instanceof window.HTMLElement&&b(e)),e!==w.prototype[n]&&(o[n]=null)},this)}}return x(w.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),w}),Z(D,"Core/Axis/OrdinalAxis.js",[D["Core/Axis/Axis.js"],D["Core/Globals.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{addEvent:X,correctFloat:L,css:I,defined:E,error:T,pick:M,timeUnits:s}=U,y=[];var b;return function(x){function m(t,e,n,h,r=[],S=0,v){const P={},A=this.options.tickPixelInterval,k=this.chart.time,O=[];let N,B,Y,W,R,z=0,H=[],_=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||typeof e>"u")return k.getTimeTicks.apply(k,arguments);const q=r.length;for(N=0;N<q;N++){if(R=N&&r[N-1]>n,r[N]<e&&(z=N),N===q-1||r[N+1]-r[N]>5*S||R){if(r[N]>_){for(B=k.getTimeTicks(t,r[z],r[N],h);B.length&&B[0]<=_;)B.shift();B.length&&(_=B[B.length-1]),O.push(H.length),H=H.concat(B)}z=N+1}if(R)break}if(B){if(W=B.info,v&&W.unitRange<=s.hour){for(N=H.length-1,z=1;z<N;z++)k.dateFormat("%d",H[z])!==k.dateFormat("%d",H[z-1])&&(P[H[z]]="day",Y=!0);Y&&(P[H[0]]="day"),W.higherRanks=P}W.segmentStarts=O,H.info=W}else T(12,!1,this.chart);if(v&&E(A)){const V=H.length,$=[],J=[];let tt,st,it,ot,rt,nt=V;for(;nt--;)st=this.translate(H[nt]),it&&(J[nt]=it-st),$[nt]=it=st;for(J.sort(),ot=J[Math.floor(J.length/2)],ot<.6*A&&(ot=null),nt=H[V-1]>n?V-1:V,it=void 0;nt--;)st=$[nt],rt=Math.abs(it-st),it&&rt<.8*A&&(null===ot||rt<.8*ot)?(P[H[nt]]&&!P[H[nt+1]]?(tt=nt+1,it=st):tt=nt,H.splice(tt,1)):it=st}return H}function g(t){const h=this.ordinal.positions;if(!h)return t;let S,r=h.length-1;return t<0?t=h[0]:t>r?t=h[r]:(r=Math.floor(t),S=t-r),typeof S<"u"&&typeof h[r]<"u"?h[r]+(S?S*(h[r+1]-h[r]):0):t}function u(t){const e=this,n=e.ordinal;let S=n.positions;if(!S)return t;const v=(t-(e.old?e.old.min:e.min))*(e.old?e.old.transA:e.transA)+e.minPixelPadding;if(v>0&&v<e.left+e.len||(n.extendedOrdinalPositions||(n.extendedOrdinalPositions=n.getExtendedPositions()),S=n.extendedOrdinalPositions),S&&S.length){const A=n.getIndexOfPoint(v,S),k=L(A%1);if(A>=0&&A<S.length-1){const W=S[Math.floor(A)],z=S[Math.ceil(A)]-W;return S[Math.floor(A)]+k*z}const O=S.length,N=S[0],B=S[O-1],Y=(B-N)/(O-1);return A<0?N+Y*A:B+Y*(A-O)}return t}function l(t,e){const n=x.Additions.findIndexOf(t,e,!0);return t[n]===e?n:n+(e-t[n])/(t[n+1]-t[n])}function f(){const t=this;t.ordinal||(t.ordinal=new x.Additions(t))}function d(){const t=this;t.isXAxis&&E(t.options.overscroll)&&t.max===t.dataMax&&(!t.chart.mouseIsDown||t.isInternal)&&(!t.eventArgs||t.eventArgs&&"navigator"!==t.eventArgs.trigger)&&(t.max+=t.options.overscroll,!t.isInternal&&E(t.userMin)&&(t.min+=t.options.overscroll))}function p(){const t=this;t.horiz&&!t.isDirty&&(t.isDirty=t.isOrdinal&&t.chart.navigator&&!t.chart.navigator.adaptToUpdatedData)}function C(){const t=this;t.ordinal&&(t.ordinal.beforeSetTickPositions(),t.tickInterval=t.ordinal.postProcessTickInterval(t.tickInterval))}function w(t){const e=this,n=e.xAxis[0],h=n.options.overscroll,r=t.originalEvent.chartX,S=e.options.chart.panning;let v=!1;if(S&&"y"!==S.type&&n.options.ordinal&&n.series.length){const P=e.mouseDownX,A=n.getExtremes(),k=A.dataMax,O=A.min,N=A.max,B=e.hoverPoints,R=(P-r)/(n.translationSlope*(n.ordinal.slope||n.closestPointRange||n.ordinal&&n.ordinal.overscrollPointsRange)),z=n.ordinal.getExtendedPositions(),H={ordinal:{positions:z,extendedOrdinalPositions:z}},_=n.index2val,q=n.val2lin;let V,$,J,tt;H.ordinal.positions?Math.abs(R)>1&&(B&&B.forEach(function(st){st.setState()}),R<0?(J=H,tt=n.ordinal.positions?n:H):(J=n.ordinal.positions?n:H,tt=H),$=tt.ordinal.positions,k>$[$.length-1]&&$.push(k),e.fixedRange=N-O,V=n.navigatorAxis.toFixedRange(void 0,void 0,_.apply(J,[q.apply(J,[O,!0])+R]),_.apply(tt,[q.apply(tt,[N,!0])+R])),V.min>=Math.min(A.dataMin,O)&&V.max<=Math.max(k,N)+h&&n.setExtremes(V.min,V.max,!0,!1,{trigger:"pan"}),e.mouseDownX=r,I(e.container,{cursor:"move"})):v=!0}else v=!0;v||S&&/y/.test(S.type)?h&&(n.max=n.dataMax+h):t.preventDefault()}function a(){const t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.extendedOrdinalPositions)}function o(t,e){const h=this.ordinal,r=h.positions;let A,S=h.slope,v=h.extendedOrdinalPositions;if(!r)return t;if(r[0]<=t&&r[r.length-1]>=t)A=l(r,t);else{if(v||(v=h.getExtendedPositions&&h.getExtendedPositions(),h.extendedOrdinalPositions=v),!v||!v.length)return t;const k=v.length;S||(S=(v[k-1]-v[0])/k);const O=l(v,r[0]);A=t>=v[0]&&t<=v[k-1]?l(v,t)-O:t<v[0]?-O-(v[0]-t)/S:(t-v[k-1])/S+k-O}return e?A:S*(A||0)+h.offset}x.compose=function c(t,e,n){if(U.pushUnique(y,t)){const h=t.prototype;h.getTimeTicks=m,h.index2val=g,h.lin2val=u,h.val2lin=o,h.ordinal2lin=h.val2lin,X(t,"afterInit",f),X(t,"foundExtremes",d),X(t,"afterSetScale",p),X(t,"initialAxisTranslation",C)}return U.pushUnique(y,n)&&X(n,"pan",w),U.pushUnique(y,e)&&X(e,"updatedData",a),t};class i{constructor(e){this.index={},this.axis=e}beforeSetTickPositions(){const e=this.axis,n=e.ordinal,h=e.getExtremes(),r=h.min,S=h.max,v=e.isXAxis&&!!e.options.breaks,P=e.options.ordinal,A=e.chart.options.chart.ignoreHiddenSeries;let k,O,N,B,Y,W,R,z=[],H=Number.MAX_VALUE,_=!1,q=!1,V=!1;if(P||v){let $=0;if(e.series.forEach(function(J,tt){if(O=[],tt>0&&"highcharts-navigator-series"!==J.options.id&&J.processedXData.length>1&&(q=$!==J.processedXData[1]-J.processedXData[0]),$=J.processedXData[1]-J.processedXData[0],J.boosted&&(V=J.boosted),(!A||!1!==J.visible)&&(!1!==J.takeOrdinalPosition||v)&&(z=z.concat(J.processedXData),k=z.length,z.sort(function(st,it){return st-it}),H=Math.min(H,M(J.closestPointRange,H)),k)){for(tt=0;tt<k-1;)z[tt]!==z[tt+1]&&O.push(z[tt+1]),tt++;O[0]!==z[0]&&O.unshift(z[0]),z=O}}),q&&V&&(z.pop(),z.shift()),k=z.length,k>2){for(N=z[1]-z[0],R=k-1;R--&&!_;)z[R+1]-z[R]!==N&&(_=!0);!e.options.keepOrdinalPadding&&(z[0]-r>N||S-z[z.length-1]>N)&&(_=!0)}else e.options.overscroll&&(2===k?H=z[1]-z[0]:1===k?(H=e.options.overscroll,z=[z[0],z[0]+H]):H=n.overscrollPointsRange);_||e.forceOrdinal?(e.options.overscroll&&(n.overscrollPointsRange=H,z=z.concat(n.getOverscrollPositions())),n.positions=z,B=e.ordinal2lin(Math.max(r,z[0]),!0),Y=Math.max(e.ordinal2lin(Math.min(S,z[z.length-1]),!0),1),n.slope=W=(S-r)/(Y-B),n.offset=r-B*W):(n.overscrollPointsRange=M(e.closestPointRange,n.overscrollPointsRange),n.positions=e.ordinal.slope=n.offset=void 0)}e.isOrdinal=P&&_,n.groupIntervalFactor=null}static findIndexOf(e,n,h){let v,r=0,S=e.length-1;for(;r<S;)v=Math.ceil((r+S)/2),e[v]<=n?r=v:S=v-1;return e[r]===n||h?r:-1}getExtendedPositions(){const e=this,n=e.axis,h=n.constructor.prototype,r=n.chart,S=n.series[0].currentDataGrouping,v=S?S.count+S.unitName:"raw",P=n.options.overscroll,A=n.getExtremes();let k,O,N=e.index;return N||(N=e.index={}),N[v]||(k={series:[],chart:r,forceOrdinal:!1,getExtremes:function(){return{min:A.dataMin,max:A.dataMax+P}},getGroupPixelWidth:h.getGroupPixelWidth,getTimeTicks:h.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:h.ordinal2lin,getIndexOfPoint:h.getIndexOfPoint,val2lin:h.val2lin},k.ordinal.axis=k,n.series.forEach(function(B){O={xAxis:k,xData:B.xData.slice(),chart:r,destroyGroupedData:G.noop,getProcessedData:j.prototype.getProcessedData,applyGrouping:j.prototype.applyGrouping},O.xData=O.xData.concat(e.getOverscrollPositions()),O.options={dataGrouping:S?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[S.unitName,[S.count]]]}:{enabled:!1}},k.series.push(O),B.processData.apply(O)}),O.closestPointRange!==O.basePointRange&&O.currentDataGrouping&&(k.forceOrdinal=!0),n.ordinal.beforeSetTickPositions.apply({axis:k}),N[v]=k.ordinal.positions),N[v]}getGroupIntervalFactor(e,n,h){const r=this,v=h.processedXData,P=v.length,A=[];let k,O,N=r.groupIntervalFactor;if(!N){for(O=0;O<P-1;O++)A[O]=v[O+1]-v[O];A.sort(function(B,Y){return B-Y}),k=A[Math.floor(P/2)],e=Math.max(e,v[0]),n=Math.min(n,v[P-1]),r.groupIntervalFactor=N=P*k/(n-e)}return N}getIndexOfPoint(e,n){const h=this,r=h.axis,S=h.positions?h.positions[0]:0;let v=r.series[0].points&&r.series[0].points[0]&&r.series[0].points[0].plotX||r.minPixelPadding;r.series.length>1&&r.series.forEach(function(k){k.points&&E(k.points[0])&&E(k.points[0].plotX)&&k.points[0].plotX<v&&k.points[0].plotX>=M(r.min,-1/0)&&(v=k.points[0].plotX)});const A=(e-v)/(r.translationSlope*(h.slope||r.closestPointRange||h.overscrollPointsRange));return i.findIndexOf(n,S)+A}getOverscrollPositions(){const n=this.axis,h=n.options.overscroll,r=this.overscrollPointsRange,S=[];let v=n.dataMax;if(E(r))for(;v<=n.dataMax+h;)v+=r,S.push(v);return S}postProcessTickInterval(e){const h=this.axis,r=this.slope;let S;return S=r?h.options.breaks?h.closestPointRange||e:e/(r/h.closestPointRange):e,S}}x.Additions=i}(b||(b={})),b}),Z(D,"Series/HLC/HLCPoint.js",[D["Core/Series/SeriesRegistry.js"]],function(F){const{column:{prototype:{pointClass:G}}}=F.seriesTypes;return class j extends G{constructor(){super(...arguments),this.close=void 0,this.high=void 0,this.low=void 0,this.options=void 0,this.plotClose=void 0,this.series=void 0}}}),Z(D,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),Z(D,"Series/HLC/HLCSeries.js",[D["Series/HLC/HLCPoint.js"],D["Series/HLC/HLCSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{column:X}=j.seriesTypes,{extend:L,merge:I}=U;class E extends X{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.yData=void 0}extendStem(M,s,y){const b=M[0],x=M[1];"number"==typeof b[2]&&(b[2]=Math.max(y+s,b[2])),"number"==typeof x[2]&&(x[2]=Math.min(y-s,x[2]))}getPointPath(M,s){const y=s.strokeWidth(),b=M.series,x=y%2/2,c=Math.round(M.plotX)-x,m=Math.round(M.shapeArgs.width/2);let g=M.plotClose;const u=[["M",c,Math.round(M.yBottom)],["L",c,Math.round(M.plotHigh)]];return null!==M.close&&(g=Math.round(M.plotClose)+x,u.push(["M",c,g],["L",c+m,g]),b.extendStem(u,y/2,g)),u}drawSinglePoint(M){const s=M.series,y=s.chart;let b,x=M.graphic;typeof M.plotY<"u"&&(x||(M.graphic=x=y.renderer.path().add(s.group)),y.styledMode||x.attr(s.pointAttribs(M,M.selected&&"select")),b=s.getPointPath(M,x),x[x?"animate":"attr"]({d:b}).addClass(M.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(M,s){const y=super.pointAttribs.call(this,M,s);return delete y.fill,y}toYData(M){return[M.high,M.low,M.close]}translate(){const M=this,s=M.yAxis,y=this.pointArrayMap&&this.pointArrayMap.slice()||[],b=y.map(x=>`plot${x.charAt(0).toUpperCase()+x.slice(1)}`);b.push("yBottom"),y.push("low"),super.translate.apply(M),M.points.forEach(function(x){y.forEach(function(c,m){let g=x[c];null!==g&&(M.dataModify&&(g=M.dataModify.modifyValue(g)),x[b[m]]=s.toPixels(g,!0))}),x.tooltipPos[1]=x.plotHigh+s.pos-M.chart.plotTop})}}return E.defaultOptions=I(X.defaultOptions,G),L(E.prototype,{pointClass:F,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),j.registerSeriesType("hlc",E),E}),Z(D,"Series/OHLC/OHLCPoint.js",[D["Core/Series/SeriesRegistry.js"]],function(F){const{seriesTypes:{hlc:G}}=F;return class j extends G.prototype.pointClass{constructor(){super(...arguments),this.open=void 0,this.options=void 0,this.plotOpen=void 0,this.series=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const X=super.getZone();return this.resolveUpColor(),X}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),Z(D,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),Z(D,"Series/OHLC/OHLCSeries.js",[D["Series/OHLC/OHLCPoint.js"],D["Series/OHLC/OHLCSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{seriesTypes:{hlc:X}}=j,{addEvent:L,extend:I,merge:E}=U,T=[];function M(b){const x=b.options,c=x.dataGrouping;c&&x.useOhlcData&&"highcharts-navigator-series"!==x.id&&(c.approximation="ohlc")}function s(b){const c=b.options;c.useOhlcData&&"highcharts-navigator-series"!==c.id&&I(this,{pointValKey:y.prototype.pointValKey,pointArrayMap:y.prototype.pointArrayMap,toYData:y.prototype.toYData})}class y extends X{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}static compose(x,...c){U.pushUnique(T,x)&&(L(x,"afterSetOptions",M),L(x,"init",s))}getPointPath(x,c){const m=super.getPointPath(x,c),g=c.strokeWidth(),u=g%2/2,l=Math.round(x.plotX)-u,f=Math.round(x.shapeArgs.width/2);let d=x.plotOpen;return null!==x.open&&(d=Math.round(x.plotOpen)+u,m.push(["M",l,d],["L",l-f,d]),super.extendStem(m,g/2,d)),m}pointAttribs(x,c){const m=super.pointAttribs.call(this,x,c),g=this.options;return delete m.fill,!x.options.color&&g.upColor&&x.open<x.close&&(m.stroke=g.upColor),m}toYData(x){return[x.open,x.high,x.low,x.close]}}return y.defaultOptions=E(X.defaultOptions,G),I(y.prototype,{pointClass:F,pointArrayMap:["open","high","low","close"]}),j.registerSeriesType("ohlc",y),y}),Z(D,"Series/Candlestick/CandlestickSeriesDefaults.js",[D["Core/Defaults.js"],D["Core/Utilities.js"]],function(F,G){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),Z(D,"Series/Candlestick/CandlestickSeries.js",[D["Series/Candlestick/CandlestickSeriesDefaults.js"],D["Core/Defaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G,j,U){const{defaultOptions:X}=G,{column:L,ohlc:I}=j.seriesTypes,{merge:E}=U;class T extends I{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(s,y){const b=L.prototype.pointAttribs.call(this,s,y),x=this.options,c=s.open<s.close,m=x.lineColor||this.color,g=s.color||this.color;if(b["stroke-width"]=x.lineWidth,b.fill=s.options.color||c&&x.upColor||g,b.stroke=s.options.lineColor||c&&x.upLineColor||m,y){const u=x.states[y];b.fill=u.color||b.fill,b.stroke=u.lineColor||b.stroke,b["stroke-width"]=u.lineWidth||b["stroke-width"]}return b}drawPoints(){const s=this,y=s.points,b=s.chart,x=s.yAxis.reversed;for(const c of y){let g,u,l,f,d,p,C,w,a,o,m=c.graphic;const i=!m;typeof c.plotY<"u"&&(m||(c.graphic=m=b.renderer.path().add(s.group)),s.chart.styledMode||m.attr(s.pointAttribs(c,c.selected&&"select")).shadow(s.options.shadow),C=m.strokeWidth()%2/2,w=Math.round(c.plotX)-C,g=c.plotOpen,u=c.plotClose,l=Math.min(g,u),f=Math.max(g,u),o=Math.round(c.shapeArgs.width/2),d=x?f!==c.yBottom:Math.round(l)!==Math.round(c.plotHigh),p=x?Math.round(l)!==Math.round(c.plotHigh):f!==c.yBottom,l=Math.round(l)+C,f=Math.round(f)+C,a=[],a.push(["M",w-o,f],["L",w-o,l],["L",w+o,l],["L",w+o,f],["Z"],["M",w,l],["L",w,d?Math.round(x?c.yBottom:c.plotHigh):l],["M",w,f],["L",w,p?Math.round(x?c.plotHigh:c.yBottom):f]),m[i?"attr":"animate"]({d:a}).addClass(c.getClassName(),!0))}}}return T.defaultOptions=E(I.defaultOptions,X.plotOptions,{tooltip:I.defaultOptions.tooltip},F),j.registerSeriesType("candlestick",T),T}),Z(D,"Series/Flags/FlagsPoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(F,G){const{column:{prototype:{pointClass:j}}}=F.seriesTypes,{isNumber:U}=G;return class X extends j{constructor(){super(...arguments),this.options=void 0,this.series=void 0,this.ttBelow=!1}isValid(){return U(this.y)||typeof this.y>"u"}hasNewShapeType(){const I=this.options.shape||this.series.options.shape;return this.graphic&&I&&I!==this.graphic.symbolKey}}}),Z(D,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),Z(D,"Series/Flags/FlagsSymbols.js",[D["Core/Renderer/RendererRegistry.js"]],function(F){var G;return function(j){const U=[];function L(E,T,M,s,y){const b=y&&y.anchorX||E,x=y&&y.anchorY||T,c=this.circle(b-1,x-1,2,2);return c.push(["M",b,x],["L",E,T+s],["L",E,T],["L",E+M,T],["L",E+M,T+s],["L",E,T+s],["Z"]),c}function I(E,T){E[T+"pin"]=function(M,s,y,b,x){const c=x&&x.anchorX,m=x&&x.anchorY;let g;if("circle"===T&&b>y&&(M-=Math.round((b-y)/2),y=b),g=E[T](M,s,y,b),c&&m){let u=c;if("circle"===T)u=M+y/2;else{const f=g[0],d=g[1];"M"===f[0]&&"L"===d[0]&&(u=(f[1]+d[1])/2)}g.push(["M",u,s>m?s:s+b],["L",c,m]),g=g.concat(E.circle(c-1,m-1,2,2))}return g}}j.compose=function X(E){if(-1===U.indexOf(E)){U.push(E);const M=E.prototype.symbols;M.flag=L,I(M,"circle"),I(M,"square")}const T=F.getRendererType();U.indexOf(T)&&U.push(T)}}(G||(G={})),G}),Z(D,"Series/OnSeriesComposition.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(F,G,j){const{prototype:U}=F,{prototype:X}=G,{defined:L,stableSort:I}=j;var E;return function(T){const M=[];function y(x){return X.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,x)}function b(){U.translate.apply(this);const x=this,c=x.options,m=x.chart,g=x.points,u=c.onSeries,l=u&&m.get(u),f=l&&l.options.step,d=l&&l.points,p=m.inverted,C=x.xAxis,w=x.yAxis;let o,i,h,r,S,v,P,a=g.length-1,t=c.onKey||"y",e=d&&d.length,n=0;if(l&&l.visible&&e)for(n=(l.pointXOffset||0)+(l.barW||0)/2,v=l.currentDataGrouping,r=d[e-1].x+(v?v.totalRange:0),I(g,(A,k)=>A.x-k.x),t="plot"+t[0].toUpperCase()+t.substr(1);e--&&g[a]&&(h=d[e],o=g[a],o.y=h.y,!(h.x<=o.x&&typeof h[t]<"u"&&(o.x<=r&&(o.plotY=h[t],h.x<o.x&&!f&&(S=d[e+1],S&&typeof S[t]<"u"&&(P=(o.x-h.x)/(S.x-h.x),o.plotY+=P*(S[t]-h[t]),o.y+=P*(S.y-h.y)))),a--,e++,a<0))););g.forEach((A,k)=>{let O;A.plotX+=n,(typeof A.plotY>"u"||p)&&(A.plotX>=0&&A.plotX<=C.len?p?(A.plotY=C.translate(A.x,0,1,0,1),A.plotX=L(A.y)?w.translate(A.y,0,0,0,1):0):A.plotY=(C.opposite?0:x.yAxis.len)+C.offset:A.shapeArgs={}),i=g[k-1],i&&i.plotX===A.plotX&&(typeof i.stackIndex>"u"&&(i.stackIndex=0),O=i.stackIndex+1),A.stackIndex=O}),this.onSeries=l}T.compose=function s(x){if(j.pushUnique(M,x)){const c=x.prototype;c.getPlotBox=y,c.translate=b}return x},T.getPlotBox=y,T.translate=b}(E||(E={})),E}),Z(D,"Series/Flags/FlagsSeries.js",[D["Series/Flags/FlagsPoint.js"],D["Series/Flags/FlagsSeriesDefaults.js"],D["Series/Flags/FlagsSymbols.js"],D["Core/Globals.js"],D["Series/OnSeriesComposition.js"],D["Core/Renderer/RendererUtilities.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I,E,T){const{noop:M}=U,{distribute:s}=L,{series:y,seriesTypes:{column:b}}=I,{addEvent:x,defined:c,extend:m,merge:g,objectEach:u,wrap:l}=T;class f extends b{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}animate(p){p&&this.setClip()}drawPoints(){const p=this,C=p.points,w=p.chart,a=w.renderer,o=w.inverted,i=p.options,t=i.y,e=p.yAxis,n={},h=[];let r,S,v,P,A,k,O,N,B,Y,W;for(P=C.length;P--;)A=C[P],Y=(o?A.plotY:A.plotX)>p.xAxis.len,r=A.plotX,O=A.stackIndex,v=A.options.shape||i.shape,S=A.plotY,typeof S<"u"&&(S=A.plotY+t-(typeof O<"u"&&O*i.stackDistance)),A.anchorX=O?void 0:A.plotX,N=O?void 0:A.plotY,W="flag"!==v,k=A.graphic,typeof S<"u"&&r>=0&&!Y?(k&&A.hasNewShapeType()&&(k=k.destroy()),k||(k=A.graphic=a.label("",null,null,v,null,null,i.useHTML).addClass("highcharts-point").add(p.markerGroup),A.graphic.div&&(A.graphic.div.point=A),k.isNew=!0),k.attr({align:W?"center":"left",width:i.width,height:i.height,"text-align":i.textAlign}),w.styledMode||k.attr(p.pointAttribs(A)).css(g(i.style,A.style)).shadow(i.shadow),r>0&&(r-=k.strokeWidth()%2),B={y:S,anchorY:N},i.allowOverlapX&&(B.x=r,B.anchorX=A.anchorX),k.attr({text:A.options.title||i.title||"A"})[k.isNew?"attr":"animate"](B),i.allowOverlapX||(n[A.plotX]?n[A.plotX].size=Math.max(n[A.plotX].size,k.width):n[A.plotX]={align:W?.5:0,size:k.width,target:r,anchorX:r}),A.tooltipPos=[r,S+e.pos-w.plotTop]):k&&(A.graphic=k.destroy());if(!i.allowOverlapX){let R=100;u(n,function(z){z.plotX=z.anchorX,h.push(z),R=Math.max(z.size,R)}),s(h,o?e.len:this.xAxis.len,R);for(const z of C){const _=z.graphic,q=_&&n[z.plotX];q&&_&&(c(q.pos)?_[_.isNew?"attr":"animate"]({x:q.pos+(q.align||0)*q.size,anchorX:z.anchorX}).show().isNew=!1:_.hide().isNew=!0)}}i.useHTML&&p.markerGroup&&l(p.markerGroup,"on",function(R){return E.prototype.on.apply(R.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const C=this.points;super.drawTracker();for(const w of C){const a=w.graphic;a&&(w.unbindMouseOver&&w.unbindMouseOver(),w.unbindMouseOver=x(a.element,"mouseover",function(){w.stackIndex>0&&!w.raised&&(w._y=a.y,a.attr({y:w._y-8}),w.raised=!0);for(const o of C)o!==w&&o.raised&&o.graphic&&(o.graphic.attr({y:o._y}),o.raised=!1)}))}}pointAttribs(p,C){const w=this.options,a=p&&p.color||this.color;let o=w.lineColor,i=p&&p.lineWidth,t=p&&p.fillColor||w.fillColor;return C&&(t=w.states[C].fillColor,o=w.states[C].lineColor,i=w.states[C].lineWidth),{fill:t||a,stroke:o||a,"stroke-width":i||w.lineWidth||0}}setClip(){y.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return f.compose=j.compose,f.defaultOptions=g(b.defaultOptions,G),X.compose(f),m(f.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:F,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:M,init:y.prototype.init}),I.registerSeriesType("flags",f),f}),Z(D,"Core/Chart/StockChart.js",[D["Core/Axis/Axis.js"],D["Core/Chart/Chart.js"],D["Core/FormatUtilities.js"],D["Core/Defaults.js"],D["Stock/Navigator/NavigatorDefaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Stock/Scrollbar/ScrollbarDefaults.js"],D["Core/Series/Series.js"],D["Core/Renderer/SVG/SVGRenderer.js"],D["Core/Utilities.js"]],function(F,G,j,U,X,L,I,E,T,M){const{format:s}=j,{getOptions:y}=U,{addEvent:b,clamp:x,defined:c,extend:m,find:g,isNumber:u,isString:l,merge:f,pick:d,splat:p}=M;class C extends G{init(i,t){const e=y(),n=i.xAxis,h=i.yAxis,r=d(i.navigator&&i.navigator.enabled,X.enabled,!0);i.xAxis=i.yAxis=void 0;const S=f({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:r},scrollbar:{enabled:d(I.enabled,!0)},rangeSelector:{enabled:d(L.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:d(e.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},i,{isStock:!0});i.xAxis=n,i.yAxis=h,S.xAxis=p(i.xAxis||{}).map(function(v,P){return f(w("xAxis",v),e.xAxis,e.xAxis&&e.xAxis[P],v,a("xAxis",i))}),S.yAxis=p(i.yAxis||{}).map(function(v,P){return f(w("yAxis",v),e.yAxis,e.yAxis&&e.yAxis[P],v)}),super.init(S,t)}createAxis(i,t){return t.axis=f(w(i,t.axis),t.axis,a(i,this.userOptions)),super.createAxis(i,t)}}var o;function w(o,i){return"xAxis"===o?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===o?{labels:{y:-2},opposite:d(i.opposite,!0),showLastLabel:!(!i.categories&&"category"!==i.type),title:{text:null}}:{}}function a(o,i){if("xAxis"===o){const e={type:"datetime",categories:void 0};return d(i.navigator&&i.navigator.enabled,X.enabled,!0)&&(e.startOnTick=!1,e.endOnTick=!1),e}return{}}return(o=C||(C={})).stockChart=function i(t,e,n){return new o(t,e,n)},b(E,"setOptions",function(o){let i;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?i={borderWidth:0,shadow:!1}:!this.is("scatter")&&!this.is("sma")&&(i={marker:{enabled:!1,radius:2}}),i&&(o.plotOptions[this.type]=f(o.plotOptions[this.type],i)))}),b(F,"autoLabelAlign",function(o){const{chart:i,options:t}=this,e=i._labelPanes=i._labelPanes||{},n=t.labels;if(i.options.isStock&&"yAxis"===this.coll){const h=t.top+","+t.height;!e[h]&&n.enabled&&(15===n.distance&&1===this.side&&(n.distance=0),typeof n.align>"u"&&(n.align="right"),e[h]=this,o.align="right",o.preventDefault())}}),b(F,"destroy",function(){const o=this.chart,i=this.options&&this.options.top+","+this.options.height;i&&o._labelPanes&&o._labelPanes[i]===this&&delete o._labelPanes[i]}),b(F,"getPlotLinePath",function(o){let S,v,P,A,N,B,z,i=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,e=i.chart,n=e.renderer,h=i.left,r=i.top,k=[],O=[],Y=o.translatedValue,W=o.value,R=o.force;(e.options.isStock&&!1!==o.acrossPanes&&"xAxis"===i.coll||"yAxis"===i.coll)&&(o.preventDefault(),O=function H(_){const q="xAxis"===_?"yAxis":"xAxis",V=i.options[q];return u(V)?[e[q][V]]:l(V)?[e.get(V)]:t.map(function($){return $[q]})}(i.coll),N=i.isXAxis?e.yAxis:e.xAxis,N.forEach(function(_){if(!c(_.options.id)||-1===_.options.id.indexOf("navigator")){const q=_.isXAxis?"yAxis":"xAxis",V=c(_.options[q])?e[q][_.options[q]]:e[q][0];i===V&&O.push(_)}}),B=O.length?[]:[i.isXAxis?e.yAxis[0]:e.xAxis[0]],O.forEach(function(_){-1===B.indexOf(_)&&!g(B,function(q){return q.pos===_.pos&&q.len===_.len})&&B.push(_)}),z=d(Y,i.translate(W,void 0,void 0,o.old)),u(z)&&B.forEach(i.horiz?function(_){let q;v=_.pos,A=v+_.len,S=P=Math.round(z+i.transB),"pass"!==R&&(S<h||S>h+i.width)&&(R?S=P=x(S,h,h+i.width):q=!0),q||k.push(["M",S,v],["L",P,A])}:function(_){let q;S=_.pos,P=S+_.len,v=A=Math.round(r+i.height-z),"pass"!==R&&(v<r||v>r+i.height)&&(R?v=A=x(v,r,r+i.height):q=!0),q||k.push(["M",S,v],["L",P,A])}),o.path=k.length>0?n.crispPolyLine(k,o.lineWidth||1):null)}),T.prototype.crispPolyLine=function(o,i){for(let t=0;t<o.length;t+=2){const e=o[t],n=o[t+1];e[1]===n[1]&&(e[1]=n[1]=Math.round(e[1])-i%2/2),e[2]===n[2]&&(e[2]=n[2]=Math.round(e[2])+i%2/2)}return o},b(F,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),b(F,"afterDrawCrosshair",function(o){if(!(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&u(this.min)&&u(this.max)))return;let A,k,O,Y,W,i=this.chart,t=this.logarithmic,e=this.crosshair.label,n=this.horiz,h=this.opposite,r=this.left,S=this.top,v=this.width,P=this.crossLabel,N=e.format,B="",R="inside"===this.options.tickPosition,z=!1!==this.crosshair.snap,H=0,_=o.e||this.cross&&this.cross.e,q=o.point,V=this.min,$=this.max;t&&(V=t.lin2log(V),$=t.lin2log($)),W=n?"center":h?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",P||(P=this.crossLabel=i.renderer.label("",0,void 0,e.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(q&&q.series?q.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:e.align||W,padding:d(e.padding,8),r:d(e.borderRadius,3),zIndex:2}).add(this.labelGroup),i.styledMode||P.attr({fill:e.backgroundColor||q&&q.series&&q.series.color||"#666666",stroke:e.borderColor||"","stroke-width":e.borderWidth||0}).css(m({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},e.style||{}))),n?(A=z?(q.plotX||0)+r:_.chartX,k=S+(h?0:this.height)):(A=r+this.offset+(h?v:0),k=z?(q.plotY||0)+S:_.chartY),!N&&!e.formatter&&(this.dateTime&&(B="%b %d, %Y"),N="{value"+(B?":"+B:"")+"}");const J=z?this.isXAxis?q.x:q.y:this.toValue(n?_.chartX:_.chartY),tt=q&&q.series?q.series.isPointInside(q):u(J)&&J>V&&J<$;let st="";N?st=s(N,{value:J},i):e.formatter&&u(J)&&(st=e.formatter.call(this,J)),P.attr({text:st,x:A,y:k,visibility:tt?"inherit":"hidden"}),O=P.getBBox(),u(P.x)&&!n&&!h&&(A=P.x-O.width/2),u(P.y)&&(n?(R&&!h||!R&&h)&&(k=P.y-O.height):k=P.y-O.height/2),Y=n?{left:r-O.x,right:r+this.width-O.x}:{left:"left"===this.labelAlign?r:0,right:"right"===this.labelAlign?r+this.width:i.chartWidth},P.translateX<Y.left&&(H=Y.left-P.translateX),P.translateX+O.width>=Y.right&&(H=-(P.translateX+O.width-Y.right)),P.attr({x:A+H,y:k,anchorX:n?A:this.opposite?0:i.chartWidth,anchorY:n?this.opposite?i.chartHeight:0:k+O.height/2})}),E.prototype.forceCropping=function(){const t=this.options.dataGrouping;return!1!==this.allowDG&&t&&d(t.enabled,this.chart.options.isStock)},b(G,"update",function(o){const i=o.options;"scrollbar"in i&&this.navigator&&(f(!0,this.options.scrollbar,i.scrollbar),this.navigator.update({}),delete i.scrollbar)}),C}),Z(D,"masters/modules/stock.src.js",[D["Core/Globals.js"],D["Series/DataModifyComposition.js"],D["Stock/Navigator/Navigator.js"],D["Stock/RangeSelector/RangeSelector.js"],D["Stock/Scrollbar/Scrollbar.js"],D["Core/Axis/OrdinalAxis.js"],D["Series/OHLC/OHLCSeries.js"],D["Series/Flags/FlagsSeries.js"],D["Core/Chart/StockChart.js"]],function(F,G,j,U,X,L,I,E,T){const M=F;M.Navigator=j,M.RangeSelector=U,M.Scrollbar=X,M.StockChart=M.stockChart=T.stockChart,G.compose(M.Series,M.Axis,M.Point),E.compose(M.Renderer),j.compose(M.Axis,M.Chart,M.Series),I.compose(M.Series),L.compose(M.Axis,M.Series,M.Chart),U.compose(M.Axis,M.Chart),X.compose(M.Axis)})},Ct.exports?(K.default=K,Ct.exports=K):(Mt=[lt(3470)],void 0!==(vt=function(D){return K(D),K.Highcharts=D,K}.apply(Et,Mt))&&(Ct.exports=vt))}}]);