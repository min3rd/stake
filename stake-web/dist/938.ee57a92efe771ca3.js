(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[938],{6938:(Ct,Bt,ct)=>{"use strict";ct.r(Bt),ct.d(Bt,{TradesModule:()=>Ut});var Mt=ct(6895),At=ct(4859),Q=ct(811),D=ct(9549),V=ct(7392),X=ct(4144),F=ct(8255),j=ct(4385),U=ct(3267),_=ct(6308),L=ct(7155),I=ct(3848),E=ct(7314),i=ct(4650),T=ct(3238),A=ct(2687),v=ct(1281);let y=0;const x=(0,T.Id)(class{}),h="mat-badge-content";let m=(()=>{class et extends x{get color(){return this._color}set color(K){this._setColor(K),this._color=K}get overlap(){return this._overlap}set overlap(K){this._overlap=(0,v.Ig)(K)}get content(){return this._content}set content(K){this._updateRenderedContent(K)}get description(){return this._description}set description(K){this._updateHostAriaDescription(K)}get hidden(){return this._hidden}set hidden(K){this._hidden=(0,v.Ig)(K)}constructor(K,st,dt,ft,xt){super(),this._ngZone=K,this._elementRef=st,this._ariaDescriber=dt,this._renderer=ft,this._animationMode=xt,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=y++,this._isInitialized=!1}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const K=this._renderer.createElement("span"),st="mat-badge-active";return K.setAttribute("id",`mat-badge-content-${this._id}`),K.setAttribute("aria-hidden","true"),K.classList.add(h),"NoopAnimations"===this._animationMode&&K.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(K),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{K.classList.add(st)})}):K.classList.add(st),K}_updateRenderedContent(K){const st=`${K??""}`.trim();this._isInitialized&&st&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=st),this._content=st}_updateHostAriaDescription(K){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),K&&this._ariaDescriber.describe(this._elementRef.nativeElement,K),this._description=K}_setColor(K){const st=this._elementRef.nativeElement.classList;st.remove(`mat-badge-${this._color}`),K&&st.add(`mat-badge-${K}`)}_clearExistingBadges(){const K=this._elementRef.nativeElement.querySelectorAll(`:scope > .${h}`);for(const st of Array.from(K))st!==this._badgeElement&&st.remove()}}return et.\u0275fac=function(K){return new(K||et)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(A.$s),i.Y36(i.Qsj),i.Y36(i.QbO,8))},et.\u0275dir=i.lG2({type:et,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(K,st){2&K&&i.ekj("mat-badge-overlap",st.overlap)("mat-badge-above",st.isAbove())("mat-badge-below",!st.isAbove())("mat-badge-before",!st.isAfter())("mat-badge-after",st.isAfter())("mat-badge-small","small"===st.size)("mat-badge-medium","medium"===st.size)("mat-badge-large","large"===st.size)("mat-badge-hidden",st.hidden||!st.content)("mat-badge-disabled",st.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[i.qOj]}),et})(),g=(()=>{class et{}return et.\u0275fac=function(K){return new(K||et)},et.\u0275mod=i.oAB({type:et}),et.\u0275inj=i.cJS({imports:[A.rt,T.BQ,T.BQ]}),et})();var u=ct(6205),l=ct(4466),f=ct(7579),d=ct(2722),p=ct(9646),M=ct(5115),k=ct(5439),a=ct.n(k),o=ct(1135),s=ct(8505),t=ct(5698),e=ct(3900),n=ct(4004),c=ct(529),r=ct(5240);class C{constructor(J,K){this._httpClient=J,this._apiService=K,this._rooms=new o.X(null),this._klines=new o.X(null),this._rounds=new o.X(null),this._config=new o.X(null),this._tradingCalls=new o.X(null),this._tradingRoom=new o.X(null)}get rooms$(){return this._rooms.asObservable()}get klines$(){return this._klines.asObservable()}get rounds$(){return this._rounds.asObservable()}get config$(){return this._config.asObservable()}get tradingCalls$(){return this._tradingCalls.asObservable()}get tradingRoom$(){return this._tradingRoom.asObservable()}getTradingRooms(){return this._httpClient.get(this._apiService.public_trading_rooms()).pipe((0,s.b)(J=>{this._rooms.next(J)}))}getTradingRoomsAndFirst(){return this._httpClient.get(this._apiService.public_trading_rooms()).pipe((0,s.b)(J=>{this._rooms.next(J),this._tradingRoom.next(J[0])}))}getTradingRoom(J){return this._httpClient.get(this._apiService.public_trading_rooms_room(J)).pipe((0,s.b)(K=>{this._tradingRoom.next(K)}))}getLatestKlines(J,K=60){return this._httpClient.get(this._apiService.public_trading_latest_klines(J.symbol??"",K)).pipe((0,s.b)(st=>{this._klines.next(st)}))}getLatestRounds(J,K=60){return this._httpClient.get(this._apiService.public_trading_latest_rounds(J.symbol??"",K)).pipe((0,s.b)(st=>{this._rounds.next(st)}))}getConfig(J,K=60){return this._httpClient.get(this._apiService.public_trading_config(J.symbol??"")).pipe((0,s.b)(st=>{this._config.next(st)}))}call(J){return this._tradingCalls.pipe((0,t.q)(1),(0,e.w)(K=>this._httpClient.post(this._apiService.users_trading_calls(),J).pipe((0,n.U)(st=>((K??[]).push(st),this._tradingCalls.next(K),st)))))}getLatestTradingCalls(){return this._tradingCalls.pipe((0,t.q)(1),(0,e.w)(J=>this._httpClient.get(this._apiService.users_trading_latestCalls()).pipe((0,s.b)(K=>{J=(J=J??[]).filter(st=>K.findIndex(dt=>dt._id==st._id)<0),this._tradingCalls.next([...J,...K])}))))}getTradingCallToday(){return this._tradingCalls.pipe((0,t.q)(1),(0,e.w)(J=>this._httpClient.get(this._apiService.users_trading_calls_today()).pipe((0,s.b)(K=>{J=(J=J??[]).filter(st=>K.findIndex(dt=>dt._id==st._id)<0),this._tradingCalls.next([...J,...K])}))))}getStorageTradingCalls(){return this._tradingCalls.pipe((0,t.q)(1),(0,e.w)(J=>{let K=localStorage.getItem(M._.LOCAL_STORAGE_KEYS.TRADING_CALLS);if(!K)return(0,p.of)([]);try{let st=JSON.parse(K);return Array.isArray(st)?(Array.isArray(J)||(J=[]),this._tradingCalls.next([...J,...st]),(0,p.of)(st)):(0,p.of)([])}catch(st){console.error(st)}}))}}C.\u0275fac=function(J){return new(J||C)(i.LFG(c.eN),i.LFG(r.s))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"});class b{constructor(J){this._tradingService=J}resolve(J,K){return this._tradingService.getTradingRooms()}}b.\u0275fac=function(J){return new(J||b)(i.LFG(C))},b.\u0275prov=i.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});class P{constructor(J){this._tradingService=J}resolve(J,K){return this._tradingService.getTradingRoomsAndFirst()}}P.\u0275fac=function(J){return new(J||P)(i.LFG(C))},P.\u0275prov=i.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"});class S{constructor(J){this._tradingService=J}resolve(J,K){return this._tradingService.getTradingRoom(J.paramMap.get("symbol"))}}S.\u0275fac=function(J){return new(J||S)(i.LFG(C))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"});class w{constructor(J){this._tradingService=J,this._unsubscribeAll=new f.x}resolve(J,K){return this._tradingService.tradingCalls$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(st=>{if(!st)return(0,p.of)(!0);let dt=localStorage.getItem(M._.LOCAL_STORAGE_KEYS.TRADING_CALLS);try{let ft=JSON.parse(dt);if(!Array.isArray(ft))return localStorage.setItem(M._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(st)),(0,p.of)(!0);ft=ft.filter(xt=>st.findIndex(kt=>kt._id==xt._id)<0),ft=[...ft,...st].filter(xt=>new Date(xt.openTime).getTime()>a()().startOf("day").toDate().getTime()),localStorage.setItem(M._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(ft))}catch(ft){console.error(ft),localStorage.setItem(M._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(st.filter(xt=>new Date(xt.openTime).getTime()>a()().startOf("day").toDate().getTime())))}}),this._tradingService.getStorageTradingCalls()}}w.\u0275fac=function(J){return new(J||w)(i.LFG(C))},w.\u0275prov=i.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"});var B=ct(9299),N=ct(4482),O=ct(5403),z=ct(9548),R=(()=>{return(et=R||(R={}))[et.BUY=1]="BUY",et[et.SELL=2]="SELL",R;var et})();class G{static getOpenDate(J=new Date){return new Date(J.getFullYear(),J.getMonth(),J.getDate(),J.getHours(),J.getMinutes(),0)}static getCloseDate(J=new Date){return new Date(J.getFullYear(),J.getMonth(),J.getDate(),J.getHours(),J.getMinutes(),59)}}var H=ct(2594),W=ct(7020);class q{transform(J,...K){let st=parseInt(""+J/60,10),dt=parseInt(""+J%60,10);return st=st<10?"0"+st:st,dt=dt<10?"0"+dt:dt,`${st} : ${dt}`}}q.\u0275fac=function(J){return new(J||q)},q.\u0275pipe=i.Yjl({name:"countdown",type:q,pure:!0});var Z=ct(758),tt=ct(3317),$=ct(1688),it=ct(7495),nt=ct(5707),ot=ct(3795),rt=ct(1864),lt=ct(5082),at=ct(5589),ut=ct(4006),pt=ct(3857);const gt=["btcChartComponent"];function yt(et,J){if(1&et&&(i.TgZ(0,"mat-option",47),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et){const K=J.$implicit;i.Q6J("value",K),i.xp6(1),i.hij(" ",i.lcZ(2,2,i.lcZ(3,4,K.symbol)),"")}}function ht(et,J){if(1&et){const K=i.EpF();i.ynx(0),i.TgZ(1,"div",43)(2,"mat-form-field",44)(3,"mat-select",45),i.NdJ("valueChange",function(dt){i.CHM(K);const ft=i.oxw();return i.KtG(ft.tradingRoom=dt)})("valueChange",function(dt){i.CHM(K);const ft=i.oxw();return i.KtG(ft.onRoomChange(dt))}),i.YNc(4,yt,4,6,"mat-option",46),i.qZA()()(),i.BQk()}if(2&et){const K=i.oxw();i.xp6(3),i.Q6J("value",K.tradingRoom),i.xp6(1),i.Q6J("ngForOf",K.tradingRooms)}}function mt(et,J){if(1&et&&(i.ynx(0),i.TgZ(1,"div",48)(2,"div",49)(3,"span",50),i._uU(4),i.ALo(5,"uppercase"),i.ALo(6,"transloco"),i.qZA(),i.TgZ(7,"span",50),i._uU(8),i.qZA()(),i.TgZ(9,"div",51)(10,"span",50),i._uU(11),i.ALo(12,"uppercase"),i.ALo(13,"transloco"),i.qZA(),i.TgZ(14,"span",50),i._uU(15),i.qZA()()(),i.BQk()),2&et){const K=i.oxw();i.xp6(4),i.hij(" ",i.lcZ(5,4,i.lcZ(6,6,"buy"))," "),i.xp6(4),i.hij(" ",K.countResult.buy," "),i.xp6(3),i.hij(" ",i.lcZ(12,8,i.lcZ(13,10,"sell"))," "),i.xp6(4),i.hij(" ",K.countResult.sell," ")}}function bt(et,J){if(1&et&&(i.ynx(0),i.TgZ(1,"div",52)(2,"div",53)(3,"div",54),i._uU(4),i.ALo(5,"capitalize"),i.ALo(6,"transloco"),i.qZA(),i.TgZ(7,"div",55),i._UZ(8,"img",56)(9,"img",57),i.TgZ(10,"div"),i._UZ(11,"div",58),i.qZA()(),i.TgZ(12,"div",59)(13,"div",60)(14,"div",61),i._uU(15),i.qZA(),i.TgZ(16,"div",62),i._uU(17),i.ALo(18,"capitalize"),i.ALo(19,"transloco"),i.qZA()(),i.TgZ(20,"div",60)(21,"div",63),i._uU(22),i.qZA(),i.TgZ(23,"div",62),i._uU(24),i.ALo(25,"capitalize"),i.ALo(26,"transloco"),i.qZA()()()(),i.TgZ(27,"div",53)(28,"div",54),i._uU(29),i.ALo(30,"capitalize"),i.ALo(31,"transloco"),i.qZA(),i.TgZ(32,"div",55),i._UZ(33,"img",56)(34,"img",57),i.TgZ(35,"div"),i._UZ(36,"div",58),i.qZA()(),i.TgZ(37,"div",59)(38,"div",60)(39,"div",61),i._uU(40),i.ALo(41,"currency"),i.qZA(),i.TgZ(42,"div",62),i._uU(43),i.ALo(44,"capitalize"),i.ALo(45,"transloco"),i.qZA()(),i.TgZ(46,"div",60)(47,"div",63),i._uU(48),i.ALo(49,"currency"),i.qZA(),i.TgZ(50,"div",62),i._uU(51),i.ALo(52,"capitalize"),i.ALo(53,"transloco"),i.qZA()()()(),i.TgZ(54,"div",53)(55,"div",54),i._uU(56),i.ALo(57,"capitalize"),i.ALo(58,"transloco"),i.qZA(),i.TgZ(59,"div",55),i._UZ(60,"img",56)(61,"img",57),i.TgZ(62,"div"),i._UZ(63,"div",58),i.qZA()(),i.TgZ(64,"div",59)(65,"div",60)(66,"div",61),i._uU(67),i.qZA(),i.TgZ(68,"div",62),i._uU(69),i.ALo(70,"capitalize"),i.ALo(71,"transloco"),i.qZA()(),i.TgZ(72,"div",60)(73,"div",63),i._uU(74),i.qZA(),i.TgZ(75,"div",62),i._uU(76),i.ALo(77,"capitalize"),i.ALo(78,"transloco"),i.qZA()()()()(),i.BQk()),2&et){const K=i.oxw();i.xp6(4),i.hij(" ",i.lcZ(5,21,i.lcZ(6,23,"oscillators"))," "),i.xp6(6),i.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+K.gaugeRotate(K.analysisSell,K.analysisBuy)),i.xp6(5),i.hij(" ",K.analysisSell," "),i.xp6(2),i.hij(" ",i.lcZ(18,25,i.lcZ(19,27,"sell"))," "),i.xp6(5),i.hij(" ",K.analysisBuy," "),i.xp6(2),i.hij(" ",i.lcZ(25,29,i.lcZ(26,31,"buy"))," "),i.xp6(5),i.hij(" ",i.lcZ(30,33,i.lcZ(31,35,"trading amount"))," "),i.xp6(6),i.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+K.gaugeRotate(K.analysisSellAmount,K.analysisBuyAmount)),i.xp6(5),i.hij(" ",i.lcZ(41,37,K.analysisSellAmount)," "),i.xp6(3),i.hij(" ",i.lcZ(44,39,i.lcZ(45,41,"sell"))," "),i.xp6(5),i.hij(" ",i.lcZ(49,43,K.analysisBuyAmount)," "),i.xp6(3),i.hij(" ",i.lcZ(52,45,i.lcZ(53,47,"buy"))," "),i.xp6(5),i.hij(" ",i.lcZ(57,49,i.lcZ(58,51,"trading counter"))," "),i.xp6(6),i.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+K.gaugeRotate(K.analysisSellCount,K.analysisBuyCount)),i.xp6(5),i.hij(" ",K.analysisSellCount," "),i.xp6(2),i.hij(" ",i.lcZ(70,53,i.lcZ(71,55,"sell"))," "),i.xp6(5),i.hij(" ",K.analysisBuyCount," "),i.xp6(2),i.hij(" ",i.lcZ(77,57,i.lcZ(78,59,"buy"))," ")}}function St(et,J){1&et&&i._UZ(0,"div",73)}function Pt(et,J){1&et&&i._UZ(0,"div",74)}function wt(et,J){1&et&&i._UZ(0,"div",75)}function Tt(et,J){if(1&et&&(i.TgZ(0,"div"),i.YNc(1,St,1,0,"div",70),i.YNc(2,Pt,1,0,"div",71),i.YNc(3,wt,1,0,"div",72),i.qZA()),2&et){const K=J.$implicit;i.xp6(1),i.Q6J("ngIf",0==K),i.xp6(1),i.Q6J("ngIf",1==K),i.xp6(1),i.Q6J("ngIf",2==K)}}function Et(et,J){if(1&et&&(i.TgZ(0,"div",68),i.YNc(1,Tt,4,3,"div",69),i.qZA()),2&et){const K=J.$implicit;i.xp6(1),i.Q6J("ngForOf",K)}}function Ot(et,J){if(1&et&&(i.TgZ(0,"div",66),i.YNc(1,Et,2,1,"div",67),i.qZA()),2&et){const K=J.$implicit;i.xp6(1),i.Q6J("ngForOf",K)}}function Dt(et,J){if(1&et&&(i.TgZ(0,"div",64),i.YNc(1,Ot,2,1,"div",65),i.qZA()),2&et){const K=i.oxw();i.xp6(1),i.Q6J("ngForOf",K.getLastResults)}}function Lt(et,J){1&et&&i._UZ(0,"mat-icon",76)}function Rt(et,J){1&et&&i._UZ(0,"mat-icon",77)}function jt(et,J){1&et&&i._UZ(0,"mat-progress-spinner",78),2&et&&i.Q6J("diameter",24)("mode","indeterminate")}function Nt(et,J){1&et&&(i.TgZ(0,"div",62),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"trading time"))," "))}function Zt(et,J){1&et&&(i.TgZ(0,"div",62),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"wait for result"))," "))}function Vt(et,J){if(1&et&&(i.ynx(0),i.TgZ(1,"div"),i.YNc(2,Nt,4,5,"div",79),i.YNc(3,Zt,4,5,"div",79),i.TgZ(4,"div",80)(5,"span"),i._uU(6),i.ALo(7,"countdown"),i.qZA()()(),i.BQk()),2&et){const K=i.oxw();i.xp6(2),i.Q6J("ngIf",K.checkCanTrade()),i.xp6(1),i.Q6J("ngIf",!K.checkCanTrade()),i.xp6(3),i.hij(" ",i.lcZ(7,3,K.countdown)," ")}}function qt(et,J){1&et&&(i.TgZ(0,"div",81)(1,"span"),i._uU(2),i.ALo(3,"capitalize"),i.ALo(4,"transloco"),i.qZA()()),2&et&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,i.lcZ(4,3,"wait for processing"))," "))}function Kt(et,J){1&et&&i._UZ(0,"mat-progress-spinner",78),2&et&&i.Q6J("diameter",24)("mode","indeterminate")}function Jt(et,J){1&et&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"opening"))," "))}function Qt(et,J){if(1&et&&(i.TgZ(0,"span",85),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et){const K=i.oxw(3);i.Q6J("matBadge",K.getTradingCallsByStatus("opening").length),i.xp6(1),i.hij(" ",i.lcZ(2,2,i.lcZ(3,4,"opening"))," ")}}function $t(et,J){if(1&et&&(i.YNc(0,Jt,4,5,"span",2),i.YNc(1,Qt,4,6,"span",84)),2&et){const K=i.oxw(2);i.Q6J("ngIf",K.getTradingCallsByStatus("opening").length<=0),i.xp6(1),i.Q6J("ngIf",K.getTradingCallsByStatus("opening").length>0)}}function te(et,J){1&et&&(i.TgZ(0,"div",99),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"demo"))," "))}function ee(et,J){1&et&&i._UZ(0,"mat-icon",100)}function ie(et,J){1&et&&i._UZ(0,"mat-icon",101)}function se(et,J){1&et&&i._UZ(0,"div")}const Wt=function(et,J){return{"bg-lime-500":et,"bg-red-500":J}};function oe(et,J){if(1&et&&(i.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"div"),i._uU(4),i.qZA(),i.YNc(5,te,4,5,"div",91),i.qZA()(),i.TgZ(6,"div",92)(7,"div",93)(8,"button",94),i.YNc(9,ee,1,0,"mat-icon",95),i.YNc(10,ie,1,0,"mat-icon",96),i.qZA(),i.TgZ(11,"div",97),i._uU(12),i.ALo(13,"uppercase"),i.ALo(14,"transloco"),i.qZA()(),i.TgZ(15,"div",97),i._uU(16),i.ALo(17,"currency"),i.qZA()(),i.TgZ(18,"div",92)(19,"div",98),i._uU(20),i.ALo(21,"date"),i.qZA(),i.YNc(22,se,1,0,"div",2),i.qZA()()),2&et){const K=J.$implicit,st=i.oxw(3);i.xp6(4),i.hij(" ",K.symbol," "),i.xp6(1),i.Q6J("ngIf",K.cashAccount!=st.CashAccount.REAL),i.xp6(3),i.Q6J("ngClass",i.WLB(18,Wt,K.type==st.TradingCallType.BUY,K.type==st.TradingCallType.SELL)),i.xp6(1),i.Q6J("ngIf",K.type==st.TradingCallType.BUY),i.xp6(1),i.Q6J("ngIf",K.type==st.TradingCallType.SELL),i.xp6(2),i.hij(" ",i.lcZ(13,9,i.lcZ(14,11,K.type==st.TradingCallType.BUY?"buy":"sell"))," "),i.xp6(4),i.hij(" ",i.lcZ(17,13,K.betCash)," "),i.xp6(4),i.hij(" ",i.xi3(21,15,K.time,"YYYY/MM/dd HH:mm:ss")," "),i.xp6(2),i.Q6J("ngIf",0!=K.winType)}}function ne(et,J){if(1&et&&(i.ynx(0),i.TgZ(1,"div",86),i.YNc(2,oe,23,21,"div",87),i.qZA(),i.BQk()),2&et){const K=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",K.getTradingCallsByStatus("opening"))}}function re(et,J){1&et&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"closed"))," "))}function ae(et,J){if(1&et&&(i.TgZ(0,"span",85),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et){const K=i.oxw(3);i.Q6J("matBadge",K.getTradingCallsByStatus("closed").length),i.xp6(1),i.hij(" ",i.lcZ(2,2,i.lcZ(3,4,"closed"))," ")}}function le(et,J){if(1&et&&(i.YNc(0,re,4,5,"span",2),i.YNc(1,ae,4,6,"span",84)),2&et){const K=i.oxw(2);i.Q6J("ngIf",K.getTradingCallsByStatus("closed").length<=0),i.xp6(1),i.Q6J("ngIf",K.getTradingCallsByStatus("closed").length>0)}}function ce(et,J){1&et&&(i.TgZ(0,"div",99),i._uU(1),i.ALo(2,"capitalize"),i.ALo(3,"transloco"),i.qZA()),2&et&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,i.lcZ(3,3,"demo"))," "))}function he(et,J){1&et&&i._UZ(0,"mat-icon",100)}function de(et,J){1&et&&i._UZ(0,"mat-icon",101)}function pe(et,J){if(1&et&&(i.TgZ(0,"div",104),i._uU(1),i.ALo(2,"currency"),i.qZA()),2&et){const K=i.oxw(2).$implicit;i.xp6(1),i.hij(" +",i.lcZ(2,1,K.benefit)," ")}}function ue(et,J){if(1&et&&(i.TgZ(0,"div",105),i._uU(1),i.ALo(2,"currency"),i.qZA()),2&et){const K=i.oxw(2).$implicit;i.xp6(1),i.hij(" -",i.lcZ(2,1,K.betCash)," ")}}function fe(et,J){if(1&et&&(i.TgZ(0,"div"),i.YNc(1,pe,3,3,"div",102),i.YNc(2,ue,3,3,"div",103),i.qZA()),2&et){const K=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",K.type==K.winType),i.xp6(1),i.Q6J("ngIf",K.type!=K.winType)}}function ge(et,J){if(1&et&&(i.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"div"),i._uU(4),i.qZA(),i.YNc(5,ce,4,5,"div",91),i.qZA()(),i.TgZ(6,"div",92)(7,"div",93)(8,"button",94),i.YNc(9,he,1,0,"mat-icon",95),i.YNc(10,de,1,0,"mat-icon",96),i.qZA(),i.TgZ(11,"div",97),i._uU(12),i.ALo(13,"uppercase"),i.ALo(14,"transloco"),i.qZA()(),i.TgZ(15,"div",97),i._uU(16),i.ALo(17,"currency"),i.qZA()(),i.TgZ(18,"div",92)(19,"div",98),i._uU(20),i.ALo(21,"date"),i.qZA(),i.YNc(22,fe,3,2,"div",2),i.qZA()()),2&et){const K=J.$implicit,st=i.oxw(3);i.xp6(4),i.hij(" ",K.symbol," "),i.xp6(1),i.Q6J("ngIf",K.cashAccount!=st.CashAccount.REAL),i.xp6(3),i.Q6J("ngClass",i.WLB(18,Wt,K.type==st.TradingCallType.BUY,K.type==st.TradingCallType.SELL)),i.xp6(1),i.Q6J("ngIf",K.type==st.TradingCallType.BUY),i.xp6(1),i.Q6J("ngIf",K.type==st.TradingCallType.SELL),i.xp6(2),i.hij(" ",i.lcZ(13,9,i.lcZ(14,11,K.type==st.TradingCallType.BUY?"buy":"sell"))," "),i.xp6(4),i.hij(" ",i.lcZ(17,13,K.betCash)," "),i.xp6(4),i.hij(" ",i.xi3(21,15,K.time,"YYYY/MM/dd HH:mm:ss")," "),i.xp6(2),i.Q6J("ngIf",0!=K.winType)}}function me(et,J){if(1&et&&(i.ynx(0),i.TgZ(1,"div",86),i.YNc(2,ge,23,21,"div",87),i.qZA(),i.BQk()),2&et){const K=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",K.getTradingCallsByStatus("closed"))}}function xe(et,J){if(1&et&&(i.TgZ(0,"div",82)(1,"mat-tab-group")(2,"mat-tab"),i.YNc(3,$t,2,2,"ng-template",83),i.YNc(4,ne,3,1,"ng-container",2),i.qZA(),i.TgZ(5,"mat-tab"),i.YNc(6,le,2,2,"ng-template",83),i.YNc(7,me,3,1,"ng-container",2),i.qZA()()()),2&et){const K=i.oxw();let st,dt;i.xp6(4),i.Q6J("ngIf",(null==(st=K.getTradingCallsByStatus("opening"))?null:st.length)>0),i.xp6(3),i.Q6J("ngIf",(null==(dt=K.getTradingCallsByStatus("closed"))?null:dt.length)>0)}}const be=function(et,J){return{"md:w-8/12":et,"md:w-10/12":J}},ye=function(et){return{"grid-cols-2":et}};var Gt=(()=>{return(et=Gt||(Gt={}))[et.INDICATORS=1]="INDICATORS",et[et.LAST_RESULTS=2]="LAST_RESULTS",Gt;var et})();class _t{constructor(J,K,st,dt,ft,xt,kt,vt,It){this._socketService=J,this._tradingService=K,this._userService=st,this._router=dt,this._translocoService=ft,this._deviceDetectorService=xt,this._changeDetectorRef=kt,this._hotToastService=vt,this._soundService=It,this.CashAccount=H.q,this.TradingCallType=R,this.btcOptions={},this.canTrade=!1,this.calling=!1,this.betCash=0,this.klines=[],this.TabType=Gt,this.tab=Gt.INDICATORS,this.history=!1,this.capitalizePipe=new tt.e,this.maxDisplayPoint=M._.TRADES.MAX_DISPLAY_POINT_ON_PC,this._unsubscribeAll=new f.x}prepare(){this.tradingRoom$=this._tradingService.tradingRoom$,this.isMobile=this._deviceDetectorService.isMobile(),this.maxDisplayPoint=this.isMobile?M._.TRADES.MAX_DISPLAY_POINT_ON_MOBILE:M._.TRADES.MAX_DISPLAY_POINT_ON_PC,this._userService.user$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{this.user=J,this._changeDetectorRef.markForCheck()}),this._tradingService.rooms$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{this.tradingRooms=J,this._changeDetectorRef.markForCheck()}),this._tradingService.config$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{J&&(this.tradingConfig=J,this.betCash=this.tradingConfig.sliderMin,this._changeDetectorRef.markForCheck())}),this._tradingService.tradingCalls$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{J&&(this.tradingCalls=J,this._changeDetectorRef.markForCheck())}),this._tradingService.rounds$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{let K=[];J&&(K=J.map(st=>({symbol:st.symbol,time:st.time,openTime:st.openTime,closeTime:st.closeTime,openPrice:st.openPrice,highPrice:st.highPrice,lowPrice:st.lowPrice,closePrice:st.closePrice,closed:st.closed,canTrade:st.canTrade})).sort((st,dt)=>new Date(st.openTime).getTime()-new Date(dt.openTime).getTime()),this.klines=K,this._changeDetectorRef.markForCheck(),this.chart&&this.chart.ref$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(st=>{let ft=st.series[1],xt=st.series[2],kt=st.series[3];if(st.series[0].setData(K.map(vt=>({x:new Date(vt.openTime).getTime(),close:vt.closePrice,high:vt.highPrice,low:vt.lowPrice,open:vt.openPrice}))),ft.setData(K.map(vt=>({x:new Date(vt.openTime).getTime(),y:Math.abs(vt.closePrice-vt.openPrice),color:vt.closePrice-vt.openPrice>0?"#84CC16":"#EF4444"}))),this.bollingBands=this.calculateBollingerBands(K),xt.setData(this.bollingBands.map(vt=>[new Date(vt.openTime).getTime(),vt.lower,vt.upper])),kt.setData(this.bollingBands.map(vt=>[new Date(vt.openTime).getTime(),vt.average])),this.isMobile){let vt=new Date;st.xAxis[0].setExtremes(vt.getTime()-6e4*this.maxDisplayPoint,vt.getTime())}}))}),this._socketService.socket.fromEvent(z.V.NOW).subscribe(J=>{this.currentTime=J,this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(z.V.ROOM_JOIN).subscribe(J=>{this.tradingRoom=this.tradingRooms.find(K=>K.symbol==J),this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(z.V.KLINE).subscribe(J=>{this.analysisBuy=J.analysisBuy,this.analysisSell=J.analysisSell,this.analysisBuyAmount=J.analysisBuyAmount,this.analysisSellAmount=J.analysisSellAmount,this.analysisBuyCount=J.analysisBuyCount,this.analysisSellCount=J.analysisSellCount,this.canTrade=J.canTrade,this.countdown=a()(J.closeTime).diff(a()(J.time),"seconds");let K=new Date;this.chart.ref$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(st=>{let dt=this.klines.findIndex(ft=>new Date(ft.openTime).getTime()==new Date(J.openTime).getTime());if(dt>=0){this.klines[dt]=J;let ft=st.series[0].points.find(It=>new Date(It.x).getTime()==new Date(J.openTime).getTime());ft&&ft.update({close:J.closePrice,high:J.highPrice,low:J.lowPrice,open:J.openPrice},!0,!0);let xt=st.series[1].points[st.series[1].points.length-1];xt&&xt.update({x:new Date(J.openTime).getTime(),y:Math.abs(J.closePrice-J.openPrice),color:J.closePrice-J.openPrice>0?"#84CC16":"#EF4444"},!0,!0);let kt=st.series[2].points[st.series[1].points.length-1];kt&&(this.bollingBands=this.calculateBollingerBands(this.klines),kt.update([new Date(this.bollingBands[dt].openTime).getTime(),this.bollingBands[dt].lower,this.bollingBands[dt].upper],!0,!0));let vt=st.series[3].points[st.series[1].points.length-1];vt&&(this.bollingBands=this.calculateBollingerBands(this.klines),vt.update([new Date(this.bollingBands[dt].openTime).getTime(),this.bollingBands[dt].average],!0,!0))}else{this.klines.push(J),st.series[0].addPoint({x:new Date(J.openTime).getTime(),close:J.closePrice,high:J.highPrice,low:J.lowPrice,open:J.openPrice},!0,!0,!0),st.series[1].addPoint({x:new Date(J.openTime).getTime(),y:Math.abs(J.closePrice-J.openPrice),color:J.closePrice-J.openPrice>0?"#84CC16":"#EF4444"},!0,!0,!0);let ft=st.series[2];ft&&(this.bollingBands=this.calculateBollingerBands(this.klines),ft.addPoint([new Date(this.bollingBands[this.bollingBands.length-1].openTime).getTime(),this.bollingBands[this.bollingBands.length-1].lower,this.bollingBands[this.bollingBands.length-1].upper],!0,!0,!0)),st.series[3].addPoint([new Date(this.bollingBands[this.bollingBands.length-1].openTime).getTime(),this.bollingBands[this.bollingBands.length-1].average],!0,!0,!0)}if(this.isMobile){let ft=st.series[0].data[st.series[0].data.length-1]?.x;st.xAxis[0].setExtremes(K.getTime()-6e4*this.maxDisplayPoint,ft)}}),this._changeDetectorRef.markForCheck()}),this.tradingRoom$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(J=>{J&&(this.tradingRoom=J,this._socketService.socket.emit(z.V.ROOM_JOIN,J.symbol),this.updateRounds(J),this._changeDetectorRef.markForCheck())}),this.tradingRoom$.pipe(function Y(){return(0,N.e)((et,J)=>{let K,st=!1;et.subscribe((0,O.x)(J,dt=>{const ft=K;K=dt,st&&J.next([ft,dt]),st=!0}))})}(),(0,d.R)(this._unsubscribeAll)).subscribe(([J,K])=>{J&&this._socketService.socket.emit(z.V.ROOM_LEFT,J.symbol),this._socketService.socket.emit(z.V.ROOM_JOIN,K.symbol),this.updateRounds(K),this._changeDetectorRef.markForCheck()}),this._socketService.socket.on(z.V.disconnect,()=>{this._socketService.socket.emit(z.V.ROOM_JOIN,this.tradingRoom.symbol),this.updateRounds(this.tradingRoom),this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(z.V.TRADING_CONFIG).subscribe(J=>{this.tradingConfig=J,this._changeDetectorRef.markForCheck()}),this._prepareChartData()}ngOnInit(){this.prepare()}deactive(){this._socketService.socket.emit(z.V.ROOM_LEFT,this.tradingRoom.symbol)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}_prepareChartData(){let J=new q,K=new Z.H,st=this;this.chart=new W.Du({time:{useUTC:!1},chart:{panning:{enabled:!1},backgroundColor:"transparent",plotBackgroundImage:"/assets/images/trades/world_map_dot.svg"},credits:{enabled:!1},navigator:{enabled:!1},xAxis:[{lineColor:"#363A3E",lineWidth:1,labels:{enabled:!0}}],yAxis:[{gridLineColor:"#363A3E",gridLineDashStyle:"LongDash",height:"80%",labels:{align:"left",formatter(){return K.transform(this.value)},style:{color:"#FFFFFF"}},plotLines:[{color:"#581C87",width:1,id:"current-price",zIndex:100,dashStyle:"Solid"}],lineWidth:1,resize:{enabled:!0}},{labels:{enabled:!1},top:"80%",height:"20%",gridLineColor:""}],plotOptions:{candlestick:{pointWidth:8,maxPointWidth:12,lineColor:"#EF4444",upLineColor:"#84CC16",lineWidth:2,lastPrice:{enabled:!0,label:{enabled:!1},color:"#581C87"},lastVisiblePrice:{enabled:!0,label:{enabled:!0,align:"left",formatter:dt=>K.transform(dt)+"</br>"+J.transform(st.countdown),backgroundColor:"#581C87"}}},column:{minPointLength:2,pointWidth:8,maxPointWidth:12,borderRadius:0},areasplinerange:{fillOpacity:.1,lineColor:"#4ade80"},line:{dashStyle:"LongDash",color:"#f59e0b"},series:{states:{inactive:{opacity:1}},allowPointSelect:!1}},rangeSelector:{enabled:!1},tooltip:{split:!1,enabled:!0,animation:!1,useHTML:!0},series:[{type:"candlestick",id:"candlestick",name:this._translocoService.translate("aapl stock price"),data:[],dataGrouping:{enabled:!1},color:"#EF4444",upColor:"#84CC16",zIndex:10},{type:"column",id:"volume",name:this._translocoService.translate("volume"),data:[],dataGrouping:{enabled:!1},yAxis:1},{type:"areasplinerange",id:"price-range",name:this._translocoService.translate("price range"),data:[],dataGrouping:{enabled:!1},visible:!this.isMobile},{type:"line",id:"average-price",name:this._translocoService.translate("average price"),data:[],dataGrouping:{enabled:!1},visible:!this.isMobile}],stockTools:{gui:{enabled:!1}},scrollbar:{enabled:!1}})}onRoomChange(J){this._router.navigate(["/trades",J.symbol])}updateRounds(J){this._tradingService.getConfig(J).subscribe(),this._tradingService.getLatestRounds(J).subscribe(),this._userService.user&&this._tradingService.getLatestTradingCalls().subscribe()}addBetCash(J){this.betCash=this.betCash+J>this.userCash?this.userCash:this.betCash+J}call(J){if(!this._userService.user)return this._router.navigate(["/sign-in"],{queryParams:{redirectUrl:this._router.url}});this.betCash<=0||this._tradingService.call({userId:this._userService.user.id,symbol:this.tradingRoom.symbol,betCash:this.betCash,type:J}).subscribe(()=>{this._hotToastService.success(this.capitalizePipe.transform(this._translocoService.translate("order successfully")),M.Q),this._soundService.playOrder()},()=>{this._hotToastService.error(this.capitalizePipe.transform(this._translocoService.translate("order failed")),M.Q)})}checkCanTrade(){if(!this.tradingConfig||!this.canTrade||!this.klines)return!1;let J=Math.max(...this.klines.map(ft=>new Date(ft.openTime).getTime())),K=this.klines.find(ft=>new Date(ft.openTime).getTime()==J);if(!K)return!1;let st=G.getCloseDate(new Date(K.openTime));if(new Date(this.currentTime).getTime()>st.getTime()-this.tradingConfig.blockingTime||this.calling)return!1;if(!this.tradingCalls)return!0;let dt=this.tradingCalls.find(ft=>ft.symbol==this.tradingRoom.symbol&&new Date(ft.closeTime).getTime()==st.getTime());return!(dt&&new Date(dt.closeTime).getTime()>(new Date).getTime())}switchTab(J){this.tab=J}gaugeRotate(J,K){return J>K?"rotate-30":J<K?"rotate-[120deg]":"rotate-90"}get userCash(){return this.user.cashAccount===H.q.REAL?this.user.cash:this.user.demoCash??0}get getLastResults(){let J=this.klines.sort((xt,kt)=>new Date(xt.openTime).getTime()-new Date(kt.openTime).getTime()),K=[],st=20*(1+Math.ceil(J.length/20)),dt=0,ft=0;K[dt]=[],K[dt][ft]=[];for(let xt=0;xt<st;xt++)K[dt][ft].push(typeof J[xt]>"u"||null==J[xt]||!J[xt]?0:J[xt].closePrice>J[xt].openPrice?1:J[xt].closePrice<=J[xt].openPrice?2:0),K[dt][ft].length>=4&&(ft++,K[dt][ft]=[]),ft>=5&&(dt++,ft=0,K[dt]=[],K[dt][ft]=[]);return K}get countResult(){return{buy:this.klines.filter(J=>J.closePrice>J.openPrice).length,sell:this.klines.filter(J=>J.closePrice<=J.openPrice).length}}calculateBollingerBands(J,K=20,st=2){const dt=[];for(let ft=0;ft<J.length;ft++){const xt=J.slice(Math.max(0,ft-K+1),ft+1).map(zt=>zt.closePrice),kt=xt.reduce((zt,Ht)=>zt+Ht,0)/xt.length,vt=Math.sqrt(xt.reduce((zt,Ht)=>zt+Math.pow(Ht-kt,2),0)/xt.length);dt.push({openTime:J[ft].openTime,average:kt,upper:kt+st*vt,lower:kt-st*vt})}return dt}getTradingCallsByStatus(J){let K=new Date;return(this.tradingCalls??[]).filter(st=>"opening"==J?K.getTime()<new Date(st.closeTime).getTime():K.getTime()>=new Date(st.closeTime).getTime()).sort((st,dt)=>new Date(dt.openTime).getTime()-new Date(st.openTime).getTime())}toggleHistory(){this.history=!this.history,this._tradingService.getTradingCallToday().subscribe()}}_t.\u0275fac=function(J){return new(J||_t)(i.Y36($.$),i.Y36(C),i.Y36(it.K),i.Y36(B.F0),i.Y36(nt.Vn),i.Y36(ot.x0),i.Y36(i.sBO),i.Y36(rt.jE),i.Y36(lt.y))},_t.\u0275cmp=i.Xpm({type:_t,selectors:[["app-trading"]],viewQuery:function(J,K){if(1&J&&i.Gf(gt,5),2&J){let st;i.iGM(st=i.CRH())&&(K.btcChartComponent=st.first)}},decls:108,vars:104,consts:[["cdkScrollable","",1,"md:flex","items-start","w-full","overflow-y-scroll","overflow-x-hidden"],[1,"relative","w-full","h-90","md:h-160","bg-gray-50","dark:bg-transparent",3,"ngClass"],[4,"ngIf"],[1,"w-full","h-60","md:h-full","mt-0","md:mt-2",3,"chart"],[1,"relative"],[1,"flex","flex-auto","px-2","items-center","gap-4"],[1,"flex","gap-4"],[3,"click"],[4,"ngIf","ngIfElse"],["lastResults",""],[1,"relative","bottom-0","border-t","md:border-0","text-center","md:w-2/12","bg-card","dark:bg-default","mt-2"],[1,"flex","w-full","md:mb-2","items-center","justify-between","pt-2","md:pt-4","md:pb-2"],[1,"flex","flex-wrap","w-full","items-center","justify-center","text-center"],[1,"mr-2","font-medium"],[1,"mr-2","text-xl","font-medium","text-violet-600"],[1,"text-xl","font-semibold","text-teal-500"],["mat-icon-button","",1,"hidden","md:block",3,"click"],["svgIcon","feather:chevron-left",4,"ngIf"],["svgIcon","feather:chevron-right",4,"ngIf"],[1,"hidden","md:block","text-left","font-medium","px-2","pb-2"],["subscriptSizing","dynamic",1,"px-2","w-full","fuse-mat-dense","mt-2"],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:minus-circle"],[1,"mx-2"],["matInput","","type","number",1,"h-8",3,"ngModel","ngModelChange"],["svgIcon","heroicons_outline:plus-circle"],[1,"hidden","md:grid","grid-cols-3","px-2","pt-1","justify-between","gap-2",3,"ngClass"],["mat-flat-button","",1,"flex","justify-start",3,"click"],["svgIcon","heroicons_outline:plus-sm",1,"icon-size-3"],[1,"text-sm"],[1,"text-sm","truncate"],[1,"hidden","relative","md:flex","flex-auto","items-center","justify-center","px-2"],[1,"w-full",3,"showTickMarks","min","max","step"],["matSliderThumb","",3,"ngModel","ngModelChange"],[1,"flex","flex-auto","md:flex-col","px-2","justify-between","items-center","mt-4"],["mat-flat-button","",3,"disabled","click"],[1,"md:font-bold","md:text-2xl","mx-2"],["matIconSuffix","","svgIcon","heroicons_outline:trending-up"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-auto","rounded-m","w-full","mx-2","bg-transparent","items-center","justify-center","md:mx-0","md:my-2","md:p-6"],["tradingRoundLoading",""],["matIconSuffix","","svgIcon","heroicons_outline:trending-down"],["class","h-full w-2/12 border-l ml-2",4,"ngIf"],[1,"absolute","md:relative","top-2","left-2","z-10"],["subscriptSizing","dynamic",1,"min-w-32","rounded-md","bg-slate-700"],[1,"w-full",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","gap-1","md:gap-4"],["mat-button","",1,"bg-lime-500","rounded-md","p-1","md:p-3"],[1,"text-xs","md:text-md","font-semibold"],["mat-button","",1,"bg-red-500","rounded-md","p-1","md:p-3"],[1,"flex","items-center","justify-between","p-1","md:p-4","w-full","md:max-w-3xl","mx-auto"],[1,"w-24","md:w-48","justify-center"],[1,"relative","w-full","text-center","md:font-bold","text-xs","md:text-md","truncate"],[1,"relative","w-24","h-12","md:w-32","md:h-16","overflow-hidden","mx-auto"],["src","/assets/images/trades/gauge_bg.svg","alt","gauge_bg.svg",1,"absolute","w-24","md:w-32"],["src","/assets/images/trades/gauge_border.svg","alt","gauge_border.svg",1,"absolute","w-24","md:w-32"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","w-16","h-1","rounded-lg"],[1,"relative","flex","flex-auto","items-center","justify-between"],[1,"text-center"],[1,"text-xs","md:text-sm","font-semibold","text-red-500"],[1,"text-secondary","text-xs","md:text-sm"],[1,"text-xs","md:text-sm","font-semibold","text-lime-500"],["cdkScrollable","",1,"flex","justify-start","p-2","md:p-6","gap-4","md:gap-6","max-w-full","overflow-x-scroll"],["class","grid gap-1 grid-cols-5",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-5"],["class","grid gap-1 grid-cols-1",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-1"],[4,"ngFor","ngForOf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-slate-700",4,"ngIf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-lime-500",4,"ngIf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-red-500",4,"ngIf"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-slate-700"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-lime-500"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-red-500"],["svgIcon","feather:chevron-left"],["svgIcon","feather:chevron-right"],[3,"diameter","mode"],["class","text-secondary text-xs md:text-sm",4,"ngIf"],[1,"md:w-32","rounded-full","bg-card","p1","md:p-2","dark:bg-slate-800","md:text-xl"],[1,"rounded-full","bg-card","p1","md:p-2","text-xs","md:text-sm","text-secondary","dark:bg-slate-800"],[1,"h-full","w-2/12","border-l","ml-2"],["mat-tab-label",""],["matBadgeOverlap","false",3,"matBadge",4,"ngIf"],["matBadgeOverlap","false",3,"matBadge"],[1,"px-2","py-2","grid","grid-cols-1","gap-2"],["class","rounded-md shadow bg-card p-2",4,"ngFor","ngForOf"],[1,"rounded-md","shadow","bg-card","p-2"],[1,"flex","justify-between"],[1,"flex","items-center","gap-1"],["class","bg-primary rounded-full p-1 text-sm",4,"ngIf"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],["mat-icon-button","",1,"rounded-full","icon-size-6",3,"ngClass"],["svgIcon","heroicons_outline:trending-up","class","icon-size-6 text-white",4,"ngIf"],["svgIcon","heroicons_outline:trending-down","class","icon-size-6 text-white",4,"ngIf"],[1,"font-semibold"],[1,"text-secondary","text-sm"],[1,"bg-primary","rounded-full","p-1","text-sm"],["svgIcon","heroicons_outline:trending-up",1,"icon-size-6","text-white"],["svgIcon","heroicons_outline:trending-down",1,"icon-size-6","text-white"],["class","text-lime-500 font-semibold",4,"ngIf"],["class","text-red-500 font-semibold",4,"ngIf"],[1,"text-lime-500","font-semibold"],[1,"text-red-500","font-semibold"]],template:function(J,K){if(1&J&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ht,5,2,"ng-container",2),i._UZ(3,"div",3),i.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),i.NdJ("click",function(){return K.switchTab(K.TabType.INDICATORS)}),i._uU(8),i.ALo(9,"capitalize"),i.ALo(10,"transloco"),i.qZA(),i.TgZ(11,"div",7),i.NdJ("click",function(){return K.switchTab(K.TabType.LAST_RESULTS)}),i._uU(12),i.ALo(13,"capitalize"),i.ALo(14,"transloco"),i.qZA()(),i.YNc(15,mt,16,12,"ng-container",2),i.qZA(),i.YNc(16,bt,79,61,"ng-container",8),i.YNc(17,Dt,2,1,"ng-template",null,9,i.W1O),i.qZA()(),i.TgZ(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13),i._uU(23),i.ALo(24,"capitalize"),i.ALo(25,"transloco"),i.qZA(),i.TgZ(26,"div",14),i._uU(27),i.qZA(),i.TgZ(28,"div",15),i._uU(29),i.ALo(30,"currency"),i.qZA()(),i.TgZ(31,"button",16),i.NdJ("click",function(){return K.toggleHistory()}),i.YNc(32,Lt,1,0,"mat-icon",17),i.YNc(33,Rt,1,0,"mat-icon",18),i.qZA()(),i.TgZ(34,"div",19),i._uU(35),i.ALo(36,"capitalize"),i.ALo(37,"transloco"),i.qZA(),i.TgZ(38,"mat-form-field",20)(39,"button",21),i.NdJ("click",function(){return K.addBetCash(-K.tradingConfig.sliderStep)}),i._UZ(40,"mat-icon",22),i.qZA(),i.TgZ(41,"span",23),i._uU(42),i.ALo(43,"capitalize"),i.ALo(44,"transloco"),i.qZA(),i.TgZ(45,"input",24),i.NdJ("ngModelChange",function(dt){return K.betCash=dt}),i.qZA(),i.TgZ(46,"button",21),i.NdJ("click",function(){return K.addBetCash(K.tradingConfig.sliderStep)}),i._UZ(47,"mat-icon",25),i.qZA()(),i.TgZ(48,"div",26)(49,"button",27),i.NdJ("click",function(){return K.addBetCash(5)}),i._UZ(50,"mat-icon",28),i.TgZ(51,"span",29),i._uU(52),i.ALo(53,"capitalize"),i.ALo(54,"transloco"),i.qZA()(),i.TgZ(55,"button",27),i.NdJ("click",function(){return K.addBetCash(10)}),i._UZ(56,"mat-icon",28),i.TgZ(57,"span",29),i._uU(58),i.ALo(59,"capitalize"),i.ALo(60,"transloco"),i.qZA()(),i.TgZ(61,"button",27),i.NdJ("click",function(){return K.addBetCash(20)}),i._UZ(62,"mat-icon",28),i.TgZ(63,"span",29),i._uU(64),i.ALo(65,"capitalize"),i.ALo(66,"transloco"),i.qZA()(),i.TgZ(67,"button",27),i.NdJ("click",function(){return K.addBetCash(50)}),i._UZ(68,"mat-icon",28),i.TgZ(69,"span",29),i._uU(70),i.ALo(71,"capitalize"),i.ALo(72,"transloco"),i.qZA()(),i.TgZ(73,"button",27),i.NdJ("click",function(){return K.addBetCash(100)}),i._UZ(74,"mat-icon",28),i.TgZ(75,"span",29),i._uU(76),i.ALo(77,"capitalize"),i.ALo(78,"transloco"),i.qZA()(),i.TgZ(79,"button",27),i.NdJ("click",function(){return K.addBetCash(K.userCash)}),i._UZ(80,"mat-icon",28),i.TgZ(81,"span",30),i._uU(82),i.ALo(83,"capitalize"),i.ALo(84,"transloco"),i.qZA()()(),i.TgZ(85,"div",31)(86,"mat-slider",32)(87,"input",33),i.NdJ("ngModelChange",function(dt){return K.betCash=dt}),i.qZA()()(),i.TgZ(88,"div",34)(89,"button",35),i.NdJ("click",function(){return K.call(1)}),i.TgZ(90,"span",36),i._uU(91),i.ALo(92,"capitalize"),i.ALo(93,"transloco"),i.qZA(),i._UZ(94,"mat-icon",37),i.YNc(95,jt,1,2,"mat-progress-spinner",38),i.qZA(),i.TgZ(96,"div",39),i.YNc(97,Vt,8,5,"ng-container",8),i.YNc(98,qt,5,5,"ng-template",null,40,i.W1O),i.qZA(),i.TgZ(100,"button",35),i.NdJ("click",function(){return K.call(2)}),i.TgZ(101,"span",36),i._uU(102),i.ALo(103,"capitalize"),i.ALo(104,"transloco"),i.qZA(),i._UZ(105,"mat-icon",41),i.YNc(106,Kt,1,2,"mat-progress-spinner",38),i.qZA()()(),i.YNc(107,xe,8,2,"div",42),i.qZA()),2&J){const st=i.MAs(18),dt=i.MAs(99);let ft,xt,kt,vt,It;i.xp6(1),i.Q6J("ngClass",i.WLB(99,be,K.history,!K.history)),i.xp6(1),i.Q6J("ngIf",null==K.tradingRooms?null:K.tradingRooms.length),i.xp6(1),i.Q6J("chart",K.chart),i.xp6(4),i.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(K.tab==K.TabType.INDICATORS?"border-b-2 border-b-purple-500 md:font-bold":"")),i.xp6(1),i.hij(" ",i.lcZ(9,45,i.lcZ(10,47,"indicators"))," "),i.xp6(3),i.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(K.tab==K.TabType.LAST_RESULTS?"border-b-2 border-b-purple-500 md:font-bold":"")),i.xp6(1),i.hij(" ",i.lcZ(13,49,i.lcZ(14,51,"last results"))," "),i.xp6(3),i.Q6J("ngIf",K.tab===K.TabType.LAST_RESULTS),i.xp6(1),i.Q6J("ngIf",K.tab===K.TabType.INDICATORS)("ngIfElse",st),i.xp6(7),i.hij(" ",i.lcZ(24,53,i.lcZ(25,55,"profit"))," "),i.xp6(4),i.hij(" ",null!==(ft=null==K.tradingConfig?null:K.tradingConfig.benefitPercent)&&void 0!==ft?ft:0,"% "),i.xp6(2),i.hij(" ",i.lcZ(30,57,null!==(xt=K.betCash*(null!==(xt=null==K.tradingConfig?null:K.tradingConfig.benefitPercent)&&void 0!==xt?xt:0)/100)&&void 0!==xt?xt:0)," "),i.xp6(3),i.Q6J("ngIf",!K.history),i.xp6(1),i.Q6J("ngIf",K.history),i.xp6(2),i.hij(" ",i.lcZ(36,59,i.lcZ(37,61,"bet amount"))," "),i.xp6(7),i.Oqu(i.lcZ(43,63,i.lcZ(44,65,"$"))),i.xp6(3),i.Q6J("ngModel",K.betCash),i.xp6(3),i.Q6J("ngClass",i.VKq(102,ye,K.history)),i.xp6(4),i.hij(" ",i.lcZ(53,67,i.lcZ(54,69,"5"))," "),i.xp6(6),i.hij(" ",i.lcZ(59,71,i.lcZ(60,73,"10"))," "),i.xp6(6),i.hij(" ",i.lcZ(65,75,i.lcZ(66,77,"20"))," "),i.xp6(6),i.hij(" ",i.lcZ(71,79,i.lcZ(72,81,"50"))," "),i.xp6(6),i.hij(" ",i.lcZ(77,83,i.lcZ(78,85,"100"))," "),i.xp6(6),i.hij(" ",i.lcZ(83,87,i.lcZ(84,89,"all"))," "),i.xp6(4),i.Q6J("showTickMarks",!0)("min",null!==(kt=null==K.tradingConfig?null:K.tradingConfig.sliderMin)&&void 0!==kt?kt:0)("max",null!==(vt=null==K.tradingConfig?null:K.tradingConfig.sliderMax)&&void 0!==vt?vt:0)("step",null!==(It=null==K.tradingConfig?null:K.tradingConfig.sliderStep)&&void 0!==It?It:0),i.xp6(1),i.Q6J("ngModel",K.betCash),i.xp6(2),i.Tol((K.checkCanTrade()?"bg-lime-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),i.Q6J("disabled",!K.checkCanTrade()),i.xp6(2),i.hij(" ",i.lcZ(92,91,i.lcZ(93,93,"buy"))," "),i.xp6(4),i.Q6J("ngIf",K.calling),i.xp6(2),i.Q6J("ngIf",!!K.countdown)("ngIfElse",dt),i.xp6(3),i.Tol((K.checkCanTrade()?"bg-red-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),i.Q6J("disabled",!K.checkCanTrade()),i.xp6(2),i.hij(" ",i.lcZ(103,95,i.lcZ(104,97,"sell"))," "),i.xp6(4),i.Q6J("ngIf",K.calling),i.xp6(1),i.Q6J("ngIf",K.history)}},dependencies:[Mt.mk,Mt.sg,Mt.O5,At.lW,At.RK,D.KE,D.R9,V.Hw,X.Nt,at.PQ,j.gD,T.ey,I.uD,I.uX,I.SP,E.pH,E.$5,m,ut.Fj,ut.wV,ut.JJ,ut.On,W.Dm,Mt.uU,tt.e,q,Z.H,pt.s,nt.Ot]});class Yt{canDeactivate(J,K,st,dt){return J.deactive(),!0}}Yt.\u0275fac=function(J){return new(J||Yt)},Yt.\u0275prov=i.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"});const ve=[{path:"",component:_t,resolve:{FirstTradingRoomsResolver:P},canDeactivate:[Yt]},{path:":symbol",component:_t,resolve:{TradingRoomsResolver:b,TradingRoomResolver:S},canDeactivate:[Yt]}];class Xt{}Xt.\u0275fac=function(J){return new(J||Xt)},Xt.\u0275mod=i.oAB({type:Xt}),Xt.\u0275inj=i.cJS({imports:[B.Bz.forChild(ve),B.Bz]});var Ae=ct(6270),Se=ct(4346),Ce=ct(4949),Me=ct(9457),Pe=ct(5002),we=ct(3885);class Ft{}Ft.\u0275fac=function(J){return new(J||Ft)},Ft.\u0275mod=i.oAB({type:Ft}),Ft.\u0275inj=i.cJS({providers:[{provide:W.mA,useFactory:()=>[Ae,Se,Ce,Me,Pe,we]}],imports:[Mt.ez,Xt,At.ot,Q.vV,D.lN,V.Ps,X.c,F.Tx,j.LD,U.SJ,_.JX,L.p0,I.Nh,E.KP,g,u.X,l.m]});class Ut{}Ut.\u0275fac=function(J){return new(J||Ut)},Ut.\u0275mod=i.oAB({type:Ut}),Ut.\u0275inj=i.cJS({imports:[Mt.ez,Ft]})},6270:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Extensions/Pane.js",[D["Core/Chart/Chart.js"],D["Series/CenteredUtilities.js"],D["Core/Globals.js"],D["Core/Pointer.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{addEvent:L,correctFloat:I,defined:E,extend:i,merge:T,pick:A,splat:v}=_;function x(h,m,g,u,l){let f=!0;const d=g[0],p=g[1],M=Math.sqrt(Math.pow(h-d,2)+Math.pow(m-p,2));if(E(u)&&E(l)){const k=Math.atan2(I(m-p,8),I(h-d,8));l!==u&&(f=u>l?k>=u&&k<=Math.PI||k<=l&&k>=-Math.PI:k>=u&&k<=I(l,8))}return M<=Math.ceil(g[2]/2)&&f}return X.prototype.collectionsWithUpdate.push("pane"),X.prototype.getHoverPane=function(h){const m=this;let g;return h&&m.pane.forEach(u=>{x(h.chartX-m.plotLeft,h.chartY-m.plotTop,u.center)&&(g=u)}),g},L(X,"afterIsInsidePlot",function(h){this.polar&&(h.options.inverted&&([h.x,h.y]=[h.y,h.x]),h.isInsidePlot=this.pane.some(g=>x(h.x,h.y,g.center,g.axis&&g.axis.normalizedStartAngleRad,g.axis&&g.axis.normalizedEndAngleRad)))}),L(U,"beforeGetHoverData",function(h){const m=this.chart;m.polar?(m.hoverPane=m.getHoverPane(h),h.filter=function(g){return g.visible&&!(!h.shared&&g.directTouch)&&A(g.options.enableMouseTracking,!0)&&(!m.hoverPane||g.xAxis.pane===m.hoverPane)}):m.hoverPane=void 0}),L(U,"afterGetHoverData",function(h){const m=this.chart;h.hoverPoint&&h.hoverPoint.plotX&&h.hoverPoint.plotY&&m.hoverPane&&!x(h.hoverPoint.plotX,h.hoverPoint.plotY,m.hoverPane.center)&&(h.hoverPoint=void 0)}),j.Pane=class y{constructor(m,g){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(m,g)}init(m,g){this.chart=g,this.background=[],g.pane.push(this),this.setOptions(m)}setOptions(m){this.options=m=T(this.defaultOptions,this.chart.angular?{background:{}}:void 0,m)}render(){let l,f,m=this.options,g=this.options.background;if(this.group||(this.group=this.chart.renderer.g("pane-group").attr({zIndex:m.zIndex||0}).add()),this.updateCenter(),g)for(g=v(g),l=Math.max(g.length,this.background.length||0),f=0;f<l;f++)g[f]&&this.axis?this.renderBackground(T(this.defaultBackgroundOptions,g[f]),f):this.background[f]&&(this.background[f]=this.background[f].destroy(),this.background.splice(f,1))}renderBackground(m,g){let u="animate",l={class:"highcharts-pane "+(m.className||"")};this.chart.styledMode||i(l,{fill:m.backgroundColor,stroke:m.borderColor,"stroke-width":m.borderWidth}),this.background[g]||(this.background[g]=this.chart.renderer.path().add(this.group),u="attr"),this.background[g][u]({d:this.axis.getPlotBandPath(m.from,m.to,m)}).attr(l)}updateCenter(m){this.center=(m||this.axis||{}).center=F.getCenter.call(this)}update(m,g){T(!0,this.options,m),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(u){u.pane===this&&(u.pane=null,u.update({},g))},this)}},j.Pane}),V(D,"Series/AreaRange/AreaRangePoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F){const{area:{prototype:{pointClass:j,pointClass:{prototype:U}}}}=X.seriesTypes,{defined:_,isNumber:L}=F;return class I extends j{constructor(){super(...arguments),this.high=void 0,this.low=void 0,this.options=void 0,this.plotX=void 0,this.series=void 0}setState(){const i=this.state,T=this.series,A=T.chart.polar;_(this.plotHigh)||(this.plotHigh=T.yAxis.toPixels(this.high,!0)),_(this.plotLow)||(this.plotLow=this.plotY=T.yAxis.toPixels(this.low,!0)),T.stateMarkerGraphic&&(T.lowerStateMarkerGraphic=T.stateMarkerGraphic,T.stateMarkerGraphic=T.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,A&&L(this.plotHighX)&&(this.plotX=this.plotHighX),U.setState.apply(this,arguments),this.state=i,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],A&&L(this.plotLowX)&&(this.plotX=this.plotLowX),T.stateMarkerGraphic&&(T.upperStateMarkerGraphic=T.stateMarkerGraphic,T.stateMarkerGraphic=T.lowerStateMarkerGraphic,T.lowerStateMarkerGraphic=void 0),U.setState.apply(this,arguments)}haloPath(){const i=this.series.chart.polar;let T=[];return this.plotY=this.plotLow,i&&L(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(T=U.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,i&&L(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(T=T.concat(U.haloPath.apply(this,arguments))),T}isValid(){return L(this.low)&&L(this.high)}}}),V(D,"Series/AreaRange/AreaRangeSeries.js",[D["Series/AreaRange/AreaRangePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{noop:_}=F,{area:L,area:{prototype:I},column:{prototype:E}}=j.seriesTypes,{addEvent:i,defined:T,extend:A,isArray:v,isNumber:y,pick:x,merge:h}=U;class g extends L{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.lowerStateMarkerGraphic=void 0,this.xAxis=void 0}toYData(l){return[l.low,l.high]}highToXY(l){const f=this.chart,d=this.xAxis.postTranslate(l.rectPlotX||0,this.yAxis.len-(l.plotHigh||0));l.plotHighX=d.x-f.plotLeft,l.plotHigh=d.y-f.plotTop,l.plotLowX=l.plotX}getGraphPath(l){const f=[],d=[],p=I.getGraphPath,M=this.options,k=this.chart.polar,a=k&&!1!==M.connectEnds,o=M.connectNulls;let s,t,e,n=M.step;for(s=(l=l||this.points).length;s--;){t=l[s];const P=k?{plotX:t.rectPlotX,plotY:t.yBottom,doCurve:!1}:{plotX:t.plotX,plotY:t.plotY,doCurve:!1};!t.isNull&&!a&&!o&&(!l[s+1]||l[s+1].isNull)&&d.push(P),e={polarPlotY:t.polarPlotY,rectPlotX:t.rectPlotX,yBottom:t.yBottom,plotX:x(t.plotHighX,t.plotX),plotY:t.plotHigh,isNull:t.isNull},d.push(e),f.push(e),!t.isNull&&!a&&!o&&(!l[s-1]||l[s-1].isNull)&&d.push(P)}const c=p.call(this,l);n&&(!0===n&&(n="left"),M.step={left:"right",center:"center",right:"left"}[n]);const r=p.call(this,f),C=p.call(this,d);M.step=n;const b=[].concat(c,r);return!this.chart.polar&&C[0]&&"M"===C[0][0]&&(C[0]=["L",C[0][1],C[0][2]]),this.graphPath=b,this.areaPath=c.concat(C),b.isArea=!0,b.xMap=c.xMap,this.areaPath.xMap=c.xMap,b}drawDataLabels(){const l=this.points,f=l.length,d=[],p=this.options.dataLabels,M=this.chart.inverted;let k,a,o,s,t;if(p){if(v(p)?(s=p[0]||{enabled:!1},t=p[1]||{enabled:!1}):(s=A({},p),s.x=p.xHigh,s.y=p.yHigh,t=A({},p),t.x=p.xLow,t.y=p.yLow),s.enabled||this._hasPointLabels){for(k=f;k--;)if(a=l[k],a){const{plotHigh:e=0,plotLow:n=0}=a;o=s.inside?e<n:e>n,a.y=a.high,a._plotY=a.plotY,a.plotY=e,d[k]=a.dataLabel,a.dataLabel=a.dataLabelUpper,a.below=o,M?s.align||(s.align=o?"right":"left"):s.verticalAlign||(s.verticalAlign=o?"top":"bottom")}for(this.options.dataLabels=s,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments),k=f;k--;)a=l[k],a&&(a.dataLabelUpper=a.dataLabel,a.dataLabel=d[k],delete a.dataLabels,a.y=a.low,a.plotY=a._plotY)}if(t.enabled||this._hasPointLabels){for(k=f;k--;)if(a=l[k],a){const{plotHigh:e=0,plotLow:n=0}=a;o=t.inside?e<n:e>n,a.below=!o,M?t.align||(t.align=o?"left":"right"):t.verticalAlign||(t.verticalAlign=o?"bottom":"top")}this.options.dataLabels=t,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments)}if(s.enabled)for(k=f;k--;)a=l[k],a&&(a.dataLabels=[a.dataLabelUpper,a.dataLabel].filter(function(e){return!!e}));this.options.dataLabels=p}}alignDataLabel(){E.alignDataLabel.apply(this,arguments)}drawPoints(){const l=this,f=l.points.length;let d,p;for(I.drawPoints.apply(l,arguments),d=0;d<f;)p=l.points[d],p.graphics=p.graphics||[],p.origProps={plotY:p.plotY,plotX:p.plotX,isInside:p.isInside,negative:p.negative,zone:p.zone,y:p.y},(p.graphic||p.graphics[0])&&(p.graphics[0]=p.graphic),p.graphic=p.graphics[1],p.plotY=p.plotHigh,T(p.plotHighX)&&(p.plotX=p.plotHighX),p.y=x(p.high,p.origProps.y),p.negative=p.y<(l.options.threshold||0),l.zones.length&&(p.zone=p.getZone()),l.chart.polar||(p.isInside=p.isTopInside=typeof p.plotY<"u"&&p.plotY>=0&&p.plotY<=l.yAxis.len&&p.plotX>=0&&p.plotX<=l.xAxis.len),d++;for(I.drawPoints.apply(l,arguments),d=0;d<f;)p=l.points[d],p.graphics=p.graphics||[],(p.graphic||p.graphics[1])&&(p.graphics[1]=p.graphic),p.graphic=p.graphics[0],p.origProps&&(A(p,p.origProps),delete p.origProps),d++}}return g.defaultOptions=h(L.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),i(g,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(u=>{const l=u.high,f=u.plotY;u.isNull?u.plotY=void 0:(u.plotLow=f,u.plotHigh=y(l)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(l):l,!1,!0,void 0,!0):void 0,this.dataModify&&(u.yBottom=u.plotHigh))})},{order:0}),i(g,"afterTranslate",function(){this.points.forEach(l=>{if(this.chart.polar)this.highToXY(l),l.plotLow=l.plotY,l.tooltipPos=[((l.plotHighX||0)+(l.plotLowX||0))/2,((l.plotHigh||0)+(l.plotLow||0))/2];else{const f=l.pos(!1,l.plotLow),d=l.pos(!1,l.plotHigh);f&&d&&(f[0]=(f[0]+d[0])/2,f[1]=(f[1]+d[1])/2),l.tooltipPos=f}})},{order:3}),A(g.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:X,pointValKey:"low",setStackedPoints:_}),j.registerSeriesType("arearange",g),g}),V(D,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[D["Series/AreaRange/AreaRangeSeries.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j){const{spline:{prototype:U}}=F.seriesTypes,{merge:_,extend:L}=j;class I extends X{constructor(){super(...arguments),this.options=void 0,this.data=void 0,this.points=void 0}}return I.defaultOptions=_(X.defaultOptions),L(I.prototype,{getPointSpline:U.getPointSpline}),F.registerSeriesType("areasplinerange",I),I}),V(D,"Series/BoxPlot/BoxPlotSeries.js",[D["Series/Column/ColumnSeries.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{noop:_}=F,{extend:L,merge:I,pick:E}=U;class i extends X{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(){return{}}translate(){const A=this,v=A.yAxis,y=A.pointArrayMap;super.translate.apply(A),A.points.forEach(function(x){y.forEach(function(h){null!==x[h]&&(x[h+"Plot"]=v.translate(x[h],0,1,0,1))}),x.plotHigh=x.highPlot})}drawPoints(){let m,g,u,l,f,p,a,o,s,t,n,A=this,y=A.options,x=A.chart,h=x.renderer,M=0,e=!1!==A.doQuartiles,c=A.options.whiskerLength;A.points.forEach(function(r){let C=r.graphic,b=C?"animate":"attr",P=r.shapeArgs,S={},w={},B={},N={},O=r.color||A.color;if(typeof r.plotY<"u"){let Y;a=Math.round(P.width),o=Math.floor(P.x),s=o+a,t=Math.round(a/2),m=Math.floor(e?r.q1Plot:r.lowPlot),g=Math.floor(e?r.q3Plot:r.lowPlot),u=Math.floor(r.highPlot),l=Math.floor(r.lowPlot),C||(r.graphic=C=h.g("point").add(A.group),r.stem=h.path().addClass("highcharts-boxplot-stem").add(C),c&&(r.whiskers=h.path().addClass("highcharts-boxplot-whisker").add(C)),e&&(r.box=h.path(void 0).addClass("highcharts-boxplot-box").add(C)),r.medianShape=h.path(void 0).addClass("highcharts-boxplot-median").add(C)),x.styledMode||(w.stroke=r.stemColor||y.stemColor||O,w["stroke-width"]=E(r.stemWidth,y.stemWidth,y.lineWidth),w.dashstyle=r.stemDashStyle||y.stemDashStyle||y.dashStyle,r.stem.attr(w),c&&(B.stroke=r.whiskerColor||y.whiskerColor||O,B["stroke-width"]=E(r.whiskerWidth,y.whiskerWidth,y.lineWidth),B.dashstyle=r.whiskerDashStyle||y.whiskerDashStyle||y.dashStyle,r.whiskers.attr(B)),e&&(S.fill=r.fillColor||y.fillColor||O,S.stroke=y.lineColor||O,S["stroke-width"]=y.lineWidth||0,S.dashstyle=r.boxDashStyle||y.boxDashStyle||y.dashStyle,r.box.attr(S)),N.stroke=r.medianColor||y.medianColor||O,N["stroke-width"]=E(r.medianWidth,y.medianWidth,y.lineWidth),N.dashstyle=r.medianDashStyle||y.medianDashStyle||y.dashStyle,r.medianShape.attr(N)),p=r.stem.strokeWidth()%2/2,M=o+t+p,Y=[["M",M,g],["L",M,u],["M",M,m],["L",M,l]],r.stem[b]({d:Y}),e&&(p=r.box.strokeWidth()%2/2,m=Math.floor(m)+p,g=Math.floor(g)+p,o+=p,s+=p,Y=[["M",o,g],["L",o,m],["L",s,m],["L",s,g],["L",o,g],["Z"]],r.box[b]({d:Y})),c&&(p=r.whiskers.strokeWidth()%2/2,u+=p,l+=p,n=/%$/.test(c)?t*parseFloat(c)/100:c/2,Y=[["M",M-n,u],["L",M+n,u],["M",M-n,l],["L",M+n,l]],r.whiskers[b]({d:Y})),f=Math.round(r.medianPlot),p=r.medianShape.strokeWidth()%2/2,f+=p,Y=[["M",o,f],["L",s,f]],r.medianShape[b]({d:Y})}})}toYData(A){return[A.low,A.q1,A.median,A.q3,A.high]}}return i.defaultOptions=I(X.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),L(i.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:_,setStackedPoints:_}),j.registerSeriesType("boxplot",i),i}),V(D,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),V(D,"Series/Bubble/BubbleLegendItem.js",[D["Core/Color/Color.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{parse:_}=X,{noop:L}=j,{arrayMax:I,arrayMin:E,isNumber:i,merge:T,pick:A,stableSort:v}=U;return class y{constructor(h,m){this.chart=void 0,this.legend=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=L,this.init(h,m)}init(h,m){this.options=h,this.visible=!0,this.chart=m.chart,this.legend=m}addToLegend(h){h.splice(this.options.legendIndex,0,this)}drawLegendSymbol(h){const g=A(h.options.itemDistance,20),u=this.legendItem||{},l=this.options,f=l.ranges,d=l.connectorDistance;let p;if(!f||!f.length||!i(f[0].value))return void(h.options.bubbleLegend.autoRanges=!0);v(f,function(o,s){return s.value-o.value}),this.ranges=f,this.setOptions(),this.render();const M=this.getMaxLabelSize(),k=this.ranges[0].radius,a=2*k;p=d-k+M.width,p=p>0?p:0,this.maxLabel=M,this.movementX="left"===l.labels.align?p:0,u.labelWidth=a+p+g,u.labelHeight=a+M.height/2}setOptions(){const h=this.ranges,m=this.options,g=this.chart.series[m.seriesIndex],u=this.legend.baseline,l={zIndex:m.zIndex,"stroke-width":m.borderWidth},f={zIndex:m.zIndex,"stroke-width":m.connectorWidth},d={align:this.legend.options.rtl||"left"===m.labels.align?"right":"left",zIndex:m.zIndex},p=g.options.marker.fillOpacity,M=this.chart.styledMode;h.forEach(function(k,a){M||(l.stroke=A(k.borderColor,m.borderColor,g.color),l.fill=A(k.color,m.color,1!==p?_(g.color).setOpacity(p).get("rgba"):g.color),f.stroke=A(k.connectorColor,m.connectorColor,g.color)),h[a].radius=this.getRangeRadius(k.value),h[a]=T(h[a],{center:h[0].radius-h[a].radius+u}),M||T(!0,h[a],{bubbleAttribs:T(l),connectorAttribs:T(f),labelAttribs:d})},this)}getRangeRadius(h){const m=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,m.ranges[m.ranges.length-1].value,m.ranges[0].value,m.minSize,m.maxSize,h)}render(){const h=this.legendItem||{},m=this.chart.renderer,g=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),h.symbol=m.g("bubble-legend"),h.label=m.g("bubble-legend-item"),h.symbol.translateX=0,h.symbol.translateY=0,h.symbol.add(h.label),h.label.add(h.group);for(const u of this.ranges)u.value>=g&&this.renderRange(u);this.hideOverlappingLabels()}renderRange(h){const m=this.ranges[0],g=this.legend,u=this.options,l=u.labels,f=this.chart,d=f.series[u.seriesIndex],p=f.renderer,M=this.symbols,k=M.labels,a=h.center,o=Math.abs(h.radius),s=u.connectorDistance||0,t=l.align,c=u.connectorWidth,r=m.radius||0,C=a-o-u.borderWidth/2+c/2,b=(C%1?1:.5)-(c%2?0:.5),P=p.styledMode;let S=g.options.rtl||"left"===t?-s:s;"center"===t&&(S=0,u.connectorDistance=0,h.labelAttribs.align="center"),M.bubbleItems.push(p.circle(r,a+b,o).attr(P?{}:h.bubbleAttribs).addClass((P?"highcharts-color-"+d.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(u.className||"")).add(this.legendItem.symbol)),M.connectors.push(p.path(p.crispLine([["M",r,C],["L",r+S,C]],u.connectorWidth)).attr(P?{}:h.connectorAttribs).addClass((P?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(u.connectorClassName||"")).add(this.legendItem.symbol));const w=p.text(this.formatLabel(h)).attr(P?{}:h.labelAttribs).css(P?{}:l.style).addClass("highcharts-bubble-legend-labels "+(u.labels.className||"")).add(this.legendItem.symbol),B={x:r+S+u.labels.x,y:C+u.labels.y+.4*w.getBBox().height};w.attr(B),k.push(w),w.placed=!0,w.alignAttr=B}getMaxLabelSize(){let m,g;return this.symbols.labels.forEach(function(u){g=u.getBBox(!0),m=m?g.width>m.width?g:m:g}),m||{}}formatLabel(h){const m=this.options,g=m.labels.formatter,u=m.labels.format,{numberFormatter:l}=this.chart;return u?F.format(u,h):g?g.call(h):l(h.value,1)}hideOverlappingLabels(){const g=this.symbols;!this.options.labels.allowOverlap&&g&&(this.chart.hideOverlappingLabels(g.labels),g.labels.forEach(function(u,l){u.newOpacity?u.newOpacity!==u.oldOpacity&&g.connectors[l].show():g.connectors[l].hide()}))}getRanges(){const h=this.legend.bubbleLegend,g=h.options.ranges;let u,l,f=Number.MAX_VALUE,d=-Number.MAX_VALUE;return h.chart.series.forEach(function(p){p.isBubble&&!p.ignoreSeries&&(l=p.zData.filter(i),l.length&&(f=A(p.options.zMin,Math.min(f,Math.max(E(l),!1===p.options.displayNegative?p.options.zThreshold:-Number.MAX_VALUE))),d=A(p.options.zMax,Math.max(d,I(l)))))}),u=f===d?[{value:d}]:[{value:f},{value:(f+d)/2},{value:d,autoRanges:!0}],g.length&&g[0].radius&&u.reverse(),u.forEach(function(p,M){g&&g[M]&&(u[M]=T(g[M],p))}),u}predictBubbleSizes(){const h=this.chart,m=h.legend.options,g=m.floating,u="horizontal"===m.layout,l=u?h.legend.lastLineHeight:0,f=h.plotSizeX,d=h.plotSizeY,p=h.series[this.options.seriesIndex],M=p.getPxExtremes(),k=Math.ceil(M.minPxSize),a=Math.ceil(M.maxPxSize),o=Math.min(d,f);let s,t=p.options.maxSize;return g||!/%$/.test(t)?s=a:(t=parseFloat(t),s=(o+l)*t/100/(t/100+1),(u&&d-s>=f||!u&&f-s>=d)&&(s=a)),[k,Math.ceil(s)]}updateRanges(h,m){const g=this.legend.options.bubbleLegend;g.minSize=h,g.maxSize=m,g.ranges=this.getRanges()}correctSizes(){const h=this.legend,u=this.chart.series[this.options.seriesIndex].getPxExtremes(),f=this.options.maxSize;Math.abs(Math.ceil(u.maxPxSize)-f)>1&&(this.updateRanges(this.options.minSize,u.maxPxSize),h.render())}}}),V(D,"Series/Bubble/BubbleLegendComposition.js",[D["Series/Bubble/BubbleLegendDefaults.js"],D["Series/Bubble/BubbleLegendItem.js"],D["Core/Defaults.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{setOptions:_}=j,{addEvent:L,objectEach:I,wrap:E}=U,i=[];function T(u,l,f){const d=this,p=d.legend,M=v(d)>=0;let k,a,o;p&&p.options.enabled&&p.bubbleLegend&&p.options.bubbleLegend.autoRanges&&M?(k=p.bubbleLegend.options,a=p.bubbleLegend.predictBubbleSizes(),p.bubbleLegend.updateRanges(a[0],a[1]),k.placed||(p.group.placed=!1,p.allItems.forEach(s=>{o=s.legendItem||{},o.group&&(o.group.translateY=null)})),p.render(),d.getMargins(),d.axes.forEach(function(s){s.visible&&s.render(),k.placed||(s.setScale(),s.updateNames(),I(s.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),k.placed=!0,d.getMargins(),u.call(d,l,f),p.bubbleLegend.correctSizes(),m(p,y(p))):(u.call(d,l,f),p&&p.options.enabled&&p.bubbleLegend&&(p.render(),m(p,y(p))))}function v(u){const l=u.series;let f=0;for(;f<l.length;){if(l[f]&&l[f].isBubble&&l[f].visible&&l[f].zData.length)return f;f++}return-1}function y(u){const l=u.allItems,f=[],d=l.length;let p,M,k,a=0,o=0;for(a=0;a<d;a++)if(M=l[a].legendItem||{},k=(l[a+1]||{}).legendItem||{},M.labelHeight&&(l[a].itemHeight=M.labelHeight),l[a]===l[d-1]||M.y!==k.y){for(f.push({height:0}),p=f[f.length-1];o<=a;o++)l[o].itemHeight>p.height&&(p.height=l[o].itemHeight);p.step=a}return f}function x(u){const l=this,f=l.bubbleLegend,d=l.options,p=d.bubbleLegend,M=v(l.chart);f&&f.ranges&&f.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),l.destroyItem(f)),M>=0&&d.enabled&&p.enabled&&(p.seriesIndex=M,l.bubbleLegend=new F(p,l),l.bubbleLegend.addToLegend(u.allItems))}function h(u){if(u.defaultPrevented)return!1;const l=this,f=l.chart,d=l.visible,p=l.chart.legend;let M;p&&p.bubbleLegend&&(l.visible=!d,l.ignoreSeries=d,M=v(f)>=0,p.bubbleLegend.visible!==M&&(p.update({bubbleLegend:{enabled:M}}),p.bubbleLegend.visible=M),l.visible=d)}function m(u,l){const d=u.options.rtl;let p,M,k,a,o=0;u.allItems.forEach((s,t)=>{a=s.legendItem||{},a.group&&(p=a.group.translateX||0,M=a.y||0,k=s.movementX,(k||d&&s.ranges)&&(k=d?p-s.options.maxSize/2:p+k,a.group.attr({translateX:k})),t>l[o].step&&o++,a.group.attr({translateY:Math.round(M+l[o].height/2)}),a.y=M+l[o].height/2)})}return{compose:function A(u,l,f){U.pushUnique(i,u)&&(_({legend:{bubbleLegend:X}}),E(u.prototype,"drawChartBox",T)),U.pushUnique(i,l)&&L(l,"afterGetAllItems",x),U.pushUnique(i,f)&&L(f,"legendItemClick",h)}}}),V(D,"Series/Bubble/BubblePoint.js",[D["Core/Series/Point.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j){const{seriesTypes:{scatter:{prototype:{pointClass:U}}}}=F,{extend:_}=j;class L extends U{constructor(){super(...arguments),this.options=void 0,this.series=void 0}haloPath(E){return X.prototype.haloPath.call(this,0===E?0:(this.marker&&this.marker.radius||0)+E)}}return _(L.prototype,{ttBelow:!1}),L}),V(D,"Series/Bubble/BubbleSeries.js",[D["Series/Bubble/BubbleLegendComposition.js"],D["Series/Bubble/BubblePoint.js"],D["Core/Color/Color.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{parse:I}=j,{noop:E}=U,{series:i,seriesTypes:{column:{prototype:T},scatter:A}}=_,{addEvent:v,arrayMax:y,arrayMin:x,clamp:h,extend:m,isNumber:g,merge:u,pick:l}=L,f=[];function d(){const M=this.len,k=this.chart,a=this.isXAxis,o=a?"xData":"yData",s=this.min,t=this.max-s;let r,e=0,n=M,c=M/t;this.series.forEach(C=>{if(C.bubblePadding&&(C.visible||!k.options.chart.ignoreHiddenSeries)){this.allowZoomOutside=!0,r=!0;const b=C[o];if(a&&((C.onPoint||C).getRadii(0,0,C),C.onPoint&&(C.radii=C.onPoint.radii)),t>0){let P=b.length;for(;P--;)if(g(b[P])&&this.dataMin<=b[P]&&b[P]<=this.max){const S=C.radii&&C.radii[P]||0;e=Math.min((b[P]-s)*c-S,e),n=Math.max((b[P]-s)*c+S,n)}}}}),r&&t>0&&!this.logarithmic&&(n-=M,c*=(M+Math.max(0,e)-Math.min(n,M))/M,[["min","userMin",e],["max","userMax",n]].forEach(C=>{typeof l(this.options[C[0]],this[C[1]])>"u"&&(this[C[0]]+=C[2]/c)}))}class p extends A{constructor(){super(...arguments),this.data=void 0,this.maxPxSize=void 0,this.minPxSize=void 0,this.options=void 0,this.points=void 0,this.radii=void 0,this.yData=void 0,this.zData=void 0}static compose(k,a,o,s){X.compose(a,o,s),L.pushUnique(f,k)&&(k.prototype.beforePadding=d)}animate(k){!k&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){const{graphic:o}=a;o&&o.width&&(this.hasRendered||o.attr({x:a.plotX,y:a.plotY,width:1,height:1}),o.animate(this.markerAttribs(a),this.options.animation))},this)}getRadii(){const k=this.zData,a=this.yData,o=[];let s,t,e,n=this.chart.bubbleZExtremes;const{minPxSize:c,maxPxSize:r}=this.getPxExtremes();if(!n){let P,C=Number.MAX_VALUE,b=-Number.MAX_VALUE;this.chart.series.forEach(S=>{if(S.bubblePadding&&(S.visible||!this.chart.options.chart.ignoreHiddenSeries)){const w=(S.onPoint||S).getZExtremes();w&&(C=Math.min(l(C,w.zMin),w.zMin),b=Math.max(l(b,w.zMax),w.zMax),P=!0)}}),P?(n={zMin:C,zMax:b},this.chart.bubbleZExtremes=n):n={zMin:0,zMax:0}}for(t=0,s=k.length;t<s;t++)e=k[t],o.push(this.getRadius(n.zMin,n.zMax,c,r,e,a&&a[t]));this.radii=o}getRadius(k,a,o,s,t,e){const n=this.options,c="width"!==n.sizeBy,r=n.zThreshold;let C=a-k,b=.5;if(null===e||null===t)return null;if(g(t)){if(n.sizeByAbsoluteValue&&(t=Math.abs(t-r),a=C=Math.max(a-r,Math.abs(k-r)),k=0),t<k)return o/2-1;C>0&&(b=(t-k)/C)}return c&&b>=0&&(b=Math.sqrt(b)),Math.ceil(o+b*(s-o))/2}hasData(){return!!this.processedXData.length}pointAttribs(k,a){const s=this.options.marker.fillOpacity,t=i.prototype.pointAttribs.call(this,k,a);return 1!==s&&(t.fill=I(t.fill).setOpacity(s).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:k,radii:a}=this,{minPxSize:o}=this.getPxExtremes();let s=k.length;for(;s--;){const t=k[s],e=a?a[s]:0;g(e)&&e>=o/2?(t.marker=m(t.marker,{radius:e,width:2*e,height:2*e}),t.dlBox={x:t.plotX-e,y:t.plotY-e,width:2*e,height:2*e}):(t.shapeArgs=t.plotY=t.dlBox=void 0,t.isInside=!1)}}getPxExtremes(){const k=Math.min(this.chart.plotWidth,this.chart.plotHeight),a=t=>{let e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?k*t/100:t},o=a(l(this.options.minSize,8));return{minPxSize:o,maxPxSize:Math.max(a(l(this.options.maxSize,"20%")),o)}}getZExtremes(){const k=this.options,a=(this.zData||[]).filter(g);if(a.length){const o=l(k.zMin,h(x(a),!1===k.displayNegative?k.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),s=l(k.zMax,y(a));if(g(o)&&g(s))return{zMin:o,zMax:s}}}}return p.defaultOptions=u(A.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:M}=this.series.chart,{z:k}=this.point;return g(k)?M(k,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),m(p.prototype,{alignDataLabel:T.alignDataLabel,applyZones:E,bubblePadding:!0,buildKDTree:E,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:F,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),v(p,"updatedData",M=>{delete M.target.chart.bubbleZExtremes}),v(p,"remove",M=>{delete M.target.chart.bubbleZExtremes}),_.registerSeriesType("bubble",p),p}),V(D,"Series/ColumnRange/ColumnRangePoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F){const{seriesTypes:{column:{prototype:{pointClass:{prototype:j}}},arearange:{prototype:{pointClass:U}}}}=X,{extend:_,isNumber:L}=F;class I extends U{constructor(){super(...arguments),this.options=void 0,this.series=void 0}isValid(){return L(this.low)}}return _(I.prototype,{setState:j.setState}),I}),V(D,"Series/ColumnRange/ColumnRangeSeries.js",[D["Series/ColumnRange/ColumnRangePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{noop:_}=F,{seriesTypes:{arearange:L,column:I,column:{prototype:E}}}=j,{addEvent:i,clamp:T,extend:A,isNumber:v,merge:y,pick:x}=U;class m extends L{setOptions(){return y(!0,arguments[0],{stacking:void 0}),L.prototype.setOptions.apply(this,arguments)}translate(){return E.translate.apply(this)}pointAttribs(){return E.pointAttribs.apply(this,arguments)}translate3dPoints(){return E.translate3dPoints.apply(this,arguments)}translate3dShapes(){return E.translate3dShapes.apply(this,arguments)}}return m.defaultOptions=y(I.defaultOptions,L.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),i(m,"afterColumnTranslate",function(){const g=this.yAxis,u=this.xAxis,l=u.startAngleRad,f=this.chart,d=this.xAxis.isRadial,p=Math.max(f.chartWidth,f.chartHeight)+999;let M,k,a,s;function t(e){return T(e,-p,p)}this.points.forEach(e=>{const n=e.shapeArgs||{},c=this.options.minPointLength,r=e.plotY,C=g.translate(e.high,0,1,0,1);if(v(C)&&v(r))if(e.plotHigh=t(C),e.plotLow=t(r),s=e.plotHigh,M=x(e.rectPlotY,e.plotY)-e.plotHigh,Math.abs(M)<c?(k=c-M,M+=k,s-=k/2):M<0&&(M*=-1,s-=M),d&&this.polar)a=e.barX+l,e.shapeType="arc",e.shapeArgs=this.polar.arc(s+M,s,a,a+e.pointWidth);else{n.height=M,n.y=s;const{x:b=0,width:P=0}=n;e.shapeArgs=y(e.shapeArgs,this.crispCol(b,s,P,M)),e.tooltipPos=f.inverted?[g.len+g.pos-f.plotLeft-s-M/2,u.len+u.pos-f.plotTop-b-P/2,M]:[u.left-f.plotLeft+b+P/2,g.pos-f.plotTop+s+M/2,M]}})},{order:5}),A(m.prototype,{directTouch:!0,pointClass:X,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:E.adjustForMissingColumns,animate:E.animate,crispCol:E.crispCol,drawGraph:_,drawPoints:E.drawPoints,getSymbol:_,drawTracker:E.drawTracker,getColumnMetrics:E.getColumnMetrics}),j.registerSeriesType("columnrange",m),m}),V(D,"Series/ColumnPyramid/ColumnPyramidSeries.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j){const{prototype:U}=X,{clamp:_,merge:I,pick:E}=j;class i extends X{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}translate(){let A=this,v=A.chart,y=A.options,x=A.dense=A.closestPointRange*A.xAxis.transA<2,h=A.borderWidth=E(y.borderWidth,x?0:1),m=A.yAxis,g=y.threshold,u=A.translatedThreshold=m.getThreshold(g),l=E(y.minPointLength,5),f=A.getColumnMetrics(),d=f.width,p=A.barW=Math.max(d,1+2*h),M=A.pointXOffset=f.offset;v.inverted&&(u-=.5),y.pointPadding&&(p=Math.ceil(p)),U.translate.apply(A),A.points.forEach(function(k){let r,C,b,P,S,w,B,N,O,Y,z,R,a=E(k.yBottom,u),o=999+Math.abs(a),s=_(k.plotY,-o,m.len+o),t=k.plotX+M,e=p/2,n=Math.min(s,a),c=Math.max(s,a)-n;k.barX=t,k.pointWidth=d,k.tooltipPos=v.inverted?[m.len+m.pos-v.plotLeft-s,A.xAxis.len-t-e,c]:[t+e,s+m.pos-v.plotTop,c],r=g+(k.total||k.y),"percent"===y.stacking&&(r=g+(k.y<0)?-100:100),b=m.toPixels(r,!0),C=v.plotHeight-b-(v.plotHeight-u),P=C?e*(n-b)/C:0,S=C?e*(n+c-b)/C:0,B=t-P+e,N=t+P+e,O=t+S+e,Y=t-S+e,z=n-l,R=n+c,k.y<0&&(z=n,R=n+c+l),v.inverted&&(w=m.width-n,C=b-(m.width-u),P=e*(b-w)/C,S=e*(b-(w-c))/C,B=t+e+P,N=B-2*P,O=t-S+e,Y=t+S+e,z=n,R=n+c-l,k.y<0&&(R=n+c+l)),k.shapeType="path",k.shapeArgs={x:B,y:z,width:N-B,height:c,d:[["M",B,z],["L",N,z],["L",O,R],["L",Y,R],["Z"]]}})}}return i.defaultOptions=I(X.defaultOptions,{}),F.registerSeriesType("columnpyramid",i),i}),V(D,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),V(D,"Series/ErrorBar/ErrorBarSeries.js",[D["Series/BoxPlot/BoxPlotSeries.js"],D["Series/Column/ColumnSeries.js"],D["Series/ErrorBar/ErrorBarSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{arearange:L}=U.seriesTypes,{addEvent:I,merge:E,extend:i}=_;class T extends X{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||F.prototype.getColumnMetrics.call(this)}drawDataLabels(){const v=this.pointValKey;L&&(L.prototype.drawDataLabels.call(this),this.data.forEach(function(y){y.y=y[v]}))}toYData(v){return[v.low,v.high]}}return T.defaultOptions=E(X.defaultOptions,j),I(T,"afterTranslate",function(){this.points.forEach(A=>{A.plotLow=A.plotY})},{order:0}),i(T.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),U.registerSeriesType("errorbar",T),T}),V(D,"Series/Gauge/GaugePoint.js",[D["Core/Series/SeriesRegistry.js"]],function(X){const{series:{prototype:{pointClass:F}}}=X;return class j extends F{constructor(){super(...arguments),this.options=void 0,this.series=void 0,this.shapeArgs=void 0}setState(_){this.state=_}}}),V(D,"Series/Gauge/GaugeSeries.js",[D["Series/Gauge/GaugePoint.js"],D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{noop:_}=F,{series:L,seriesTypes:{column:I}}=j,{clamp:E,isNumber:i,extend:T,merge:A,pick:v,pInt:y,defined:x}=U;class h extends L{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.yAxis=void 0}translate(){const g=this,u=g.yAxis,l=g.options,f=u.center;g.generatePoints(),g.points.forEach(d=>{const p=A(l.dial,d.dial),M=y(p.radius)*f[2]/200,k=y(p.baseLength)*M/100,a=y(p.rearLength)*M/100,o=p.baseWidth,s=p.topWidth;let t=l.overshoot,e=u.startAngleRad+u.translate(d.y,void 0,void 0,void 0,!0);(i(t)||!1===l.wrap)&&(t=i(t)?t/180*Math.PI:0,e=E(e,u.startAngleRad-t,u.endAngleRad+t)),e=180*e/Math.PI,d.shapeType="path",d.shapeArgs={d:p.path||[["M",-a,-o/2],["L",k,-o/2],["L",M,-s/2],["L",M,s/2],["L",k,o/2],["L",-a,o/2],["Z"]],translateX:f[0],translateY:f[1],rotation:e},d.plotX=f[0],d.plotY=f[1],x(d.y)&&u.max-u.min&&(d.percentage=(d.y-u.min)/(u.max-u.min)*100)})}drawPoints(){const g=this,u=g.chart,l=g.yAxis.center,f=g.pivot,d=g.options,p=d.pivot,M=u.renderer;g.points.forEach(k=>{const a=k.graphic,o=k.shapeArgs,s=o.d,t=A(d.dial,k.dial);a?(a.animate(o),o.d=s):k.graphic=M[k.shapeType](o).addClass("highcharts-dial").add(g.group),u.styledMode||k.graphic[a?"animate":"attr"]({stroke:t.borderColor,"stroke-width":t.borderWidth,fill:t.backgroundColor})}),f?f.animate({translateX:l[0],translateY:l[1]}):p&&(g.pivot=M.circle(0,0,p.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(l[0],l[1]).add(g.group),u.styledMode||g.pivot.attr({fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth}))}animate(g){const u=this;g||u.points.forEach(l=>{const f=l.graphic;f&&(f.attr({rotation:180*u.yAxis.startAngleRad/Math.PI}),f.animate({rotation:l.shapeArgs.rotation},u.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),L.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(g,u){L.prototype.setData.call(this,g,!1),this.processData(),this.generatePoints(),v(u,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return h.defaultOptions=A(L.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),T(h.prototype,{angular:!0,directTouch:!0,drawGraph:_,drawTracker:I.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:X,trackerGroups:["group","dataLabelsGroup"]}),j.registerSeriesType("gauge",h),h}),V(D,"Series/DragNodesComposition.js",[D["Core/Utilities.js"]],function(X){const{addEvent:F}=X,j=[];function _(){const A=this;let v,y,x;A.container&&(v=F(A.container,"mousedown",h=>{const m=A.hoverPoint;m&&m.series&&m.series.hasDraggableNodes&&m.series.options.draggable&&(m.series.onMouseDown(m,h),y=F(A.container,"mousemove",g=>m&&m.series&&m.series.onMouseMove(m,g)),x=F(A.container.ownerDocument,"mouseup",g=>(y(),x(),m&&m.series&&m.series.onMouseUp(m,g))))})),F(A,"destroy",function(){v()})}return{compose:function U(A){X.pushUnique(j,A)&&F(A,"load",_)},onMouseDown:function L(A,v){const y=this.chart.pointer.normalize(v);A.fixedPosition={chartX:y.chartX,chartY:y.chartY,plotX:A.plotX,plotY:A.plotY},A.inDragMode=!0},onMouseMove:function I(A,v){if(A.fixedPosition&&A.inDragMode){const x=this.chart,h=x.pointer.normalize(v),m=A.fixedPosition.chartX-h.chartX,g=A.fixedPosition.chartY-h.chartY,u=x.graphLayoutsLookup;let l,f;(Math.abs(m)>5||Math.abs(g)>5)&&(l=A.fixedPosition.plotX-m,f=A.fixedPosition.plotY-g,x.isInsidePlot(l,f)&&(A.plotX=l,A.plotY=f,A.hasDragged=!0,this.redrawHalo(A),u.forEach(d=>{d.restartSimulation()})))}},onMouseUp:function E(A,v){A.fixedPosition&&(A.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),A.inDragMode=A.hasDragged=!1,this.options.fixedDraggable||delete A.fixedPosition)},redrawHalo:function i(A){A&&this.halo&&this.halo.attr({d:A.haloPath(this.options.states.hover.halo.size)})}}}),V(D,"Series/GraphLayoutComposition.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Utilities.js"]],function(X,F){const{setAnimation:j}=X,{addEvent:U}=F,_=[];function i(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(x=>{x.updateSimulation()}),this.redraw())}function T(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(x=>{x.updateSimulation(!1)}),this.redraw())}function A(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(x=>{x.stop()})}function v(){let x,h=!1;const m=g=>{g.maxIterations--&&isFinite(g.temperature)&&!g.isStable()&&!g.enableSimulation&&(g.beforeStep&&g.beforeStep(),g.step(),x=!1,h=!0)};if(this.graphLayoutsLookup){for(j(!1,this),this.graphLayoutsLookup.forEach(g=>g.start());!x;)x=!0,this.graphLayoutsLookup.forEach(m);h&&this.series.forEach(g=>{g&&g.layout&&g.render()})}}return{compose:function E(x){F.pushUnique(_,x)&&(U(x,"afterPrint",i),U(x,"beforePrint",T),U(x,"predraw",A),U(x,"render",v))},integrations:{},layouts:{}}}),V(D,"Series/PackedBubble/PackedBubblePoint.js",[D["Core/Chart/Chart.js"],D["Core/Series/Point.js"],D["Core/Series/SeriesRegistry.js"]],function(X,F,j){const{seriesTypes:{bubble:{prototype:{pointClass:U}}}}=j;return class _ extends U{constructor(){super(...arguments),this.degree=NaN,this.mass=NaN,this.radius=NaN,this.options=void 0,this.series=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),F.prototype.destroy.apply(this,arguments)}firePointEvent(){const i=this.series.options;if(this.isParentNode&&i.parentNode){const T=i.allowPointSelect;i.allowPointSelect=i.parentNode.allowPointSelect,F.prototype.firePointEvent.apply(this,arguments),i.allowPointSelect=T}else F.prototype.firePointEvent.apply(this,arguments)}select(){const i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,F.prototype.select.apply(this,arguments),i.getSelectedPoints=X.prototype.getSelectedPoints):F.prototype.select.apply(this,arguments)}}}),V(D,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[D["Core/Utilities.js"]],function(X){const{isNumber:F}=X;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:U}=this.series.chart,{value:_}=this.point;return F(_)?U(_,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),V(D,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function X(i,T,A){const v=i.getMass(),y=-A.x*T*this.diffTemperature,x=-A.y*T*this.diffTemperature;i.fromNode.fixedPosition||(i.fromNode.plotX-=y*v.fromNode/i.fromNode.degree,i.fromNode.plotY-=x*v.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.plotX+=y*v.toNode/i.toNode.degree,i.toNode.plotY+=x*v.toNode/i.toNode.degree)},attractiveForceFunction:function F(i,T){return(T-i)/i},barycenter:function j(){let i=this.options.gravitationalConstant,T=this.barycenter.xFactor,A=this.barycenter.yFactor;T=(T-(this.box.left+this.box.width)/2)*i,A=(A-(this.box.top+this.box.height)/2)*i,this.nodes.forEach(function(v){v.fixedPosition||(v.plotX-=T/v.mass/v.degree,v.plotY-=A/v.mass/v.degree)})},getK:function U(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.5)},integrate:function _(i,T){let A=-i.options.friction,v=i.options.maxSpeed,h=(T.plotX+T.dispX-T.prevX)*A,m=(T.plotY+T.dispY-T.prevY)*A,g=Math.abs,u=g(h)/(h||1),l=g(m)/(m||1);h=u*Math.min(v,Math.abs(h)),m=l*Math.min(v,Math.abs(m)),T.prevX=T.plotX+T.dispX,T.prevY=T.plotY+T.dispY,T.plotX+=h,T.plotY+=m,T.temperature=i.vectorLength({x:h,y:m})},repulsive:function L(i,T,A){const v=T*this.diffTemperature/i.mass/i.degree;i.fixedPosition||(i.plotX+=A.x*v,i.plotY+=A.y*v)},repulsiveForceFunction:function I(i,T){return(T-i)/i*(T>i?1:0)}}}),V(D,"Series/PackedBubble/PackedBubbleIntegration.js",[D["Core/Globals.js"],D["Series/Networkgraph/VerletIntegration.js"]],function(X,F){const{noop:j}=X;return{barycenter:function U(){const E=this,i=E.options.gravitationalConstant,T=E.box,A=E.nodes;let v,y;for(const x of A)E.options.splitSeries&&!x.isParentNode?(v=x.series.parentNode.plotX,y=x.series.parentNode.plotY):(v=T.width/2,y=T.height/2),x.fixedPosition||(x.plotX-=(x.plotX-v)*i/(x.mass*Math.sqrt(A.length)),x.plotY-=(x.plotY-y)*i/(x.mass*Math.sqrt(A.length)))},getK:j,integrate:F.integrate,repulsive:function _(E,i,T,A){const v=i*this.diffTemperature/E.mass/E.degree,y=T.x*v,x=T.y*v;E.fixedPosition||(E.plotX+=y,E.plotY+=x),A.fixedPosition||(A.plotX-=y,A.plotY-=x)},repulsiveForceFunction:function L(E,i,T,A){return Math.min(E,(T.marker.radius+A.marker.radius)/2)}}}),V(D,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function X(i,T,A,v){const y=i.getMass(),x=A.x/v*T,h=A.y/v*T;i.fromNode.fixedPosition||(i.fromNode.dispX-=x*y.fromNode/i.fromNode.degree,i.fromNode.dispY-=h*y.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.dispX+=x*y.toNode/i.toNode.degree,i.toNode.dispY+=h*y.toNode/i.toNode.degree)},attractiveForceFunction:function F(i,T){return i*i/T},barycenter:function j(){const i=this.options.gravitationalConstant,T=this.barycenter.xFactor,A=this.barycenter.yFactor;this.nodes.forEach(function(v){if(!v.fixedPosition){const y=v.getDegree(),x=y*(1+y/2);v.dispX+=(T-v.plotX)*i*x/v.degree,v.dispY+=(A-v.plotY)*i*x/v.degree}})},getK:function U(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.3)},integrate:function _(i,T){let A;T.dispX+=T.dispX*i.options.friction,T.dispY+=T.dispY*i.options.friction,A=T.temperature=i.vectorLength({x:T.dispX,y:T.dispY}),0!==A&&(T.plotX+=T.dispX/A*Math.min(Math.abs(T.dispX),i.temperature),T.plotY+=T.dispY/A*Math.min(Math.abs(T.dispY),i.temperature))},repulsive:function L(i,T,A,v){i.dispX+=A.x/v*T/i.degree,i.dispY+=A.y/v*T/i.degree},repulsiveForceFunction:function I(i,T){return T*T/i}}}),V(D,"Series/Networkgraph/QuadTreeNode.js",[],function(){class X{constructor(j){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=j,this.boxSize=Math.min(j.width,j.height)}divideBox(){const j=this.box.width/2,U=this.box.height/2;this.nodes[0]=new X({left:this.box.left,top:this.box.top,width:j,height:U}),this.nodes[1]=new X({left:this.box.left+j,top:this.box.top,width:j,height:U}),this.nodes[2]=new X({left:this.box.left+j,top:this.box.top+U,width:j,height:U}),this.nodes[3]=new X({left:this.box.left,top:this.box.top+U,width:j,height:U})}getBoxPosition(j){const _=j.plotY<this.box.top+this.box.height/2;let L;return L=j.plotX<this.box.left+this.box.width/2?_?0:3:_?1:2,L}insert(j,U){let _;this.isInternal?this.nodes[this.getBoxPosition(j)].insert(j,U-1):(this.isEmpty=!1,this.body?U?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,U-1),this.body=!0),this.nodes[this.getBoxPosition(j)].insert(j,U-1)):(_=new X({top:j.plotX||NaN,left:j.plotY||NaN,width:.1,height:.1}),_.body=j,_.isInternal=!1,this.nodes.push(_)):(this.isInternal=!1,this.body=j))}updateMassAndCenter(){let j=0,U=0,_=0;if(this.isInternal){for(const L of this.nodes)L.isEmpty||(j+=L.mass,U+=L.plotX*L.mass,_+=L.plotY*L.mass);U/=j,_/=j}else this.body&&(j=this.body.mass,U=this.body.plotX,_=this.body.plotY);this.mass=j,this.plotX=U,this.plotY=_}}return X}),V(D,"Series/Networkgraph/QuadTree.js",[D["Series/Networkgraph/QuadTreeNode.js"]],function(X){return class F{constructor(U,_,L,I){this.box={left:U,top:_,width:L,height:I},this.maxDepth=25,this.root=new X(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(U){U.updateMassAndCenter()})}insertNodes(U){for(const _ of U)this.root.insert(_,this.maxDepth)}visitNodeRecursive(U,_,L){let I;if(U||(U=this.root),U===this.root&&_&&(I=_(U)),!1!==I){for(const E of U.nodes){if(E.isInternal){if(_&&(I=_(E)),!1===I)continue;this.visitNodeRecursive(E,_,L)}else E.body&&_&&_(E.body);L&&L(E)}U===this.root&&L&&L(U)}}}}),V(D,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[D["Series/Networkgraph/EulerIntegration.js"],D["Core/Globals.js"],D["Series/GraphLayoutComposition.js"],D["Series/Networkgraph/QuadTree.js"],D["Core/Utilities.js"],D["Series/Networkgraph/VerletIntegration.js"]],function(X,F,j,U,_,L){const{win:I}=F,{clamp:E,defined:i,isFunction:T,fireEvent:A,pick:v}=_;class y{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}static compose(h){j.compose(h),j.integrations.euler=X,j.integrations.verlet=L,j.layouts["reingold-fruchterman"]=y}init(h){this.options=h,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=j.integrations[h.integration],this.enableSimulation=h.enableSimulation,this.attractiveForce=v(h.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=v(h.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=h.approximation}updateSimulation(h){this.enableSimulation=v(h,this.options.enableSimulation)}start(){const h=this,m=this.series,g=this.options;h.currentStep=0,h.forces=m[0]&&m[0].forces||[],h.chart=m[0]&&m[0].chart,h.initialRendering&&(h.initPositions(),m.forEach(function(u){u.finishedAnimating=!0,u.render()})),h.setK(),h.resetSimulation(g),h.enableSimulation&&h.step()}step(){const h=this,m=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const g of this.forces||[])h[g+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const g of m)g.chart&&g.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&I.cancelAnimationFrame(this.simulation),this.simulation=I.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(g=>{A(g,"afterSimulation")}))}}stop(){this.simulation&&I.cancelAnimationFrame(this.simulation)}setArea(h,m,g,u){this.box={left:h,top:m,width:g,height:u}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(h,m){for(const g of h)-1===m.indexOf(g)&&m.push(g)}removeElementFromCollection(h,m){const g=m.indexOf(h);-1!==g&&m.splice(g,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(h){this.maxIterations=v(h,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(h){this.initialRendering=h}createQuadTree(){this.quadTree=new U(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const h=this.options.initialPositions;if(T(h)){h.call(this);for(const m of this.nodes)i(m.prevX)||(m.prevX=m.plotX),i(m.prevY)||(m.prevY=m.plotY),m.dispX=0,m.dispY=0}else"circle"===h?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const h=this.box,m=this.nodes,u=2*Math.PI/(m.length+1),l=m.filter(function(a){return 0===a.linksTo.length}),f={},d=this.options.initialPositionRadius,p=a=>{for(const o of a.linksFrom||[])f[o.toNode.id]||(f[o.toNode.id]=!0,M.push(o.toNode),p(o.toNode))};let k,M=[];for(const a of l)M.push(a),p(a);if(M.length)for(const a of m)-1===M.indexOf(a)&&M.push(a);else M=m;for(let a=0,o=M.length;a<o;++a)k=M[a],k.plotX=k.prevX=v(k.plotX,h.width/2+d*Math.cos(a*u)),k.plotY=k.prevY=v(k.plotY,h.height/2+d*Math.sin(a*u)),k.dispX=0,k.dispY=0}setRandomPositions(){const h=this.box,m=this.nodes,g=m.length+1,u=f=>{let d=f*f/Math.PI;return d-=Math.floor(d),d};let l;for(let f=0,d=m.length;f<d;++f)l=m[f],l.plotX=l.prevX=v(l.plotX,h.width*u(f)),l.plotY=l.prevY=v(l.plotY,h.height*u(g+f)),l.dispX=0,l.dispY=0}force(h,...m){this.integration[h].apply(this,m)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let h=0,m=0,g=0;for(const u of this.nodes)m+=u.plotX*u.mass,g+=u.plotY*u.mass,h+=u.mass;return this.barycenter={x:m,y:g,xFactor:m/h,yFactor:g/h},this.barycenter}barnesHutApproximation(h,m){const g=this.getDistXY(h,m),u=this.vectorLength(g);let l,f;return h!==m&&0!==u&&(m.isInternal?m.boxSize/u<this.options.theta&&0!==u?(f=this.repulsiveForce(u,this.k),this.force("repulsive",h,f*m.mass,g,u),l=!1):l=!0:(f=this.repulsiveForce(u,this.k),this.force("repulsive",h,f*m.mass,g,u))),l}repulsiveForces(){if("barnes-hut"===this.approximation)for(const h of this.nodes)this.quadTree.visitNodeRecursive(null,m=>this.barnesHutApproximation(h,m));else{let h,m,g;for(const u of this.nodes)for(const l of this.nodes)u!==l&&!u.fixedPosition&&(g=this.getDistXY(u,l),m=this.vectorLength(g),0!==m&&(h=this.repulsiveForce(m,this.k),this.force("repulsive",u,h*l.mass,g,m)))}}attractiveForces(){let h,m,g;for(const u of this.links)u.fromNode&&u.toNode&&(h=this.getDistXY(u.fromNode,u.toNode),m=this.vectorLength(h),0!==m&&(g=this.attractiveForce(m,this.k),this.force("attractive",u,g,h,m)))}applyLimits(){const h=this.nodes;for(const m of h){if(m.fixedPosition)return;this.integration.integrate(this,m),this.applyLimitBox(m,this.box),m.dispX=0,m.dispY=0}}applyLimitBox(h,m){const g=h.radius;h.plotX=E(h.plotX,m.left+g,m.width-g),h.plotY=E(h.plotY,m.top+g,m.height-g)}coolDown(h,m,g){return h-m*g}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let h=0;for(const m of this.nodes)h+=m.temperature;return h}vectorLength(h){return Math.sqrt(h.x*h.x+h.y*h.y)}getDistR(h,m){const g=this.getDistXY(h,m);return this.vectorLength(g)}getDistXY(h,m){const g=h.plotX-m.plotX,u=h.plotY-m.plotY;return{x:g,y:u,absX:Math.abs(g),absY:Math.abs(u)}}}return y}),V(D,"Series/PackedBubble/PackedBubbleLayout.js",[D["Series/GraphLayoutComposition.js"],D["Series/PackedBubble/PackedBubbleIntegration.js"],D["Series/Networkgraph/ReingoldFruchtermanLayout.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{addEvent:_,pick:L}=U,I=[];function E(){const v=[];return this.series.forEach(y=>{y.parentNode&&y.parentNode.selected&&v.push(y.parentNode)}),v}function i(){this.allDataPoints&&delete this.allDataPoints}class T extends j{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(v){j.compose(v),X.integrations.packedbubble=F,X.layouts.packedbubble=T,U.pushUnique(I,v)&&(_(v,"beforeRedraw",i),v.prototype.getSelectedParentNodes=E)}beforeStep(){this.options.marker&&this.series.forEach(v=>{v&&v.calculateParentRadius()})}isStable(){const v=Math.abs(this.prevSystemTemperature-this.systemTemperature),y=10*this.systemTemperature/Math.sqrt(this.nodes.length);return Math.abs(y)<1&&v<1e-5||this.temperature<=0}setCircularPositions(){const v=this,y=v.box,x=v.nodes,m=2*Math.PI/(x.length+1),g=v.options.initialPositionRadius;let u,l,f=0;for(const d of x)v.options.splitSeries&&!d.isParentNode?(u=d.series.parentNode.plotX,l=d.series.parentNode.plotY):(u=y.width/2,l=y.height/2),d.plotX=d.prevX=L(d.plotX,u+g*Math.cos(d.index||f*m)),d.plotY=d.prevY=L(d.plotY,l+g*Math.sin(d.index||f*m)),d.dispX=0,d.dispY=0,f++}repulsiveForces(){const v=this,y=v.options.bubblePadding;let x,h,m;v.nodes.forEach(g=>{g.degree=g.mass,g.neighbours=0,v.nodes.forEach(u=>{x=0,g!==u&&!g.fixedPosition&&(v.options.seriesInteraction||g.series===u.series)&&(m=v.getDistXY(g,u),h=v.vectorLength(m)-(g.marker.radius+u.marker.radius+y),h<0&&(g.degree+=.01,g.neighbours++,x=v.repulsiveForce(-h/Math.sqrt(g.neighbours),v.k,g,u)),v.force("repulsive",g,x*u.mass,m,u,h))})})}applyLimitBox(v,y){const x=this;let m,g;x.options.splitSeries&&!v.isParentNode&&x.options.parentNodeLimit&&(m=x.getDistXY(v,v.series.parentNode),g=v.series.parentNodeRadius-v.marker.radius-x.vectorLength(m),g<0&&g>-2*v.marker.radius&&(v.plotX-=.01*m.x,v.plotY-=.01*m.y)),super.applyLimitBox(v,y)}}return X.layouts.packedbubble=T,T}),V(D,"Series/SimulationSeriesUtilities.js",[D["Core/Utilities.js"],D["Core/Animation/AnimationUtilities.js"]],function(X,F){const{syncTimeout:j}=X,{animObject:U}=F;return{initDataLabels:function L(){const E=this,i=E.options.dataLabels;if(!E.dataLabelsGroup){const T=this.initDataLabelsGroup();return!E.chart.styledMode&&i?.style&&T.css(i.style),T.attr({opacity:0}),E.visible&&T.show(),T}return E.dataLabelsGroup.attr({opacity:1}),E.dataLabelsGroup},initDataLabelsDefer:function _(){var E;const i=this.options.dataLabels;i?.defer&&null!==(E=this.options.layoutAlgorithm)&&void 0!==E&&E.enableSimulation?j(()=>{this.deferDataLabels=!1},i?U(i.animation).defer:0):this.deferDataLabels=!1}}}),V(D,"Series/PackedBubble/PackedBubbleSeries.js",[D["Core/Color/Color.js"],D["Series/DragNodesComposition.js"],D["Series/GraphLayoutComposition.js"],D["Core/Globals.js"],D["Series/PackedBubble/PackedBubblePoint.js"],D["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],D["Series/PackedBubble/PackedBubbleLayout.js"],D["Core/Series/SeriesRegistry.js"],D["Series/SimulationSeriesUtilities.js"],D["Core/Utilities.js"],D["Core/Animation/AnimationUtilities.js"]],function(X,F,j,U,_,L,I,E,i,T,A){const{parse:v}=X,{noop:y}=U,{series:{prototype:x},seriesTypes:{bubble:h}}=E,{initDataLabels:m,initDataLabelsDefer:g}=i,{addEvent:u,clamp:l,defined:f,extend:d,fireEvent:p,isArray:M,isNumber:k,merge:a,pick:o}=T;class e extends h{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.layout=void 0,this.options=void 0,this.parentNodeMass=0,this.points=void 0,this.xData=void 0,this.deferDataLabels=!0}static compose(c,r,C,b){h.compose(c,r,C,b),F.compose(r),I.compose(r)}accumulateAllPoints(){const c=this.chart,r=[];let C;for(const b of c.series)if(b.is("packedbubble")&&b.visible||!c.options.chart.ignoreHiddenSeries){C=b.yData||[];for(let P=0;P<C.length;P++)r.push([null,null,C[P],b.index,P,{id:P,marker:{radius:0}}])}return r}addLayout(){const c=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},r=c.type||"packedbubble",C=this.chart.options.chart;let S,b=this.chart.graphLayoutsStorage,P=this.chart.graphLayoutsLookup;b||(this.chart.graphLayoutsStorage=b={},this.chart.graphLayoutsLookup=P=[]),S=b[r],S||(c.enableSimulation=f(C.forExport)?!C.forExport:c.enableSimulation,b[r]=S=new j.layouts[r],S.init(c),P.splice(S.index,0,S)),this.layout=S,this.points.forEach(w=>{w.mass=2,w.degree=1,w.collisionNmb=1}),S.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),S.addElementsToCollection([this],S.series),S.addElementsToCollection(this.points,S.nodes)}addSeriesLayout(){const c=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},r=c.type||"packedbubble",C=this.chart.graphLayoutsStorage,b=this.chart.graphLayoutsLookup,P=a(c,c.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let S=C[r+"-series"];S||(C[r+"-series"]=S=new j.layouts[r],S.init(P),b.splice(S.index,0,S)),this.parentNodeLayout=S,this.createParentNodes()}calculateParentRadius(){const c=this.seriesBox();this.parentNodeRadius=l(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,c?Math.max(Math.sqrt(Math.pow(c.width,2)+Math.pow(c.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let C=this.options.zMin,b=this.options.zMax,P=1/0,S=-1/0;return C&&b||(this.chart.series.forEach(w=>{w.yData.forEach(B=>{f(B)&&(B>S&&(S=B),B<P&&(P=B))})}),C=o(C,P),b=o(b,S)),[C,b]}checkOverlap(c,r){const C=c[0]-r[0],b=c[1]-r[1],P=c[2]+r[2];return Math.sqrt(C*C+b*b)-Math.abs(P)<-.001}createParentNodes(){const c=this.pointClass,r=this.chart,C=this.parentNodeLayout,b=this.layout.options;let P,S=this.parentNode,w={radius:this.parentNodeRadius,lineColor:this.color,fillColor:v(this.color).brighten(.4).get()};b.parentNodeOptions&&(w=a(b.parentNodeOptions.marker||{},w)),this.parentNodeMass=0,this.points.forEach(B=>{this.parentNodeMass+=Math.PI*Math.pow(B.marker.radius,2)}),this.calculateParentRadius(),C.nodes.forEach(B=>{B.seriesIndex===this.index&&(P=!0)}),C.setArea(0,0,r.plotWidth,r.plotHeight),P||(S||(S=(new c).init(this,{mass:this.parentNodeRadius/2,marker:w,dataLabels:{inside:!1},states:{normal:{marker:w},hover:{marker:w}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(S.plotX=this.parentNode.plotX,S.plotY=this.parentNode.plotY),this.parentNode=S,C.addElementsToCollection([this],C.series),C.addElementsToCollection([S],C.nodes))}deferLayout(){const c=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),c.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(c=>{c.removeElementFromCollection(this,c.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),x.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(x.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",x.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;const c=this.chart,r=this.layout.options.parentNodeOptions.marker,C={fill:r.fillColor||v(this.color).brighten(.4).get(),opacity:r.fillOpacity,stroke:r.lineColor||this.color,"stroke-width":o(r.lineWidth,this.options.lineWidth)};let b={};this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,c.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),b=a({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},C),this.parentNode.graphic||(this.graph=this.parentNode.graphic=c.renderer.symbol(C.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}drawTracker(){const c=this.parentNode;let r;super.drawTracker(),c&&(r=M(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[],c.graphic&&(c.graphic.element.point=c),r.forEach(C=>{C.div?C.div.point=c:C.element.point=c}))}getPointRadius(){const c=this.chart,b=this.options,P=b.useSimulation,S=Math.min(c.plotWidth,c.plotHeight),w={},B=[],N=c.allDataPoints||[],O=N.length;let Y,z,R,G;["minSize","maxSize"].forEach(W=>{const q=parseInt(b[W],10),Z=/%$/.test(b[W]);w[W]=Z?S*q/100:q*Math.sqrt(O)}),c.minRadius=Y=w.minSize/Math.sqrt(O),c.maxRadius=z=w.maxSize/Math.sqrt(O);const H=P?this.calculateZExtremes():[Y,z];N.forEach((W,q)=>{R=P?l(W[2],H[0],H[1]):W[2],G=this.getRadius(H[0],H[1],Y,z,R),0===G&&(G=null),N[q][2]=G,B.push(G)}),this.radii=B}init(){return x.init.apply(this,arguments),g.call(this),this.eventsToUnbind.push(u(this,"updatedData",function(){this.chart.series.forEach(c=>{c.type===this.type&&(c.isDirty=!0)},this)})),this}onMouseUp(c){const r=c;if(r.fixedPosition&&!r.removed){const C=this.layout,b=this.parentNodeLayout;let P,S;b&&C.options.dragBetweenSeries&&b.nodes.forEach(w=>{r&&r.marker&&w!==r.series.parentNode&&(P=C.getDistXY(r,w),S=C.vectorLength(P)-w.marker.radius-r.marker.radius,S<0&&(w.series.addPoint(a(r.options,{plotX:r.plotX,plotY:r.plotY}),!1),C.removeElementFromCollection(r,C.nodes),r.remove()))}),F.onMouseUp.apply(this,arguments)}}placeBubbles(c){const r=this.checkOverlap,C=this.positionBubble,b=[];let B,O,P=1,S=0,w=0,N=[];const Y=c.sort((z,R)=>R[2]-z[2]);if(Y.length){if(b.push([[0,0,Y[0][2],Y[0][3],Y[0][4]]]),Y.length>1)for(b.push([[0,0-Y[1][2]-Y[0][2],Y[1][2],Y[1][3],Y[1][4]]]),O=2;O<Y.length;O++)Y[O][2]=Y[O][2]||1,B=C(b[P][S],b[P-1][w],Y[O]),r(B,b[P][0])?(b.push([]),w=0,b[P+1].push(C(b[P][S],b[P][0],Y[O])),P++,S=0):P>1&&b[P-1][w+1]&&r(B,b[P-1][w+1])?(w++,b[P].push(C(b[P][S],b[P-1][w],Y[O])),S++):(S++,b[P].push(B));this.chart.stages=b,this.chart.rawPositions=[].concat.apply([],b),this.resizeRadius(),N=this.chart.rawPositions}return N}pointAttribs(c,r){const C=this.options;let P=C.marker;c&&c.isParentNode&&C.layoutAlgorithm&&C.layoutAlgorithm.parentNodeOptions&&(P=C.layoutAlgorithm.parentNodeOptions.marker);const S=P.fillOpacity,w=x.pointAttribs.call(this,c,r);return 1!==S&&(w["fill-opacity"]=S),w}positionBubble(c,r,C){const b=Math.sqrt,P=Math.asin,S=Math.acos,w=Math.pow,B=Math.abs,N=b(w(c[0]-r[0],2)+w(c[1]-r[1],2)),O=S((w(N,2)+w(C[2]+r[2],2)-w(C[2]+c[2],2))/(2*(C[2]+r[2])*N)),Y=P(B(c[0]-r[0])/N),G=(c[1]-r[1]<0?0:Math.PI)+O+Y*((c[0]-r[0])*(c[1]-r[1])<0?1:-1),H=Math.cos(G),W=Math.sin(G);return[r[0]+(r[2]+C[2])*W,r[1]-(r[2]+C[2])*H,C[2],C[3],C[4]]}render(){const c=[];x.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(r=>{M(r.dataLabels)&&r.dataLabels.forEach(C=>{c.push(C)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(c))}resizeRadius(){const c=this.chart,r=c.rawPositions,C=Math.min,b=Math.max,P=c.plotLeft,S=c.plotTop,w=c.plotHeight,B=c.plotWidth;let N,O,Y,z,R;N=Y=Number.POSITIVE_INFINITY,O=z=Number.NEGATIVE_INFINITY;for(const q of r)R=q[2],N=C(N,q[0]-R),O=b(O,q[0]+R),Y=C(Y,q[1]-R),z=b(z,q[1]+R);const G=[O-N,z-Y],W=C.apply([],[(B-P)/G[0],(w-S)/G[1]]);if(Math.abs(W-1)>1e-10){for(const q of r)q[2]*=W;this.placeBubbles(r)}else c.diffY=w/2+S-Y-(z-Y)/2,c.diffX=B/2+P-N-(O-N)/2}seriesBox(){const c=this.chart,C=Math.max,b=Math.min,P=[c.plotLeft,c.plotLeft+c.plotWidth,c.plotTop,c.plotTop+c.plotHeight];let S;return this.data.forEach(w=>{f(w.plotX)&&f(w.plotY)&&w.marker.radius&&(S=w.marker.radius,P[0]=b(P[0],w.plotX-S),P[1]=C(P[1],w.plotX+S),P[2]=b(P[2],w.plotY-S),P[3]=C(P[3],w.plotY+S))}),k(P.width/P.height)?P:null}setVisible(){const c=this;x.setVisible.apply(c,arguments),c.parentNodeLayout&&c.graph?c.visible?(c.graph.show(),c.parentNode.dataLabel&&c.parentNode.dataLabel.show()):(c.graph.hide(),c.parentNodeLayout.removeElementFromCollection(c.parentNode,c.parentNodeLayout.nodes),c.parentNode.dataLabel&&c.parentNode.dataLabel.hide()):c.layout&&(c.visible?c.layout.addElementsToCollection(c.points,c.layout.nodes):c.points.forEach(r=>{c.layout.removeElementFromCollection(r,c.layout.nodes)}))}translate(){const c=this.chart,r=this.data,C=this.index,b=this.options.useSimulation;let P,S,w;this.processedXData=this.xData,this.generatePoints(),f(c.allDataPoints)||(c.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),b?w=c.allDataPoints:(w=this.placeBubbles(c.allDataPoints),this.options.draggable=!1);for(const B of w)B[3]===C&&(P=r[B[4]],S=o(B[2],void 0),b||(P.plotX=B[0]-c.plotLeft+c.diffX,P.plotY=B[1]-c.plotTop+c.diffY),k(S)&&(P.marker=d(P.marker,{radius:S,width:2*S,height:2*S}),P.radius=S));b&&this.deferLayout(),p(this,"afterTranslate")}}return e.defaultOptions=a(h.defaultOptions,L),d(e.prototype,{pointClass:_,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:x.alignDataLabel,indexateNodes:y,onMouseDown:F.onMouseDown,onMouseMove:F.onMouseMove,redrawHalo:F.redrawHalo,searchPoint:y}),E.registerSeriesType("packedbubble",e),e}),V(D,"Series/Polygon/PolygonSeries.js",[D["Core/Globals.js"],D["Core/Legend/LegendSymbol.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{noop:_}=X,{series:L,seriesTypes:{area:I,line:E,scatter:i}}=j,{extend:T,merge:A}=U;class v extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getGraphPath(){let x=E.prototype.getGraphPath.call(this),h=x.length+1;for(;h--;)(h===x.length||"M"===x[h][0])&&h>0&&x.splice(h,0,["Z"]);return this.areaPath=x,x}drawGraph(){this.options.fillColor=this.color,I.prototype.drawGraph.call(this)}}return v.defaultOptions=A(i.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),T(v.prototype,{type:"polygon",drawLegendSymbol:F.drawRectangle,drawTracker:L.prototype.drawTracker,setStackedPoints:_}),j.registerSeriesType("polygon",v),v}),V(D,"Core/Axis/WaterfallAxis.js",[D["Core/Axis/Stacking/StackItem.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,objectEach:U}=F;var _;return function(L){class I{constructor(x){this.axis=x,this.stacks={changed:!1}}renderStackTotals(){const x=this.axis,h=x.waterfall.stacks,m=x.stacking&&x.stacking.stackTotalGroup,g=new X(x,x.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=g,m&&U(h,function(u){U(u,function(l,f){g.total=l.stackTotal,g.x=+f,l.label&&(g.label=l.label),X.prototype.render.call(g,m),l.label=g.label,delete g.label})}),g.total=null}}function i(){const x=this.waterfall.stacks;x&&(x.changed=!1,delete x.alreadyChanged)}function T(){const y=this,x=y.options.stackLabels;x&&x.enabled&&y.waterfall.stacks&&y.waterfall.renderStackTotals()}function A(){let y=this.axes,x=this.series,h=x.length;for(;h--;)x[h].options.stacking&&(y.forEach(function(m){m.isXAxis||(m.waterfall.stacks.changed=!0)}),h=0)}function v(){const y=this;y.waterfall||(y.waterfall=new I(y))}L.Composition=I,L.compose=function E(y,x){j(y,"init",v),j(y,"afterBuildStacks",i),j(y,"afterRender",T),j(x,"beforeRedraw",A)}}(_||(_={})),_}),V(D,"Series/Waterfall/WaterfallPoint.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/Point.js"],D["Core/Utilities.js"]],function(X,F,j){const{isNumber:U}=j;return class _ extends X.prototype.pointClass{constructor(){super(...arguments),this.options=void 0,this.series=void 0}getClassName(){let I=F.prototype.getClassName.call(this);return this.isSum?I+=" highcharts-sum":this.isIntermediateSum&&(I+=" highcharts-intermediate-sum"),I}isValid(){return U(this.y)||this.isSum||Boolean(this.isIntermediateSum)}}}),V(D,"Series/Waterfall/WaterfallSeries.js",[D["Core/Axis/Axis.js"],D["Core/Chart/Chart.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"],D["Core/Axis/WaterfallAxis.js"],D["Series/Waterfall/WaterfallPoint.js"]],function(X,F,j,U,_,L){const{seriesTypes:{column:I,line:E}}=j,{addEvent:i,arrayMax:T,arrayMin:A,correctFloat:v,extend:y,isNumber:x,merge:h,objectEach:m,pick:g}=U;function u(f,d){return Object.hasOwnProperty.call(f,d)}class l extends I{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.options=void 0,this.points=void 0,this.stackedYNeg=void 0,this.stackedYPos=void 0,this.stackKey=void 0,this.xData=void 0,this.yAxis=void 0,this.yData=void 0}generatePoints(){I.prototype.generatePoints.apply(this);for(let d=0,p=this.points.length;d<p;d++){const M=this.points[d],k=this.processedYData[d];x(k)&&(M.isIntermediateSum||M.isSum)&&(M.y=v(k))}}processData(d){let o,e,n,c,r,C,b,p=this,M=p.options,k=p.yData,a=M.data,s=k.length,t=M.threshold||0;for(n=e=c=r=0,b=0;b<s;b++)C=k[b],o=a&&a[b]?a[b]:{},"sum"===C||o.isSum?k[b]=v(n):"intermediateSum"===C||o.isIntermediateSum?(k[b]=v(e),e=0):(n+=C,e+=C),c=Math.min(n,c),r=Math.max(n,r);super.processData.call(this,d),M.stacking||(p.dataMin=c+t,p.dataMax=r)}toYData(d){return d.isSum?"sum":d.isIntermediateSum?"intermediateSum":d.y}updateParallelArrays(d,p){super.updateParallelArrays.call(this,d,p),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(d,p){const M=this.options.upColor;M&&!d.options.color&&x(d.y)&&(d.color=d.y>0?M:void 0);const k=I.prototype.pointAttribs.call(this,d,p);return delete k.dashstyle,k}getGraphPath(){return[["M",0,0]]}getCrispPath(){let d=this.data.filter(n=>x(n.y)),p=this.yAxis,M=d.length,k=Math.round(this.graph.strokeWidth())%2/2,a=Math.round(this.borderWidth)%2/2,o=this.xAxis.reversed,s=this.yAxis.reversed,t=this.options.stacking,e=[];for(let n=1;n<M;n++){if(!this.options.connectNulls&&!x(this.data[d[n].index-1].y))continue;const c=d[n].box,r=d[n-1],C=r.y||0,b=d[n-1].box;if(!c||!b)continue;const P=p.waterfall.stacks[this.stackKey],S=C>0?-b.height:0;if(P&&b&&c){let B;B=t?Math.round(p.translate(P[n-1].connectorThreshold,!1,!0,!1,!0)+(s?S:0))-k:b.y+r.minPointLengthOffset+a-k,e.push(["M",(b.x||0)+(o?0:b.width||0),B],["L",(c.x||0)+(o&&c.width||0),B])}if(b&&e.length&&(!t&&C<0&&!s||C>0&&s)){const w=e[e.length-2];w&&"number"==typeof w[2]&&(w[2]+=b.height||0);const B=e[e.length-1];B&&"number"==typeof B[2]&&(B[2]+=b.height||0)}}return e}drawGraph(){E.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){let n,c,r,C,b,P,S,w,B,N,O,Y,d=this,p=d.options,M=d.yAxis.waterfall.stacks,k=p.threshold||0,a=k,o=a,s=d.stackKey,t=d.xData,e=t.length;function z(R,G,H,W){if(n){if(b)for(;H<b;H++)n.stackState[H]+=W;else n.stackState[0]=R,b=n.stackState.length;n.stackState.push(n.stackState[b-1]+G)}}if(d.yAxis.stacking.usePercentage=!1,c=r=C=a,d.visible||!d.chart.options.chart.ignoreHiddenSeries){Y=M.changed,O=M.alreadyChanged,O&&O.indexOf(s)<0&&(Y=!0),M[s]||(M[s]={});const R=M[s];if(R)for(let G=0;G<e;G++)N=t[G],(!R[N]||Y)&&(R[N]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Y&&R[N]?R[N].label:void 0}),n=R[N],B=d.yData[G],B>=0?n.posTotal+=B:n.negTotal+=B,w=p.data[G],P=n.absolutePos=n.posTotal,S=n.absoluteNeg=n.negTotal,n.stackTotal=P+S,b=n.stackState.length,w&&w.isIntermediateSum?(z(C,r,0,C),C=r,r=k,a^=o,o^=a,a^=o):w&&w.isSum?(z(k,c,b,0),a=k):(z(a,B,0,c),w&&(c+=B,r+=B)),n.stateIndex++,n.threshold=a,a+=n.stackTotal;M.changed=!1,M.alreadyChanged||(M.alreadyChanged=[]),M.alreadyChanged.push(s)}}getExtremes(){let p,M,k,a,d=this.options.stacking;return d?(p=this.yAxis,M=p.waterfall.stacks,k=this.stackedYNeg=[],a=this.stackedYPos=[],m(M[this.stackKey],"overlap"===d?function(o){k.push(A(o.stackState)),a.push(T(o.stackState))}:function(o){k.push(o.negTotal+o.threshold),a.push(o.posTotal+o.threshold)}),{dataMin:A(k),dataMax:T(a)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return l.defaultOptions=h(I.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),i(l,"afterColumnTranslate",function(){const f=this,{options:d,points:p,yAxis:M}=f,k=g(d.minPointLength,5),a=k/2,o=d.threshold||0,s=d.stacking,t=M.waterfall.stacks[f.stackKey];let c,r,C,b,e=o,n=o;for(let P=0;P<p.length;P++){const S=p[P],w=f.processedYData[P],N=y({x:0,y:0,width:0,height:0},S.shapeArgs||{});S.box=N;const O=[0,w],Y=S.y||0;if(s){if(t){const R=t[P];"overlap"===s?(r=R.stackState[R.stateIndex--],c=Y>=0?r:r-Y,u(R,"absolutePos")&&delete R.absolutePos,u(R,"absoluteNeg")&&delete R.absoluteNeg):(Y>=0?(r=R.threshold+R.posTotal,R.posTotal-=Y,c=r):(r=R.threshold+R.negTotal,R.negTotal-=Y,c=r-Y),R.posTotal||x(R.absolutePos)&&u(R,"absolutePos")&&(R.posTotal=R.absolutePos,delete R.absolutePos),R.negTotal||x(R.absoluteNeg)&&u(R,"absoluteNeg")&&(R.negTotal=R.absoluteNeg,delete R.absoluteNeg)),S.isSum||(R.connectorThreshold=R.threshold+R.stackTotal),M.reversed?(C=Y>=0?c-Y:c+Y,b=c):(C=c,b=c-Y),S.below=C<=o,N.y=M.translate(C,!1,!0,!1,!0),N.height=Math.abs(N.y-M.translate(b,!1,!0,!1,!0));const G=M.waterfall.dummyStackItem;G&&(G.x=P,G.label=t[P].label,G.setOffset(f.pointXOffset||0,f.barW||0,f.stackedYNeg[P],f.stackedYPos[P],void 0,this.xAxis))}}else c=Math.max(n,n+Y)+O[0],N.y=M.translate(c,!1,!0,!1,!0),S.isSum?(N.y=M.translate(O[1],!1,!0,!1,!0),N.height=Math.min(M.translate(O[0],!1,!0,!1,!0),M.len)-N.y,S.below=O[1]<=o):S.isIntermediateSum?(Y>=0?(C=O[1]+e,b=e):(C=e,b=O[1]+e),M.reversed&&(C^=b,b^=C,C^=b),N.y=M.translate(C,!1,!0,!1,!0),N.height=Math.abs(N.y-Math.min(M.translate(b,!1,!0,!1,!0),M.len)),e+=O[1],S.below=C<=o):(N.height=w>0?M.translate(n,!1,!0,!1,!0)-N.y:M.translate(n,!1,!0,!1,!0)-M.translate(n-w,!1,!0,!1,!0),n+=w,S.below=n<o),N.height<0&&(N.y+=N.height,N.height*=-1);S.plotY=N.y=Math.round(N.y||0)-f.borderWidth%2/2,N.height=Math.max(Math.round(N.height||0),.001),S.yBottom=N.y+N.height,N.height<=k&&!S.isNull?(N.height=k,N.y-=a,S.plotY=N.y,S.minPointLengthOffset=Y<0?-a:a):(S.isNull&&(N.width=0),S.minPointLengthOffset=0);const z=S.plotY+(S.negative?N.height:0);S.below&&(S.plotY+=N.height),S.tooltipPos&&(f.chart.inverted?S.tooltipPos[0]=M.len-z:S.tooltipPos[1]=z),S.isInside=this.isPointInside(S),h(!0,S.shapeArgs,N)}},{order:2}),y(l.prototype,{getZonesGraphs:E.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:L}),j.registerSeriesType("waterfall",l),_.compose(X,F),l}),V(D,"Core/Axis/RadialAxis.js",[D["Core/Axis/AxisDefaults.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{defaultOptions:_}=F,{noop:L}=j,{addEvent:I,correctFloat:E,defined:i,extend:T,fireEvent:A,merge:v,pick:y,relativeLength:x,wrap:h}=U;var m;return function(g){const u=[],l={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},f={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},d={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function p(){this.autoConnect=this.isCircular&&typeof y(this.userMax,this.options.max)>"u"&&E(this.endAngleRad-this.startAngleRad)===E(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function k(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(Z=>this.ticks[Z]&&this.ticks[Z].label).filter(Z=>Boolean(Z))}}function a(){return L}function o(Z,tt,$){const it=this.pane.center;let ot,rt,lt,at,nt=Z.value;return this.isCircular?(i(nt)?Z.point&&(ot=Z.point.shapeArgs||{},ot.start&&(nt=this.chart.inverted?this.translate(Z.point.rectPlotY,!0):Z.point.x)):(lt=Z.chartX||0,at=Z.chartY||0,nt=this.translate(Math.atan2(at-$,lt-tt)-this.startAngleRad,!0)),rt=this.getPosition(nt),lt=rt.x,at=rt.y):(i(nt)||(lt=Z.chartX,at=Z.chartY),i(lt)&&i(at)&&($=it[1]+this.chart.plotTop,nt=this.translate(Math.min(Math.sqrt(Math.pow(lt-tt,2)+Math.pow(at-$,2)),it[2]/2)-it[3]/2,!0))),[nt,lt||0,at||0]}function s(Z,tt,$){const it=this.pane.center,nt=this.chart,ot=this.left||0,rt=this.top||0;let lt,ut,at=y(tt,it[2]/2-this.offset);return typeof $>"u"&&($=this.horiz?0:this.center&&-this.center[3]/2),$&&(at+=$),this.isCircular||typeof tt<"u"?(ut=this.chart.renderer.symbols.arc(ot+it[0],rt+it[1],at,at,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),ut.xBounds=[ot+it[0]],ut.yBounds=[rt+it[1]-at]):(lt=this.postTranslate(this.angleRad,at),ut=[["M",this.center[0]+nt.plotLeft,this.center[1]+nt.plotTop],["L",lt.x,lt.y]]),ut}function t(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function e(Z,tt,$){const it=this.chart,nt=Dt=>{if("string"==typeof Dt){let Lt=parseInt(Dt,10);return gt.test(Dt)&&(Lt=Lt*lt/100),Lt}return Dt},ot=this.center,rt=this.startAngleRad,lt=ot[2]/2,at=Math.min(this.offset,0),ut=this.left||0,pt=this.top||0,gt=/%$/,yt=this.isCircular;let ht,mt,bt,St,Pt,wt,Tt=y(nt($.outerRadius),lt),Et=nt($.innerRadius),Ot=y(nt($.thickness),10);if("polygon"===this.options.gridLineInterpolation)wt=this.getPlotLinePath({value:Z}).concat(this.getPlotLinePath({value:tt,reverse:!0}));else{Z=Math.max(Z,this.min),tt=Math.min(tt,this.max);const Dt=this.translate(Z),Lt=this.translate(tt);yt||(Tt=Dt||0,Et=Lt||0),"circle"!==$.shape&&yt?(ht=rt+(Dt||0),mt=rt+(Lt||0)):(ht=-Math.PI/2,mt=1.5*Math.PI,Pt=!0),Tt-=at,Ot-=at,wt=it.renderer.symbols.arc(ut+ot[0],pt+ot[1],Tt,Tt,{start:Math.min(ht,mt),end:Math.max(ht,mt),innerR:y(Et,Tt-Ot),open:Pt}),yt&&(bt=(mt+ht)/2,St=ut+ot[0]+ot[2]/2*Math.cos(bt),wt.xBounds=bt>-Math.PI/2&&bt<Math.PI/2?[St,it.plotWidth]:[0,St],wt.yBounds=[pt+ot[1]+ot[2]/2*Math.sin(bt)],wt.yBounds[0]+=bt>-Math.PI&&bt<0||bt>Math.PI?-10:10)}return wt}function n(Z){const tt=this.pane.center,$=this.chart,it=$.inverted,nt=Z.reverse,ot=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},rt=ot.innerRadius||"0%",lt=ot.outerRadius||"100%",at=tt[0]+$.plotLeft,ut=tt[1]+$.plotTop,pt=this.height,gt=Z.isCrosshair,yt=tt[3]/2;let mt,bt,St,Pt,wt,Tt,Et,Ot,Dt,ht=Z.value;const Lt=this.getPosition(ht);let Rt=Lt.x,jt=Lt.y;if(gt&&(Ot=this.getCrosshairPosition(Z,at,ut),ht=Ot[0],Rt=Ot[1],jt=Ot[2]),this.isCircular)bt=Math.sqrt(Math.pow(Rt-at,2)+Math.pow(jt-ut,2)),St="string"==typeof rt?x(rt,1):rt/bt,Pt="string"==typeof lt?x(lt,1):lt/bt,tt&&yt&&(mt=yt/bt,St<mt&&(St=mt),Pt<mt&&(Pt=mt)),Dt=[["M",at+St*(Rt-at),ut-St*(ut-jt)],["L",Rt-(1-Pt)*(Rt-at),jt+(1-Pt)*(ut-jt)]];else if(ht=this.translate(ht),ht&&(ht<0||ht>pt)&&(ht=0),"circle"===this.options.gridLineInterpolation)Dt=this.getLinePath(0,ht,yt);else if(Dt=[],$[it?"yAxis":"xAxis"].forEach(Nt=>{Nt.pane===this.pane&&(wt=Nt)}),wt){Et=wt.tickPositions,wt.autoConnect&&(Et=Et.concat([Et[0]])),nt&&(Et=Et.slice().reverse()),ht&&(ht+=yt);for(let Nt=0;Nt<Et.length;Nt++)Tt=wt.getPosition(Et[Nt],ht),Dt.push(Nt?["L",Tt.x,Tt.y]:["M",Tt.x,Tt.y])}return Dt}function c(Z,tt){const $=this.translate(Z);return this.postTranslate(this.isCircular?$:this.angleRad,y(this.isCircular?tt:$<0?0:$,this.center[2]/2)-this.offset)}function r(){const Z=this.center,tt=this.chart,$=this.options.title;return{x:tt.plotLeft+Z[0]+($.x||0),y:tt.plotTop+Z[1]-{high:.5,middle:.25,low:0}[$.align]*Z[2]+($.y||0)}}function C(Z){Z.beforeSetTickPositions=p,Z.createLabelCollector=k,Z.getCrosshairPosition=o,Z.getLinePath=s,Z.getOffset=t,Z.getPlotBandPath=e,Z.getPlotLinePath=n,Z.getPosition=c,Z.getTitlePosition=r,Z.postTranslate=z,Z.setAxisSize=G,Z.setAxisTranslation=H,Z.setOptions=W}function P(){const Z=this.chart,tt=this.options,it=this.pane,nt=it&&it.options;if((!Z.angular||!this.isXAxis)&&it&&(Z.angular||Z.polar)){const ot=2*Math.PI,rt=(y(nt.startAngle,0)-90)*Math.PI/180,lt=(y(nt.endAngle,y(nt.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(tt.angle||0)*Math.PI/180,this.startAngleRad=rt,this.endAngleRad=lt,this.offset=tt.offset||0;let at=(rt%ot+ot)%ot,ut=(lt%ot+ot)%ot;at>Math.PI&&(at-=ot),ut>Math.PI&&(ut-=ot),this.normalizedStartAngleRad=at,this.normalizedEndAngleRad=ut}}function S(Z){this.isRadial&&(Z.align=void 0,Z.preventDefault())}function w(){if(this.chart&&this.chart.labelCollectors){const Z=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;Z>=0&&this.chart.labelCollectors.splice(Z,1)}}function B(Z){const tt=this.chart,$=tt.inverted,it=tt.angular,nt=tt.polar,ot=this.isXAxis,rt=this.coll,lt=it&&ot,pt=this.pane=tt.pane&&tt.pane[Z.userOptions.pane||0];let gt;"colorAxis"!==rt?(it?(lt?function b(Z){Z.isHidden=!0,Z.createLabelCollector=a,Z.getOffset=L,Z.redraw=R,Z.render=R,Z.setScale=L,Z.setCategories=L,Z.setTitle=L}(this):C(this),gt=!ot,gt&&(this.defaultPolarOptions=f)):nt&&(C(this),gt=this.horiz,this.defaultPolarOptions=gt?l:v("xAxis"===rt?X.defaultXAxisOptions:X.defaultYAxisOptions,d),$&&"yAxis"===rt&&(this.defaultPolarOptions.stackLabels=X.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),it||nt?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&tt.labelCollectors.push(this.labelCollector)):this.isRadial=!1,pt&&gt&&(pt.axis=this),this.isCircular=gt):this.isRadial=!1}function N(){this.isRadial&&this.beforeSetTickPositions()}function O(Z){const tt=this.label;if(!tt)return;const $=this.axis,it=tt.getBBox(),nt=$.options.labels,ot=($.translate(this.pos)+$.startAngleRad+Math.PI/2)/Math.PI*180%360,rt=Math.round(ot),lt=i(nt.y)?0:.3*-it.height;let ut,at=nt.y,pt=20,gt=nt.align,yt="end",ht=rt<0?rt+360:rt,mt=ht,bt=0,St=0;$.isRadial&&(ut=$.getPosition(this.pos,$.center[2]/2+x(y(nt.distance,-25),$.center[2]/2,-$.center[2]/2)),"auto"===nt.rotation?tt.attr({rotation:ot}):i(at)||(at=$.chart.renderer.fontMetrics(tt).b-it.height/2),i(gt)||($.isCircular?(it.width>$.len*$.tickInterval/($.max-$.min)&&(pt=0),gt=ot>pt&&ot<180-pt?"left":ot>180+pt&&ot<360-pt?"right":"center"):gt="center",tt.attr({align:gt})),"auto"===gt&&2===$.tickPositions.length&&$.isCircular&&(ht>90&&ht<180?ht=180-ht:ht>270&&ht<=360&&(ht=540-ht),mt>180&&mt<=360&&(mt=360-mt),($.pane.options.startAngle===rt||$.pane.options.startAngle===rt+360||$.pane.options.startAngle===rt-360)&&(yt="start"),gt=rt>=-90&&rt<=90||rt>=-360&&rt<=-270||rt>=270&&rt<=360?"start"===yt?"right":"left":"start"===yt?"left":"right",mt>70&&mt<110&&(gt="center"),ht<15||ht>=180&&ht<195?bt=.3*it.height:ht>=15&&ht<=35?bt="start"===yt?0:.75*it.height:ht>=195&&ht<=215?bt="start"===yt?.75*it.height:0:ht>35&&ht<=90?bt="start"===yt?.25*-it.height:it.height:ht>215&&ht<=270&&(bt="start"===yt?it.height:.25*-it.height),mt<15?St="start"===yt?.15*-it.height:.15*it.height:mt>165&&mt<=180&&(St="start"===yt?.15*it.height:.15*-it.height),tt.attr({align:gt}),tt.translate(St,bt+lt)),Z.pos.x=ut.x+(nt.x||0),Z.pos.y=ut.y+(at||0))}function Y(Z){this.axis.getPosition&&T(Z.pos,this.axis.getPosition(this.pos))}function z(Z,tt){const $=this.chart,it=this.center;return Z=this.startAngleRad+Z,{x:$.plotLeft+it[0]+Math.cos(Z)*tt,y:$.plotTop+it[1]+Math.sin(Z)*tt}}function R(){this.isDirty=!1}function G(){let tt,$;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),tt=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:($=this.postTranslate(this.angleRad,tt[3]/2),tt[0]=$.x-this.chart.plotLeft,tt[1]=$.y-this.chart.plotTop),this.len=this.width=this.height=(tt[2]-tt[3])*y(this.sector,1)/2)}function H(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function W(Z){const tt=this.options=v(this.constructor.defaultOptions,this.defaultPolarOptions,_[this.coll],Z);tt.plotBands||(tt.plotBands=[]),A(this,"afterSetOptions")}function q(Z,tt,$,it,nt,ot,rt){const lt=this.axis;let at,ut;return lt.isRadial?(at=lt.getPosition(this.pos,lt.center[2]/2+it),ut=["M",tt,$,"L",at.x,at.y]):ut=Z.call(this,tt,$,it,nt,ot,rt),ut}g.compose=function M(Z,tt){return U.pushUnique(u,Z)&&(I(Z,"afterInit",P),I(Z,"autoLabelAlign",S),I(Z,"destroy",w),I(Z,"init",B),I(Z,"initialAxisTranslation",N)),U.pushUnique(u,tt)&&(I(tt,"afterGetLabelPosition",O),I(tt,"afterGetPosition",Y),h(tt.prototype,"getMarkPath",q)),Z}}(m||(m={})),m}),V(D,"Series/PolarComposition.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Globals.js"],D["Core/Series/Series.js"],D["Extensions/Pane.js"],D["Core/Axis/RadialAxis.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{animObject:I}=X,{addEvent:E,defined:i,find:T,isNumber:A,merge:v,pick:y,relativeLength:x,splat:h,uniqueKey:m,wrap:g}=L,u=[];function d(O,Y,z,R){const W=R?1:0;let q,Z,tt,$,it,nt;q=Y>=0&&Y<=O.length-1?Y:Y<0?O.length-1+Y:0;const ot=q-1<0?O.length-(1+W):q-1,lt=O[ot],at=O[q+1>O.length-1?W:q+1],ht=O[q].plotX,mt=O[q].plotY;Z=(1.5*ht+lt.plotX)/2.5,tt=(1.5*mt+lt.plotY)/2.5,$=(1.5*ht+at.plotX)/2.5,it=(1.5*mt+at.plotY)/2.5;const bt=Math.sqrt(Math.pow(Z-ht,2)+Math.pow(tt-mt,2)),St=Math.sqrt(Math.pow($-ht,2)+Math.pow(it-mt,2)),Pt=Math.atan2(tt-mt,Z-ht),wt=Math.atan2(it-mt,$-ht);nt=Math.PI/2+(Pt+wt)/2,Math.abs(Pt-nt)>Math.PI/2&&(nt-=Math.PI),Z=ht+Math.cos(nt)*bt,tt=mt+Math.sin(nt)*bt,$=ht+Math.cos(Math.PI+nt)*St,it=mt+Math.sin(Math.PI+nt)*St;const Tt={rightContX:$,rightContY:it,leftContX:Z,leftContY:tt,plotX:ht,plotY:mt};return z&&(Tt.prevPointCont=d(O,ot,!1,R)),Tt}function p(){(this.pane||[]).forEach(O=>{O.render()})}function M(O){const Y=O.args[0].xAxis,z=O.args[0].yAxis,R=O.args[0].chart;Y&&z&&("polygon"===z.gridLineInterpolation?(Y.startOnTick=!0,Y.endOnTick=!0):"polygon"===Y.gridLineInterpolation&&R.inverted&&(z.startOnTick=!0,z.endOnTick=!0))}function k(){this.pane||(this.pane=[]),this.options.pane=h(this.options.pane),this.options.pane.forEach(O=>{new U(O,this)},this)}function a(O){const Y=O.args.marker,z=this.chart.xAxis[0],R=this.chart.yAxis[0],G=this.chart.inverted,H=G?R:z,W=G?z:R;if(this.chart.polar){O.preventDefault();let q=(Y.attr?Y.attr("start"):Y.start)-H.startAngleRad,Z=Y.attr?Y.attr("r"):Y.r,tt=(Y.attr?Y.attr("end"):Y.end)-H.startAngleRad,$=Y.attr?Y.attr("innerR"):Y.innerR;O.result.x=q+H.pos,O.result.width=tt-q,O.result.y=W.len+W.pos-$,O.result.height=$-Z}}function o(O){const Y=this.chart;if(Y.polar&&Y.hoverPane&&Y.hoverPane.axis){O.preventDefault();const z=Y.hoverPane.center,R=this.mouseDownX||0,G=this.mouseDownY||0,H=O.args.chartY,W=O.args.chartX,q=2*Math.PI,Z=Y.hoverPane.axis.startAngleRad,tt=Y.hoverPane.axis.endAngleRad,$=Y.inverted?Y.xAxis[0]:Y.yAxis[0],it={};let nt="arc";if(it.x=z[0]+Y.plotLeft,it.y=z[1]+Y.plotTop,this.zoomHor){const ot=Z>0?tt-Z:Math.abs(Z)+Math.abs(tt);let rt=Math.atan2(G-Y.plotTop-z[1],R-Y.plotLeft-z[0])-Z,lt=Math.atan2(H-Y.plotTop-z[1],W-Y.plotLeft-z[0])-Z;it.r=z[2]/2,it.innerR=z[3]/2,rt<=0&&(rt+=q),lt<=0&&(lt+=q),lt<rt&&(lt=[rt,rt=lt][0]),ot<q&&Z+lt>tt+(q-ot)/2&&(lt=rt,rt=Z<=0?Z:0);const at=it.start=Math.max(rt+Z,Z),ut=it.end=Math.min(lt+Z,tt);if("polygon"===$.options.gridLineInterpolation){const pt=Y.hoverPane.axis,yt=at-pt.startAngleRad+pt.pos,ht=ut-at;let mt=$.getPlotLinePath({value:$.max}),bt=pt.toValue(yt),St=pt.toValue(yt+ht);if(bt<pt.getExtremes().min){const{min:Pt,max:wt}=pt.getExtremes();bt=wt-(Pt-bt)}if(St<pt.getExtremes().min){const{min:Pt,max:wt}=pt.getExtremes();St=wt-(Pt-St)}St<bt&&(St=[bt,bt=St][0]),mt=n(mt,bt,St,pt),mt.push(["L",z[0]+Y.plotLeft,Y.plotTop+z[1]]),it.d=mt,nt="path"}}if(this.zoomVert){const ot=Y.inverted?Y.xAxis[0]:Y.yAxis[0];let rt=Math.sqrt(Math.pow(R-Y.plotLeft-z[0],2)+Math.pow(G-Y.plotTop-z[1],2)),lt=Math.sqrt(Math.pow(W-Y.plotLeft-z[0],2)+Math.pow(H-Y.plotTop-z[1],2));if(lt<rt&&(rt=[lt,lt=rt][0]),lt>z[2]/2&&(lt=z[2]/2),rt<z[3]/2&&(rt=z[3]/2),this.zoomHor||(it.start=Z,it.end=tt),it.r=lt,it.innerR=rt,"polygon"===ot.options.gridLineInterpolation){const at=ot.toValue(ot.len+ot.pos-rt),ut=ot.toValue(ot.len+ot.pos-lt),pt=ot.getPlotLinePath({value:ut}).concat(ot.getPlotLinePath({value:at,reverse:!0}));it.d=pt,nt="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===$.options.gridLineInterpolation){const ot=Y.hoverPane.axis,rt=it.start||0,at=rt-ot.startAngleRad+ot.pos,ut=(it.end||0)-rt,pt=ot.toValue(at),gt=ot.toValue(at+ut);if(it.d instanceof Array){let yt=it.d.slice(0,it.d.length/2),ht=it.d.slice(it.d.length/2,it.d.length);ht=[...ht].reverse();const mt=Y.hoverPane.axis;yt=n(yt,pt,gt,mt),ht=n(ht,pt,gt,mt),ht&&(ht[0][0]="L"),ht=[...ht].reverse(),it.d=yt.concat(ht),nt="path"}}O.attrs=it,O.shapeType=nt}}function s(){const O=this.chart;O.polar&&(this.polar=new N(this),O.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function t(){if(this.chart.polar&&this.xAxis){const O=this,{xAxis:Y,yAxis:z}=O,R=O.chart;O.kdByAngle=R.tooltip&&R.tooltip.shared,O.kdByAngle?O.searchPoint=e:O.options.findNearestPointBy="xy";const G=O.points;let H=G.length;for(;H--;)!O.is("column")&&!O.is("columnrange")&&O.polar.toXY(G[H]),!R.hasParallelCoordinates&&!O.yAxis.reversed&&(y(G[H].y,Number.MIN_VALUE)<z.min||G[H].x<Y.min||G[H].x>Y.max?(G[H].isNull=!0,G[H].plotY=NaN):G[H].isNull=G[H].isValid&&!G[H].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!O.eventsToUnbind.push(E(O,"afterRender",function(){let W;R.polar&&(W=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:W[0],y:W[1],r:W[2]/2,innerR:W[3]/2}):this.clipCircle=function l(O,Y,z,R,G){const H=m(),W=O.createElement("clipPath").attr({id:H}).add(O.defs),q=G?O.arc(Y,z,R,G,0,2*Math.PI).add(W):O.circle(Y,z,R).add(W);return q.id=H,q.clipPath=W,q}(R.renderer,W[0],W[1],W[2]/2,W[3]/2),this.group.clip(this.clipCircle),this.setClip=F.noop)})))}}function e(O){const Y=this,z=Y.chart,R=Y.xAxis,G=R.pane&&R.pane.center;return Y.searchKDTree({clientX:180+Math.atan2(O.chartX-(G&&G[0]||0)-z.plotLeft,O.chartY-(G&&G[1]||0)-z.plotTop)*(-180/Math.PI)})}function n(O,Y,z,R){const G=R.tickInterval,H=R.tickPositions;let W=T(H,Z=>Z>=z),q=T([...H].reverse(),Z=>Z<=Y);return i(W)||(W=H[H.length-1]),i(q)||(q=H[0],W+=G,O[0][0]="L",O.unshift(O[O.length-3])),(O=O.slice(H.indexOf(q),H.indexOf(W)+1))[0][0]="M",O}function c(O,Y){return T(this.pane||[],function(z){return z.options.id===Y})||O.call(this,Y)}function r(O,Y,z,R,G,H){const W=this.chart,q=y(R.inside,!!this.options.stacking);let Z,tt,$;W.polar?(Z=Y.rectPlotX/Math.PI*180,W.inverted?(this.forceDL=W.isInsidePlot(Y.plotX,Y.plotY),q&&Y.shapeArgs?(tt=Y.shapeArgs,$=this.yAxis.postTranslate(((tt.start||0)+(tt.end||0))/2-this.xAxis.startAngleRad,Y.barX+Y.pointWidth/2),G=v(G,{x:$.x-W.plotLeft,y:$.y-W.plotTop})):Y.tooltipPos&&(G=v(G,{x:Y.tooltipPos[0],y:Y.tooltipPos[1]})),R.align=y(R.align,"center"),R.verticalAlign=y(R.verticalAlign,"middle")):R=function f(O,Y){let z,R;return null===Y.align&&(z=O>20&&O<160?"left":O>200&&O<340?"right":"center",Y.align=z),null===Y.verticalAlign&&(R=O<45||O>315?"bottom":O>135&&O<225?"top":"middle",Y.verticalAlign=R),Y}(Z,R),j.prototype.alignDataLabel.call(this,Y,z,R,G,H),this.isRadialBar&&Y.shapeArgs&&Y.shapeArgs.start===Y.shapeArgs.end?z.hide():z.show()):O.call(this,Y,z,R,G,H)}function C(){const O=this,Y=O.options,z=Y.stacking,R=O.chart,G=O.xAxis,H=O.yAxis,W=H.reversed,q=H.center,Z=G.startAngleRad,$=G.endAngleRad-Z;let ot,rt,lt,at,ut,yt,ht,mt,bt,St,Pt,wt,Tt,it=Y.threshold,nt=0,pt=0,gt=0;if(G.isRadial)for(ot=O.points,lt=ot.length,at=H.translate(H.min),ut=H.translate(H.max),it=Y.threshold||0,R.inverted&&A(it)&&(nt=H.translate(it),i(nt)&&(nt<0?nt=0:nt>$&&(nt=$),O.translatedThreshold=nt+Z));lt--;){if(rt=ot[lt],Pt=rt.barX,ht=rt.x,mt=rt.y,rt.shapeType="arc",R.inverted){rt.plotY=H.translate(mt),z&&H.stacking?(St=H.stacking.stacks[(mt<0?"-":"")+O.stackKey],O.visible&&St&&St[ht]&&(rt.isNull||(bt=St[ht].points[O.getStackIndicator(void 0,ht,O.index).key],pt=H.translate(bt[0]),gt=H.translate(bt[1]),i(pt)&&(pt=L.clamp(pt,0,$))))):(pt=nt,gt=rt.plotY),pt>gt&&(gt=[pt,pt=gt][0]),W?gt>at?gt=at:pt<ut?pt=ut:(pt>at||gt<ut)&&(pt=gt=$):pt<at?pt=at:gt>ut?gt=ut:(gt<at||pt>ut)&&(pt=gt=0),H.min>H.max&&(pt=gt=W?$:0),pt+=Z,gt+=Z,q&&(rt.barX=Pt+=q[3]/2),wt=Math.max(Pt,0),Tt=Math.max(Pt+rt.pointWidth,0);const Et=Y.borderRadius,Dt=x(("object"==typeof Et?Et.radius:Et)||0,Tt-wt);rt.shapeArgs={x:q[0],y:q[1],r:Tt,innerR:wt,start:pt,end:gt,borderRadius:Dt},rt.opacity=pt===gt?0:void 0,rt.plotY=(i(O.translatedThreshold)&&(pt<O.translatedThreshold?pt:gt))-Z}else pt=Pt+Z,rt.shapeArgs=O.polar.arc(rt.yBottom,rt.plotY,pt,pt+rt.pointWidth),rt.shapeArgs.borderRadius=0;O.polar.toXY(rt),R.inverted?(yt=H.postTranslate(rt.rectPlotY,Pt+rt.pointWidth/2),rt.tooltipPos=[yt.x-R.plotLeft,yt.y-R.plotTop]):rt.tooltipPos=[rt.plotX,rt.plotY],q&&(rt.ttBelow=rt.plotY>q[1])}}function b(O,Y){const z=this;let R,G;if(this.chart.polar){Y=Y||this.points;for(let W=0;W<Y.length;W++)if(!Y[W].isNull){R=W;break}!1!==this.options.connectEnds&&typeof R<"u"&&(this.connectEnds=!0,Y.splice(Y.length,0,Y[R]),G=!0),Y.forEach(W=>{typeof W.polarPlotY>"u"&&z.polar.toXY(W)})}const H=O.apply(this,[].slice.call(arguments,1));return G&&Y.pop(),H}function P(O,Y){const z=this.chart;let R={xAxis:[],yAxis:[]};return z.polar?z.axes.forEach(G=>{if("colorAxis"===G.coll)return;const H=G.isXAxis,W=G.center,q=Y.chartX-W[0]-z.plotLeft,Z=Y.chartY-W[1]-z.plotTop;R[H?"xAxis":"yAxis"].push({axis:G,value:G.translate(H?Math.PI-Math.atan2(q,Z):Math.sqrt(Math.pow(q,2)+Math.pow(Z,2)),!0)})}):R=O.call(this,Y),R}function S(O,Y){this.chart.polar||O.call(this,Y)}function w(O,Y){const z=this,R=this.chart,G=this.group,H=this.markerGroup,W=this.xAxis&&this.xAxis.center,q=R.plotLeft,Z=R.plotTop;let $,it,nt,ot,rt,lt,tt=this.options.animation;R.polar?z.isRadialBar?Y||(z.startAngleRad=y(z.translatedThreshold,z.xAxis.startAngleRad),F.seriesTypes.pie.prototype.animate.call(z,Y)):(tt=I(tt),z.is("column")?Y||(it=W[3]/2,z.points.forEach(at=>{nt=at.graphic,ot=at.shapeArgs,rt=ot&&ot.r,lt=ot&&ot.innerR,nt&&ot&&(nt.attr({r:it,innerR:it}),nt.animate({r:rt,innerR:lt},z.options.animation))})):Y?($={translateX:W[0]+q,translateY:W[1]+Z,scaleX:.001,scaleY:.001},G.attr($),H&&H.attr($)):($={translateX:q,translateY:Z,scaleX:1,scaleY:1},G.animate($,tt),H&&H.animate($,tt))):O.call(this,Y)}function B(O,Y,z,R){let G,H;if(this.chart.polar)if(R){H=d(Y,R,!0,this.connectEnds);const W=H.prevPointCont&&H.prevPointCont.rightContX,q=H.prevPointCont&&H.prevPointCont.rightContY;G=["C",A(W)?W:H.plotX,A(q)?q:H.plotY,A(H.leftContX)?H.leftContX:H.plotX,A(H.leftContY)?H.leftContY:H.plotY,H.plotX,H.plotY]}else G=["M",z.plotX,z.plotY];else G=O.call(this,Y,z,R);return G}class N{static compose(Y,z,R,G,H,W,q,Z,tt){if(_.compose(Y,H),L.pushUnique(u,z)&&(E(z,"afterDrawChartBox",p),E(z,"getAxes",k),E(z,"init",M),g(z.prototype,"get",c)),L.pushUnique(u,R)){const $=R.prototype;g($,"getCoordinates",P),g($,"pinch",S),E(R,"getSelectionMarkerAttrs",o),E(R,"getSelectionBox",a)}if(L.pushUnique(u,G)&&(E(G,"afterInit",s),E(G,"afterTranslate",t,{order:2}),E(G,"afterColumnTranslate",C,{order:4}),g(G.prototype,"animate",w)),q&&L.pushUnique(u,q)){const $=q.prototype;g($,"alignDataLabel",r),g($,"animate",w)}if(Z&&L.pushUnique(u,Z)&&g(Z.prototype,"getGraphPath",b),tt&&L.pushUnique(u,tt)){const $=tt.prototype;g($,"getPointSpline",B),W&&L.pushUnique(u,W)&&(W.prototype.getPointSpline=$.getPointSpline)}}constructor(Y){this.series=Y}arc(Y,z,R,G){const H=this.series,W=H.xAxis.center,q=H.yAxis.len,Z=W[3]/2;let tt=q-z+Z,$=q-y(Y,q)+Z;return H.yAxis.reversed&&(tt<0&&(tt=Z),$<0&&($=Z)),{x:W[0],y:W[1],r:tt,innerR:$,start:R,end:G}}toXY(Y){const z=this.series,R=z.chart,G=z.xAxis,H=z.yAxis,W=Y.plotX,q=R.inverted,Z=Y.y;let it,tt=Y.plotY,$=q?W:H.len-tt;if(q&&z&&!z.isRadialBar&&(Y.plotY=tt=A(Z)?H.translate(Z):0),Y.rectPlotX=W,Y.rectPlotY=tt,H.center&&($+=H.center[3]/2),A(tt)){const nt=q?H.postTranslate(tt,$):G.postTranslate(W,$);Y.plotX=Y.polarPlotX=nt.x-R.plotLeft,Y.plotY=Y.polarPlotY=nt.y-R.plotTop}z.kdByAngle?(it=(W/Math.PI*180+G.pane.options.startAngle)%360,it<0&&(it+=360),Y.clientX=it):Y.clientX=Y.plotX}}return N}),V(D,"masters/highcharts-more.src.js",[D["Core/Globals.js"],D["Core/Series/SeriesRegistry.js"],D["Series/Bubble/BubbleSeries.js"],D["Series/PackedBubble/PackedBubbleSeries.js"],D["Series/PolarComposition.js"]],function(X,F,j,U,_){const L=X;j.compose(L.Axis,L.Chart,L.Legend,L.Series),U.compose(L.Axis,L.Chart,L.Legend,L.Series),_.compose(L.Axis,L.Chart,L.Pointer,L.Series,L.Tick,F.seriesTypes.areasplinerange,F.seriesTypes.column,F.seriesTypes.line,F.seriesTypes.spline)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},5002:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Accessibility/Utils/HTMLUtilities.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{doc:j,win:U}=X,{css:_}=F,L=U.EventTarget&&new U.EventTarget||"none";function i(d){if("function"==typeof U.MouseEvent)return new U.MouseEvent(d.type,d);if(j.createEvent){const p=j.createEvent("MouseEvent");if(p.initMouseEvent)return p.initMouseEvent(d.type,d.bubbles,d.cancelable,d.view||U,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),p}return y(d.type)}function y(d,p,M){const k=p||{x:0,y:0};if("function"==typeof U.MouseEvent)return new U.MouseEvent(d,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:M||L,view:U,detail:"click"===d?1:0,screenX:k.x,screenY:k.y,clientX:k.x,clientY:k.y});if(j.createEvent){const a=j.createEvent("MouseEvent");if(a.initMouseEvent)return a.initMouseEvent(d,!0,!0,U,"click"===d?1:0,k.x,k.y,k.x,k.y,!1,!1,!1,!1,0,null),a}return{type:d}}return{addClass:function I(d,p){d.classList?d.classList.add(p):d.className.indexOf(p)<0&&(d.className+=" "+p)},cloneMouseEvent:i,cloneTouchEvent:function T(d){const p=k=>{const a=[];for(let o=0;o<k.length;++o){const s=k.item(o);s&&a.push(s)}return a};if("function"==typeof U.TouchEvent){const k=new U.TouchEvent(d.type,{touches:p(d.touches),targetTouches:p(d.targetTouches),changedTouches:p(d.changedTouches),ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,altKey:d.altKey,metaKey:d.metaKey,bubbles:d.bubbles,cancelable:d.cancelable,composed:d.composed,detail:d.detail,view:d.view});return d.defaultPrevented&&k.preventDefault(),k}const M=i(d);return M.touches=d.touches,M.changedTouches=d.changedTouches,M.targetTouches=d.targetTouches,M},escapeStringForHTML:function A(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function v(d){return j.getElementById(d)},getFakeMouseEvent:y,getHeadingTagNameForElement:function x(d){const p=o=>{const s=parseInt(o.slice(1),10);return"h"+Math.min(6,s+1)},M=o=>/H[1-6]/.test(o),a=o=>{const s=(o=>{let s=o;for(;s=s.previousSibling;){const t=s.tagName||"";if(M(t))return t}return""})(o);if(s)return p(s);const t=o.parentElement;if(!t)return"p";const e=t.tagName;return M(e)?p(e):a(t)};return a(d)},removeChildNodes:function m(d){for(;d.lastChild;)d.removeChild(d.lastChild)},removeClass:function E(d,p){d.classList?d.classList.remove(p):d.className=d.className.replace(new RegExp(p,"g"),"")},removeElement:function h(d){d&&d.parentNode&&d.parentNode.removeChild(d)},reverseChildNodes:function g(d){let p=d.childNodes.length;for(;p--;)d.appendChild(d.childNodes[p])},simulatedEventTarget:L,stripHTMLTagsFromString:function u(d){return"string"==typeof d?d.replace(/<\/?[^>]+(>|$)/g,""):d},visuallyHideElement:function l(d){_(d,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),V(D,"Accessibility/A11yI18n.js",[D["Core/FormatUtilities.js"],D["Core/Utilities.js"]],function(X,F){const{format:j}=X,{getNestedProperty:U,pick:_}=F;var L;return function(I){const E=[];function A(x,h,m){const g=(p,M)=>{const k=p.slice(M||0),a=k.indexOf("{"),o=k.indexOf("}");if(a>-1&&o>a)return{statement:k.substring(a+1,o),begin:M+a+1,end:M+o}},u=[];let l,f,d=0;do{l=g(x,d),f=x.substring(d,l&&l.begin-1),f.length&&u.push({value:f,type:"constant"}),l&&u.push({value:l.statement,type:"statement"}),d=l?l.end+1:d+1}while(l);return u.forEach(p=>{"statement"===p.type&&(p.value=function T(x,h){const m=x.indexOf("#each("),g=x.indexOf("#plural("),u=x.indexOf("["),l=x.indexOf("]");let f,d;if(m>-1){const p=x.slice(m).indexOf(")")+m,M=x.substring(0,m),k=x.substring(p+1),o=x.substring(m+6,p).split(",");let t,s=Number(o[1]);if(d="",f=U(o[0],h),f){s=isNaN(s)?f.length:s,t=s<0?f.length+s:Math.min(s,f.length);for(let e=0;e<t;++e)d+=M+f[e]+k}return d.length?d:""}if(g>-1){const p=x.slice(g).indexOf(")")+g,k=x.substring(g+8,p).split(",");switch(Number(U(k[0],h))){case 0:d=_(k[4],k[1]);break;case 1:d=_(k[2],k[1]);break;case 2:d=_(k[3],k[1]);break;default:d=k[1]}return d?function y(x){return x.trim&&x.trim()||x.replace(/^\s+|\s+$/g,"")}(d):""}if(u>-1){const p=x.substring(0,u),M=Number(x.substring(u+1,l));let k;return f=U(p,h),!isNaN(M)&&f&&(M<0?(k=f[f.length+M],typeof k>"u"&&(k=f[0])):(k=f[M],typeof k>"u"&&(k=f[f.length-1]))),typeof k<"u"?k:""}return"{"+x+"}"}(p.value,h))}),j(u.reduce((p,M)=>p+M.value,""),h,m)}function v(x,h){const m=x.split(".");let g=this.options.lang,u=0;for(;u<m.length;++u)g=g&&g[m[u]];return"string"==typeof g?A(g,h,this):""}I.compose=function i(x){return F.pushUnique(E,x)&&(x.prototype.langFormat=v),x},I.i18nFormat=A}(L||(L={})),L}),V(D,"Accessibility/Utils/ChartUtilities.js",[D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(X,F,j){const{doc:U}=X,{stripHTMLTagsFromString:_}=F,{defined:L,find:I,fireEvent:E}=j;function m(a){if(a.points&&a.points.length){const o=I(a.points,s=>!!s.graphic);return o&&o.graphic&&o.graphic.element}}function g(a){const o=m(a);return o&&o.parentNode||a.graph&&a.graph.element||a.group&&a.group.element}return{fireEventOnWrappedOrUnwrappedElement:function i(a,o){const s=o.type,t=a.hcEvents;U.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(o):a.fireEvent(s,o):t&&t[s]?E(a,s,o):a.element&&i(a.element,o)},getChartTitle:function T(a){return _(a.options.title.text||a.langFormat("accessibility.defaultChartTitle",{chart:a}))},getAxisDescription:function A(a){return a&&(a.userOptions&&a.userOptions.accessibility&&a.userOptions.accessibility.description||a.axisTitle&&a.axisTitle.textStr||a.options.id||a.categories&&"categories"||a.dateTime&&"Time"||"values")},getAxisRangeDescription:function v(a){const o=a.options||{};return o.accessibility&&typeof o.accessibility.rangeDescription<"u"?o.accessibility.rangeDescription:a.categories?function y(a){const o=a.chart;return a.dataMax&&a.dataMin?o.langFormat("accessibility.axis.rangeCategories",{chart:o,axis:a,numCategories:a.dataMax-a.dataMin+1}):""}(a):!a.dateTime||0!==a.min&&0!==a.dataMin?function h(a){const o=a.chart,s=o.options,t=s&&s.accessibility&&s.accessibility.screenReaderSection.axisRangeDateFormat||"",e={min:a.dataMin||a.min||0,max:a.dataMax||a.max||0},n=function(c){return a.dateTime?o.time.dateFormat(t,e[c]):e[c].toString()};return o.langFormat("accessibility.axis.rangeFromTo",{chart:o,axis:a,rangeFrom:n("min"),rangeTo:n("max")})}(a):function x(a){const o=a.chart,s={};let n="Seconds";s.Seconds=((a.dataMax||a.max||0)-(a.dataMin||a.min||0))/1e3,s.Minutes=s.Seconds/60,s.Hours=s.Minutes/60,s.Days=s.Hours/24,["Minutes","Hours","Days"].forEach(function(r){s[r]>2&&(n=r)});const c=s[n].toFixed("Seconds"!==n&&"Minutes"!==n?1:0);return o.langFormat("accessibility.axis.timeRange"+n,{chart:o,axis:a,range:c.replace(".0","")})}(a)},getPointFromXY:function d(a,o,s){let e,t=a.length;for(;t--;)if(e=I(a[t].points||[],function(n){return n.x===o&&n.y===s}),e)return e},getSeriesFirstPointElement:m,getSeriesFromName:function f(a,o){return o?(a.series||[]).filter(function(s){return s.name===o}):a.series},getSeriesA11yElement:g,unhideChartElementFromAT:function u(a,o){o.setAttribute("aria-hidden",!1),o!==a.renderTo&&o.parentNode&&o.parentNode!==U.body&&(Array.prototype.forEach.call(o.parentNode.childNodes,function(s){s.hasAttribute("aria-hidden")||s.setAttribute("aria-hidden",!0)}),u(a,o.parentNode))},hideSeriesFromAT:function l(a){const o=g(a);o&&o.setAttribute("aria-hidden",!0)},scrollToPoint:function M(a){const o=a.series.xAxis,t=o&&o.scrollbar?o:a.series.yAxis,e=t&&t.scrollbar;if(e&&L(e.to)&&L(e.from)){const n=e.to-e.from,c=function p(a,o){if(!L(a.dataMin)||!L(a.dataMax))return 0;const s=a.toPixels(a.dataMin),t=a.toPixels(a.dataMax);return(a.toPixels(o["xAxis"===a.coll?"x":"y"]||0)-s)/(t-s)}(t,a);e.updatePosition(c-n/2,c+n/2),E(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:null})}}}}),V(D,"Accessibility/Utils/DOMElementProvider.js",[D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F){const{doc:j}=X,{removeElement:U}=F;return class _{constructor(){this.elements=[]}createElement(){const I=j.createElement.apply(j,arguments);return this.elements.push(I),I}destroyCreatedElements(){this.elements.forEach(function(I){U(I)}),this.elements=[]}}}),V(D,"Accessibility/Utils/EventProvider.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j}=F;return class U{constructor(){this.eventRemovers=[]}addEvent(){const L=j.apply(X,arguments);return this.eventRemovers.push(L),L}removeAddedEvents(){this.eventRemovers.forEach(L=>L()),this.eventRemovers=[]}}}),V(D,"Accessibility/AccessibilityComponent.js",[D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{fireEventOnWrappedOrUnwrappedElement:L}=X,{getFakeMouseEvent:I}=U,{extend:E}=_;class i{constructor(){this.chart=void 0,this.domElementProvider=void 0,this.eventProvider=void 0,this.keyCodes=void 0,this.proxyProvider=void 0}initBase(A,v){this.chart=A,this.eventProvider=new j,this.domElementProvider=new F,this.proxyProvider=v,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(A,v,y,x){return this.eventProvider.addEvent(A,v,y,x)}createElement(A,v){return this.domElementProvider.createElement(A,v)}fakeClickEvent(A){const v=I("click");L(A,v)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return E(i.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),i}),V(D,"Accessibility/KeyboardNavigationHandler.js",[D["Core/Utilities.js"]],function(X){const{find:F}=X;return class j{constructor(_,L){this.chart=_,this.keyCodeMap=L.keyCodeMap||[],this.validate=L.validate,this.init=L.init,this.terminate=L.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(_){const L=_.which||_.keyCode;let I=this.response.noHandler;const E=F(this.keyCodeMap,function(i){return i[0].indexOf(L)>-1});return E?I=E[1].call(this,L,_):9===L&&(I=this.response[_.shiftKey?"prev":"next"]),I}}}),V(D,"Accessibility/Components/ContainerComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F,j,U,_){const{unhideChartElementFromAT:L,getChartTitle:I}=j,{doc:E}=U,{stripHTMLTagsFromString:i}=_;return class T extends X{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const v=this.chart,y="highcharts-title-"+v.index,x=i(v.langFormat("accessibility.svgContainerTitle",{chartTitle:I(v)}));if(x.length){const h=this.svgTitleElement=this.svgTitleElement||E.createElementNS("http://www.w3.org/2000/svg","title");h.textContent=x,h.id=y,v.renderTo.insertBefore(h,v.renderTo.firstChild)}}setSVGContainerLabel(){const v=this.chart,y=v.langFormat("accessibility.svgContainerLabel",{chartTitle:I(v)});v.renderer.box&&y.length&&v.renderer.box.setAttribute("aria-label",y)}setGraphicContainerAttrs(){const v=this.chart,y=v.langFormat("accessibility.graphicContainerLabel",{chartTitle:I(v)});y.length&&v.container.setAttribute("aria-label",y)}setRenderToAttrs(){const v=this.chart,y="disabled"!==v.options.accessibility.landmarkVerbosity,x=v.langFormat("accessibility.chartContainerLabel",{title:I(v),chart:v});x&&(v.renderTo.setAttribute("role",y?"region":"group"),v.renderTo.setAttribute("aria-label",x))}makeCreditsAccessible(){const v=this.chart,y=v.credits;y&&(y.textStr&&y.element.setAttribute("aria-label",v.langFormat("accessibility.credits",{creditsStr:i(y.textStr)})),L(v,y.element))}getKeyboardNavigation(){const v=this.chart;return new F(v,{keyCodeMap:[],validate:function(){return!0},init:function(){const y=v.accessibility;y&&y.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),V(D,"Accessibility/FocusBorder.js",[D["Core/Renderer/SVG/SVGLabel.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,pick:U}=F;var _;return function(L){const I=[],E=["x","y","transform","width","height","r","d","stroke-width"];function T(){const u=this.focusElement,l=this.options.accessibility.keyboardNavigation.focusBorder;u&&(u.removeFocusBorder(),l.enabled&&u.addFocusBorder(l.margin,{stroke:l.style.color,strokeWidth:l.style.lineWidth,r:l.style.borderRadius}))}function A(u,l){const f=this.options.accessibility.keyboardNavigation.focusBorder,d=l||u.element;d&&d.focus&&(d.hcEvents&&d.hcEvents.focusin||j(d,"focusin",function(){}),d.focus(),f.hideBrowserFocusOutline&&(d.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=u,this.renderFocusBorder()}function y(u,l){this.focusBorder&&this.removeFocusBorder();const f=this.getBBox(),d=U(u,3),p=this.parentGroup,M=this.scaleX||p&&p.scaleX,k=this.scaleY||p&&p.scaleY,o=(M?!k:k)?Math.abs(M||k||1):(Math.abs(M||1)+Math.abs(k||1))/2;f.x+=this.translateX?this.translateX:0,f.y+=this.translateY?this.translateY:0;let s=f.x-d,t=f.y-d,e=f.width+2*d,n=f.height+2*d;const r=this instanceof X;if("text"===this.element.nodeName||r){const C=!!this.rotation,b=r?{x:C?1:0,y:0}:function c(C){let b=0,P=0;return"middle"===C.attr("text-anchor")?b=P=.5:C.rotation?b=.25:P=.75,{x:b,y:P}}(this),P=+this.attr("x"),S=+this.attr("y");if(isNaN(P)||(s=P-f.width*b.x-d),isNaN(S)||(t=S-f.height*b.y-d),r&&C){const w=e;e=n,n=w,isNaN(P)||(s=P-f.height*b.x-d),isNaN(S)||(t=S-f.width*b.y-d)}}this.focusBorder=this.renderer.rect(s,t,e,n,parseInt((l&&l.r||0).toString(),10)/o).addClass("highcharts-focus-border").attr({zIndex:99}).add(p),this.renderer.styledMode||this.focusBorder.attr({stroke:l&&l.stroke,"stroke-width":(l&&l.strokeWidth||0)/o}),function x(u,...l){u.focusBorderUpdateHooks||(u.focusBorderUpdateHooks={},E.forEach(f=>{const d=f+"Setter",p=u[d]||u._defaultSetter;u.focusBorderUpdateHooks[d]=p,u[d]=function(){const M=p.apply(u,arguments);return u.addFocusBorder.apply(u,l),M}}))}(this,u,l),function v(u){if(u.focusBorderDestroyHook)return;const l=u.destroy;u.destroy=function(){return u.focusBorder&&u.focusBorder.destroy&&u.focusBorder.destroy(),l.apply(u,arguments)},u.focusBorderDestroyHook=l}(this)}function m(){(function g(u){u.focusBorderUpdateHooks&&(Object.keys(u.focusBorderUpdateHooks).forEach(l=>{const f=u.focusBorderUpdateHooks[l];f===u._defaultSetter?delete u[l]:u[l]=f}),delete u.focusBorderUpdateHooks)})(this),function h(u){u.focusBorderDestroyHook&&(u.destroy=u.focusBorderDestroyHook,delete u.focusBorderDestroyHook)}(this),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}L.compose=function i(u,l){if(F.pushUnique(I,u)){const f=u.prototype;f.renderFocusBorder=T,f.setFocusToElement=A}if(F.pushUnique(I,l)){const f=l.prototype;f.addFocusBorder=y,f.removeFocusBorder=m}}}(_||(_={})),_}),V(D,"Accessibility/Utils/Announcer.js",[D["Core/Renderer/HTML/AST.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{doc:L}=j,{addClass:I,visuallyHideElement:E}=U,{attr:i}=_;return class T{constructor(v,y){this.chart=v,this.domElementProvider=new F,this.announceRegion=this.addAnnounceRegion(y)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(v){X.setElementHTML(this.announceRegion,v),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=X.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(v){const y=this.chart.announcerContainer||this.createAnnouncerContainer(),x=this.domElementProvider.createElement("div");return i(x,{"aria-hidden":!1,"aria-live":v}),this.chart.styledMode?I(x,"highcharts-visually-hidden"):E(x),y.appendChild(x),x}createAnnouncerContainer(){const v=this.chart,y=L.createElement("div");return i(y,{"aria-hidden":!1,class:"highcharts-announcer-container"}),y.style.position="relative",v.renderTo.insertBefore(y,v.renderTo.firstChild),v.announcerContainer=y,y}}}),V(D,"Accessibility/Components/AnnotationsA11y.js",[D["Accessibility/Utils/HTMLUtilities.js"]],function(X){const{escapeStringForHTML:F,stripHTMLTagsFromString:j}=X;function U(A){return(A.annotations||[]).reduce((y,x)=>(x.options&&!1!==x.options.visible&&(y=y.concat(x.labels)),y),[])}function _(A){return A.options&&A.options.accessibility&&A.options.accessibility.description||A.graphic&&A.graphic.text&&A.graphic.text.textStr||""}function L(A){const v=A.options&&A.options.accessibility&&A.options.accessibility.description;if(v)return v;const y=A.chart,x=_(A),u=A.points.filter(M=>!!M.graphic).map(M=>{const k=M.accessibility&&M.accessibility.valueDescription||(M=>M.graphic&&M.graphic.element&&M.graphic.element.getAttribute("aria-label")||"")(M),a=M&&M.series.name||"";return(a?a+", ":"")+"data point "+k}).filter(M=>!!M),l=u.length,d="accessibility.screenReaderSection.annotations.description"+(l>1?"MultiplePoints":l?"SinglePoint":"NoPoints"),p={annotationText:x,annotation:A,numPoints:l,annotationPoint:u[0],additionalAnnotationPoints:u.slice(1)};return y.langFormat(d,p)}function I(A){return U(A).map(y=>{const x=F(j(L(y)));return x?`<li>${x}</li>`:""})}return{getAnnotationsInfoHTML:function E(A){const v=A.annotations;return v&&v.length?`<ul style="list-style-type: none">${I(A).join(" ")}</ul>`:""},getAnnotationLabelDescription:L,getAnnotationListItems:I,getPointAnnotationTexts:function i(A){const y=U(A.series.chart).filter(x=>x.points.indexOf(A)>-1);return y.length?y.map(x=>`${_(x)}`):[]}}}),V(D,"Accessibility/Components/InfoRegionsComponent.js",[D["Accessibility/A11yI18n.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/Components/AnnotationsA11y.js"],D["Core/Renderer/HTML/AST.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I,E,i,T){const{getAnnotationsInfoHTML:A}=U,{getAxisDescription:v,getAxisRangeDescription:y,getChartTitle:x,unhideChartElementFromAT:h}=L,{format:m}=I,{doc:g}=E,{addClass:u,getElement:l,getHeadingTagNameForElement:f,stripHTMLTagsFromString:d,visuallyHideElement:p}=i,{attr:M,pick:k}=T;function c(C){return C.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}return class r extends F{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const b=this.chart,P=this;this.initRegionsDefinitions(),this.addEvent(b,"aftergetTableAST",function(S){P.onDataTableCreated(S)}),this.addEvent(b,"afterViewData",function(S){S.wasHidden&&(P.dataTableDiv=S.element,setTimeout(function(){P.focusDataTable()},300))}),this.announcer=new j(b,"assertive")}initRegionsDefinitions(){const b=this;this.screenReaderSections={before:{element:null,buildContent:function(P){const S=P.options.accessibility.screenReaderSection.beforeChartFormatter;return S?S(P):b.defaultBeforeChartFormatter(P)},insertIntoDOM:function(P,S){S.renderTo.insertBefore(P,S.renderTo.firstChild)},afterInserted:function(){typeof b.sonifyButtonId<"u"&&b.initSonifyButton(b.sonifyButtonId),typeof b.dataTableButtonId<"u"&&b.initDataTableButton(b.dataTableButtonId)}},after:{element:null,buildContent:function(P){const S=P.options.accessibility.screenReaderSection.afterChartFormatter;return S?S(P):b.defaultAfterChartFormatter()},insertIntoDOM:function(P,S){S.renderTo.insertBefore(P,S.container.nextSibling)},afterInserted:function(){b.chart.accessibility&&b.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const b=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(P){b.updateScreenReaderSection(P)})}getLinkedDescriptionElement(){const P=this.chart.options.accessibility.linkedDescription;if(!P)return;if("string"!=typeof P)return P;const S=m(P,this.chart),w=g.querySelectorAll(S);return 1===w.length?w[0]:void 0}setLinkedDescriptionAttrs(){const b=this.linkedDescriptionElement;b&&(b.setAttribute("aria-hidden","true"),u(b,"highcharts-linked-description"))}updateScreenReaderSection(b){const P=this.chart,S=this.screenReaderSections[b],w=S.buildContent(P),B=S.element=S.element||this.createElement("div"),N=B.firstChild||this.createElement("div");w?(this.setScreenReaderSectionAttribs(B,b),_.setElementHTML(N,w),B.appendChild(N),S.insertIntoDOM(B,P),P.styledMode?u(N,"highcharts-visually-hidden"):p(N),h(P,N),S.afterInserted&&S.afterInserted()):(B.parentNode&&B.parentNode.removeChild(B),S.element=null)}setScreenReaderSectionAttribs(b,P){const S=this.chart,w=S.langFormat("accessibility.screenReaderSection."+P+"RegionLabel",{chart:S,chartTitle:x(S)});M(b,{id:`highcharts-screen-reader-region-${P}-${S.index}`,"aria-label":w||void 0}),b.style.position="relative",w&&b.setAttribute("role","all"===S.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){const b=this.chart,P=b.options.accessibility.screenReaderSection.beforeChartFormat;if(!P)return"";const S=this.getAxesDescription(),w=b.sonify&&b.options.sonification&&b.options.sonification.enabled,B="highcharts-a11y-sonify-data-btn-"+b.index,N="hc-linkto-highcharts-data-table-"+b.index,O=A(b),Y=b.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:b}),z={headingTagName:f(b.renderTo),chartTitle:x(b),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:S.xAxis,yAxisDescription:S.yAxis,playAsSoundButton:w?this.getSonifyButtonText(B):"",viewTableButton:b.getCSV?this.getDataTableButtonText(N):"",annotationsTitle:O?Y:"",annotationsList:O},R=X.i18nFormat(P,z,b);return this.dataTableButtonId=N,this.sonifyButtonId=B,c(R)}defaultAfterChartFormatter(){const b=this.chart,P=b.options.accessibility.screenReaderSection.afterChartFormat;if(!P)return"";const S={endOfChartMarker:this.getEndOfChartMarkerText()};return c(X.i18nFormat(P,S,b))}getLinkedDescription(){const b=this.linkedDescriptionElement;return d(b&&b.innerHTML||"")}getLongdescText(){const b=this.chart.options,P=b.caption,S=P&&P.text,w=this.getLinkedDescription();return b.accessibility.description||w||S||""}getTypeDescriptionText(){const b=this.chart;return b.types?b.options.accessibility.typeDescription||function n(C,b){const P=b[0],S=C.series&&C.series[0]||{},B={numSeries:C.series.length,numPoints:S.points&&S.points.length,chart:C,mapTitle:C.mapView&&C.mapView.geoMap&&C.mapView.geoMap.title};return P?"map"===P?function o(C,b){return C.langFormat(b.mapTitle?"accessibility.chartTypes.mapTypeDescription":"accessibility.chartTypes.unknownMap",b)}(C,B):C.types.length>1?function s(C,b){return C.langFormat("accessibility.chartTypes.combinationChart",b)}(C,B):function e(C,b,P){const S=b[0],w=C.langFormat("accessibility.seriesTypeDescriptions."+S,P),B=C.series&&C.series.length<2?"Single":"Multiple";return(C.langFormat("accessibility.chartTypes."+S+B,P)||C.langFormat("accessibility.chartTypes.default"+B,P))+(w?" "+w:"")}(C,b,B):function t(C,b){return C.langFormat("accessibility.chartTypes.emptyChart",b)}(C,B)}(b,b.types):""}getDataTableButtonText(b){const P=this.chart;return'<button id="'+b+'">'+P.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:P,chartTitle:x(P)})+"</button>"}getSonifyButtonText(b){const P=this.chart;return P.options.sonification&&!1===P.options.sonification.enabled?"":'<button id="'+b+'">'+P.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:P,chartTitle:x(P)})+"</button>"}getSubtitleText(){const b=this.chart.options.subtitle;return d(b&&b.text||"")}getEndOfChartMarkerText(){const b=this.chart,P=b.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:b});return'<div id="highcharts-end-of-chart-marker-'+b.index+'">'+P+"</div>"}onDataTableCreated(b){const P=this.chart;if(P.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const S=b.tree.attributes||{};S.tabindex=-1,S.summary=function a(C){return C.langFormat("accessibility.table.tableSummary",{chart:C})}(P),b.tree.attributes=S}}focusDataTable(){const b=this.dataTableDiv,P=b&&b.getElementsByTagName("table")[0];P&&P.focus&&P.focus()}initSonifyButton(b){const P=this.sonifyButton=l(b),S=this.chart,w=B=>{P&&(P.setAttribute("aria-hidden","true"),P.setAttribute("aria-label","")),B.preventDefault(),B.stopPropagation();const N=S.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:S});this.announcer.announce(N),setTimeout(()=>{P&&(P.removeAttribute("aria-hidden"),P.removeAttribute("aria-label")),S.sonify&&S.sonify()},1e3)};P&&S&&(P.setAttribute("tabindex",-1),P.onclick=function(B){(S.options.accessibility&&S.options.accessibility.screenReaderSection.onPlayAsSoundClick||w).call(this,B,S)})}initDataTableButton(b){const P=this.viewDataTableButton=l(b),S=this.chart,w=b.replace("hc-linkto-","");P&&(M(P,{tabindex:-1,"aria-expanded":!!l(w)}),P.onclick=S.options.accessibility.screenReaderSection.onViewDataTableClick||function(){S.viewData()})}getAxesDescription(){const b=this.chart,P=function(Y,z){const R=b[Y];return R.length>1||R[0]&&k(R[0].options.accessibility&&R[0].options.accessibility.enabled,z)},S=!!b.types&&b.types.indexOf("map")<0&&b.types.indexOf("treemap")<0&&b.types.indexOf("tilemap")<0,w=!!b.hasCartesianSeries,B=P("xAxis",!b.angular&&w&&S),N=P("yAxis",w&&S),O={};return B&&(O.xAxis=this.getAxisDescriptionText("xAxis")),N&&(O.yAxis=this.getAxisDescriptionText("yAxis")),O}getAxisDescriptionText(b){const P=this.chart,S=P[b];return P.langFormat("accessibility.axis."+b+"Description"+(S.length>1?"Plural":"Singular"),{chart:P,names:S.map(function(w){return v(w)}),ranges:S.map(function(w){return y(w)}),numAxes:S.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),V(D,"Accessibility/Components/MenuComponent.js",[D["Core/Chart/Chart.js"],D["Core/Utilities.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F,j,U,_,L){const{attr:I}=F,{getChartTitle:E,unhideChartElementFromAT:i}=_,{getFakeMouseEvent:T}=L;function A(x){return x.exportSVGElements&&x.exportSVGElements[0]}class y extends j{init(){const h=this.chart,m=this;this.addEvent(h,"exportMenuShown",function(){m.onMenuShown()}),this.addEvent(h,"exportMenuHidden",function(){m.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const h=this.chart.exportContextMenu;h&&h.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const h=this.chart,m=h.exportContextMenu;m&&(this.addAccessibleContextMenuAttribs(),i(h,m)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(h){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",h)}onChartRender(){const h=this.chart,m=h.focusElement,g=h.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&m&&m===h.exportingGroup&&(m.focusBorder?h.setFocusToElement(m,this.exportButtonProxy.buttonElement):g&&g.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const h=this.chart,m=this.proxyProvider,g=A(h);(function v(x){const h=x.options.exporting,m=A(x);return!!(h&&!1!==h.enabled&&h.accessibility&&h.accessibility.enabled&&m&&m.element)})(h)&&g&&(this.exportButtonProxy=m.addProxyElement("chartMenu",{click:g},{"aria-label":h.langFormat("accessibility.exporting.menuButtonLabel",{chart:h,chartTitle:E(h)}),"aria-expanded":!1,title:h.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const h=this.chart,m=h.exportDivElements;if(m&&m.length){m.forEach(u=>{u&&("LI"!==u.tagName||u.children&&u.children.length?u.setAttribute("aria-hidden","true"):u.setAttribute("tabindex",-1))});const g=m[0]&&m[0].parentNode;g&&I(g,{"aria-hidden":void 0,"aria-label":h.langFormat("accessibility.exporting.chartMenuLabel",{chart:h}),role:"list"})}}getKeyboardNavigation(){const h=this.keyCodes,m=this.chart,g=this;return new U(m,{keyCodeMap:[[[h.left,h.up],function(){return g.onKbdPrevious(this)}],[[h.right,h.down],function(){return g.onKbdNext(this)}],[[h.enter,h.space],function(){return g.onKbdClick(this)}]],validate:function(){return!!m.exporting&&!1!==m.options.exporting.enabled&&!1!==m.options.exporting.accessibility.enabled},init:function(){const u=g.exportButtonProxy,l=g.chart.exportingGroup;u&&l&&m.setFocusToElement(l,u.buttonElement)},terminate:function(){m.hideExportMenu()}})}onKbdPrevious(h){const m=this.chart,g=m.options.accessibility,u=h.response;let l=m.highlightedExportItemIx||0;for(;l--;)if(m.highlightExportItem(l))return u.success;return g.keyboardNavigation.wrapAround?(m.highlightLastExportItem(),u.success):u.prev}onKbdNext(h){const m=this.chart,g=m.options.accessibility,u=h.response;for(let l=(m.highlightedExportItemIx||0)+1;l<m.exportDivElements.length;++l)if(m.highlightExportItem(l))return u.success;return g.keyboardNavigation.wrapAround?(m.highlightExportItem(0),u.success):u.next}onKbdClick(h){const m=this.chart,g=m.exportDivElements[m.highlightedExportItemIx],u=A(m).element;return m.openMenu?this.fakeClickEvent(g):(this.fakeClickEvent(u),m.highlightExportItem(0)),h.response.success}}return function(x){const h=[];function g(){const d=A(this);if(d){const p=d.element;p.onclick&&p.onclick(T("click"))}}function u(){const d=this,p=d.exportDivElements;p&&d.exportContextMenu&&d.openMenu&&(p.forEach(M=>{M&&"highcharts-menu-item"===M.className&&M.onmouseout&&M.onmouseout(T("mouseout"))}),d.highlightedExportItemIx=0,d.exportContextMenu.hideMenu(),d.container.focus())}function l(d){const p=this.exportDivElements&&this.exportDivElements[d],M=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(p&&"LI"===p.tagName&&(!p.children||!p.children.length)){const k=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return p.focus&&k&&p.focus(),M&&M.onmouseout&&M.onmouseout(T("mouseout")),p.onmouseover&&p.onmouseover(T("mouseover")),this.highlightedExportItemIx=d,!0}return!1}function f(){const d=this;if(d.exportDivElements){let p=d.exportDivElements.length;for(;p--;)if(d.highlightExportItem(p))return!0}return!1}x.compose=function m(d){if(F.pushUnique(h,d)){const p=X.prototype;p.hideExportMenu=u,p.highlightExportItem=l,p.highlightLastExportItem=f,p.showExportMenu=g}}}(y||(y={})),y}),V(D,"Accessibility/KeyboardNavigation.js",[D["Core/Globals.js"],D["Accessibility/Components/MenuComponent.js"],D["Core/Utilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F,j,U,_){const{doc:L,win:I}=X,{addEvent:E,fireEvent:i}=j,{getElement:T,simulatedEventTarget:A}=_;class v{constructor(x,h){this.chart=void 0,this.components=void 0,this.currentModuleIx=NaN,this.eventProvider=void 0,this.exitAnchor=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(x,h)}init(x,h){const m=this.eventProvider=new U;this.chart=x,this.components=h,this.modules=[],this.currentModuleIx=0,this.update(),m.addEvent(this.tabindexContainer,"keydown",g=>this.onKeydown(g)),m.addEvent(this.tabindexContainer,"focus",g=>this.onFocus(g)),["mouseup","touchend"].forEach(g=>m.addEvent(L,g,u=>this.onMouseUp(u))),["mousedown","touchstart"].forEach(g=>m.addEvent(x.renderTo,g,()=>{this.isClickingChart=!0}))}update(x){const h=this.chart.options.accessibility,m=h&&h.keyboardNavigation,g=this.components;this.updateContainerTabindex(),m&&m.enabled&&x&&x.length?(this.modules=x.reduce(function(u,l){const f=g[l].getKeyboardNavigation();return u.concat(f)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const h=T(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),h?(this.makeElementAnExitAnchor(h),this.exitAnchor=h):this.createExitAnchor()}move(x){const h=this.modules&&this.modules[this.currentModuleIx];h&&h.terminate&&h.terminate(x),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=x;const m=this.modules&&this.modules[this.currentModuleIx];if(m){if(m.validate&&!m.validate())return this.move(x);if(m.init)return m.init(x),!0}return this.currentModuleIx=0,this.exiting=!0,x>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(x){const h=this.chart,m=x.relatedTarget&&h.container.contains(x.relatedTarget),g=h.options.accessibility,u=g&&g.keyboardNavigation;if(u&&u.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!m){const f=this.getFirstValidModuleIx();null!==f&&(this.currentModuleIx=f,this.modules[f].init(1))}this.exiting=!1}onMouseUp(x){if(delete this.isClickingChart,!this.keyboardReset&&x.relatedTarget!==A){const h=this.chart;if(!x.target||!h.container.contains(x.target)){const m=this.modules&&this.modules[this.currentModuleIx||0];m&&m.terminate&&m.terminate(),this.currentModuleIx=0}h.focusElement&&(h.focusElement.removeFocusBorder(),delete h.focusElement),this.keyboardReset=!0}}onKeydown(x){const h=x||I.event,m=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let g;if(this.keyboardReset=!1,this.exiting=!1,m){const u=m.run(h);u===m.response.success?g=!0:u===m.response.prev?g=this.move(-1):u===m.response.next&&(g=this.move(1)),g&&(h.preventDefault(),h.stopPropagation())}}updateContainerTabindex(){const x=this.chart.options.accessibility,h=x&&x.keyboardNavigation,m=!(h&&!1===h.enabled),g=this.chart,u=g.container;let l;g.renderTo.hasAttribute("tabindex")?(u.removeAttribute("tabindex"),l=g.renderTo):l=u,this.tabindexContainer=l;const f=l.getAttribute("tabindex");m&&!f?l.setAttribute("tabindex","0"):m||g.container.removeAttribute("tabindex")}createExitAnchor(){const x=this.chart,h=this.exitAnchor=L.createElement("div");x.renderTo.appendChild(h),this.makeElementAnExitAnchor(h)}makeElementAnExitAnchor(x){const h=this.tabindexContainer.getAttribute("tabindex")||0;x.setAttribute("class","highcharts-exit-anchor"),x.setAttribute("tabindex",h),x.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(x)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(x){const h=this.chart,m=this;this.eventProvider.addEvent(x,"focus",function(g){const u=g||I.event,f=!(u.relatedTarget&&h.container.contains(u.relatedTarget)||m.exiting);if(h.focusElement&&delete h.focusElement,f){if(m.tabbingInBackwards=!0,m.tabindexContainer.focus(),delete m.tabbingInBackwards,u.preventDefault(),m.modules&&m.modules.length){m.currentModuleIx=m.modules.length-1;const d=m.modules[m.currentModuleIx];d&&d.validate&&!d.validate()?m.move(-1):d&&d.init(-1)}}else m.exiting=!1})}getFirstValidModuleIx(){const x=this.modules.length;for(let h=0;h<x;++h){const m=this.modules[h];if(!m.validate||m.validate())return h}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(y){const x=[];function m(){const u=this;i(this,"dismissPopupContent",{},function(){u.tooltip&&u.tooltip.hide(0),u.hideExportMenu()})}function g(u){27===(u.which||u.keyCode)&&X.charts&&X.charts.forEach(d=>{d&&d.dismissPopupContent&&d.dismissPopupContent()})}y.compose=function h(u){return F.compose(u),j.pushUnique(x,u)&&(u.prototype.dismissPopupContent=m),j.pushUnique(x,L)&&E(L,"keydown",g),u}}(v||(v={})),v}),V(D,"Accessibility/Components/LegendComponent.js",[D["Core/Animation/AnimationUtilities.js"],D["Core/Globals.js"],D["Core/Legend/Legend.js"],D["Core/Utilities.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F,j,U,_,L,I,E){const{animObject:i}=X,{doc:T}=F,{addEvent:A,fireEvent:v,isNumber:y,pick:x,syncTimeout:h}=U,{getChartTitle:m}=I,{stripHTMLTagsFromString:g,addClass:u,removeClass:l}=E;function d(k){const a=k.legend&&k.legend.allItems,o=k.options.legend.accessibility||{},s=k.colorAxis&&k.colorAxis.some(t=>!t.dataClasses||!t.dataClasses.length);return!(!a||!a.length||s||!1===o.enabled)}function p(k,a){const o=a.legendItem||{};a.setState(k?"hover":"",!0);for(const s of["group","label","symbol"]){const t=o[s],e=t&&t.element||t;e&&v(e,k?"mouseover":"mouseout")}}class M extends _{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const a=this;this.recreateProxies(),this.addEvent(j,"afterScroll",function(){this.chart===a.chart&&(a.proxyProvider.updateGroupProxyElementPositions("legend"),a.updateLegendItemProxyVisibility(),a.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(a.highlightedLegendItemIx))}),this.addEvent(j,"afterPositionItem",function(o){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(o.item)}),this.addEvent(j,"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&a.recreateProxies()&&h(()=>a.proxyProvider.updateGroupProxyElementPositions("legend"),i(x(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const a=this.chart,o=a.legend,t=o.currentPage||1,e=o.clipHeight||0;let n;(o.allItems||[]).forEach(c=>{if(c.a11yProxyElement){const C=c.a11yProxyElement.element;let b=!1;if(n=c.legendItem||{},o.pages&&o.pages.length){const P=n.pageIx||0;b=(n.y||0)+(n.label?Math.round(n.label.getBBox().height):0)-o.pages[P]>e||P!==t-1}b?a.styledMode?u(C,"highcharts-a11y-invisible"):C.style.visibility="hidden":(l(C,"highcharts-a11y-invisible"),C.style.visibility="")}})}onChartRender(){d(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(a){const o=this.chart,s=o.legend,e=(s.currentPage||1)+a;if(e>0&&e<=(s.pages||[]).length){let r,c=0;for(const C of s.allItems)((C.legendItem||{}).pageIx||0)+1===e&&(r=o.highlightLegendItem(c),r&&(this.highlightedLegendItemIx=c)),++c}}updateProxyPositionForItem(a){a.a11yProxyElement&&a.a11yProxyElement.refreshPosition()}recreateProxies(){const a=T.activeElement,o=this.proxyGroup,s=a&&o&&o.contains(a);return this.removeProxies(),!!d(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),s&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){const a=this.chart,o=g((a.legend&&a.legend.options.title&&a.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),s=a.langFormat("accessibility.legend.legendLabel"+(o?"":"NoTitle"),{chart:a,legendTitle:o,chartTitle:m(a)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":s})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})}proxyLegendItems(){const a=this;let s;((this.chart.legend||{}).allItems||[]).forEach(t=>{s=t.legendItem||{},s.label&&s.label.element&&a.proxyLegendItem(t)})}proxyLegendItem(a){const o=a.legendItem||{};if(!o.label||!o.group)return;const s=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:g(a.name),item:a});a.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:o.label,visual:(o.group.div?o.label:o.group).element},{tabindex:-1,"aria-pressed":a.visible,"aria-label":s})}getKeyboardNavigation(){const a=this.keyCodes,o=this,s=this.chart;return new L(s,{keyCodeMap:[[[a.left,a.right,a.up,a.down],function(t){return o.onKbdArrowKey(this,t)}],[[a.enter,a.space],function(){return o.onKbdClick(this)}],[[a.pageDown,a.pageUp],function(t){return o.highlightAdjacentLegendPage(t===a.pageDown?1:-1),this.response.success}]],validate:function(){return o.shouldHaveLegendNavigation()},init:function(){s.highlightLegendItem(0),o.highlightedLegendItemIx=0},terminate:function(){o.highlightedLegendItemIx=-1,s.legend.allItems.forEach(t=>p(!1,t))}})}onKbdArrowKey(a,o){const s=this.keyCodes,t=a.response,e=this.chart,n=e.options.accessibility,c=e.legend.allItems.length,r=o===s.left||o===s.up?-1:1;return e.highlightLegendItem(this.highlightedLegendItemIx+r)?(this.highlightedLegendItemIx+=r,t.success):(c>1&&n.keyboardNavigation.wrapAround&&a.init(r),t.success)}onKbdClick(a){const o=this.chart.legend.allItems[this.highlightedLegendItemIx];return o&&o.a11yProxyElement&&o.a11yProxyElement.click(),a.response.success}shouldHaveLegendNavigation(){if(!d(this.chart))return!1;const a=this.chart,s=(a.options.legend||{}).accessibility||{};return!!(a.legend.display&&s.keyboardNavigation&&s.keyboardNavigation.enabled)}}return function(k){const a=[];function o(e){const n=this.legend.allItems,c=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,r=n[e],C=r.legendItem||{};if(r){y(c)&&n[c]&&p(!1,n[c]),function f(k,a){const o=(k.allItems[a].legendItem||{}).pageIx,s=k.currentPage;typeof o<"u"&&o+1!==s&&k.scroll(1+o-s)}(this.legend,e);const b=C.label,P=r.a11yProxyElement&&r.a11yProxyElement.buttonElement;return b&&b.element&&P&&this.setFocusToElement(b,P),p(!0,r),!0}return!1}function t(e){const r=e.item;this.chart.options.accessibility.enabled&&r&&r.a11yProxyElement&&r.a11yProxyElement.buttonElement.setAttribute("aria-pressed",e.visible?"true":"false")}k.compose=function s(e,n){U.pushUnique(a,e)&&(e.prototype.highlightLegendItem=o),U.pushUnique(a,n)&&A(n,"afterColorizeItem",t)}}(M||(M={})),M}),V(D,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[D["Accessibility/Components/AnnotationsA11y.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Core/FormatUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{getPointAnnotationTexts:L}=X,{getAxisDescription:I,getSeriesFirstPointElement:E,getSeriesA11yElement:i,unhideChartElementFromAT:T}=F,{format:A,numberFormat:v}=j,{reverseChildNodes:y,stripHTMLTagsFromString:x}=U,{find:h,isNumber:m,pick:g,defined:u}=_;function M(R){const H=R.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==H&&R.points&&R.points.length>=H)}function s(R,G){const H=R.series,W=H.chart,q=W.options.accessibility.point||{},Z=H.options.accessibility&&H.options.accessibility.point||{},tt=H.tooltipOptions||{},$=W.options.lang;return m(G)?v(G,Z.valueDecimals||q.valueDecimals||tt.valueDecimals||-1,$.decimalPoint,$.accessibility.thousandsSep||$.thousandsSep):G}function e(R,G){return R.chart.langFormat("accessibility.series."+G+"Description",{name:I(R[G]),series:R})}function C(R){const G=R.series,H=G.chart.options.accessibility.point||{},W=G.chart.options.accessibility&&G.chart.options.accessibility.point||{},q=G.tooltipOptions||{},Z=W.valuePrefix||H.valuePrefix||q.valuePrefix||"",tt=W.valueSuffix||H.valueSuffix||q.valueSuffix||"",it=s(R,R[typeof R.value<"u"?"value":"y"]);return R.isNull?G.chart.langFormat("accessibility.series.nullPointValue",{point:R}):G.pointArrayMap?function r(R,G,H){const W=G||"",q=H||"";return R.series.pointArrayMap.reduce(function($,it){const nt=function($){const it=s(R,g(R[$],R.options[$]));return void 0!==it?$+": "+W+it+q:it}(it);return nt?$+($.length?", ":"")+nt:$},"")}(R,Z,tt):Z+it+tt}function S(R){const G=R.series,H=G.chart.series.length>1||G.options.name,W=function P(R){const G=R.series,H=G.chart,W=G.options.accessibility,Z=W&&W.point&&W.point.valueDescriptionFormat||H.options.accessibility.point.valueDescriptionFormat,tt=g(G.xAxis&&G.xAxis.options.accessibility&&G.xAxis.options.accessibility.enabled,!H.angular&&"flowmap"!==G.type),$=tt?function c(R){const G=function n(R){const G=R.series,H=G.chart,W=G.options.accessibility&&G.options.accessibility.point||{},q=H.options.accessibility.point||{},Z=G.xAxis&&G.xAxis.dateTime;if(Z){const tt=Z.getXDateFormat(R.x||0,H.options.tooltip.dateTimeLabelFormats),$=W.dateFormatter&&W.dateFormatter(R)||q.dateFormatter&&q.dateFormatter(R)||W.dateFormat||q.dateFormat||tt;return H.time.dateFormat($,R.x||0,void 0)}}(R),W=(R.series.xAxis||{}).categories&&u(R.category)&&(""+R.category).replace("<br/>"," "),q=u(R.id)&&(""+R.id).indexOf("highcharts-")<0;return R.name||G||W||(q?R.id:"x, "+R.x)}(R):"",it={point:R,index:u(R.index)?R.index+1:"",xDescription:$,value:C(R),separator:tt?", ":""};return A(Z,it,H)}(R),q=R.options&&R.options.accessibility&&R.options.accessibility.description,Z=q?" "+q:"",tt=H?" "+G.name+".":"",$=function b(R){const G=R.series.chart,W=L(R);return W.length?G.langFormat("accessibility.series.pointAnnotationsDescription",{point:R,annotations:W}):""}(R),it=$?" "+$:"";return R.accessibility=R.accessibility||{},R.accessibility.valueDescription=W,W+Z+tt+it}function B(R){const G=function k(R){const G=R.options.accessibility||{};return!M(R)&&!G.exposeAsGroupOnly}(R),H=function a(R){const H=R.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!R.points||!(R.points.length<H.pointNavigationEnabledThreshold||!1===H.pointNavigationEnabledThreshold))}(R),W=R.chart.options.accessibility.point.describeNull;(G||H)&&R.points.forEach(q=>{const Z=q.graphic&&q.graphic.element||function f(R){const G=R.series,H=G&&G.chart,W=G&&G.is("sunburst");return R.isNull&&!W&&H&&H.options.accessibility.point.describeNull}(q)&&function p(R){const G=R.series,H=function l(R){const G=R.index;return R.series&&R.series.data&&u(G)&&h(R.series.data,function(H){return!!(H&&typeof H.index<"u"&&H.index>G&&H.graphic&&H.graphic.element)})||null}(R),W=H&&H.graphic,q=W?W.parentGroup:G.graph||G.group,tt=function d(R,G){const W=R.series.chart.renderer.rect(G.x,G.y,1,1);return W.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),W}(R,H?{x:g(R.plotX,H.plotX,0),y:g(R.plotY,H.plotY,0)}:{x:g(R.plotX,0),y:g(R.plotY,0)});if(q&&q.element)return R.graphic=tt,R.hasMockGraphic=!0,tt.add(q),q.element.insertBefore(tt.element,W?W.element:null),tt.element}(q),tt=q.options&&q.options.accessibility&&!1===q.options.accessibility.enabled;if(Z){if(q.isNull&&!W)return void Z.setAttribute("aria-hidden",!0);Z.setAttribute("tabindex","-1"),R.chart.styledMode||(Z.style.outline="none"),G&&!tt?function w(R,G){const H=R.series,W=H.chart.options.accessibility.point||{},q=H.options.accessibility&&H.options.accessibility.point||{},Z=x(q.descriptionFormatter&&q.descriptionFormatter(R)||W.descriptionFormatter&&W.descriptionFormatter(R)||S(R));G.setAttribute("role","img"),G.setAttribute("aria-label",Z)}(q,Z):Z.setAttribute("aria-hidden",!0)}})}function N(R){const G=R.chart,H=G.types||[],W=function t(R){const H=(R.options.accessibility||{}).description;return H&&R.chart.langFormat("accessibility.series.description",{description:H,series:R})||""}(R),q=function(at){return G[at]&&G[at].length>1&&R[at]},Z=R.index+1,tt=e(R,"xAxis"),$=e(R,"yAxis"),it={seriesNumber:Z,series:R,chart:G},nt=H.length>1?"Combination":"",ot=G.langFormat("accessibility.series.summary."+R.type+nt,it)||G.langFormat("accessibility.series.summary.default"+nt,it),rt=(q("yAxis")?" "+$+".":"")+(q("xAxis")?" "+tt+".":""),lt=g(R.options.accessibility&&R.options.accessibility.descriptionFormat,G.options.accessibility.series.descriptionFormat,"");return A(lt,{seriesDescription:ot,authorDescription:W?" "+W:"",axisDescription:rt,series:R,chart:G,seriesNumber:Z},void 0)}return{defaultPointDescriptionFormatter:S,defaultSeriesDescriptionFormatter:N,describeSeries:function Y(R){const G=R.chart,H=E(R),W=i(R),q=G.is3d&&G.is3d();W&&(W.lastChild===H&&!q&&y(W),B(R),T(G,W),function o(R){const G=R.chart,H=G.options.chart,q=G.series.length>1;return!(H.options3d&&H.options3d.enabled&&q)&&(q||G.options.accessibility.series.describeSingleSeries||(R.options.accessibility||{}).exposeAsGroupOnly||M(R))}(R)?function O(R,G){const W=R.chart.options.accessibility;G.setAttribute("role",(R.options.accessibility||{}).exposeAsGroupOnly?"img":"all"===W.landmarkVerbosity?"region":"group"),G.setAttribute("tabindex","-1"),R.chart.styledMode||(G.style.outline="none"),G.setAttribute("aria-label",x(W.series.descriptionFormatter&&W.series.descriptionFormatter(R)||N(R)))}(R,W):W.removeAttribute("aria-label"))}}}),V(D,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(X,F,j,U,_,L){const{addEvent:I,defined:E}=F,{getChartTitle:i}=U,{defaultPointDescriptionFormatter:T,defaultSeriesDescriptionFormatter:A}=L;function v(m){return!!m.options.accessibility.announceNewData.enabled}class h{constructor(g){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=g}init(){const g=this.chart,l=g.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new _,this.announcer=new j(g,l),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const g=this,u=this.chart,l=this.eventProvider;l.addEvent(u,"afterApplyDrilldown",function(){g.lastAnnouncementTime=0}),l.addEvent(u,"afterAddSeries",function(f){g.onSeriesAdded(f.series)}),l.addEvent(u,"redraw",function(){g.announceDirtyData()})}onSeriesAdded(g){v(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[g.name+g.index]=g,this.dirty.newSeries=E(this.dirty.newSeries)?void 0:g)}announceDirtyData(){const u=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let l=this.dirty.newPoint;l&&(l=function y(m){const g=m.series.data.filter(u=>m.x===u.x&&m.y===u.y);return 1===g.length?g[0]:m}(l)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(f=>u.dirty.allSeries[f]),this.dirty.newSeries,l),this.dirty={allSeries:{}}}}queueAnnouncement(g,u,l){const d=this.chart.options.accessibility.announceNewData;if(d.enabled){const p=+new Date,k=Math.max(0,d.minAnnounceInterval-(p-this.lastAnnouncementTime)),a=function x(m,g){const u=(m||[]).concat(g||[]).reduce((l,f)=>(l[f.name+f.index]=f,l),{});return Object.keys(u).map(l=>u[l])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,g),o=this.buildAnnouncementMessage(a,u,l);o&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:p,message:o,series:a},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},k))}}buildAnnouncementMessage(g,u,l){const f=this.chart,d=f.options.accessibility.announceNewData;if(d.announcementFormatter){const a=d.announcementFormatter(g,u,l);if(!1!==a)return a.length?a:null}const p=X.charts&&X.charts.length>1?"Multiple":"Single",M=u?"newSeriesAnnounce"+p:l?"newPointAnnounce"+p:"newDataAnnounce",k=i(f);return f.langFormat("accessibility.announceNewData."+M,{chartTitle:k,seriesDesc:u?A(u):null,pointDesc:l?T(l):null,point:l,series:u})}}return function(m){function u(f){const d=this.chart,p=this.newDataAnnouncer;p&&p.chart===d&&v(d)&&(p.dirty.newPoint=E(p.dirty.newPoint)?void 0:f.point)}function l(){const f=this.chart,d=this.newDataAnnouncer;d&&d.chart===f&&v(f)&&(d.dirty.hasDirty=!0,d.dirty.allSeries[this.name+this.index]=this)}m.composedMembers=[],m.compose=function g(f){F.pushUnique(m.composedMembers,f)&&(I(f,"addPoint",u),I(f,"updatedData",l))}}(h||(h={})),h}),V(D,"Accessibility/ProxyElement.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"]],function(X,F,j,U,_){const{doc:L}=X,{attr:I,css:E,merge:i}=F,{fireEventOnWrappedOrUnwrappedElement:T}=U,{cloneMouseEvent:A,cloneTouchEvent:v,getFakeMouseEvent:y,removeElement:x}=_;return class h{constructor(g,u,l,f){this.chart=g,this.target=u,this.groupType=l;const d="ul"===l;this.eventProvider=new j;const p=d?L.createElement("li"):null,M=this.buttonElement=L.createElement("button");g.styledMode||this.hideButtonVisually(M),p?(d&&!g.styledMode&&(p.style.listStyle="none"),p.appendChild(M),this.element=p):this.element=M,this.updateTarget(u,f)}click(){const g=this.getTargetPosition();g.x+=g.width/2,g.y+=g.height/2;const u=y("click",g);T(this.target.click,u)}updateTarget(g,u){this.target=g,this.updateCSSClassName();const l=u||{};Object.keys(l).forEach(f=>{null===l[f]&&delete l[f]}),I(this.buttonElement,i({"aria-label":this.getTargetAttr(g.click,"aria-label")},l)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,g.click),this.refreshPosition()}refreshPosition(){const g=this.getTargetPosition();E(this.buttonElement,{width:(g.width||1)+"px",height:(g.height||1)+"px",left:(Math.round(g.x)||0)+"px",top:(Math.round(g.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),x(this.element)}updateCSSClassName(){const g=M=>M.indexOf("highcharts-no-tooltip")>-1,u=this.chart.legend,l=u.group&&u.group.div,f=g(l&&l.className||""),p=g(this.getTargetAttr(this.target.click,"class")||"");this.buttonElement.className=f||p?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(g,u){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(l=>{const f=0===l.indexOf("touch");this.eventProvider.addEvent(g,l,d=>{const p=f?v(d):A(d);u&&T(u,p),d.stopPropagation(),f||d.preventDefault()},{passive:!1})})}hideButtonVisually(g){E(g,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){const g=this.target.click,l=this.target.visual||(g.element?g.element:g);if(this.chart.renderTo&&l&&l.getBoundingClientRect){const d=l.getBoundingClientRect(),p=this.chart.pointer.getChartPosition();return{x:(d.left-p.left)/p.scaleX,y:(d.top-p.top)/p.scaleY,width:d.right/p.scaleX-d.left/p.scaleX,height:d.bottom/p.scaleY-d.top/p.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(g,u){return g.element?g.element.getAttribute(u):g.getAttribute(u)}}}),V(D,"Accessibility/ProxyProvider.js",[D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/DOMElementProvider.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/ProxyElement.js"]],function(X,F,j,U,_,L){const{doc:I}=X,{attr:E,css:i}=F,{unhideChartElementFromAT:T}=j,{removeElement:A,removeChildNodes:v}=_;return class y{constructor(h){this.chart=h,this.domElementProvider=new U,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(h,m,g){const u=this.groups[h];if(!u)throw new Error("ProxyProvider.addProxyElement: Invalid group key "+h);const l=new L(this.chart,m,u.type,g);return u.proxyContainerElement.appendChild(l.element),u.proxyElements.push(l),l}addGroup(h,m,g){const u=this.groups[h];if(u)return u.groupElement;const l=this.domElementProvider.createElement(m);let f;return g&&g.role&&"div"!==m?(f=this.domElementProvider.createElement("div"),f.appendChild(l)):f=l,f.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+h.replace(/\W/g,"-"),this.groups[h]={proxyContainerElement:l,groupElement:f,type:m,proxyElements:[]},E(f,g||{}),"ul"===m&&l.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(f),this.updateGroupOrder(this.groupOrder),f}updateGroupAttrs(h,m){const g=this.groups[h];if(!g)throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+h);E(g.groupElement,m)}updateGroupOrder(h){if(this.groupOrder=h.slice(),this.isDOMOrderGroupOrder())return;const m=h.indexOf("series"),g=m>-1?h.slice(0,m):h,u=m>-1?h.slice(m+1):[],l=I.activeElement;["before","after"].forEach(f=>{const d=this["before"===f?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"],p="before"===f?g:u;v(d),p.forEach(M=>{const k=this.groups[M];k&&d.appendChild(k.groupElement)})}),(this.beforeChartProxyPosContainer.contains(l)||this.afterChartProxyPosContainer.contains(l))&&l&&l.focus&&l.focus()}clearGroup(h){const m=this.groups[h];if(!m)throw new Error("ProxyProvider.clearGroup: Invalid group key "+h);v(m.proxyContainerElement)}removeGroup(h){const m=this.groups[h];m&&(A(m.groupElement),delete this.groups[h])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(h){const m=this.groups[h];m&&m.proxyElements.forEach(g=>g.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(h){const m=this.domElementProvider.createElement("div");return m.setAttribute("aria-hidden","false"),m.className="highcharts-a11y-proxy-container"+(h?"-"+h:""),i(m,{top:"0",left:"0"}),this.chart.styledMode||(m.style.whiteSpace="nowrap",m.style.position="absolute"),m}getCurrentGroupOrderInDOM(){const h=l=>{const f=Object.keys(this.groups);let d=f.length;for(;d--;){const p=f[d],M=this.groups[p];if(M&&l===M.groupElement)return p}},m=l=>{const f=[],d=l.children;for(let p=0;p<d.length;++p){const M=h(d[p]);M&&f.push(M)}return f},g=m(this.beforeChartProxyPosContainer),u=m(this.afterChartProxyPosContainer);return g.push("series"),g.concat(u)}isDOMOrderGroupOrder(){const h=this.getCurrentGroupOrderInDOM(),m=this.groupOrder.filter(u=>"series"===u||!!this.groups[u]);let g=h.length;if(g!==m.length)return!1;for(;g--;)if(h[g]!==m[g])return!1;return!0}updatePosContainerPositions(){const h=this.chart;if(h.renderer.forExport)return;const m=h.renderer.box;h.container.insertBefore(this.afterChartProxyPosContainer,m.nextSibling),h.container.insertBefore(this.beforeChartProxyPosContainer,m),T(this.chart,this.afterChartProxyPosContainer),T(this.chart,this.beforeChartProxyPosContainer)}}}),V(D,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),V(D,"Stock/RangeSelector/RangeSelectorComposition.js",[D["Core/Defaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Core/Utilities.js"]],function(X,F,j){const{defaultOptions:U,setOptions:_}=X,{addEvent:L,defined:I,extend:E,find:i,isNumber:T,merge:A,pick:v}=j,y=[],x=[];let h;function m(){const o=this.range,s=o.type,t=this.max,e=this.chart.time,n=function(b,P){const S="year"===s?"FullYear":"Month",w=new e.Date(b),B=e.get(S,w);return e.set(S,w,B+P),B===e.get(S,w)&&e.set("Date",w,0),w.getTime()-b};let c,r;T(o)?(c=t-o,r=o):o&&(c=t+n(t,-(o.count||1)),this.chart&&(this.chart.fixedRange=t-c));const C=v(this.dataMin,Number.MIN_VALUE);return T(c)||(c=C),c<=C&&(c=C,typeof r>"u"&&(r=n(c,o.count)),this.newMax=Math.min(c+r,v(this.dataMax,Number.MAX_VALUE))),T(t)?!T(o)&&o&&o._offsetMin&&(c+=o._offsetMin):c=void 0,c}function u(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new h(this))}function l(){const o=this,s=o.axes,t=o.rangeSelector;if(t){T(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),s.forEach(n=>{n.updateNames(),n.setScale()}),o.getAxisMargins(),t.render();const e=t.options.verticalAlign;t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}}function f(o){let s,t,e,n;const c=o.rangeSelector,r=()=>{c&&(s=o.xAxis[0].getExtremes(),t=o.legend,n=c&&c.options.verticalAlign,T(s.min)&&c.render(s.min,s.max),t.display&&"top"===n&&n===t.options.verticalAlign&&(e=A(o.spacingBox),"vertical"===t.options.layout?e.y=o.plotTop:e.y+=c.getHeight(),t.group.placed=!1,t.align(e)))};c&&(i(y,b=>b[0]===o)||y.push([o,[L(o.xAxis[0],"afterSetExtremes",function(b){c&&c.render(b.min,b.max)}),L(o,"redraw",r)]]),r())}function d(){for(let o=0,s=y.length;o<s;++o){const t=y[o];if(t[0]===this)return t[1].forEach(e=>e()),void y.splice(o,1)}}function p(){const o=this.rangeSelector;if(o){const s=o.getHeight();this.extraTopMargin&&(this.plotTop+=s),this.extraBottomMargin&&(this.marginBottom+=s)}}function M(){const s=this.rangeSelector;if(s&&!s.options.floating){s.render();const t=s.options.verticalAlign;"bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)}}function k(o){const e=o.options.rangeSelector,n=this.extraBottomMargin,c=this.extraTopMargin;let r=this.rangeSelector;if(e&&e.enabled&&!I(r)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=r=new h(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r){f(this);const C=e&&e.verticalAlign||r.options&&r.options.verticalAlign;r.options.floating||("bottom"===C?this.extraBottomMargin=!0:"middle"!==C&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==n||this.extraTopMargin!==c)&&(this.isDirtyBox=!0)}}return{compose:function g(o,s,t){h=t,j.pushUnique(x,o)&&(o.prototype.minFromRange=m),j.pushUnique(x,s)&&(L(s,"afterGetContainer",u),L(s,"beforeRender",l),L(s,"destroy",d),L(s,"getMargins",p),L(s,"render",M),L(s,"update",k),s.prototype.callbacks.push(f)),j.pushUnique(x,_)&&(E(U,{rangeSelector:F.rangeSelector}),E(U.lang,F.lang))}}}),V(D,"Stock/RangeSelector/RangeSelector.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Stock/RangeSelector/RangeSelectorComposition.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{defaultOptions:I}=F,{addEvent:E,createElement:i,css:T,defined:A,destroyObjectProperties:v,discardElement:y,extend:x,fireEvent:h,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=L;class k{static compose(o,s){U.compose(o,s,k)}constructor(o){this.buttons=void 0,this.buttonOptions=k.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=o,this.init(o)}clickButton(o,s){const t=this,e=t.chart,n=t.buttonOptions[o],c=e.xAxis[0],r=e.scroller&&e.scroller.getUnionExtremes()||c||{},C=n.type,b=n.dataGrouping;let w,N,Y,z,R,G,H,P=r.dataMin,S=r.dataMax,B=c&&Math.round(Math.min(c.max,f(S,c.max))),O=n._range,W=!0;if(null!==P&&null!==S){if(e.fixedRange=O,t.setSelected(o),b&&(this.forcedDataGrouping=!0,X.prototype.setDataGrouping.call(c||{chart:this.chart},b,!1),this.frozenStates=n.preserveDataGrouping),"month"===C||"year"===C)c?(G={range:n,max:B,chart:e,dataMin:P,dataMax:S},w=c.minFromRange.call(G),m(G.newMax)&&(B=G.newMax),W=!1):O=n;else if(O)w=Math.max(B-O,P),B=Math.min(w+O,S),W=!1;else if("ytd"===C){if(!c)return void(t.deferredYTDClick=o);(typeof S>"u"||typeof P>"u")&&(P=Number.MAX_VALUE,S=Number.MIN_VALUE,e.series.forEach(q=>{const Z=q.xData;Z&&(P=Math.min(Z[0],P),S=Math.max(Z[Z.length-1],S))}),s=!1),H=t.getYTDExtremes(S,P,e.time.useUTC),w=Y=H.min,B=H.max}else"all"===C&&c&&(e.navigator&&e.navigator.baseSeries[0]&&(e.navigator.baseSeries[0].xAxis.options.range=void 0),w=P,B=S);W&&n._offsetMin&&A(w)&&(w+=n._offsetMin),n._offsetMax&&A(B)&&(B+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=o+1),c?c.setExtremes(w,B,f(s,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(N=p(e.options.xAxis)[0],R=N.range,N.range=O,z=N.min,N.min=Y,E(e,"load",function(){N.range=R,N.min=z})),h(this,"afterBtnClick")}}setSelected(o){this.selected=this.options.selected=o}init(o){const s=this,t=o.options.rangeSelector,e=t.buttons||s.defaultButtons.slice(),n=t.selected,c=function(){const r=s.minInput,C=s.maxInput;r&&r.blur&&h(r,"blur"),C&&C.blur&&h(C,"blur")};s.chart=o,s.options=t,s.buttons=[],s.buttonOptions=e,this.eventsToUnbind=[],this.eventsToUnbind.push(E(o.container,"mousedown",c)),this.eventsToUnbind.push(E(o,"resize",c)),e.forEach(s.computeButtonRange),typeof n<"u"&&e[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(E(o,"load",function(){o.xAxis&&o.xAxis[0]&&E(o.xAxis[0],"setExtremes",function(r){this.max-this.min!==o.fixedRange&&"rangeSelectorButton"!==r.trigger&&"updatedData"!==r.trigger&&s.forcedDataGrouping&&!s.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const o=this,s=this.chart,t=this.dropdown,e=s.xAxis[0],n=Math.round(e.max-e.min),c=!e.hasVisibleSeries,r=864e5,C=s.scroller&&s.scroller.getUnionExtremes()||e,b=C.dataMin,P=C.dataMax,S=o.getYTDExtremes(P,b,s.time.useUTC),w=S.min,B=S.max,N=o.selected,O=o.options.allButtonsEnabled,Y=o.buttons;let z=m(N);o.buttonOptions.forEach((R,G)=>{const H=R._range,W=R.type,q=R.count||1,Z=Y[G],tt=R._offsetMax-R._offsetMin,$=G===N;let ot=0,rt=!1,lt=!1,at=H===n;("month"===W||"year"===W)&&n+36e5>={month:28,year:365}[W]*r*q-tt&&n-36e5<={month:31,year:366}[W]*r*q+tt?at=!0:"ytd"===W?(at=B-w+tt===n,rt=!$):"all"===W&&(at=e.max-e.min>=P-b,lt=!$&&z&&at);const ut=!O&&(H>P-b||H<e.minRange||lt||c);ut?ot=3:($&&at||at&&!z&&!rt||$&&o.frozenStates)&&(z=!0,ot=2),Z.state!==ot&&(Z.setState(ot),t&&(t.options[G+1].disabled=ut,2===ot&&(t.selectedIndex=G+1)),0===ot&&N===G&&o.setSelected())})}computeButtonRange(o){const s=o.type,t=o.count||1,e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};e[s]?o._range=e[s]*t:("month"===s||"year"===s)&&(o._range=24*{month:30,year:365}[s]*36e5*t),o._offsetMin=f(o.offsetMin,0),o._offsetMax=f(o.offsetMax,0),o._range+=o._offsetMax-o._offsetMin}getInputValue(o){const s="min"===o?this.minInput:this.maxInput,e=this.chart.time;return s?("text"===s.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(s.value,e.useUTC,e):0}setInputValue(o,s){const t=this.options,e=this.chart.time,n="min"===o?this.minInput:this.maxInput,c="min"===o?this.minDateBox:this.maxDateBox;if(n){const r=n.getAttribute("data-hc-time");let C=A(r)?Number(r):void 0;if(A(s)){const b=C;A(b)&&n.setAttribute("data-hc-time-previous",b),n.setAttribute("data-hc-time",s),C=s}n.value=e.dateFormat(this.inputTypeFormats[n.type]||t.inputEditDateFormat,C),c&&c.attr({text:e.dateFormat(t.inputDateFormat,C)})}}setInputExtremes(o,s,t){const e="min"===o?this.minInput:this.maxInput;if(e){const n=this.inputTypeFormats[e.type],c=this.chart.time;if(n){const r=c.dateFormat(n,s);e.min!==r&&(e.min=r);const C=c.dateFormat(n,t);e.max!==C&&(e.max=C)}}}showInput(o){const s="min"===o?this.minDateBox:this.maxDateBox,t="min"===o?this.minInput:this.maxInput;if(t&&s&&this.inputGroup){const e="text"===t.type,{translateX:n,translateY:c}=this.inputGroup,{inputBoxWidth:r}=this.options;T(t,{width:e?s.width+(r?-2:20)+"px":"auto",height:s.height-2+"px",border:"2px solid silver"}),T(t,e&&r?{left:n+s.x+"px",top:c+"px"}:{left:Math.min(Math.round(s.x+n-(t.offsetWidth-s.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:c-(t.offsetHeight-s.height)/2+"px"})}}hideInput(o){const s="min"===o?this.minInput:this.maxInput;s&&T(s,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(o,s,t){let n=o.split("/").join("-").split(" ").join("T");if(-1===n.indexOf("T")&&(n+="T00:00"),s)n+="Z";else if(j.isSafari&&(!((r=n).length>6)||r.lastIndexOf("-")!==r.length-6&&r.lastIndexOf("+")!==r.length-6)){const r=new Date(n).getTimezoneOffset()/60;n+=r<=0?`+${l(-r)}:00`:`-${l(r)}:00`}var r;let c=Date.parse(n);if(!m(c)){const r=o.split("-");c=Date.UTC(d(r[0]),d(r[1])-1,d(r[2]))}return t&&s&&m(c)&&(c+=t.getTimezoneOffset(c)),c}drawInput(o){const{chart:s,div:t,inputGroup:e}=this,n=this,c=s.renderer.style||{},r=s.renderer,C=s.options.rangeSelector,P="min"===o;function S(){const{maxInput:z,minInput:R}=n,G=s.xAxis[0],H=s.scroller&&s.scroller.xAxis?s.scroller.xAxis:G,W=H.dataMin,q=H.dataMax;let Z=n.getInputValue(o);Z!==Number(O.getAttribute("data-hc-time-previous"))&&m(Z)&&(O.setAttribute("data-hc-time-previous",Z),P&&z&&m(W)?Z>Number(z.getAttribute("data-hc-time"))?Z=void 0:Z<W&&(Z=W):R&&m(q)&&(Z<Number(R.getAttribute("data-hc-time"))?Z=void 0:Z>q&&(Z=q)),typeof Z<"u"&&G.setExtremes(P?Z:G.min,P?G.max:Z,void 0,void 0,{trigger:"rangeSelectorInput"}))}const w=I.lang[P?"rangeSelectorFrom":"rangeSelectorTo"]||"",B=r.label(w,0).addClass("highcharts-range-label").attr({padding:w?2:0,height:w?C.inputBoxHeight:0}).add(e),N=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:C.inputBoxWidth,height:C.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(o),n[o+"Input"].focus()});s.styledMode||N.attr({stroke:C.inputBoxBorderColor,"stroke-width":1}),N.add(e);const O=i("input",{name:o,className:"highcharts-range-selector"},void 0,t);O.setAttribute("type",function M(a){if(-1!==a.indexOf("%L"))return"text";const s=["a","A","d","e","w","b","B","m","o","y","Y"].some(e=>-1!==a.indexOf("%"+e)),t=["H","k","I","l","M","S"].some(e=>-1!==a.indexOf("%"+e));return s&&t?"datetime-local":s?"date":t?"time":"text"}(C.inputDateFormat||"%e %b %Y")),s.styledMode||(B.css(g(c,C.labelStyle)),N.css(g({color:"#333333"},c,C.inputStyle)),T(O,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},C.inputStyle))),O.onfocus=()=>{n.showInput(o)},O.onblur=()=>{O===j.doc.activeElement&&S(),n.hideInput(o),n.setInputValue(o),O.blur()};let Y=!1;return O.onchange=()=>{Y||(S(),n.hideInput(o),O.blur())},O.onkeypress=z=>{13===z.keyCode&&S()},O.onkeydown=z=>{Y=!0,(38===z.keyCode||40===z.keyCode)&&S()},O.onkeyup=()=>{Y=!1},{dateBox:N,input:O,label:B}}getPosition(){const o=this.chart,s=o.options.rangeSelector,t="top"===s.verticalAlign?o.plotTop-o.axisOffset[0]:0;return{buttonTop:t+s.buttonPosition.y,inputTop:t+s.inputPosition.y-10}}getYTDExtremes(o,s,t){const e=this.chart.time,n=new e.Date(o),c=e.get("FullYear",n),r=t?e.Date.UTC(c,0,1):+new e.Date(c,0,1),C=Math.max(s,r),b=n.getTime();return{max:Math.min(o||b,b),min:C}}render(o,s){const t=this.chart,e=t.renderer,n=t.container,c=t.options,r=c.rangeSelector,C=f(c.chart.style&&c.chart.style.zIndex,0)+1,b=r.inputEnabled;if(!1!==r.enabled){if(!this.rendered&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=i("div",void 0,{position:"relative",height:0,zIndex:C}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),b)){this.inputGroup=e.g("input-group").add(this.group);const S=this.drawInput("min");this.minDateBox=S.dateBox,this.minLabel=S.label,this.minInput=S.input;const w=this.drawInput("max");this.maxDateBox=w.dateBox,this.maxLabel=w.label,this.maxInput=w.input}if(b){this.setInputValue("min",o),this.setInputValue("max",s);const S=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(A(S.dataMin)&&A(S.dataMax)){const w=t.xAxis[0].minRange||0;this.setInputExtremes("min",S.dataMin,Math.min(S.dataMax,this.getInputValue("max"))-w),this.setInputExtremes("max",Math.max(S.dataMin,this.getInputValue("min"))+w,S.dataMax)}if(this.inputGroup){let w=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(B=>{if(B){const{width:N}=B.getBBox();N&&(B.attr({x:w}),w+=N+r.inputSpacing)}})}}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:o,chart:s,options:t}=this,e=I.lang,n=s.renderer,c=g(t.buttonTheme),r=c&&c.states,C=c.width||28;delete c.width,delete c.states,this.buttonGroup=n.g("range-selector-buttons").add(this.group);const b=this.dropdown=i("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(b,"touchstart",()=>{b.style.fontSize="16px"}),[[j.isMS?"mouseover":"mouseenter"],[j.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([P,S])=>{E(b,P,()=>{const w=o[this.currentButtonIndex()];w&&h(w.element,S||P)})}),this.zoomText=n.label(e&&e.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),c["stroke-width"]=f(c["stroke-width"],0)),i("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,b),this.buttonOptions.forEach((P,S)=>{i("option",{textContent:P.title||P.text},void 0,b),o[S]=n.button(P.text,0,0,w=>{const B=P.events&&P.events.click;let N;B&&(N=B.call(P,w)),!1!==N&&this.clickButton(S),this.isActive=!0},c,r&&r.hover,r&&r.select,r&&r.disabled).attr({"text-align":"center",width:C}).add(this.buttonGroup),P.title&&o[S].attr("title",P.title)})}alignElements(){const{buttonGroup:o,buttons:s,chart:t,group:e,inputGroup:n,options:c,zoomText:r}=this,C=t.options,b=C.exporting&&!1!==C.exporting.enabled&&C.navigation&&C.navigation.buttonOptions,{buttonPosition:P,inputPosition:S,verticalAlign:w}=c,B=(O,Y)=>b&&this.titleCollision(t)&&"top"===w&&"right"===Y.align&&Y.y-O.getBBox().height-12<(b.y||0)+(b.height||0)+t.spacing[0]?-40:0;let N=t.plotLeft;if(e&&P&&S){let O=P.x-t.spacing[3];if(o){if(this.positionButtons(),!this.initialButtonGroupWidth){let tt=0;r&&(tt+=r.getBBox().width+5),s.forEach(($,it)=>{tt+=$.width,it!==s.length-1&&(tt+=c.buttonSpacing)}),this.initialButtonGroupWidth=tt}N-=t.spacing[3],this.updateButtonStates();const Z=B(o,P);this.alignButtonGroup(Z),e.placed=o.placed=t.hasLoaded}let Y=0;n&&(Y=B(n,S),"left"===S.align?O=N:"right"===S.align&&(O=-Math.max(t.axisOffset[1],-Y)),n.align({y:S.y,width:n.getBBox().width,align:S.align,x:S.x+O-2},!0,t.spacingBox),n.placed=t.hasLoaded),this.handleCollision(Y),e.align({verticalAlign:w},!0,t.spacingBox);const z=e.alignAttr.translateY;let R=e.getBBox().height+20,G=0;if("bottom"===w){const Z=t.legend&&t.legend.options;R=R+(Z&&"bottom"===Z.verticalAlign&&Z.enabled&&!Z.floating?t.legend.legendHeight+f(Z.margin,10):0)-20,G=z-R-(c.floating?0:c.y)-(t.titleOffset?t.titleOffset[2]:0)-10}"top"===w?(c.floating&&(G=0),t.titleOffset&&t.titleOffset[0]&&(G=t.titleOffset[0]),G+=t.margin[0]-t.spacing[0]||0):"middle"===w&&(S.y===P.y?G=z:(S.y||P.y)&&(S.y<0||P.y<0?G-=Math.min(S.y,P.y):G=z-R)),e.translate(c.x,c.y+Math.floor(G));const{minInput:H,maxInput:W,dropdown:q}=this;c.inputEnabled&&H&&W&&(H.style.marginTop=e.translateY+"px",W.style.marginTop=e.translateY+"px"),q&&(q.style.marginTop=e.translateY+"px")}}alignButtonGroup(o,s){const{chart:t,options:e,buttonGroup:n}=this,{buttonPosition:r}=e,C=t.plotLeft-t.spacing[3];let b=r.x-t.spacing[3];"right"===r.align?b+=o-C:"center"===r.align&&(b-=C/2),n&&n.align({y:r.y,width:f(s,this.initialButtonGroupWidth),align:r.align,x:b},!0,t.spacingBox)}positionButtons(){const{buttons:o,chart:s,options:t,zoomText:e}=this,n=s.hasLoaded?"animate":"attr",{buttonPosition:c}=t,r=s.plotLeft;let C=r;e&&"hidden"!==e.visibility&&(e[n]({x:f(r+c.x,r)}),C+=c.x+e.getBBox().width+5);for(let b=0,P=this.buttonOptions.length;b<P;++b)"hidden"!==o[b].visibility?(o[b][n]({x:C}),C+=o[b].width+t.buttonSpacing):o[b][n]({x:r})}handleCollision(o){const{chart:s,buttonGroup:t,inputGroup:e}=this,{buttonPosition:n,dropdown:c,inputPosition:r}=this.options,C=()=>{let S=0;return this.buttons.forEach(w=>{const B=w.getBBox();B.width>S&&(S=B.width)}),S},b=S=>{if(e&&t){const w=e.alignAttr.translateX+e.alignOptions.x-o+e.getBBox().x+2,B=e.alignOptions.width,N=t.alignAttr.translateX+t.getBBox().x;return N+S>w&&w+B>N&&n.y<r.y+e.getBBox().height}return!1},P=()=>{e&&t&&e.attr({translateX:e.alignAttr.translateX+(s.axisOffset[1]>=-o?0:-o),translateY:e.alignAttr.translateY+t.getBBox().height+10})};if(t){if("always"===c)return this.collapseButtons(o),void(b(C())&&P());"never"===c&&this.expandButtons()}e&&t?r.align===n.align||b(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(o),b(C())&&P()):P():"responsive"===c&&this.expandButtons():t&&"responsive"===c&&(this.initialButtonGroupWidth>s.plotWidth?this.collapseButtons(o):this.expandButtons())}collapseButtons(o){const{buttons:s,buttonOptions:t,chart:e,dropdown:n,options:c,zoomText:r}=this,C=e.userOptions.rangeSelector&&e.userOptions.rangeSelector.buttonTheme||{},b=w=>({text:w?`${w} \u25be`:"\u25be",width:"auto",paddingLeft:f(c.buttonTheme.paddingLeft,C.padding,8),paddingRight:f(c.buttonTheme.paddingRight,C.padding,8)});r&&r.hide();let P=!1;t.forEach((w,B)=>{const N=s[B];2!==N.state?N.hide():(N.show(),N.attr(b(w.text)),P=!0)}),P||(n&&(n.selectedIndex=0),s[0].show(),s[0].attr(b(this.zoomText&&this.zoomText.textStr)));const{align:S}=c.buttonPosition;this.positionButtons(),("right"===S||"center"===S)&&this.alignButtonGroup(o,s[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:o,buttonOptions:s,options:t,zoomText:e}=this;this.hideDropdown(),e&&e.show(),s.forEach((n,c)=>{const r=o[c];r.show(),r.attr({text:n.text,width:t.buttonTheme.width||28,paddingLeft:f(t.buttonTheme.paddingLeft,"unset"),paddingRight:f(t.buttonTheme.paddingRight,"unset")}),r.state<2&&r.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:o}=this;return o&&o.selectedIndex>0?o.selectedIndex-1:0}showDropdown(){const{buttonGroup:o,buttons:s,chart:t,dropdown:e}=this;if(o&&e){const{translateX:n,translateY:c}=o,r=s[this.currentButtonIndex()].getBBox();T(e,{left:t.plotLeft+n+"px",top:c+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:o}=this;o&&(T(o,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const s=this.options,t=this.group,c=s.y,r=s.buttonPosition.y,C=s.inputPosition.y;let b=0;if(s.height)return s.height;this.alignElements(),b=t?t.getBBox(!0).height+13+c:0;const P=Math.min(C,r);return(C<0&&r<0||C>0&&r>0)&&(b+=Math.abs(P)),b}titleCollision(o){return!(o.options.title.text||o.options.subtitle.text)}update(o){const s=this.chart;g(!0,s.options.rangeSelector,o),this.destroy(),this.init(s),this.render()}destroy(){const o=this,s=o.minInput,t=o.maxInput;o.eventsToUnbind&&(o.eventsToUnbind.forEach(e=>e()),o.eventsToUnbind=void 0),v(o.buttons),s&&(s.onfocus=s.onblur=s.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null),u(o,function(e,n){e&&"chart"!==n&&(e instanceof _?e.destroy():e instanceof window.HTMLElement&&y(e)),e!==k.prototype[n]&&(o[n]=null)},this)}}return x(k.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),k}),V(D,"Accessibility/Components/RangeSelectorComponent.js",[D["Stock/RangeSelector/RangeSelector.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/Announcer.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{unhideChartElementFromAT:I,getAxisRangeDescription:E}=j,{addEvent:i,attr:T}=L;class v extends F{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new U(this.chart,"polite")}onChartUpdate(){const x=this.chart,h=this,m=x.rangeSelector;m&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),m.buttons&&m.buttons.length&&m.buttons.forEach(g=>{h.setRangeButtonAttrs(g)}),m.maxInput&&m.minInput&&["minInput","maxInput"].forEach(function(g,u){const l=m[g];l&&(I(x,l),h.setRangeInputAttrs(l,"accessibility.rangeSelector."+(u?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const x=this.chart,h=x.rangeSelector,m=h&&h.dropdown,g=h&&h.buttons||[],u=l=>l.setAttribute("aria-hidden",!0);h&&h.hasVisibleDropdown&&m?(I(x,m),g.forEach(l=>u(l.element))):(m&&u(m),g.forEach(l=>I(x,l.element)))}setDropdownAttrs(){const x=this.chart,h=x.rangeSelector&&x.rangeSelector.dropdown;if(h){const m=x.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:x.options.lang.rangeSelectorZoom});h.setAttribute("aria-label",m),h.setAttribute("tabindex",-1)}}setRangeButtonAttrs(x){T(x.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(x,h){const m=this.chart;T(x,{tabindex:-1,"aria-label":m.langFormat(h,{chart:m})})}onButtonNavKbdArrowKey(x,h){const m=x.response,g=this.keyCodes,u=this.chart,l=u.options.accessibility.keyboardNavigation.wrapAround,f=h===g.left||h===g.up?-1:1;return u.highlightRangeSelectorButton(u.highlightedRangeSelectorItemIx+f)?m.success:l?(x.init(f),m.success):m[f>0?"next":"prev"]}onButtonNavKbdClick(x){const h=x.response,m=this.chart;return 3===m.oldRangeSelectorItemState||this.fakeClickEvent(m.rangeSelector.buttons[m.highlightedRangeSelectorItemIx].element),h.success}onAfterBtnClick(){const x=this.chart,h=E(x.xAxis[0]),m=x.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:x,axisRangeDescription:h});m&&this.announcer.announce(m)}onInputKbdMove(x){const h=this.chart,m=h.rangeSelector,g=h.highlightedInputRangeIx=(h.highlightedInputRangeIx||0)+x;if(g>1||g<0){if(h.accessibility)return h.accessibility.keyboardNavigation.exiting=!0,h.accessibility.keyboardNavigation.tabindexContainer.focus(),h.accessibility.keyboardNavigation.move(x)}else if(m){const l=m[g?"maxDateBox":"minDateBox"],f=m[g?"maxInput":"minInput"];l&&f&&h.setFocusToElement(l,f)}return!0}onInputNavInit(x){const h=this,m=this.chart,g=x>0?0:1,u=m.rangeSelector,l=u&&u[g?"maxDateBox":"minDateBox"],f=u&&u.minInput,d=u&&u.maxInput,p=g?d:f;if(m.highlightedInputRangeIx=g,l&&f&&d){m.setFocusToElement(l,p),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();const M=o=>{(o.which||o.keyCode)===this.keyCodes.tab&&h.onInputKbdMove(o.shiftKey?-1:1)&&(o.preventDefault(),o.stopPropagation())},k=i(f,"keydown",M),a=i(d,"keydown",M);this.removeInputKeydownHandler=()=>{k(),a()}}}onInputNavTerminate(){const x=this.chart.rangeSelector||{};x.maxInput&&x.hideInput("max"),x.minInput&&x.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const x=this.chart,h=x.rangeSelector,m=h&&h.dropdown;h&&m&&(x.setFocusToElement(h.buttonGroup,m),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=i(m,"keydown",g=>{const l=x.accessibility;(g.which||g.keyCode)===this.keyCodes.tab&&(g.preventDefault(),g.stopPropagation(),l&&(l.keyboardNavigation.tabindexContainer.focus(),l.keyboardNavigation.move(g.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const x=this.chart,h=this.keyCodes,m=this;return new _(x,{keyCodeMap:[[[h.left,h.right,h.up,h.down],function(g){return m.onButtonNavKbdArrowKey(this,g)}],[[h.enter,h.space],function(){return m.onButtonNavKbdClick(this)}]],validate:function(){return!!(x.rangeSelector&&x.rangeSelector.buttons&&x.rangeSelector.buttons.length)},init:function(g){const u=x.rangeSelector;u&&u.hasVisibleDropdown?m.initDropdownNav():u&&x.highlightRangeSelectorButton(g>0?0:u.buttons.length-1)},terminate:function(){m.removeDropdownKeydownHandler&&(m.removeDropdownKeydownHandler(),delete m.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const x=this.chart,h=this;return new _(x,{keyCodeMap:[],validate:function(){return function A(y){return Boolean(y.rangeSelector&&y.rangeSelector.inputGroup&&"hidden"!==y.rangeSelector.inputGroup.element.style.visibility&&!1!==y.options.rangeSelector.inputEnabled&&y.rangeSelector.minInput&&y.rangeSelector.maxInput)}(x)},init:function(m){h.onInputNavInit(m)},terminate:function(){h.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(y){const x=[];function h(u){const l=this.rangeSelector&&this.rangeSelector.buttons||[],f=this.highlightedRangeSelectorItemIx,d=this.rangeSelector&&this.rangeSelector.selected;return typeof f<"u"&&l[f]&&f!==d&&l[f].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=u,!!l[u]&&(this.setFocusToElement(l[u].box,l[u].element),u!==d&&(this.oldRangeSelectorItemState=l[u].state,l[u].setState(1)),!0)}function g(){const u=this.chart.accessibility;if(u&&u.components.rangeSelector)return u.components.rangeSelector.onAfterBtnClick()}y.compose=function m(u,l){L.pushUnique(x,u)&&(u.prototype.highlightRangeSelectorButton=h),L.pushUnique(x,l)&&i(X,"afterBtnClick",g)}}(v||(v={})),v}),V(D,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[D["Core/Utilities.js"]],function(X){const{addEvent:F,merge:j}=X;var U;return function(_){const L=[];function E(l){j(!0,l,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function i(l){return l.marker.states&&l.marker.states.normal&&l.marker.states.normal.opacity}function A(l){return!!(l._hasPointMarkers&&l.points&&l.points.length)}function y(){const l=this;l.chart.styledMode&&(l.markerGroup&&l.markerGroup[l.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),A(l)&&l.points.forEach(f=>{f.graphic&&(f.graphic[f.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),f.graphic[!1===f.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function x(l){this.resetA11yMarkerOptions=j(l.options.marker||{},this.userOptions.marker||{})}function h(){const l=this,f=l.options;!function m(l){return l.chart.options.accessibility.enabled&&!1!==(l.options.accessibility&&l.options.accessibility.enabled)&&function v(l){const f=l.chart.options.accessibility;return l.points.length<f.series.pointDescriptionEnabledThreshold||!1===f.series.pointDescriptionEnabledThreshold}(l)}(l)?l.a11yMarkersForced&&(delete l.a11yMarkersForced,function u(l){const f=l.resetA11yMarkerOptions;f&&l.update({marker:{enabled:f.enabled,states:{normal:{opacity:f.states&&f.states.normal&&f.states.normal.opacity}}}})}(l),delete l.resetA11yMarkerOptions):(f.marker&&!1===f.marker.enabled&&(l.a11yMarkersForced=!0,E(l.options)),A(l)&&function T(l){let f=l.points.length;for(;f--;){const d=l.points[f],p=d.options,M=d.hasForcedA11yMarker;if(delete d.hasForcedA11yMarker,p.marker){const k=M&&0===i(p);p.marker.enabled&&!k?(g(p),d.hasForcedA11yMarker=!1):!1===p.marker.enabled&&(E(p),d.hasForcedA11yMarker=!0)}}}(l))}function g(l){j(!0,l.marker,{states:{normal:{opacity:i(l)||1}}})}_.compose=function I(l){X.pushUnique(L,l)&&(F(l,"afterSetOptions",x),F(l,"render",h),F(l,"afterRender",y))}}(U||(U={})),U}),V(D,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[D["Core/Series/Point.js"],D["Core/Series/Series.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Utils/EventProvider.js"],D["Accessibility/Utils/ChartUtilities.js"]],function(X,F,j,U,_,L,I,E){const{seriesTypes:i}=j,{doc:T}=U,{defined:A,fireEvent:v}=_,{getPointFromXY:y,getSeriesFromName:x,scrollToPoint:h}=E;function m(a){const o=a.index,s=a.series.points;let t=s.length;if(s[o]===a)return o;for(;t--;)if(s[t]===a)return t}function g(a){const s=a.chart.options.accessibility.keyboardNavigation.seriesNavigation,t=a.options.accessibility||{},e=t.keyboardNavigation;return e&&!1===e.enabled||!1===t.enabled||!1===a.options.enableMouseTracking||!a.visible||s.pointNavigationEnabledThreshold&&s.pointNavigationEnabledThreshold<=a.points.length}function u(a){return a.isNull&&a.series.chart.options.accessibility.keyboardNavigation.seriesNavigation.skipNullPoints||!1===a.visible||!1===a.isInside||a.options.accessibility&&!1===a.options.accessibility.enabled||g(a.series)}function l(a){const o=a.points||[],s=o.length;for(let t=0;t<s;++t)if(!u(o[t]))return o[t];return null}function f(a){const o=a.series||[],s=o.length;for(let t=0;t<s;++t)if(!g(o[t])){const e=l(o[t]);if(e)return e}return null}function d(a){let s=a.series.length,t=!1;for(;s--&&(a.highlightedPoint=a.series[s].points[a.series[s].points.length-1],t=a.series[s].highlightNextValidPoint(),!t););return t}function M(a){delete a.highlightedPoint;const o=f(a);return!!o&&o.highlight()}class k{constructor(o,s){this.keyCodes=s,this.chart=o}init(){const o=this,s=this.chart,t=this.eventProvider=new I;t.addEvent(F,"destroy",function(){return o.onSeriesDestroy(this)}),t.addEvent(s,"afterApplyDrilldown",function(){!function p(a){const o=f(a);o&&o.highlight(!1)}(this)}),t.addEvent(s,"drilldown",function(e){const n=e.point,c=n.series;o.lastDrilledDownPoint={x:n.x,y:n.y,seriesName:c?c.name:""}}),t.addEvent(s,"drillupall",function(){setTimeout(function(){o.onDrillupAll()},10)}),t.addEvent(X,"afterSetState",function(){const e=this,n=e.graphic&&e.graphic.element,c=T.activeElement,r=c&&c.getAttribute("class"),C=r&&r.indexOf("highcharts-a11y-proxy-button")>-1;s.highlightedPoint===e&&c!==n&&!C&&n&&n.focus&&n.focus()})}onDrillupAll(){const o=this.lastDrilledDownPoint,s=this.chart,t=o&&x(s,o.seriesName);let e;o&&t&&A(o.x)&&A(o.y)&&(e=y(t,o.x,o.y)),e=e||f(s),s.container&&s.container.focus(),e&&e.highlight&&e.highlight(!1)}getKeyboardNavigationHandler(){const o=this,s=this.keyCodes,t=this.chart,e=t.inverted;return new L(t,{keyCodeMap:[[e?[s.up,s.down]:[s.left,s.right],function(n){return o.onKbdSideways(this,n)}],[e?[s.left,s.right]:[s.up,s.down],function(n){return o.onKbdVertical(this,n)}],[[s.enter,s.space],function(n,c){const r=t.highlightedPoint;return r&&(c.point=r,v(r.series,"click",c),r.firePointEvent("click")),this.response.success}],[[s.home],function(){return M(t),this.response.success}],[[s.end],function(){return d(t),this.response.success}],[[s.pageDown,s.pageUp],function(n){return t.highlightAdjacentSeries(n===s.pageDown),this.response.success}]],init:function(){return o.onHandlerInit(this)},validate:function(){return!!f(t)},terminate:function(){return o.onHandlerTerminate()}})}onKbdSideways(o,s){const t=this.keyCodes;return this.attemptHighlightAdjacentPoint(o,s===t.right||s===t.down)}onHandlerInit(o){const s=this.chart;return s.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&s.highlightedPoint?s.highlightedPoint.highlight():M(s),o.response.success}onKbdVertical(o,s){const t=this.chart,e=this.keyCodes,n=s===e.down||s===e.right,c=t.options.accessibility.keyboardNavigation.seriesNavigation;return c.mode&&"serialize"===c.mode?this.attemptHighlightAdjacentPoint(o,n):(t[t.highlightedPoint&&t.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](n),o.response.success)}onHandlerTerminate(){const o=this.chart,s=o.options.accessibility.keyboardNavigation;o.tooltip&&o.tooltip.hide(0);const t=o.highlightedPoint&&o.highlightedPoint.series;t&&t.onMouseOut&&t.onMouseOut(),o.highlightedPoint&&o.highlightedPoint.onMouseOut&&o.highlightedPoint.onMouseOut(),s.seriesNavigation.rememberPointFocus||delete o.highlightedPoint}attemptHighlightAdjacentPoint(o,s){const t=this.chart,e=t.options.accessibility.keyboardNavigation.wrapAround;return t.highlightAdjacentPoint(s)||e&&(s?M(t):d(t))?o.response.success:o.response[s?"next":"prev"]}onSeriesDestroy(o){const s=this.chart;s.highlightedPoint&&s.highlightedPoint.series===o&&(delete s.highlightedPoint,s.focusElement&&s.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(a){const o=[];function s(b){const P=this,S=P.series,w=P.highlightedPoint,B=w&&m(w)||0,O=P.series&&P.series[P.series.length-1];let z,R;if(!S[0]||!S[0].points)return!1;if(w){if(z=S[w.series.index+(b?1:-1)],R=(w&&w.series.points||[])[B+(b?1:-1)],!R&&z&&(R=z.points[b?0:z.points.length-1]),!R)return!1}else R=b?S[0].points[0]:O&&O.points&&O.points[O.points.length-1];return u(R)?(z=R.series,P.highlightedPoint=g(z)?b?z.points[z.points.length-1]:z.points[0]:R,P.highlightAdjacentPoint(b)):R.highlight()}function t(b){const P=this.highlightedPoint;let w,S=1/0;return!(!A(P.plotX)||!A(P.plotY))&&(this.series.forEach(B=>{g(B)||B.points.forEach(N=>{if(!A(N.plotY)||!A(N.plotX)||N===P)return;let O=N.plotY-P.plotY;const Y=Math.abs(N.plotX-P.plotX),z=Math.abs(O)*Math.abs(O)+Y*Y*4;B.yAxis&&B.yAxis.reversed&&(O*=-1),!(O<=0&&b||O>=0&&!b||z<5||u(N))&&z<S&&(S=z,w=N)})}),!!w&&w.highlight())}function e(b){const P=this,S=P.highlightedPoint,w=P.series&&P.series[P.series.length-1],B=w&&w.points&&w.points[w.points.length-1];let N,O,Y;return P.highlightedPoint?(N=P.series[S.series.index+(b?-1:1)],!(!N||(O=function c(b,P,S,w){let N,O,Y,B=1/0,z=P.points.length;const R=G=>!(A(G.plotX)&&A(G.plotY));if(!R(b)){for(;z--;)N=P.points[z],!R(N)&&(Y=(b.plotX-N.plotX)*(b.plotX-N.plotX)*(S||1)+(b.plotY-N.plotY)*(b.plotY-N.plotY)*(w||1),Y<B&&(B=Y,O=z));return A(O)?P.points[O]:void 0}}(S,N,4),!O))&&(g(N)?(O.highlight(),Y=P.highlightAdjacentSeries(b),Y||(S.highlight(),!1)):(O.highlight(),O.series.highlightNextValidPoint()))):(N=b?P.series&&P.series[0]:w,O=b?N&&N.points&&N.points[0]:B,!!O&&O.highlight())}function r(b=!0){const P=this.series.chart;return!this.isNull&&b?this.onMouseOver():P.tooltip&&P.tooltip.hide(0),h(this),this.graphic&&(P.setFocusToElement(this.graphic),!b&&P.focusElement&&P.focusElement.removeFocusBorder()),P.highlightedPoint=this,this}function C(){const b=this.chart.highlightedPoint,P=(b&&b.series)===this?m(b):0,S=this.points,w=S.length;if(S&&w){for(let B=P;B<w;++B)if(!u(S[B]))return S[B].highlight();for(let B=P;B>=0;--B)if(!u(S[B]))return S[B].highlight()}return!1}a.compose=function n(b,P,S){if(_.pushUnique(o,b)){const w=b.prototype;w.highlightAdjacentPoint=s,w.highlightAdjacentPointVertical=t,w.highlightAdjacentSeries=e}if(_.pushUnique(o,P)&&(P.prototype.highlight=r),_.pushUnique(o,S)){const w=S.prototype;w.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(B=>{i[B]&&(i[B].prototype.keyboardMoveVertical=!1)}),w.highlightNextValidPoint=C}}}(k||(k={})),k}),V(D,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],D["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],D["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(X,F,j,U,_,L){const{hideSeriesFromAT:I}=F,{describeSeries:E}=_;return class i extends X{static compose(A,v,y){U.compose(y),j.compose(y),L.compose(A,v,y)}init(){this.newDataAnnouncer=new U(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new L(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const A=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===A.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(A){A.labelBySeries&&A.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(v){!1!==(v.options.accessibility&&v.options.accessibility.enabled)&&v.visible?E(v):I(v)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),V(D,"Accessibility/Components/ZoomComponent.js",[D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{unhideChartElementFromAT:L}=F,{getFakeMouseEvent:I}=j,{attr:E,pick:i}=_;return class A extends X{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const y=this,x=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(h=>{y.addEvent(x,h,function(){y.updateProxyOverlays()})})}onChartUpdate(){const y=this.chart,x=this;y.mapNavigation&&y.mapNavigation.navButtons.forEach((h,m)=>{L(y,h.element),x.setMapNavButtonAttrs(h.element,"accessibility.zoom.mapZoom"+(m?"Out":"In"))})}setMapNavButtonAttrs(y,x){const h=this.chart,m=h.langFormat(x,{chart:h});E(y,{tabindex:-1,role:"button","aria-label":m})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const y=this.chart;this.proxyProvider.clearGroup("zoom"),y.resetZoomButton&&this.createZoomProxyButton(y.resetZoomButton,"resetZoomProxyButton",y.langFormat("accessibility.zoom.resetZoomButton",{chart:y})),y.drillUpButton&&y.breadcrumbs&&y.breadcrumbs.list&&this.createZoomProxyButton(y.drillUpButton,"drillUpProxyButton",y.langFormat("accessibility.drillUpButton",{chart:y,buttonText:y.breadcrumbs.getButtonText(y.breadcrumbs.list[y.breadcrumbs.list.length-1])}))}createZoomProxyButton(y,x,h){this[x]=this.proxyProvider.addProxyElement("zoom",{click:y},{"aria-label":h,tabindex:-1})}getMapZoomNavigation(){const y=this.keyCodes,x=this.chart,h=this;return new U(x,{keyCodeMap:[[[y.up,y.down,y.left,y.right],function(m){return h.onMapKbdArrow(this,m)}],[[y.tab],function(m,g){return h.onMapKbdTab(this,g)}],[[y.space,y.enter],function(){return h.onMapKbdClick(this)}]],validate:function(){return function T(v){return!!(v.mapView&&v.mapNavigation&&v.mapNavigation.navButtons.length)}(x)},init:function(m){return h.onMapNavInit(m)}})}onMapKbdArrow(y,x){const h=this.chart,m=this.keyCodes,g=h.container,u=x===m.up||x===m.down,d=(u?h.plotHeight:h.plotWidth)/10*(x===m.left||x===m.up?1:-1),p=10*Math.random(),M={x:g.offsetLeft+h.plotLeft+h.plotWidth/2+p,y:g.offsetTop+h.plotTop+h.plotHeight/2+p},k=u?{x:M.x,y:M.y+d}:{x:M.x+d,y:M.y};return[I("mousedown",M),I("mousemove",k),I("mouseup",k)].forEach(a=>g.dispatchEvent(a)),y.response.success}onMapKbdTab(y,x){const h=this.chart,m=y.response,g=x.shiftKey,u=g&&!this.focusedMapNavButtonIx||!g&&this.focusedMapNavButtonIx;if(h.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),u)return h.mapView&&h.mapView.zoomBy(),m[g?"prev":"next"];this.focusedMapNavButtonIx+=g?-1:1;const l=h.mapNavigation.navButtons[this.focusedMapNavButtonIx];return h.setFocusToElement(l.box,l.element),l.setState(2),m.success}onMapKbdClick(y){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),y.response.success}onMapNavInit(y){const x=this.chart,g=y>0?x.mapNavigation.navButtons[0]:x.mapNavigation.navButtons[1];x.setFocusToElement(g.box,g.element),g.setState(2),this.focusedMapNavButtonIx=y>0?0:1}simpleButtonNavigation(y,x,h){const m=this.keyCodes,g=this,u=this.chart;return new U(u,{keyCodeMap:[[[m.tab,m.up,m.down,m.left,m.right],function(l,f){return this.response[l===m.tab&&f.shiftKey||l===m.left||l===m.up?"prev":"next"]}],[[m.space,m.enter],function(){const l=h(this,u);return i(l,this.response.success)}]],validate:function(){return u[y]&&u[y].box&&g[x].buttonElement},init:function(){u.setFocusToElement(u[y].box,g[x].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(y,x){x.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(y,x){return x.drillUp(),y.response.prev}),this.getMapZoomNavigation()]}}}),V(D,"Accessibility/HighContrastMode.js",[D["Core/Globals.js"]],function(X){const{doc:F,isMS:j,win:U}=X;return{isHighContrastModeActive:function _(){const E=/(Edg)/.test(U.navigator.userAgent);if(U.matchMedia&&E)return U.matchMedia("(-ms-high-contrast: active)").matches;if(j&&U.getComputedStyle){const i=F.createElement("div");i.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",F.body.appendChild(i);const A=(i.currentStyle||U.getComputedStyle(i)).backgroundImage;return F.body.removeChild(i),"none"===A}return U.matchMedia&&U.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function L(E){E.highContrastModeActive=!0;const i=E.options.accessibility.highContrastTheme;E.update(i,!1),E.series.forEach(function(T){const A=i.plotOptions[T.type]||{};T.update({color:A.color||"windowText",colors:[A.color||"windowText"],borderColor:A.borderColor||"window"}),T.points.forEach(function(v){v.options&&v.options.color&&v.update({color:A.color||"windowText",borderColor:A.borderColor||"window"},!1)})}),E.redraw()}}}),V(D,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),V(D,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),V(D,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),V(D,"Accessibility/Options/DeprecatedOptions.js",[D["Core/Utilities.js"]],function(X){const{error:F,pick:j}=X;function U(y,x,h){let g,m=y,u=0;for(;u<x.length-1;++u)g=x[u],m=m[g]=j(m[g],{});m[x[x.length-1]]=h}function _(y,x,h,m){function g(f,d){return d.reduce(function(p,M){return p[M]},f)}const u=g(y.options,x),l=g(y.options,h);Object.keys(m).forEach(function(f){const d=u[f];typeof d<"u"&&(U(l,m[f],d),F(32,!1,y,{[x.join(".")+"."+f]:h.join(".")+"."+m[f].join(".")}))})}return function v(y){(function L(y){const x=y.options.chart,h=y.options.accessibility||{};["description","typeDescription"].forEach(function(m){x[m]&&(h[m]=x[m],F(32,!1,y,{[`chart.${m}`]:`use accessibility.${m}`}))})})(y),function I(y){y.axes.forEach(function(x){const h=x.options;h&&h.description&&(h.accessibility=h.accessibility||{},h.accessibility.description=h.description,F(32,!1,y,{"axis.description":"use axis.accessibility.description"}))})}(y),y.series&&function E(y){const x={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};y.series.forEach(function(h){Object.keys(x).forEach(function(m){let g=h.options[m];"accessibility.pointDescriptionFormatter"===m&&(g=h.options.accessibility&&h.options.accessibility.pointDescriptionFormatter),typeof g<"u"&&(U(h.options,x[m],"skipKeyboardNavigation"===m?!g:g),F(32,!1,y,{[`series.${m}`]:"series."+x[m].join(".")}))})})}(y),function i(y){_(y,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}(y),function T(y){_(y,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}(y),function A(y){_(y,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}(y)}}),V(D,"Accessibility/Accessibility.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/A11yI18n.js"],D["Accessibility/Components/ContainerComponent.js"],D["Accessibility/FocusBorder.js"],D["Accessibility/Components/InfoRegionsComponent.js"],D["Accessibility/KeyboardNavigation.js"],D["Accessibility/Components/LegendComponent.js"],D["Accessibility/Components/MenuComponent.js"],D["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],D["Accessibility/ProxyProvider.js"],D["Accessibility/Components/RangeSelectorComponent.js"],D["Accessibility/Components/SeriesComponent/SeriesComponent.js"],D["Accessibility/Components/ZoomComponent.js"],D["Accessibility/HighContrastMode.js"],D["Accessibility/HighContrastTheme.js"],D["Accessibility/Options/A11yDefaults.js"],D["Accessibility/Options/LangDefaults.js"],D["Accessibility/Options/DeprecatedOptions.js"]],function(X,F,j,U,_,L,I,E,i,T,A,v,y,x,h,m,g,u,l,f,d){const{defaultOptions:p}=X,{doc:M}=F,{addEvent:k,extend:a,fireEvent:o,merge:s}=j,{removeElement:t}=U;class e{constructor(c){this.chart=void 0,this.components=void 0,this.keyboardNavigation=void 0,this.proxyProvider=void 0,this.init(c)}init(c){if(this.chart=c,!M.addEventListener)return this.zombie=!0,this.components={},void c.renderTo.setAttribute("aria-hidden",!0);d(c),this.proxyProvider=new y(this.chart),this.initComponents(),this.keyboardNavigation=new i(c,this.components)}initComponents(){const c=this.chart,r=this.proxyProvider,C=c.options.accessibility;this.components={container:new L,infoRegions:new E,legend:new T,chartMenu:new A,rangeSelector:new x,series:new h,zoom:new m},C.customComponents&&a(this.components,C.customComponents);const b=this.components;this.getComponentOrder().forEach(function(P){b[P].initBase(c,r),b[P].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const c=Object.keys(this.components).filter(r=>"series"!==r);return["series"].concat(c)}update(){const c=this.components,r=this.chart,C=r.options.accessibility;o(r,"beforeA11yUpdate"),r.types=this.getChartTypes();const b=C.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(b),this.getComponentOrder().forEach(function(P){c[P].onChartUpdate(),o(r,"afterA11yComponentUpdate",{name:P,component:c[P]})}),this.keyboardNavigation.update(b),!r.highContrastModeActive&&g.isHighContrastModeActive()&&g.setHighContrastTheme(r),o(r,"afterA11yUpdate",{accessibility:this})}destroy(){const c=this.chart||{},r=this.components;Object.keys(r).forEach(function(C){r[C].destroy(),r[C].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),c.announcerContainer&&t(c.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),c.renderTo&&c.renderTo.setAttribute("aria-hidden",!0),c.focusElement&&c.focusElement.removeFocusBorder()}getChartTypes(){const c={};return this.chart.series.forEach(function(r){c[r.type]=1}),Object.keys(c)}}return function(n){const c=[];function r(){this.accessibility&&this.accessibility.destroy()}function C(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const B=this.accessibility;B&&!B.zombie&&(B.proxyProvider.updateProxyElementPositions(),B.getComponentOrder().forEach(function(N){B.components[N].onChartRender()}))}function b(B){const N=B.options.accessibility;N&&(N.customComponents&&(this.options.accessibility.customComponents=N.customComponents,delete N.customComponents),s(!0,this.options.accessibility,N),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function P(){let B=this.accessibility;const N=this.options.accessibility;N&&N.enabled?B&&!B.zombie?B.update():(this.accessibility=B=new n(this),B&&!B.zombie&&B.update()):B?(B.destroy&&B.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function w(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}n.i18nFormat=_.i18nFormat,n.compose=function S(B,N,O,Y,z,R){i.compose(B),v.compose(Y),T.compose(B,N),A.compose(B),h.compose(B,O,Y),_.compose(B),I.compose(B,z),R&&x.compose(B,R),j.pushUnique(c,B)&&(B.prototype.updateA11yEnabled=P,k(B,"destroy",r),k(B,"render",C),k(B,"update",b),["addSeries","init"].forEach(H=>{k(B,H,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(H=>{k(B,H,function(){const q=this.accessibility;q&&!q.zombie&&q.update()})})),j.pushUnique(c,O)&&k(O,"update",w),j.pushUnique(c,Y)&&["update","updatedData","remove"].forEach(G=>{k(Y,G,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(e||(e={})),s(!0,p,l,{accessibility:{highContrastTheme:u},lang:f}),e}),V(D,"masters/modules/accessibility.src.js",[D["Core/Globals.js"],D["Accessibility/Accessibility.js"],D["Accessibility/AccessibilityComponent.js"],D["Accessibility/Utils/ChartUtilities.js"],D["Accessibility/Utils/HTMLUtilities.js"],D["Accessibility/KeyboardNavigationHandler.js"],D["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(X,F,j,U,_,L,I){const E=X;E.i18nFormat=F.i18nFormat,E.A11yChartUtilities=U,E.A11yHTMLUtilities=_,E.AccessibilityComponent=j,E.KeyboardNavigationHandler=L,E.SeriesAccessibilityDescriber=I,F.compose(E.Chart,E.Legend,E.Point,E.Series,E.SVGElement,E.RangeSelector)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},4949:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Extensions/Annotations/AnnotationChart.js",[D["Core/Utilities.js"]],function(X){const{addEvent:F,erase:j,find:U,fireEvent:_,pick:L,wrap:I}=X,E=[];function i(m,g){const u=this.initAnnotation(m);return this.options.annotations.push(u.options),L(g,!0)&&(u.redraw(),u.graphic.attr({opacity:1})),u}function T(){const m=this;m.plotBoxClip=this.renderer.clipRect(this.plotBox),m.controlPointsGroup=m.renderer.g("control-points").attr({zIndex:99}).clip(m.plotBoxClip).add(),m.options.annotations.forEach((g,u)=>{if(!m.annotations.some(l=>l.options===g)){const l=m.initAnnotation(g);m.options.annotations[u]=l.options}}),m.drawAnnotations(),F(m,"redraw",m.drawAnnotations),F(m,"destroy",function(){m.plotBoxClip.destroy(),m.controlPointsGroup.destroy()}),F(m,"exportData",function(g){const l=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,f=!g.dataRows[1].xValues,d=m.options.lang&&m.options.lang.exportData&&m.options.lang.exportData.annotationHeader,p=function(t){let e;return l&&(e=l(t),!1!==e)?e:(e=d+" "+t,f?{columnTitle:e,topLevelColumnTitle:e}:e)},M=g.dataRows[0].length,k=m.options.exporting&&m.options.exporting.csv&&m.options.exporting.csv.annotations&&m.options.exporting.csv.annotations.itemDelimiter,a=m.options.exporting&&m.options.exporting.csv&&m.options.exporting.csv.annotations&&m.options.exporting.csv.annotations.join;m.annotations.forEach(t=>{t.options.labelOptions&&t.options.labelOptions.includeInDataExport&&t.labels.forEach(e=>{if(e.options.text){const n=e.options.text;e.points.forEach(c=>{const r=c.x,C=c.series.xAxis?c.series.xAxis.options.index:-1;let b=!1;if(-1===C){const P=g.dataRows[0].length,S=new Array(P);for(let w=0;w<P;++w)S[w]="";S.push(n),S.xValues=[],S.xValues[C]=r,g.dataRows.push(S),b=!0}if(b||g.dataRows.forEach(P=>{!b&&P.xValues&&void 0!==C&&r===P.xValues[C]&&(a&&P.length>M?P[P.length-1]+=k+n:P.push(n),b=!0)}),!b){const P=g.dataRows[0].length,S=new Array(P);for(let w=0;w<P;++w)S[w]="";S[0]=r,S.push(n),S.xValues=[],void 0!==C&&(S.xValues[C]=r),g.dataRows.push(S)}})}})});let o=0;g.dataRows.forEach(t=>{o=Math.max(o,t.length)});const s=o-g.dataRows[0].length;for(let t=0;t<s;t++){const e=p(t+1);f?(g.dataRows[0].push(e.topLevelColumnTitle),g.dataRows[1].push(e.columnTitle)):g.dataRows[0].push(e)}})}function A(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(m=>{m.redraw(),m.graphic.animate({opacity:1},m.animationConfig)})}function v(m){const g=this.annotations,u="annotations"===m.coll?m:U(g,function(l){return l.options.id===m});u&&(_(u,"remove"),j(this.options.annotations,u.options),j(g,u),u.destroy())}function y(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function x(m){this.chart.hasDraggedAnnotation||m.apply(this,Array.prototype.slice.call(arguments,1))}var h;return(h||(h={})).compose=function g(u,l,f){if(X.pushUnique(E,l)){F(l,"afterInit",y);const d=l.prototype;d.addAnnotation=i,d.callbacks.push(T),d.collectionsWithInit.annotations=[i],d.collectionsWithUpdate.push("annotations"),d.drawAnnotations=A,d.removeAnnotation=v,d.initAnnotation=function(M){const a=new(u.types[M.type]||u)(this,M);return this.annotations.push(a),a}}X.pushUnique(E,f)&&I(f.prototype,"onContainerMouseDown",x)},h}),V(D,"Extensions/Annotations/AnnotationDefaults.js",[D["Core/Utilities.js"]],function(X){const{defined:F}=X;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return F(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}}),V(D,"Extensions/Annotations/EventEmitter.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{doc:j,isTouchDevice:U}=X,{addEvent:_,fireEvent:L,objectEach:I,pick:E,removeEvent:i}=F;return class T{addEvents(){const v=this,y=function(x){_(x,U?"touchstart":"mousedown",h=>{v.onMouseDown(h)},{passive:!1})};if(y(this.graphic.element),(v.labels||[]).forEach(x=>{x.options.useHTML&&x.graphic.text&&y(x.graphic.text.element)}),I(v.options.events,(x,h)=>{const m=function(g){("click"!==h||!v.cancelClick)&&x.call(v,v.chart.pointer.normalize(g),v.target)};-1===(v.nonDOMEvents||[]).indexOf(h)?v.graphic.on(h,m):_(v,h,m,{passive:!1})}),v.options.draggable&&(_(v,"drag",v.onDrag),!v.graphic.renderer.styledMode)){const x={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[v.options.draggable]};v.graphic.css(x),(v.labels||[]).forEach(h=>{h.options.useHTML&&h.graphic.text&&h.graphic.text.css(x)})}v.isUpdating||L(v,"add")}destroy(){this.removeDocEvents(),i(this),this.hcEvents=null}mouseMoveToRadians(v,y,x){let l,h=v.prevChartY-x,m=v.prevChartX-y,g=v.chartY-x,u=v.chartX-y;return this.chart.inverted&&(l=m,m=h,h=l,l=u,u=g,g=l),Math.atan2(g,u)-Math.atan2(h,m)}mouseMoveToScale(v,y,x){let l=(v.chartX-y||1)/(v.prevChartX-y||1),f=(v.chartY-x||1)/(v.prevChartY-x||1);if(this.chart.inverted){const d=f;f=l,l=d}return{x:l,y:f}}mouseMoveToTranslation(v){let h,y=v.chartX-v.prevChartX,x=v.chartY-v.prevChartY;return this.chart.inverted&&(h=x,x=y,y=h),{x:y,y:x}}onDrag(v){if(this.chart.isInsidePlot(v.chartX-this.chart.plotLeft,v.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){const y=this.mouseMoveToTranslation(v);"x"===this.options.draggable&&(y.y=0),"y"===this.options.draggable&&(y.x=0);const x=this;x.points.length?x.translate(y.x,y.y):(x.shapes.forEach(h=>h.translate(y.x,y.y)),x.labels.forEach(h=>h.translate(y.x,y.y))),this.redraw(!1)}}onMouseDown(v){if(v.preventDefault&&v.preventDefault(),2===v.button)return;const y=this,x=y.chart.pointer;let h=(v=x.normalize(v)).chartX,m=v.chartY;y.cancelClick=!1,y.chart.hasDraggedAnnotation=!0,y.removeDrag=_(j,U?"touchmove":"mousemove",function(g){y.hasDragged=!0,(g=x.normalize(g)).prevChartX=h,g.prevChartY=m,L(y,"drag",g),h=g.chartX,m=g.chartY},U?{passive:!1}:void 0),y.removeMouseUp=_(j,U?"touchend":"mouseup",function(g){const u=E(y.target&&y.target.annotation,y.target);u&&(u.cancelClick=y.hasDragged),y.cancelClick=y.hasDragged,y.hasDragged=!1,y.chart.hasDraggedAnnotation=!1,L(E(u,y),"afterUpdate"),y.onMouseUp(g)},U?{passive:!1}:void 0)}onMouseUp(v){const y=this.chart,x=this.target||this,h=y.options.annotations,m=y.annotations.indexOf(x);this.removeDocEvents(),h[m]=x.options}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}}),V(D,"Extensions/Annotations/ControlPoint.js",[D["Extensions/Annotations/EventEmitter.js"],D["Core/Utilities.js"]],function(X,F){const{merge:j,pick:U}=F;return class _ extends X{constructor(I,E,i,T){super(),this.graphic=void 0,this.nonDOMEvents=["drag"],this.chart=I,this.target=E,this.options=i,this.index=U(i.index,T)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null}redraw(I){this.graphic[I?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const I=this.chart,E=this.options;this.graphic=I.renderer.symbol(E.symbol,0,0,E.width,E.height).add(I.controlPointsGroup).css(E.style),this.setVisibility(E.visible),this.addEvents()}setVisibility(I){this.graphic[I?"show":"hide"](),this.options.visible=I}update(I){const E=this.chart,i=this.target,T=this.index,A=j(!0,this.options,I);this.destroy(),this.constructor(E,i,A,T),this.render(E.controlPointsGroup),this.redraw()}}}),V(D,"Extensions/Annotations/MockPoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F){const{series:{prototype:j}}=X,{defined:U,fireEvent:_}=F;class L{static fromPoint(E){return new L(E.series.chart,null,{x:E.x,y:E.y,xAxis:E.series.xAxis,yAxis:E.series.yAxis})}static pointToPixels(E,i){const T=E.series,A=T.chart;let x,v=E.plotX||0,y=E.plotY||0;return A.inverted&&(E.mock?(v=E.plotY,y=E.plotX):(v=A.plotWidth-(E.plotY||0),y=A.plotHeight-(E.plotX||0))),T&&!i&&(x=T.getPlotBox(),v+=x.translateX,y+=x.translateY),{x:v,y}}static pointToOptions(E){return{x:E.x,y:E.y,xAxis:E.series.xAxis,yAxis:E.series.yAxis}}constructor(E,i,T){this.plotX=void 0,this.plotY=void 0,this.mock=!0,this.series={visible:!0,chart:E,getPlotBox:j.getPlotBox},this.target=i||null,this.options=T,this.applyOptions(this.getOptions())}applyOptions(E){this.command=E.command,this.setAxis(E,"x"),this.setAxis(E,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"==typeof this.options}isInsidePlot(){const E=this.plotX,i=this.plotY,T=this.series.xAxis,A=this.series.yAxis,v={x:E,y:i,isInsidePlot:!0,options:{}};return T&&(v.isInsidePlot=U(E)&&E>=0&&E<=T.len),A&&(v.isInsidePlot=v.isInsidePlot&&U(i)&&i>=0&&i<=A.len),_(this.series.chart,"afterIsInsidePlot",v),v.isInsidePlot}refresh(){const E=this.series,i=E.xAxis,T=E.yAxis,A=this.getOptions();i?(this.x=A.x,this.plotX=i.toPixels(A.x,!0)):(this.x=void 0,this.plotX=A.x),T?(this.y=A.y,this.plotY=T.toPixels(A.y,!0)):(this.y=null,this.plotY=A.y),this.isInside=this.isInsidePlot()}refreshOptions(){const E=this.series,i=E.xAxis,T=E.yAxis;this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=T?T.toValue(this.plotY,!0):this.plotY}rotate(E,i,T){if(!this.hasDynamicOptions()){const A=Math.cos(T),v=Math.sin(T),y=this.plotX-E,x=this.plotY-i,m=y*v+x*A;this.plotX=y*A-x*v+E,this.plotY=m+i,this.refreshOptions()}}scale(E,i,T,A){if(!this.hasDynamicOptions()){const y=this.plotY*A,h=(1-A)*i;this.plotX=(1-T)*E+this.plotX*T,this.plotY=h+y,this.refreshOptions()}}setAxis(E,i){const T=i+"Axis",A=E[T],v=this.series.chart;this.series[T]="object"==typeof A?A:U(A)?v[T][A]||v.get(A):null}toAnchor(){const E=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(E[0]=this.plotY,E[1]=this.plotX),E}translate(E,i,T,A){this.hasDynamicOptions()||(this.plotX+=T,this.plotY+=A,this.refreshOptions())}}return L}),V(D,"Extensions/Annotations/ControlTarget.js",[D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j){var U;return function(_){const L=[];function I(){const f=this.controlPoints,d=this.options.controlPoints||[];d.forEach((p,M)=>{const k=j.merge(this.options.controlPointOptions,p);k.index||(k.index=M),d[M]=k,f.push(new X(this.chart,this,k))})}function E(f){const d=f.series.getPlotBox(),p=f.series.chart,M=f.mock?f.toAnchor():p.tooltip&&p.tooltip.getAnchor.call({chart:f.series.chart},f)||[0,0,0,0],k={x:M[0]+(this.options.x||0),y:M[1]+(this.options.y||0),height:M[2]||0,width:M[3]||0};return{relativePosition:k,absolutePosition:j.merge(k,{x:k.x+(f.mock?d.translateX:p.plotLeft),y:k.y+(f.mock?d.translateY:p.plotTop)})}}function T(){this.controlPoints.forEach(f=>f.destroy()),this.chart=null,this.controlPoints=null,this.points=null,this.options=null,this.annotation&&(this.annotation=null)}function A(){const f=this.options;return f.points||f.point&&j.splat(f.point)}function v(){const f=this.getPointsOptions(),d=this.points,p=f&&f.length||0;let M,k;for(M=0;M<p;M++){if(k=this.point(f[M],d[M]),!k)return void(d.length=0);k.mock&&k.refresh(),d[M]=k}return d}function y(f,d){if(f&&f.series)return f;if(!d||null===d.series)if(j.isObject(f))d=new F(this.chart,this,f);else if(j.isString(f))d=this.chart.get(f)||null;else if("function"==typeof f){const p=f.call(d,this);d=p.series?p:new F(this.chart,this,f)}return d}function x(f){this.controlPoints.forEach(d=>d.redraw(f))}function h(){this.controlPoints.forEach(f=>f.render())}function m(f,d,p,M,k){if(this.chart.inverted){const a=d;d=p,p=a}this.points.forEach((a,o)=>this.transformPoint(f,d,p,M,k,o),this)}function g(f,d,p,M,k,a){let o=this.points[a];o.mock||(o=this.points[a]=F.fromPoint(o)),o[f](d,p,M,k)}function u(f,d){this.transform("translate",null,null,f,d)}function l(f,d,p){this.transformPoint("translate",null,null,f,d,p)}_.compose=function i(f){j.pushUnique(L,f)&&j.merge(!0,f.prototype,{addControlPoints:I,anchor:E,destroyControlTarget:T,getPointsOptions:A,linkPoints:v,point:y,redrawControlPoints:x,renderControlPoints:h,transform:m,transformPoint:g,translate:u,translatePoint:l})}}(U||(U={})),U}),V(D,"Extensions/Annotations/Controllables/Controllable.js",[D["Extensions/Annotations/ControlTarget.js"],D["Core/Utilities.js"]],function(X,F){const{merge:j}=F;class U{constructor(L,I,E,i){this.graphic=void 0,this.annotation=L,this.chart=L.chart,this.collection="label"===i?"labels":"shapes",this.controlPoints=[],this.options=I,this.points=[],this.index=E,this.itemType=i,this.init(L,I,E)}attr(...L){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(L){const I=this.constructor.attrsMap,E={},i=this.chart.styledMode;let T,A;for(T in L)A=I[T],typeof I[T]<"u"&&(!i||-1===["fill","stroke","stroke-width"].indexOf(A))&&(E[A]=L[T]);return E}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(L,I,E){this.annotation=L,this.chart=L.chart,this.options=I,this.points=[],this.controlPoints=[],this.index=E,this.linkPoints(),this.addControlPoints()}redraw(L){this.redrawControlPoints(L)}render(L){this.renderControlPoints()}rotate(L,I,E){this.transform("rotate",L,I,E)}scale(L,I,E,i){this.transform("scale",L,I,E,i)}setControlPointsVisibility(L){this.controlPoints.forEach(I=>{I.setVisibility(L)})}shouldBeDrawn(){return!!this.points.length}translateShape(L,I,E){const i=this.annotation.chart,T=this.annotation.userOptions,A=i.annotations.indexOf(this.annotation),v=i.options.annotations[A];this.translatePoint(L,I,0),E&&this.translatePoint(L,I,1),v[this.collection][this.index].point=this.options.point,T[this.collection][this.index].point=this.options.point}update(L){const I=this.annotation,E=j(!0,this.options,L),i=this.graphic.parentGroup,T=this.constructor;this.destroy();const A=new T(I,E,this.index,this.itemType);j(!0,this,A),this.render(i),this.redraw()}}return X.compose(U),U}),V(D,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}}),V(D,"Extensions/Annotations/Controllables/ControllablePath.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllableDefaults.js"],D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{defaultMarkers:_}=F,{addEvent:L,defined:I,extend:E,merge:i,uniqueKey:T}=U,A=[],v=h("marker-end"),y=h("marker-start"),x="rgba(192,192,192,"+(j.svg?1e-4:.002)+")";function h(l){return function(f){this.attr(l,"url(#"+f+")")}}function m(){this.options.defs=i(_,this.options.defs||{})}function g(l,f){const d={attributes:{id:l}},p={stroke:f.color||"none",fill:f.color||"rgba(0, 0, 0, 0.75)"};d.children=f.children&&f.children.map(function(a){return i(p,a)});const M=i(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},f,d),k=this.definition(M);return k.id=l,k}return(()=>{class l extends X{static compose(d,p){U.pushUnique(A,d)&&L(d,"afterGetContainer",m),U.pushUnique(A,p)&&(p.prototype.addMarker=g)}constructor(d,p,M){super(d,p,M,"shape"),this.type="path"}toD(){const d=this.options.d;if(d)return"function"==typeof d?d.call(this):d;const p=this.points,M=p.length,k=[];let e,a=M,o=p[0],s=a&&this.anchor(o).absolutePosition,t=0;if(s)for(k.push(["M",s.x,s.y]);++t<M&&a;)o=p[t],e=o.command||"L",s=this.anchor(o).absolutePosition,"M"===e||"L"===e?k.push([e,s.x,s.y]):"Z"===e&&k.push([e]),a=o.series.visible;return a&&this.graphic?this.chart.renderer.crispLine(k,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(d){const p=this.options,M=this.attrsFromOptions(p);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(M).add(d),p.className&&this.graphic.addClass(p.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(d),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:x,fill:x,"stroke-width":this.graphic.strokeWidth()+2*p.snap}),super.render(),E(this.graphic,{markerStartSetter:y,markerEndSetter:v}),this.setMarkers(this)}redraw(d){if(this.graphic){const p=this.toD(),M=d?"animate":"attr";p?(this.graphic[M]({d:p}),this.tracker[M]({d:p})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!p}super.redraw(d)}setMarkers(d){const p=d.options,M=d.chart,k=M.options.defs,a=p.fill,o=I(a)&&"none"!==a?a:p.stroke;["markerStart","markerEnd"].forEach(function(t){let n,c,r,C,e=p[t];if(e){for(r in k)if(n=k[r],(e===(n.attributes&&n.attributes.id)||e===n.id)&&"marker"===n.tagName){c=n;break}c&&(C=d[t]=M.renderer.addMarker((p.id||T())+"-"+e,i(c,{color:o})),d.attr(t,C.getAttribute("id")))}})}}return l.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},l})()}),V(D,"Extensions/Annotations/Controllables/ControllableRect.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U}=j;class _ extends X{constructor(I,E,i){super(I,E,i,"shape"),this.type="rect",this.translate=super.translateShape}render(I){const E=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(E).add(I),super.render()}redraw(I){if(this.graphic){const E=this.anchor(this.points[0]).absolutePosition;E?this.graphic[I?"animate":"attr"]({x:E.x,y:E.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(E)}super.redraw(I)}}return _.attrsMap=U(F.attrsMap,{width:"width",height:"height"}),_}),V(D,"Extensions/Annotations/Controllables/ControllableCircle.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U}=j;class _ extends X{constructor(I,E,i){super(I,E,i,"shape"),this.type="circle",this.translate=super.translateShape}redraw(I){if(this.graphic){const E=this.anchor(this.points[0]).absolutePosition;E?this.graphic[I?"animate":"attr"]({x:E.x,y:E.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!E}super.redraw.call(this,I)}render(I){const E=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(E).add(I),super.render()}setRadius(I){this.options.r=I}}return _.attrsMap=U(F.attrsMap,{r:"r"}),_}),V(D,"Extensions/Annotations/Controllables/ControllableEllipse.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U,defined:_}=j;class L extends X{constructor(E,i,T){super(E,i,T,"shape"),this.type="ellipse"}init(E,i,T){_(i.yAxis)&&i.points.forEach(A=>{A.yAxis=i.yAxis}),_(i.xAxis)&&i.points.forEach(A=>{A.xAxis=i.xAxis}),super.init(E,i,T)}render(E){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(E),super.render()}translate(E,i){super.translateShape(E,i,!0)}getDistanceFromLine(E,i,T,A){return Math.abs((i.y-E.y)*T-(i.x-E.x)*A+i.x*E.y-i.y*E.x)/Math.sqrt((i.y-E.y)*(i.y-E.y)+(i.x-E.x)*(i.x-E.x))}getAttrs(E,i){const T=E.x,A=E.y,v=i.x,y=i.y,x=(T+v)/2,h=(A+y)/2,m=Math.sqrt((T-v)*(T-v)/4+(A-y)*(A-y)/4);let u=180*Math.atan((y-A)/(v-T))/Math.PI;return x<T&&(u+=180),{cx:x,cy:h,rx:m,ry:this.getRY(),angle:u}}getRY(){const E=this.getYAxis();return _(E)?Math.abs(E.toPixels(this.options.ry)-E.toPixels(0)):this.options.ry}getYAxis(){return this.chart.yAxis[this.options.yAxis]}getAbsolutePosition(E){return this.anchor(E).absolutePosition}redraw(E){if(this.graphic){const i=this.getAbsolutePosition(this.points[0]),T=this.getAbsolutePosition(this.points[1]),A=this.getAttrs(i,T);i?this.graphic[E?"animate":"attr"]({cx:A.cx,cy:A.cy,rx:A.rx,ry:A.ry,rotation:A.angle,rotationOriginX:A.cx,rotationOriginY:A.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(i)}super.redraw(E)}setYRadius(E){const i=this.annotation.userOptions.shapes;this.options.ry=E,i&&i[0]&&(i[0].ry=E,i[0].ry=E)}}return L.attrsMap=U(F.attrsMap,{ry:"ry"}),L}),V(D,"Extensions/Annotations/Controllables/ControllableLabel.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Core/FormatUtilities.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{format:_}=F,{extend:L,isNumber:I,pick:E}=U,i=[];function T(v,y,x,h,m){const g=m&&m.anchorX,u=m&&m.anchorY;let l,f,d=x/2;return I(g)&&I(u)&&(l=[["M",g,u]],f=y-u,f<0&&(f=-h-f),f<x&&(d=g<v+x/2?f:x-f),u>y+h?l.push(["L",v+d,y+h]):u<y?l.push(["L",v+d,y]):g<v?l.push(["L",v,y+h/2]):g>v+x&&l.push(["L",v+x,y+h/2])),l||[]}return(()=>{class v extends X{static alignedPosition(x,h){const m=x.align,g=x.verticalAlign;let f,d,u=(h.x||0)+(x.x||0),l=(h.y||0)+(x.y||0);return"right"===m?f=1:"center"===m&&(f=2),f&&(u+=(h.width-(x.width||0))/f),"bottom"===g?d=1:"middle"===g&&(d=2),d&&(l+=(h.height-(x.height||0))/d),{x:Math.round(u),y:Math.round(l)}}static compose(x){U.pushUnique(i,x)&&(x.prototype.symbols.connector=T)}static justifiedOptions(x,h,m,g){const u=m.align,l=m.verticalAlign,f=h.box?0:h.padding||0,d=h.getBBox(),p={align:u,verticalAlign:l,x:m.x,y:m.y,width:h.width,height:h.height},M=(g.x||0)-x.plotLeft,k=(g.y||0)-x.plotTop;let a;return a=M+f,a<0&&("right"===u?p.align="left":p.x=(p.x||0)-a),a=M+d.width-f,a>x.plotWidth&&("left"===u?p.align="right":p.x=(p.x||0)+x.plotWidth-a),a=k+f,a<0&&("bottom"===l?p.verticalAlign="top":p.y=(p.y||0)-a),a=k+d.height-f,a>x.plotHeight&&("top"===l?p.verticalAlign="bottom":p.y=(p.y||0)+x.plotHeight-a),p}constructor(x,h,m){super(x,h,m,"label")}translatePoint(x,h){super.translatePoint(x,h,0)}translate(x,h){const m=this.annotation.chart,g=this.annotation.userOptions,u=m.annotations.indexOf(this.annotation),f=m.options.annotations[u];if(m.inverted){const d=x;x=h,h=d}this.options.x+=x,this.options.y+=h,f[this.collection][this.index].x=this.options.x,f[this.collection][this.index].y=this.options.y,g[this.collection][this.index].x=this.options.x,g[this.collection][this.index].y=this.options.y}render(x){const h=this.options,m=this.attrsFromOptions(h),g=h.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,h.shape,null,null,h.useHTML,null,"annotation-label").attr(m).add(x),this.annotation.chart.styledMode||("contrast"===g.color&&(g.color=this.annotation.chart.renderer.getContrast(v.shapesWithoutBackground.indexOf(h.shape)>-1?"#FFFFFF":h.backgroundColor)),this.graphic.css(h.style).shadow(h.shadow)),h.className&&this.graphic.addClass(h.className),this.graphic.labelrank=h.labelrank,super.render()}redraw(x){const h=this.options,m=this.text||h.format||h.text,g=this.graphic,u=this.points[0];if(!g)return void this.redraw(x);g.attr({text:m?_(String(m),u.getLabelConfig(),this.annotation.chart):h.formatter.call(u,this)});const l=this.anchor(u),f=this.position(l);f?(g.alignAttr=f,f.anchorX=l.absolutePosition.x,f.anchorY=l.absolutePosition.y,g[x?"animate":"attr"](f)):g.attr({x:0,y:-9999}),g.placed=!!f,super.redraw(x)}anchor(x){const h=super.anchor.apply(this,arguments),m=this.options.x||0,g=this.options.y||0;return h.absolutePosition.x-=m,h.absolutePosition.y-=g,h.relativePosition.x-=m,h.relativePosition.y-=g,h}position(x){const h=this.graphic,m=this.annotation.chart,g=m.tooltip,u=this.points[0],l=this.options,f=x.absolutePosition,d=x.relativePosition;let p,M,k,a,o=u.series.visible&&j.prototype.isInsidePlot.call(u);if(h&&o){const{width:s=0,height:t=0}=h;l.distance&&g?p=g.getPosition.call({chart:m,distance:E(l.distance,16),getPlayingField:g.getPlayingField},s,t,{plotX:d.x,plotY:d.y,negative:u.negative,ttBelow:u.ttBelow,h:d.height||d.width}):l.positioner?p=l.positioner.call(this):(M={x:f.x,y:f.y,width:0,height:0},p=v.alignedPosition(L(l,{width:s,height:t}),M),"justify"===this.options.overflow&&(p=v.alignedPosition(v.justifiedOptions(m,h,l,p),M))),l.crop&&(k=p.x-m.plotLeft,a=p.y-m.plotTop,o=m.isInsidePlot(k,a)&&m.isInsidePlot(k+s,a+t))}return o?p:null}}return v.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},v.shapesWithoutBackground=["connector"],v})()}),V(D,"Extensions/Annotations/Controllables/ControllableImage.js",[D["Extensions/Annotations/Controllables/Controllable.js"],D["Extensions/Annotations/Controllables/ControllableLabel.js"]],function(X,F){return(()=>{class U extends X{constructor(L,I,E){super(L,I,E,"shape"),this.type="image",this.translate=super.translateShape}render(L){const I=this.attrsFromOptions(this.options),E=this.options;this.graphic=this.annotation.chart.renderer.image(E.src,0,-9e9,E.width,E.height).attr(I).add(L),this.graphic.width=E.width,this.graphic.height=E.height,super.render()}redraw(L){if(this.graphic){const I=this.anchor(this.points[0]),E=F.prototype.position.call(this,I);E?this.graphic[L?"animate":"attr"]({x:E.x,y:E.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(E)}super.redraw(L)}}return U.attrsMap={width:"width",height:"height",zIndex:"zIndex"},U})()}),V(D,"Core/Chart/ChartNavigationComposition.js",[],function(){var X;return function(F){F.compose=function j(_){return _.navigation||(_.navigation=new U(_)),_};class U{constructor(L){this.updates=[],this.chart=L}addUpdate(L){this.chart.navigation.updates.push(L)}update(L,I){this.updates.forEach(E=>{E.call(this.chart,L,I)})}}F.Additions=U}(X||(X={})),X}),V(D,"Extensions/Annotations/NavigationBindingsUtilities.js",[D["Core/Utilities.js"]],function(X){const{defined:F,isNumber:j,pick:U}=X,_={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:_,getAssignedAxis:function L(i){return i.filter(T=>{const A=T.axis.getExtremes(),v=A.min,y=A.max,x=U(T.axis.minPointOffset,0);return j(v)&&j(y)&&T.value>=v-x&&T.value<=y+x&&!T.axis.options.isInternal})[0]},getFieldType:function I(i,T){const A=_[i];let v=typeof T;return F(A)&&(v=A),{string:"text",number:"number",boolean:"checkbox"}[v]}}}),V(D,"Extensions/Annotations/NavigationBindingsDefaults.js",[D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(X,F){const{getAssignedAxis:j}=X,{isNumber:U,merge:_}=F;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:A.value,y:v.value,xAxis:A.axis.options.index,yAxis:v.axis.options.index},r:5}]},y.annotationsOptions,y.bindings.circleAnnotation.annotationsOptions))},steps:[function(i,T){const A=T.options.shapes,v=A&&A[0]&&A[0].point||{};let y;if(U(v.xAxis)&&U(v.yAxis)){const x=this.chart.inverted,h=this.chart.xAxis[v.xAxis].toPixels(v.x),m=this.chart.yAxis[v.yAxis].toPixels(v.y);y=Math.max(Math.sqrt(Math.pow(x?m-i.chartX:h-i.chartX,2)+Math.pow(x?h-i.chartY:m-i.chartY,2)),5)}T.update({shapes:[{r:y}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:A.axis.options.index,yAxis:v.axis.options.index,points:[{x:A.value,y:v.value},{x:A.value,y:v.value}],ry:1}]},y.annotationsOptions,y.bindings.ellipseAnnotation.annotationOptions))},steps:[function(i,T){const A=T.shapes[0],v=A.getAbsolutePosition(A.points[1]);A.translatePoint(i.chartX-v.x,i.chartY-v.y,1),A.redraw(!1)},function(i,T){const A=T.shapes[0],v=A.getAbsolutePosition(A.points[0]),y=A.getAbsolutePosition(A.points[1]),x=A.getDistanceFromLine(v,y,i.chartX,i.chartY),h=A.getYAxis(),m=Math.abs(h.toValue(0)-h.toValue(x));A.setYRadius(m),A.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis);if(!A||!v)return;const y=A.value,x=v.value,h=A.axis.options.index,m=v.axis.options.index,g=this.chart.options.navigation;return this.chart.addAnnotation(_({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{command:"Z"}]}]},g.annotationsOptions,g.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(i,T){const A=T.options.shapes,v=A&&A[0]&&A[0].points||[],y=this.chart.pointer.getCoordinates(i),x=j(y.xAxis),h=j(y.yAxis);if(x&&h){const m=x.value,g=h.value;v[1].x=m,v[2].x=m,v[2].y=g,v[3].y=g,T.update({shapes:[{points:v}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:A.axis.options.index,yAxis:v.axis.options.index,x:A.value,y:v.value},overflow:"none",crop:!0}]},y.annotationsOptions,y.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),V(D,"Extensions/Annotations/NavigationBindings.js",[D["Core/Chart/ChartNavigationComposition.js"],D["Core/Defaults.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsDefaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I){const{setOptions:E}=F,{format:i}=j,{doc:T,win:A}=U,{getFieldType:v}=L,{addEvent:y,attr:x,fireEvent:m,isArray:g,isFunction:u,isNumber:l,isObject:f,merge:d,objectEach:p,pick:M}=I,k=[];function o(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function s(){this.navigationBindings&&this.navigationBindings.destroy()}function t(){const b=this.options;b&&b.navigation&&b.navigation.bindings&&(this.navigationBindings=new C(this,b.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function e(){const b=this.navigationBindings,P="highcharts-disabled-btn";if(this&&b){let S=!1;if(this.series.forEach(w=>{!w.options.isInternal&&w.visible&&(S=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const w=this.navigationBindings.container[0];p(b.boundClassNames,(B,N)=>{const O=w.querySelectorAll("."+N);if(O)for(let Y=0;Y<O.length;Y++){const z=O[Y],R=z.className;"normal"===B.noDataState||S?-1!==R.indexOf(P)&&z.classList.remove(P):-1===R.indexOf(P)&&(z.className+=" "+P)}})}}}function n(){this.deselectAnnotation()}function c(){this.selectedButtonElement=null}function r(b){const P=b.prototype.defaultOptions.events&&b.prototype.defaultOptions.events.click;function S(Y){const z=this,R=z.chart.navigationBindings,G=R.activeAnnotation;P&&P.call(z,Y),G!==z?(R.deselectAnnotation(),R.activeAnnotation=z,z.setControlPointsVisibility(!0),m(R,"showPopup",{annotation:z,formType:"annotation-toolbar",options:R.annotationToFields(z),onSubmit:function(H){if("remove"===H.actionType)R.activeAnnotation=!1,R.chart.removeAnnotation(z);else{const W={};R.fieldsToOptions(H.fields,W),R.deselectAnnotation();const q=W.typeOptions;"measure"===z.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),z.update(W)}}})):m(R,"closePopup"),Y.activeAnnotation=!0}let w,B;d(!0,b.prototype.defaultOptions.events,{click:S,touchstart:function N(Y){w=Y.touches[0].clientX,B=Y.touches[0].clientY},touchend:function O(Y){w&&Math.sqrt(Math.pow(w-Y.changedTouches[0].clientX,2)+Math.pow(B-Y.changedTouches[0].clientY,2))>=4||S.call(this,Y)}})}let C=(()=>{class b{static compose(S,w){I.pushUnique(k,S)&&(y(S,"remove",o),r(S),p(S.types,B=>{r(B)})),I.pushUnique(k,w)&&(y(w,"destroy",s),y(w,"load",t),y(w,"render",e)),I.pushUnique(k,b)&&(y(b,"closePopup",n),y(b,"deselectButton",c)),I.pushUnique(k,E)&&E(_)}constructor(S,w){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=S,this.options=w,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=T.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const S=this,w=S.chart,B=S.container,N=S.options;S.boundClassNames={},p(N.bindings||{},O=>{S.boundClassNames[O.className]=O}),[].forEach.call(B,O=>{S.eventsToUnbind.push(y(O,"click",Y=>{const z=S.getButtonEvents(O,Y);z&&!z.button.classList.contains("highcharts-disabled-btn")&&S.bindingsButtonClick(z.button,z.events,Y)}))}),p(N.events||{},(O,Y)=>{u(O)&&S.eventsToUnbind.push(y(S,Y,O,{passive:!1}))}),S.eventsToUnbind.push(y(w.container,"click",function(O){!w.cancelClick&&w.isInsidePlot(O.chartX-w.plotLeft,O.chartY-w.plotTop,{visiblePlotOnly:!0})&&S.bindingsChartClick(this,O)})),S.eventsToUnbind.push(y(w.container,U.isTouchDevice?"touchmove":"mousemove",function(O){S.bindingsContainerMouseMove(this,O)},U.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const S=this;X.compose(this.chart).navigation.addUpdate(w=>{S.update(w)})}bindingsButtonClick(S,w,B){const N=this,O=N.chart,Y=O.renderer.boxWrapper;let z=!0;N.selectedButtonElement&&(N.selectedButtonElement.classList===S.classList&&(z=!1),m(N,"deselectButton",{button:N.selectedButtonElement}),N.nextEvent&&(N.currentUserDetails&&"annotations"===N.currentUserDetails.coll&&O.removeAnnotation(N.currentUserDetails),N.mouseMoveEvent=N.nextEvent=!1)),z?(N.selectedButton=w,N.selectedButtonElement=S,m(N,"selectButton",{button:S}),w.init&&w.init.call(N,S,B),(w.start||w.steps)&&O.renderer.boxWrapper.addClass("highcharts-draw-mode")):(O.stockTools&&O.stockTools.toggleButtonActiveClass(S),Y.removeClass("highcharts-draw-mode"),N.nextEvent=!1,N.mouseMoveEvent=!1,N.selectedButton=null)}bindingsChartClick(S,w){const B=this,N=B.activeAnnotation,O=B.selectedButton,Y=this.chart.renderer.boxWrapper;N&&(N.cancelClick||w.activeAnnotation||!w.target.parentNode||function a(b,P){const S=A.Element.prototype,w=S.matches||S.msMatchesSelector||S.webkitMatchesSelector;let B=null;if(S.closest)B=S.closest.call(b,P);else do{if(w.call(b,P))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return B}(w.target,".highcharts-popup")?N.cancelClick&&setTimeout(()=>{N.cancelClick=!1},0):m(B,"closePopup")),O&&O.start&&(B.nextEvent?(B.nextEvent(w,B.currentUserDetails),B.steps&&(B.stepIndex++,O.steps[B.stepIndex]?B.mouseMoveEvent=B.nextEvent=O.steps[B.stepIndex]:(m(B,"deselectButton",{button:B.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),O.end&&O.end.call(B,w,B.currentUserDetails),B.nextEvent=!1,B.mouseMoveEvent=!1,B.selectedButton=null))):(B.currentUserDetails=O.start.call(B,w),B.currentUserDetails&&O.steps?(B.stepIndex=0,B.steps=!0,B.mouseMoveEvent=B.nextEvent=O.steps[B.stepIndex]):(m(B,"deselectButton",{button:B.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),B.steps=!1,B.selectedButton=null,O.end&&O.end.call(B,w,B.currentUserDetails))))}bindingsContainerMouseMove(S,w){this.mouseMoveEvent&&this.mouseMoveEvent(w,this.currentUserDetails)}fieldsToOptions(S,w){return p(S,(B,N)=>{const O=parseFloat(B),Y=N.split("."),z=Y.length-1;if(l(O)&&!B.match(/px/g)&&!N.match(/format/g)&&(B=O),"undefined"!==B){let R=w;Y.forEach((G,H)=>{const W=M(Y[H+1],"");z===H?R[G]=B:(R[G]||(R[G]=W.match(/\d/g)?[]:{}),R=R[G])})}}),w}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(S){const w=S.options,B=b.annotationsEditable,N=B.nestedOptions,O=M(w.type,w.shapes&&w.shapes[0]&&w.shapes[0].type,w.labels&&w.labels[0]&&w.labels[0].type,"label"),Y=b.annotationsNonEditable[w.langKey]||[],z={langKey:w.langKey,type:O};function R(G,H,W,q,Z){let tt;W&&G&&-1===Y.indexOf(H)&&((W.indexOf&&W.indexOf(H))>=0||W[H]||!0===W)&&(g(G)?(q[H]=[],G.forEach(($,it)=>{f($)?(q[H][it]={},p($,(nt,ot)=>{R(nt,ot,N[H],q[H][it],H)})):R($,0,N[H],q[H],H)})):f(G)?(tt={},g(q)?(q.push(tt),tt[H]={},tt=tt[H]):q[H]=tt,p(G,($,it)=>{R($,it,0===H?W:N[H],tt,H)})):"format"===H?q[H]=[i(G,S.labels[0].points[0]).toString(),"text"]:g(q)?q.push([G,v(Z,G)]):q[H]=[G,v(H,G)])}return p(w,(G,H)=>{"typeOptions"===H?(z[H]={},p(w[H],(W,q)=>{R(W,q,N,z[H],q)})):R(G,H,B[O],z,H)}),z}getClickedClassNames(S,w){let O,B=w.target,N=[];for(;B&&B.tagName;)if(O=x(B,"class"),O&&(N=N.concat(O.split(" ").map(Y=>[Y,B]))),B=B.parentNode,B===S)return N;return N}getButtonEvents(S,w){const B=this;let O;return this.getClickedClassNames(S,w).forEach(Y=>{B.boundClassNames[Y[0]]&&!O&&(O={events:B.boundClassNames[Y[0]],button:Y[1]})}),O}update(S){this.options=d(!0,this.options,S),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(S=>S())}destroy(){this.removeEvents()}}return b.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},b.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},b})();return C}),V(D,"Shared/BaseForm.js",[D["Core/Renderer/HTML/AST.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,createElement:U}=F;return class _{constructor(I,E){this.iconsURL=E,this.container=this.createPopupContainer(I),this.closeButton=this.addCloseButton()}createPopupContainer(I,E="highcharts-popup highcharts-no-tooltip"){return U("div",{className:E},void 0,I)}addCloseButton(I="highcharts-popup-close"){const E=this,i=this.iconsURL,T=U("div",{className:I},void 0,this.container);return T.style["background-image"]="url("+(i.match(/png|svg|jpeg|jpg|gif/gi)?i:i+"close.svg")+")",["click","touchstart"].forEach(A=>{j(T,A,E.closeButtonEvents.bind(E))}),T}closeButtonEvents(){this.closePopup()}showPopup(I="highcharts-annotation-toolbar"){const E=this.container,i=this.closeButton;this.type=void 0,E.innerHTML=X.emptyHTML,E.className.indexOf(I)>=0&&(E.classList.remove(I),E.removeAttribute("style")),E.appendChild(i),E.style.display="block",E.style.height=""}closePopup(){this.container.style.display="none"}}}),V(D,"Extensions/Annotations/Popup/PopupAnnotations.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{doc:j,isFirefox:U}=X,{createElement:_,isArray:L,isObject:I,objectEach:E,pick:i,stableSort:T}=F;function y(h,m,g,u,l,f){if(!m)return;const d=this.addInput,p=this.lang;let M,k;E(u,(a,o)=>{M=""!==g?g+"."+o:o,I(a)&&(!L(a)||L(a)&&I(a[0])?(k=p[o]||o,k.match(/\d/g)||l.push([!0,k,h]),y.call(this,h,m,M,a,l,!1)):l.push([this,M,"annotation",h,a]))}),f&&(T(l,a=>a[1].match(/format/g)?-1:1),U&&l.reverse(),l.forEach(a=>{!0===a[0]?_("span",{className:"highcharts-annotation-title"},void 0,a[2]).appendChild(j.createTextNode(a[1])):(a[4]={value:a[4][0],type:a[4][1]},d.apply(a[0],a.splice(1)))}))}return{addForm:function A(h,m,g,u){if(!h)return;const l=this.container,f=this.lang;let d=_("h2",{className:"highcharts-popup-main-title"},void 0,l);d.appendChild(j.createTextNode(f[m.langKey]||m.langKey||"")),d=_("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,l);const p=_("div",{className:"highcharts-popup-bottom-row"},void 0,l);y.call(this,d,h,"",m,[],!0),this.addButton(p,u?f.addButton||"Add":f.saveButton||"Save",u?"add":"save",l,g)},addToolbar:function v(h,m,g){const u=this.lang,l=this.container,f=this.showForm,d="highcharts-annotation-toolbar";-1===l.className.indexOf(d)&&(l.className+=" "+d),h&&(l.style.top=h.plotTop+10+"px"),_("span",void 0,void 0,l).appendChild(j.createTextNode(i(u[m.langKey]||m.langKey,m.shapes&&m.shapes[0].type,"")));let p=this.addButton(l,u.removeButton||"Remove","remove",l,g);p.className+=" highcharts-annotation-remove-button",p.style["background-image"]="url("+this.iconsURL+"destroy.svg)",p=this.addButton(l,u.editButton||"Edit","edit",l,()=>{f.call(this,"annotation-edit",h,m,g)}),p.className+=" highcharts-annotation-edit-button",p.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}}),V(D,"Extensions/Annotations/Popup/PopupIndicators.js",[D["Core/Renderer/HTML/AST.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{doc:L}=F,{annotationsFieldsTypes:I}=j,{seriesTypes:E}=U,{addEvent:i,createElement:T,defined:A,isArray:v,isObject:y,objectEach:x,stableSort:h}=_;var m=(()=>{return(r=m||(m={}))[r["params.algorithm"]=0]="params.algorithm",r[r["params.average"]=1]="params.average",m;var r})();const g={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function u(r){const C=T("div",{className:"highcharts-popup-lhs-col"},void 0,r),b=T("div",{className:"highcharts-popup-rhs-col"},void 0,r);return T("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,b),{lhsCol:C,rhsCol:b}}function f(r,C,b,P){const S=C.params||C.options.params;P.innerHTML=X.emptyHTML,T("h3",{className:"highcharts-indicator-title"},void 0,P).appendChild(L.createTextNode(e(C,b).indicatorFullName)),T("input",{type:"hidden",name:"highcharts-type-"+b,value:b},void 0,P),n.call(this,b,"series",r,P,C,C.linkedParent&&C.linkedParent.options.id),S.volumeSeriesID&&n.call(this,b,"volume",r,P,C,C.linkedParent&&S.volumeSeriesID),p.call(this,r,"params",S,b,P)}function d(r,C,b,P){const S=this,w=S.lang,B=C.querySelectorAll(".highcharts-popup-lhs-col")[0],N=C.querySelectorAll(".highcharts-popup-rhs-col")[0],O="edit"===b,Y=O?r.series:r.options.plotOptions||{};if(!r&&Y)return;let z,R=[];O||v(Y)?v(Y)&&(R=s.call(this,Y)):R=o.call(this,Y,P),h(R,(W,q)=>{const Z=W.indicatorFullName.toLowerCase(),tt=q.indicatorFullName.toLowerCase();return Z<tt?-1:Z>tt?1:0}),B.children[1]&&B.children[1].remove();const G=T("ul",{className:"highcharts-indicator-list"},void 0,B),H=N.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];R.forEach(W=>{const{indicatorFullName:q,indicatorType:Z,series:tt}=W;z=T("li",{className:"highcharts-indicator-list"},void 0,G),z.appendChild(L.createTextNode(q)),["click","touchstart"].forEach($=>{i(z,$,function(){const it=H.parentNode.children[1];f.call(S,r,tt,Z,H),it&&(it.style.display="block"),O&&tt.options&&T("input",{type:"hidden",name:"highcharts-id-"+Z,value:tt.options.id},void 0,H).setAttribute("highcharts-data-series-id",tt.options.id)})})}),G.childNodes.length>0?G.childNodes[0].click():O||(X.setElementHTML(H.parentNode.children[0],w.noFilterMatch||""),H.parentNode.children[1].style.display="none")}function p(r,C,b,P,S){if(!r)return;const w=this.addInput;x(b,(B,N)=>{const O=I[N];let Y=P;O&&(Y=O);const z=C+"."+N;if(A(B)&&z)if(y(B)&&(w.call(this,z,P,S,{}),p.call(this,r,z,B,P,S)),z in m){const R=k.call(this,P,z,S);a.call(this,r,C,R,P,N,B)}else"params.volumeSeriesID"!==z&&!v(B)&&w.call(this,z,P,S,{value:B,type:"number"})})}function M(r,C){const b=this,P=C.querySelectorAll(".highcharts-popup-lhs-col")[0],B=this.lang.clearFilter,N=T("div",{className:"highcharts-input-wrapper"},void 0,P),O=function(R){d.call(b,r,b.container,"add",R)},Y=this.addInput("searchIndicators","input",N,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),z=T("a",{textContent:B},void 0,N);Y.classList.add("highcharts-input-search-indicators"),z.classList.add("clear-filter-button"),i(Y,"input",function(R){O(this.value),z.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(R=>{i(z,R,function(){Y.value="",O(""),z.style.display="none"})})}function k(r,C,b){const P=C.split("."),S=P[P.length-1],w="highcharts-"+C+"-type-"+r,B=this.lang;T("label",{htmlFor:w},null,b).appendChild(L.createTextNode(B[S]||C));const N=T("select",{name:w,className:"highcharts-popup-field",id:"highcharts-select-"+C},null,b);return N.setAttribute("id","highcharts-select-"+C),N}function a(r,C,b,P,S,w,B){"series"===C||"volume"===C?r.series.forEach(N=>{const O=N.options,Y=O.name||O.params?N.name:O.id||"";"highcharts-navigator-series"!==O.id&&O.id!==(B&&B.options&&B.options.id)&&(!A(w)&&"volume"===C&&"column"===N.type&&(w=O.id),T("option",{value:O.id},void 0,b).appendChild(L.createTextNode(Y)))}):P&&S&&g[S+"-"+P].forEach(Y=>{T("option",{value:Y},void 0,b).appendChild(L.createTextNode(Y))}),A(w)&&(b.value=w)}function o(r,C){const S=this.chart&&this.chart.options.lang,w=S&&S.navigation&&S.navigation.popup&&S.navigation.popup.indicatorAliases,B=[];let N;return x(r,(O,Y)=>{const z=O&&O.options;if(O.params||z&&z.params){const{indicatorFullName:R,indicatorType:G}=e(O,Y);if(C){const H=C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),W=new RegExp(H,"i"),q=w&&w[G]&&w[G].join(" ")||"";(R.match(W)||q.match(W))&&(N={indicatorFullName:R,indicatorType:G,series:O},B.push(N))}else N={indicatorFullName:R,indicatorType:G,series:O},B.push(N)}}),B}function s(r){const C=[];return r.forEach(b=>{b.is("sma")&&C.push({indicatorFullName:b.name,indicatorType:b.type,series:b})}),C}function e(r,C){const b=r.options;let P=E[C]&&E[C].prototype.nameBase||C.toUpperCase(),S=C;return b&&b.type&&(S=r.options.type,P=r.name),{indicatorFullName:P,indicatorType:S}}function n(r,C,b,P,S,w){if(!b)return;const O=k.call(this,r,C,P);a.call(this,b,C,O,void 0,void 0,void 0,S),A(w)&&(O.value=w)}return{addForm:function l(r,C,b){const P=this.lang;let S;if(!r)return;this.tabs.init.call(this,r);const w=this.container.querySelectorAll(".highcharts-tab-item-content");u(w[0]),M.call(this,r,w[0]),d.call(this,r,w[0],"add"),S=w[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(S,P.addButton||"add","add",S,b),u(w[1]),d.call(this,r,w[1],"edit"),S=w[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(S,P.saveButton||"save","edit",S,b),this.addButton(S,P.removeButton||"remove","remove",S,b)},getAmount:function t(){let r=0;return this.series.forEach(C=>{(C.params||C.options.params)&&r++}),r}}}),V(D,"Extensions/Annotations/Popup/PopupTabs.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{doc:j}=X,{addEvent:U,createElement:_}=F;function L(){return _("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function I(y,x){const m=this.lang;let g="highcharts-tab-item";0===x&&(g+=" highcharts-tab-disabled");const u=_("span",{className:g},void 0,this.container);return u.appendChild(j.createTextNode(m[y+"Button"]||y)),u.setAttribute("highcharts-data-tab-type",y),u}function E(){const y=this.container,x=y.querySelectorAll(".highcharts-tab-item"),h=y.querySelectorAll(".highcharts-tab-item-content");for(let m=0;m<x.length;m++)x[m].classList.remove("highcharts-tab-item-active"),h[m].classList.remove("highcharts-tab-item-show")}function T(y,x){const h=this.container.querySelectorAll(".highcharts-tab-item-content");y.className+=" highcharts-tab-item-active",h[x].className+=" highcharts-tab-item-show"}function A(y){const x=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((g,u)=>{0===y&&"edit"===g.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach(l=>{U(g,l,function(){E.call(x),T.call(x,this,u)})})})}return{init:function i(y){if(!y)return;const x=this.indicators.getAmount.call(y),h=I.call(this,"add");I.call(this,"edit",x),L.call(this),L.call(this),A.call(this,x),T.call(this,h,0)}}}),V(D,"Extensions/Annotations/Popup/Popup.js",[D["Shared/BaseForm.js"],D["Core/Globals.js"],D["Core/Defaults.js"],D["Extensions/Annotations/Popup/PopupAnnotations.js"],D["Extensions/Annotations/Popup/PopupIndicators.js"],D["Extensions/Annotations/Popup/PopupTabs.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I){const{doc:E}=F,{getOptions:i}=j,{addEvent:T,createElement:A,extend:v,fireEvent:y,pick:x}=I;class m extends X{constructor(u,l,f){super(u,l),this.chart=f,this.lang=i().lang.navigation.popup,T(this.container,"mousedown",()=>{const d=f&&f.navigationBindings&&f.navigationBindings.activeAnnotation;if(d){d.cancelClick=!0;const p=T(E,"click",()=>{setTimeout(()=>{d.cancelClick=!1},0),p()})}})}addInput(u,l,f,d){const p=u.split("."),M=p[p.length-1],k=this.lang,a="highcharts-"+l+"-"+x(d.htmlFor,M);M.match(/^\d+$/)||A("label",{htmlFor:a,className:d.labelClassName},void 0,f).appendChild(E.createTextNode(k[M]||M));const o=A("input",{name:a,value:d.value,type:d.type,className:"highcharts-popup-field"},void 0,f);return o.setAttribute("highcharts-data-name",u),o}closeButtonEvents(){if(this.chart){const u=this.chart.navigationBindings;y(u,"closePopup"),u&&u.selectedButtonElement&&y(u,"deselectButton",{button:u.selectedButtonElement})}else super.closeButtonEvents()}addButton(u,l,f,d,p){const M=A("button",void 0,void 0,u);return M.appendChild(E.createTextNode(l)),p&&["click","touchstart"].forEach(k=>{T(M,k,()=>(this.closePopup(),p(function h(g,u){const l=Array.prototype.slice.call(g.querySelectorAll("input")),f=Array.prototype.slice.call(g.querySelectorAll("select")),M=g.querySelectorAll("#highcharts-select-series > option:checked")[0],k=g.querySelectorAll("#highcharts-select-volume > option:checked")[0],a={actionType:u,linkedTo:M&&M.getAttribute("value")||"",fields:{}};return l.forEach(o=>{const s=o.getAttribute("highcharts-data-name");o.getAttribute("highcharts-data-series-id")?a.seriesId=o.value:s?a.fields[s]=o.value:a.type=o.value}),f.forEach(o=>{const s=o.id;if("highcharts-select-series"!==s&&"highcharts-select-volume"!==s){const t=s.split("highcharts-select-")[1];a.fields[t]=o.value}}),k&&(a.fields["params.volumeSeriesID"]=k.getAttribute("value")||""),a}(d,f))))}),M}showForm(u,l,f,d){l&&(this.showPopup(),"indicators"===u&&this.indicators.addForm.call(this,l,f,d),"annotation-toolbar"===u&&this.annotations.addToolbar.call(this,l,f,d),"annotation-edit"===u&&this.annotations.addForm.call(this,l,f,d),"flag"===u&&this.annotations.addForm.call(this,l,f,d,!0),this.type=u,this.container.style.height=this.container.offsetHeight+"px")}}return v(m.prototype,{annotations:U,indicators:_,tabs:L}),m}),V(D,"Extensions/Annotations/Popup/PopupComposition.js",[D["Extensions/Annotations/Popup/Popup.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,wrap:U}=F,_=[];function I(){this.popup&&this.popup.closePopup()}function E(A){this.popup||(this.popup=new X(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.0.0/gfx/stock-icons/",this.chart)),this.popup.showForm(A.formType,this.chart,A.options,A.onSubmit)}function i(A,v){this.inClass(v.target,"highcharts-popup")||A.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function L(A,v){F.pushUnique(_,A)&&(j(A,"closePopup",I),j(A,"showPopup",E)),F.pushUnique(_,v)&&U(v.prototype,"onContainerMouseDown",i)}}}),V(D,"Extensions/Annotations/Annotation.js",[D["Core/Animation/AnimationUtilities.js"],D["Extensions/Annotations/AnnotationChart.js"],D["Extensions/Annotations/AnnotationDefaults.js"],D["Extensions/Annotations/Controllables/ControllableRect.js"],D["Extensions/Annotations/Controllables/ControllableCircle.js"],D["Extensions/Annotations/Controllables/ControllableEllipse.js"],D["Extensions/Annotations/Controllables/ControllablePath.js"],D["Extensions/Annotations/Controllables/ControllableImage.js"],D["Extensions/Annotations/Controllables/ControllableLabel.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/ControlTarget.js"],D["Extensions/Annotations/EventEmitter.js"],D["Extensions/Annotations/MockPoint.js"],D["Extensions/Annotations/NavigationBindings.js"],D["Extensions/Annotations/Popup/PopupComposition.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I,E,i,T,A,v,y,x,h,m){const{getDeferredAnimation:g}=X,{destroyObjectProperties:u,erase:l,fireEvent:f,merge:d,pick:p,splat:M}=m;function a(s,t){const e={};return["labels","shapes"].forEach(n=>{const c=s[n];c&&(e[n]=t[n]?M(t[n]).map(function(r,C){return d(c[C],r)}):s[n])}),e}let o=(()=>{class s extends v{static compose(e,n,c){F.compose(s,e,n),i.compose(c),I.compose(e,c),x.compose(s,e),h.compose(x,n)}constructor(e,n){super(),this.coll="annotations",this.animationConfig=void 0,this.graphic=void 0,this.group=void 0,this.labelCollector=void 0,this.labelsGroup=void 0,this.shapesGroup=void 0,this.chart=e,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=d(this.defaultOptions,n),this.userOptions=n;const c=a(this.options,n);this.options.labels=c.labels,this.options.shapes=c.shapes,this.init(e,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){const e=this.options.labels||[];e.forEach((n,c)=>{const r=this.initLabel(n,c);d(!0,e[c],r.options)})}addShapes(){const e=this.options.shapes||[];e.forEach((n,c)=>{const r=this.initShape(n,c);d(!0,e[c],r.options)})}destroy(){const e=this.chart,n=function(c){c.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipXAxis=null,this.clipYAxis=null,l(e.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),u(this,e)}destroyItem(e){l(this[e.itemType+"s"],e),e.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(e,n){this.setOptions(n);const c=a(this.options,n);this.options.labels=c.labels,this.options.shapes=c.shapes,this.chart=e,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=n,this.labels=[],this.shapes=[]}init(e,n,c=this.index){const r=this.chart,C=this.options.animation;this.index=c,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=g(r,C)}initLabel(e,n){const c=d(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},e),r=new i(this,c,n);return r.itemType="label",this.labels.push(r),r}initShape(e,n){const c=d(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},e),r=new s.shapesMap[c.type](this,c,n);return r.itemType="shape",this.shapes.push(r),r}redraw(e){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,e),this.redrawItems(this.labels,e),this.redrawControlPoints(e)}redrawItem(e,n){e.linkPoints(),e.shouldBeDrawn()?(e.graphic||this.renderItem(e),e.redraw(p(n,!0)&&e.graphic.placed),e.points.length&&function k(s){const t=s.graphic,e=s.points.some(n=>!1!==n.series.visible&&!1!==n.visible);t&&(e?"hidden"===t.visibility&&t.show():t.hide())}(e)):this.destroyItem(e)}redrawItems(e,n){let c=e.length;for(;c--;)this.redrawItem(e[c],n)}remove(){return this.chart.removeAnnotation(this)}render(){const e=this.chart.renderer;this.graphic=e.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=e.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=e.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(e){e.render("label"===e.itemType?this.labelsGroup:this.shapesGroup)}renderItems(e){let n=e.length;for(;n--;)this.renderItem(e[n])}setClipAxes(){const e=this.chart.xAxis,n=this.chart.yAxis,c=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((r,C)=>{const b=C&&(C.point||C.points&&C.points[0]);return[e[b&&b.xAxis]||r[0],n[b&&b.yAxis]||r[1]]},[]);this.clipXAxis=c[0],this.clipYAxis=c[1]}setControlPointsVisibility(e){const n=function(c){c.setControlPointsVisibility(e)};this.controlPoints.forEach(c=>{c.setVisibility(e)}),this.shapes.forEach(n),this.labels.forEach(n)}setLabelCollector(){const e=this;e.labelCollector=function(){return e.labels.reduce(function(n,c){return c.options.allowOverlap||n.push(c.graphic),n},[])},e.chart.labelCollectors.push(e.labelCollector)}setOptions(e){this.options=d(this.defaultOptions,e)}setVisibility(e){const n=this.options,c=this.chart.navigationBindings,r=p(e,!n.visible);if(this.graphic.attr("visibility",r?"inherit":"hidden"),!r){const C=function(b){b.setControlPointsVisibility(r)};this.shapes.forEach(C),this.labels.forEach(C),c.activeAnnotation===this&&c.popup&&"annotation-toolbar"===c.popup.type&&f(c,"closePopup")}n.visible=r}update(e,n){const c=this.chart,r=a(this.userOptions,e),C=c.annotations.indexOf(this),b=d(!0,this.userOptions,e);b.labels=r.labels,b.shapes=r.shapes,this.destroy(),this.initProperties(c,b),this.init(c,b),c.options.annotations[C]=b,this.isUpdating=!0,p(n,!0)&&c.redraw(),f(this,"afterUpdate"),this.isUpdating=!1}}return s.ControlPoint=T,s.MockPoint=y,s.shapesMap={rect:U,circle:_,ellipse:L,path:I,image:E},s.types={},s})();return o.prototype.defaultOptions=j,o.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],A.compose(o),o}),V(D,"Extensions/Annotations/Types/BasicAnnotation.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U}=j;let _=(()=>{class L extends X{addControlPoints(){const E=this.options,i=L.basicControlPoints,T=this.basicType;(E.labels||E.shapes||[]).forEach(v=>{v.controlPoints=i[T]})}init(){const E=this.options;if(E.shapes){delete E.labelOptions;const i=E.shapes[0].type;this.basicType=i&&"path"!==i?i:"rectangle"}else delete E.shapes,this.basicType="label";super.init.apply(this,arguments)}}return L.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(I){if(!I.graphic.placed)return{x:0,y:-9e7};const E=F.pointToPixels(I.points[0]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const i=this.mouseMoveToTranslation(I);E.translatePoint(i.x,i.y),E.annotation.userOptions.labels[0].point=E.options.point,E.redraw(!1)}}},{symbol:"square",positioner:function(I){return I.graphic.placed?{x:I.graphic.alignAttr.x-this.graphic.width/2,y:I.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(I,E){const i=this.mouseMoveToTranslation(I);E.translate(i.x,i.y),E.annotation.userOptions.labels[0].point=E.options.point,E.redraw(!1)}}}],rectangle:[{positioner:function(I){const E=F.pointToPixels(I.points[2]);return{x:E.x-4,y:E.y-4}},events:{drag:function(I,E){const i=E.annotation,T=this.chart.pointer.getCoordinates(I),A=T.xAxis[0].value,v=T.yAxis[0].value,y=E.options.points,x=i.userOptions.shapes;y[1].x=A,y[2].x=A,y[2].y=v,y[3].y=v,x&&x[0]&&(x[0].points=E.options.points),i.redraw(!1)}}}],circle:[{positioner:function(I){const E=F.pointToPixels(I.points[0]),i=I.options.r;return{x:E.x+i*Math.cos(Math.PI/4)-this.graphic.width/2,y:E.y+i*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(I,E){const i=E.annotation,T=this.mouseMoveToTranslation(I),A=i.userOptions.shapes;E.setRadius(Math.max(E.options.r+T.y/Math.sin(Math.PI/4),5)),A&&A[0]&&(A[0].r=E.options.r,A[0].point=E.options.point),E.redraw(!1)}}}],ellipse:[{positioner:function(I){const E=I.getAbsolutePosition(I.points[0]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const i=E.getAbsolutePosition(E.points[0]);E.translatePoint(I.chartX-i.x,I.chartY-i.y,0),E.redraw(!1)}}},{positioner:function(I){const E=I.getAbsolutePosition(I.points[1]);return{x:E.x-this.graphic.width/2,y:E.y-this.graphic.height/2}},events:{drag:function(I,E){const i=E.getAbsolutePosition(E.points[1]);E.translatePoint(I.chartX-i.x,I.chartY-i.y,1),E.redraw(!1)}}},{positioner:function(I){const E=I.getAbsolutePosition(I.points[0]),i=I.getAbsolutePosition(I.points[1]),T=I.getAttrs(E,i);return{x:T.cx-this.graphic.width/2+T.ry*Math.sin(T.angle*Math.PI/180),y:T.cy-this.graphic.height/2-T.ry*Math.cos(T.angle*Math.PI/180)}},events:{drag:function(I,E){const i=E.getAbsolutePosition(E.points[0]),T=E.getAbsolutePosition(E.points[1]),A=E.getDistanceFromLine(i,T,I.chartX,I.chartY),v=E.getYAxis(),y=Math.abs(v.toValue(0)-v.toValue(A));E.setYRadius(y),E.redraw(!1)}}}]},L})();return _.prototype.defaultOptions=U(X.prototype.defaultOptions,{}),X.types.basicAnnotation=_,_}),V(D,"Extensions/Annotations/Types/CrookedLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{merge:_}=U;class L extends X{setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}getPointsOptions(){const E=this.options.typeOptions;return(E.points||[]).map(i=>(i.xAxis=E.xAxis,i.yAxis=E.yAxis,i))}getControlPointsOptions(){return this.getPointsOptions()}addControlPoints(){this.getControlPointsOptions().forEach(function(E,i){const T=new F(this.chart,this,_(this.options.controlPointOptions,E.controlPoint),i);this.controlPoints.push(T),E.controlPoint=T.options},this)}addShapes(){const E=this.options.typeOptions,i=this.initShape(_(E.line,{type:"path",points:this.points.map((T,A)=>function(v){return v.annotation.points[A]})}),0);E.line=i.options}}return L.prototype.defaultOptions=_(X.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(I){const E=this.graphic,i=j.pointToPixels(I.points[this.index]);return{x:i.x-E.width/2,y:i.y-E.height/2}},events:{drag:function(I,E){if(E.chart.isInsidePlot(I.chartX-E.chart.plotLeft,I.chartY-E.chart.plotTop,{visiblePlotOnly:!0})){const i=this.mouseMoveToTranslation(I),T=E.options.typeOptions;E.translatePoint(i.x,i.y,this.index),T.points[this.index].x=E.points[this.index].x,T.points[this.index].y=E.points[this.index].y,E.redraw(!1)}}}}}),X.types.crookedLine=L,L}),V(D,"Extensions/Annotations/Types/ElliottWave.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U}=j;class _ extends F{addLabels(){this.getPointsOptions().forEach((I,E)=>{const T=this.initLabel(U(I.label,{text:this.options.typeOptions.labels[E],point:function(A){return A.annotation.points[E]}}),!1);I.label=T.options})}}return _.prototype.defaultOptions=U(F.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),X.types.elliottWave=_,_}),V(D,"Extensions/Annotations/Types/Tunnel.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{merge:L}=_;function I(i,T,A){return(T.y-i.y)/(T.x-i.x)*(A-i.x)+i.y}class E extends j{getPointsOptions(){const T=j.prototype.getPointsOptions.call(this);return T[2]=this.heightPointOptions(T[1]),T[3]=this.heightPointOptions(T[0]),T}getControlPointsOptions(){return this.getPointsOptions().slice(0,2)}heightPointOptions(T){const A=L(T);return A.y+=this.options.typeOptions.height,A}addControlPoints(){j.prototype.addControlPoints.call(this);const T=this.options,A=T.typeOptions,v=new F(this.chart,this,L(T.controlPointOptions,A.heightControlPoint),2);this.controlPoints.push(v),A.heightControlPoint=v.options}addShapes(){this.addLine(),this.addBackground()}addLine(){const T=this.initShape(L(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(A){const v=U.pointToOptions(A.annotation.points[2]);return v.command="M",v},this.points[3]]}),0);this.options.typeOptions.line=T.options}addBackground(){const T=this.initShape(L(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=T.options}translateSide(T,A,v){const y=Number(v),x=0===y?3:2;this.translatePoint(T,A,y),this.translatePoint(T,A,x)}translateHeight(T){this.translatePoint(0,T,2),this.translatePoint(0,T,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height}}return E.prototype.defaultOptions=L(j.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(i){const T=U.pointToPixels(i.points[2]),A=U.pointToPixels(i.points[3]),v=(T.x+A.x)/2;return{x:v-this.graphic.width/2,y:I(T,A,v)-this.graphic.height/2}},events:{drag:function(i,T){T.chart.isInsidePlot(i.chartX-T.chart.plotLeft,i.chartY-T.chart.plotTop,{visiblePlotOnly:!0})&&(T.translateHeight(this.mouseMoveToTranslation(i).y),T.redraw(!1))}}}},controlPointOptions:{events:{drag:function(i,T){if(T.chart.isInsidePlot(i.chartX-T.chart.plotLeft,i.chartY-T.chart.plotTop,{visiblePlotOnly:!0})){const A=this.mouseMoveToTranslation(i);T.translateSide(A.x,A.y,!!this.index),T.redraw(!1)}}}}}),X.types.tunnel=E,E}),V(D,"Extensions/Annotations/Types/InfinityLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{merge:_}=U;class L extends F{static edgePoint(E,i){return function(T){const A=T.annotation,v=A.options.typeOptions.type;let y=A.points;return("horizontalLine"===v||"verticalLine"===v)&&(y=[y[0],new j(A.chart,y[0].target,{x:y[0].x+ +("horizontalLine"===v),y:y[0].y+ +("verticalLine"===v),xAxis:y[0].options.xAxis,yAxis:y[0].options.yAxis})]),L.findEdgePoint(y[E],y[i])}}static findEdgeCoordinate(E,i,T,A){const v="x"===T?"y":"x";return(i[T]-E[T])*(A-E[v])/(i[v]-E[v])+E[T]}static findEdgePoint(E,i){const T=E.series.chart,A=E.series.xAxis,v=i.series.yAxis,y=j.pointToPixels(E),x=j.pointToPixels(i),h=x.x-y.x,m=x.y-y.y,g=A.left,l=v.top,f=l+v.height,d=h<0?g:g+A.width,p=m<0?l:f,M={x:0===h?y.x:d,y:0===m?y.y:p};let k,a,o;return 0!==h&&0!==m&&(a=L.findEdgeCoordinate(y,x,"y",d),k=L.findEdgeCoordinate(y,x,"x",p),a>=l&&a<=f?(M.x=d,M.y=a):(M.x=k,M.y=p)),M.x-=T.plotLeft,M.y-=T.plotTop,E.series.chart.inverted&&(o=M.x,M.x=M.y,M.y=o),M}addShapes(){const E=this.options.typeOptions,i=[this.points[0],L.endEdgePoint];E.type.match(/line/gi)&&(i[0]=L.startEdgePoint);const T=this.initShape(_(E.line,{type:"path",points:i}),0);E.line=T.options}}return L.endEdgePoint=L.edgePoint(0,1),L.startEdgePoint=L.edgePoint(1,0),L.prototype.defaultOptions=_(F.prototype.defaultOptions,{}),X.types.infinityLine=L,L}),V(D,"Extensions/Annotations/Types/TimeCycles.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/ControlPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{merge:_,isNumber:L,defined:I}=U;class T extends F{init(v,y,x){I(y.yAxis)&&y.points.forEach(h=>{h.yAxis=y.yAxis}),I(y.xAxis)&&y.points.forEach(h=>{h.xAxis=y.xAxis}),super.init(v,y,x)}setPath(){this.shapes[0].options.d=this.getPath()}getPath(){return[(A=this.startX,v=this.y,["M",A,v])].concat(function i(A,v,y,x){const h=[];for(let m=1;m<=v;m++)h.push(["A",A/2,A/2,0,1,1,y+m*A,x]);return h}(this.pixelInterval,this.numberOfCircles,this.startX,this.y));var A,v}addShapes(){const v=this.options.typeOptions;this.setPathProperties();const y=this.initShape(_(v.line,{type:"path",d:this.getPath(),points:this.options.points}),0);v.line=y.options}addControlPoints(){const v=this.options,y=v.typeOptions;v.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",y.controlPointOptions.forEach(x=>{const h=_(v.controlPointOptions,x),m=new j(this.chart,this,h,0);this.controlPoints.push(m)})}setPathProperties(){const v=this.options.typeOptions,y=v.points;if(!y)return;const x=y[0],u=this.chart.xAxis[v.xAxis||0],l=this.chart.yAxis[v.yAxis||0],f=x.x,d=x.y,p=y[1].x;if(!f||!p)return;const M=L(d)?l.toPixels(d):l.top+l.height,k=L(f)?u.toPixels(f):u.left,a=L(p)?u.toPixels(p):u.left+30,o=u.len,s=Math.round(Math.max(Math.abs(a-k),2)),t=Math.floor(o/s)+2,e=(Math.floor((k-u.left)/s)+1)*s;this.startX=k-e,this.y=M,this.pixelInterval=s,this.numberOfCircles=t}redraw(v){this.setPathProperties(),this.setPath(),super.redraw(v)}}return T.prototype.defaultOptions=_(F.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(A){return{x:A.anchor(A.points[0]).absolutePosition.x-this.graphic.width/2,y:A.y-this.graphic.height}},events:{drag:function(A,v){const y=v.anchor(v.points[0]).absolutePosition;v.translatePoint(A.chartX-y.x,0,0),v.redraw(!1)}}},{positioner:function(A){return{x:A.anchor(A.points[1]).absolutePosition.x-this.graphic.width/2,y:A.y-this.graphic.height}},events:{drag:function(A,v){const y=v.anchor(v.points[1]).absolutePosition;v.translatePoint(A.chartX-y.x,0,1),v.redraw(!1)}}}]}}),X.types.timeCycles=T,T}),V(D,"Extensions/Annotations/Types/Fibonacci.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Extensions/Annotations/Types/Tunnel.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{merge:_}=U;function L(E,i){return function(){const T=this.annotation;if(!T.startRetracements||!T.endRetracements)return[];const A=this.anchor(T.startRetracements[E]).absolutePosition,v=this.anchor(T.endRetracements[E]).absolutePosition,y=[["M",Math.round(A.x),Math.round(A.y)],["L",Math.round(v.x),Math.round(v.y)]];if(i){const x=this.anchor(T.endRetracements[E-1]).absolutePosition,h=this.anchor(T.startRetracements[E-1]).absolutePosition;y.push(["L",Math.round(x.x),Math.round(x.y)],["L",Math.round(h.x),Math.round(h.y)])}return y}}let I=(()=>{class E extends j{linkPoints(){super.linkPoints(),this.linkRetracementsPoints()}linkRetracementsPoints(){const T=this.points,A=T[0].y-T[3].y,v=T[1].y-T[2].y,y=T[0].x,x=T[1].x;E.levels.forEach((h,m)=>{const g=T[0].y-A*h,u=T[1].y-v*h;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(m,y,g,this.startRetracements),this.linkRetracementPoint(m,x,u,this.endRetracements)})}linkRetracementPoint(T,A,v,y){const x=y[T],h=this.options.typeOptions;x?(x.options.x=A,x.options.y=v,x.refresh()):y[T]=new F(this.chart,this,{x:A,y:v,xAxis:h.xAxis,yAxis:h.yAxis})}addShapes(){E.levels.forEach(function(T,A){const{backgroundColors:v,lineColor:y,lineColors:x}=this.options.typeOptions;this.initShape({type:"path",d:L(A),stroke:x[A]||y},A),A>0&&this.initShape({type:"path",fill:v[A-1],strokeWidth:0,d:L(A,!0)})},this)}addLabels(){E.levels.forEach(function(T,A){const v=this.options.typeOptions,y=this.initLabel(_(v.labels[A],{point:function(x){return F.pointToOptions(x.annotation.startRetracements[A])},text:T.toString()}));v.labels[A]=y.options},this)}}return E.levels=[0,.236,.382,.5,.618,.786,1],E})();return I.prototype.defaultOptions=_(j.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),X.types.fibonacci=I,I}),V(D,"Extensions/Annotations/Types/FibonacciTimeZones.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Extensions/Annotations/Types/CrookedLine.js"],D["Extensions/Annotations/Types/InfinityLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{merge:I}=L;function E(T,A,v){return function(y){const x=y.annotation.chart;let m=y.annotation.points;const l=m[0].series.xAxis.toValue(m[0].plotX+(x.inverted?x.plotTop:x.plotLeft)+v*(m.length>1?m[1].plotX-m[0].plotX:0));return m=[new _(x,m[0].target,{x:l,y:0,xAxis:m[0].options.xAxis,yAxis:m[0].options.yAxis}),new _(x,m[0].target,{x:l,y:1,xAxis:m[0].options.xAxis,yAxis:m[0].options.yAxis})],U.findEdgePoint(m[T],m[A])}}class i extends j{addShapes(){let v=1,y=1;for(let x=0;x<11;x++){const h=x?v:0,m=[E(1,0,h),E(0,1,h)];y=v+y,v=y-v,1===x&&(this.secondLineEdgePoints=[m[0],m[1]]),this.initShape(I(this.options.typeOptions.line,{type:"path",points:m}),x)}}addControlPoints(){const A=this.options,v=A.typeOptions,y=new F(this.chart,this,I(A.controlPointOptions,v.controlPointOptions),0);this.controlPoints.push(y),v.controlPointOptions=y.options}}return i.prototype.defaultOptions=I(j.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){const T=this.target,A=this.graphic,v=T.secondLineEdgePoints,y={annotation:T},x=v[0](y).y,h=v[1](y).y,m=this.chart.plotLeft,g=this.chart.plotTop;let u=v[0](y).x,l=(x+h)/2;return this.chart.inverted&&([u,l]=[l,u]),{x:m+u-A.width/2,y:g+l-A.height/2}},events:{drag:function(T,A){if(A.chart.isInsidePlot(T.chartX-A.chart.plotLeft,T.chartY-A.chart.plotTop,{visiblePlotOnly:!0})){const y=this.mouseMoveToTranslation(T);A.translatePoint(y.x,0,1),A.redraw(!1)}}}}}}),X.types.fibonacciTimeZones=i,i}),V(D,"Extensions/Annotations/Types/Pitchfork.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/Types/InfinityLine.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{merge:_}=U;class L extends F{static outerLineEdgePoint(E){return function(i){const T=i.annotation,A=T.points;return L.findEdgePoint(A[E],A[0],new j(T.chart,i,T.midPointOptions()))}}static findEdgePoint(E,i,T){const A=Math.atan2(T.plotY-i.plotY,T.plotX-i.plotX),v=1e7;return{x:E.plotX+v*Math.cos(A),y:E.plotY+v*Math.sin(A)}}static middleLineEdgePoint(E){const i=E.annotation;return F.findEdgePoint(i.points[0],new j(i.chart,E,i.midPointOptions()))}midPointOptions(){const E=this.points;return{x:(E[1].x+E[2].x)/2,y:(E[1].y+E[2].y)/2,xAxis:E[0].series.xAxis,yAxis:E[0].series.yAxis}}addShapes(){this.addLines(),this.addBackgrounds()}addLines(){this.initShape({type:"path",points:[this.points[0],L.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],L.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],L.bottomLineEdgePoint]},2)}addBackgrounds(){const E=this.shapes,i=this.options.typeOptions,T=this.initShape(_(i.innerBackground,{type:"path",points:[function(v){const y=v.annotation,x=y.points,h=y.midPointOptions();return{x:(x[1].x+h.x)/2,y:(x[1].y+h.y)/2,xAxis:h.xAxis,yAxis:h.yAxis}},E[1].points[1],E[2].points[1],function(v){const y=v.annotation,x=y.points,h=y.midPointOptions();return{x:(h.x+x[2].x)/2,y:(h.y+x[2].y)/2,xAxis:h.xAxis,yAxis:h.yAxis}}]}),3),A=this.initShape(_(i.outerBackground,{type:"path",points:[this.points[1],E[1].points[1],E[2].points[1],this.points[2]]}),4);i.innerBackground=T.options,i.outerBackground=A.options}}return L.topLineEdgePoint=L.outerLineEdgePoint(1),L.bottomLineEdgePoint=L.outerLineEdgePoint(0),L.prototype.defaultOptions=_(F.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),X.types.pitchfork=L,L}),V(D,"Extensions/Annotations/Types/VerticalLine.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/MockPoint.js"],D["Core/Utilities.js"]],function(X,F,j){const{merge:U,pick:_}=j;class L extends X{static connectorFirstPoint(E){const i=E.annotation,T=i.chart,A=T.inverted,v=i.points[0],y=_(v.series.yAxis&&v.series.yAxis.left,0),x=_(v.series.yAxis&&v.series.yAxis.top,0),h=i.options.typeOptions.label.offset,m=F.pointToPixels(v,!0)[A?"x":"y"];return{x:v.x,xAxis:v.series.xAxis,y:m+h+(A?y-T.plotLeft:x-T.plotTop)}}static connectorSecondPoint(E){const i=E.annotation,T=i.chart,A=T.inverted,v=i.options.typeOptions,y=i.points[0],x=_(y.series.yAxis&&y.series.yAxis.left,0),h=_(y.series.yAxis&&y.series.yAxis.top,0),m=F.pointToPixels(y,!0)[A?"x":"y"];let g=v.yOffset;return v.label.offset<0&&(g*=-1),{x:y.x,xAxis:y.series.xAxis,y:m+g+(A?x-T.plotLeft:h-T.plotTop)}}getPointsOptions(){return[this.options.typeOptions.point]}addShapes(){const E=this.options.typeOptions,i=this.initShape(U(E.connector,{type:"path",points:[L.connectorFirstPoint,L.connectorSecondPoint]}),0);E.connector=i.options,this.userOptions.typeOptions.point=E.point}addLabels(){const E=this.options.typeOptions,i=E.label;let T=0,A=i.offset,v=i.offset<0?"bottom":"top",y="center";this.chart.inverted&&(T=i.offset,A=0,v="middle",y=i.offset<0?"right":"left");const x=this.initLabel(U(i,{verticalAlign:v,align:y,x:T,y:A}));E.label=x.options}}return L.prototype.defaultOptions=U(X.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(I){return I.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),X.types.verticalLine=L,L}),V(D,"Extensions/Annotations/Types/Measure.js",[D["Extensions/Annotations/Annotation.js"],D["Extensions/Annotations/ControlPoint.js"],D["Core/Utilities.js"]],function(X,F,j){const{defined:U,extend:_,isNumber:L,merge:I,pick:E}=j;function i(){let f="";return""!==this.max&&""!==this.min&&(f=(this.max+this.min)/2),f}function T(){const f=this.chart.series,d=v(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=0,M=!1;return f.forEach(k=>{k.visible&&"highcharts-navigator-series"!==k.options.id&&k.points.forEach(a=>{!a.isNull&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p++,M=!0)})}),M||(p=""),p}function A(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function v(f,d,p,M){return{xAxisMin:Math.min(d,f),xAxisMax:Math.max(d,f),yAxisMin:Math.min(M,p),yAxisMax:Math.max(M,p)}}function y(f,d,p){return f.toValue(f.toPixels(d)+p)}function x(){const f=this.options.typeOptions,d=this.chart,p=d.inverted,M=d.xAxis[f.xAxis],k=d.yAxis[f.yAxis],a=f.background,o=p?a.height:a.width,s=p?a.width:a.height,t=f.selectType,e=p?M.left:k.top,n=p?k.top:M.left;this.startXMin=f.point.x,this.startYMin=f.point.y,this.startXMax=L(o)?this.startXMin+o:y(M,this.startXMin,parseFloat(o)),this.startYMax=L(s)?this.startYMin-s:y(k,this.startYMin,parseFloat(s)),"x"===t?(this.startYMin=k.toValue(e),this.startYMax=k.toValue(e+k.len)):"y"===t&&(this.startXMin=M.toValue(n),this.startXMax=M.toValue(n+M.len))}function h(){const f=this.chart.series,d=v(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=-1/0,M=!1;return f.forEach(k=>{k.visible&&"highcharts-navigator-series"!==k.options.id&&k.points.forEach(a=>{!a.isNull&&a.y>p&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p=a.y,M=!0)})}),M||(p=""),p}function m(){const f=this.chart.series,d=v(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let p=1/0,M=!1;return f.forEach(k=>{k.visible&&"highcharts-navigator-series"!==k.options.id&&k.points.forEach(a=>{!a.isNull&&a.y<p&&a.x>d.xAxisMin&&a.x<=d.xAxisMax&&a.y>d.yAxisMin&&a.y<=d.yAxisMax&&(p=a.y,M=!0)})}),M||(p=""),p}function g(f){const d=this.options.typeOptions,p=this.chart.xAxis[d.xAxis],M=this.chart.yAxis[d.yAxis],k=this.offsetX,a=this.offsetY;this.xAxisMin=y(p,this.startXMin,k),this.xAxisMax=y(p,this.startXMax,k),this.yAxisMin=y(M,this.startYMin,a),this.yAxisMax=y(M,this.startYMax,a),this.min=m.call(this),this.max=h.call(this),this.average=i.call(this),this.bins=T.call(this),f&&this.resize(0,0)}function u(f,d,p,M,k){const a=this.options.typeOptions,o=a.selectType,s=this.chart.xAxis[a.xAxis],t=this.chart.yAxis[a.yAxis],e=this.startXMin,n=this.startXMax,c=this.startYMin,r=this.startYMax,C=this.offsetX,b=this.offsetY;d&&("x"===o?0===p?this.startXMin=y(s,e,M):this.startXMax=y(s,n,M):"y"===o?0===p?this.startYMin=y(t,c,k):this.startYMax=y(t,r,k):(this.startXMax=y(s,n,M),this.startYMax=y(t,r,k))),f&&(this.startXMin=y(s,e,C),this.startXMax=y(s,n,C),this.startYMin=y(t,c,b),this.startYMax=y(t,r,b),this.offsetX=0,this.offsetY=0)}class l extends X{init(d,p,M){super.init(d,p,M),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,x.call(this),this.addValues(),this.addShapes()}setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}pointsOptions(){return this.options.points}shapePointsOptions(){const d=this.options.typeOptions,p=d.xAxis,M=d.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:p,yAxis:M},{x:this.xAxisMax,y:this.yAxisMin,xAxis:p,yAxis:M},{x:this.xAxisMax,y:this.yAxisMax,xAxis:p,yAxis:M},{x:this.xAxisMin,y:this.yAxisMax,xAxis:p,yAxis:M}]}addControlPoints(){const d=this.chart.inverted,p=this.options.controlPointOptions,M=this.options.typeOptions.selectType;U(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===M?p.style.cursor=d?"ns-resize":"ew-resize":"y"===M&&(p.style.cursor=d?"ew-resize":"ns-resize"));let k=new F(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(k),"xy"!==M&&(k=new F(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(k))}addValues(d){const p=this.options.typeOptions,M=p.label.formatter;g.call(this,d),p.label.enabled&&(this.labels.length>0?this.labels[0].text=M&&M.call(this)||A.call(this):this.initLabel(_({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(k){const a=k.annotation,o=k.options;return{x:a.xAxisMin,y:a.yAxisMin,xAxis:E(p.xAxis,o.xAxis),yAxis:E(p.yAxis,o.yAxis)}},text:M&&M.call(this)||A.call(this)},p.label),void 0))}addShapes(){this.addCrosshairs(),this.addBackground()}addBackground(){typeof this.shapePointsOptions()[0].x>"u"||this.initShape(_({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)}addCrosshairs(){const d=this.chart,p=this.options.typeOptions,k=d.xAxis[p.xAxis],a=d.yAxis[p.yAxis],o=d.inverted,s={point:this.options.typeOptions.point,type:"path"};let b,P,S,t=k.toPixels(this.xAxisMin),e=k.toPixels(this.xAxisMax),n=a.toPixels(this.yAxisMin),c=a.toPixels(this.yAxisMax),r=[],C=[];o&&(S=t,t=n,n=S,S=e,e=c,c=S),p.crosshairX.enabled&&(r=[["M",t,n+(c-n)/2],["L",e,n+(c-n)/2]]),p.crosshairY.enabled&&(C=[["M",t+(e-t)/2,n],["L",t+(e-t)/2,c]]),this.shapes.length>0?(this.shapes[0].options.d=r,this.shapes[1].options.d=C):(b=I(s,p.crosshairX),P=I(s,p.crosshairY),this.initShape(_({d:r},b),0),this.initShape(_({d:C},P),1))}onDrag(d){const p=this.mouseMoveToTranslation(d),M=this.options.typeOptions.selectType,k="y"===M?0:p.x,a="x"===M?0:p.y;this.translate(k,a),this.offsetX+=k,this.offsetY+=a,this.redraw(!1,!1,!0)}resize(d,p,M,k){const a=this.shapes[2];"x"===k?0===M?(a.translatePoint(d,0,0),a.translatePoint(d,p,3)):(a.translatePoint(d,0,1),a.translatePoint(d,p,2)):"y"===k?0===M?(a.translatePoint(0,p,0),a.translatePoint(0,p,1)):(a.translatePoint(0,p,2),a.translatePoint(0,p,3)):(a.translatePoint(d,0,1),a.translatePoint(d,p,2),a.translatePoint(0,p,3)),u.call(this,!1,!0,M,d,p),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)}redraw(d,p,M){this.linkPoints(),this.graphic||this.render(),M&&u.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(p),this.addCrosshairs(),this.redrawItems(this.shapes,d),this.redrawItems(this.labels,d),this.controlPoints.forEach(k=>k.redraw())}translate(d,p){this.shapes.forEach(M=>M.translate(d,p)),this.options.typeOptions.point={x:this.startXMin,y:this.startYMin}}}return l.prototype.defaultOptions=I(X.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"0.7em",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(f){const d=this.index,p=f.chart,M=f.options,k=M.typeOptions,a=k.selectType,o=M.controlPointOptions,s=p.inverted,t=p.xAxis[k.xAxis],e=p.yAxis[k.yAxis],n=v(f.xAxisMin,f.xAxisMax,f.yAxisMin,f.yAxisMax);let C,b,c=f.xAxisMax,r=f.yAxisMax;return"x"===a&&(r=(n.yAxisMax+n.yAxisMin)/2,0===d&&(c=f.xAxisMin)),"y"===a&&(c=n.xAxisMin+(n.xAxisMax-n.xAxisMin)/2,0===d&&(r=f.yAxisMin)),s?(C=e.toPixels(r),b=t.toPixels(c)):(C=t.toPixels(c),b=e.toPixels(r)),{x:C-o.width/2,y:b-o.height/2}},events:{drag:function(f,d){const p=this.mouseMoveToTranslation(f),M=d.options.typeOptions.selectType,a="y"===M?0:p.x,o="x"===M?0:p.y;d.resize(a,o,this.index,M),d.resizeX+=a,d.resizeY+=o,d.redraw(!1,!0)}}}}),X.types.measure=l,l}),V(D,"masters/modules/annotations-advanced.src.js",[D["Core/Globals.js"],D["Extensions/Annotations/Annotation.js"]],function(X,F){const j=X;j.Annotation=F,F.compose(j.Chart,j.Pointer,j.SVGRenderer)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},4346:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Extensions/PriceIndication.js",[D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,isArray:U,merge:_}=F;j(X,"afterRender",function(){const L=this,I=L.options,E=I.lastVisiblePrice,i=I.lastPrice;if((E||i)&&"highcharts-navigator-series"!==I.id){let f,T=L.xAxis,A=L.yAxis,v=A.crosshair,y=A.cross,x=A.crossLabel,h=L.points,g=h.length,u=L.xData[L.xData.length-1],l=L.yData[L.yData.length-1];if(i&&i.enabled&&(A.crosshair=A.options.crosshair=I.lastPrice,!L.chart.styledMode&&A.crosshair&&A.options.crosshair&&I.lastPrice&&(A.crosshair.color=A.options.crosshair.color=I.lastPrice.color||L.color),A.cross=L.lastPrice,f=U(l)?l[3]:l,L.lastPriceLabel&&L.lastPriceLabel.destroy(),delete A.crossLabel,A.drawCrosshair(null,{x:u,y:f,plotX:T.toPixels(u,!0),plotY:A.toPixels(f,!0)}),L.yAxis.cross&&(L.lastPrice=L.yAxis.cross,L.lastPrice.addClass("highcharts-color-"+L.colorIndex),L.lastPrice.y=f),L.lastPriceLabel=A.crossLabel),E&&E.enabled&&g>0){A.crosshair=A.options.crosshair=_({color:"transparent"},I.lastVisiblePrice),A.cross=L.lastVisiblePrice;const d=h[g-1].isInside?h[g-1]:h[g-2];L.lastVisiblePriceLabel&&L.lastVisiblePriceLabel.destroy(),delete A.crossLabel,A.drawCrosshair(null,d),A.cross&&(L.lastVisiblePrice=A.cross,d&&"number"==typeof d.y&&(L.lastVisiblePrice.y=d.y)),L.lastVisiblePriceLabel=A.crossLabel}A.crosshair=A.options.crosshair=v,A.cross=y,A.crossLabel=x}})}),V(D,"masters/modules/price-indicator.src.js",[],function(){})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470),ct(1335)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},9457:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Core/Chart/ChartNavigationComposition.js",[],function(){var X;return function(F){F.compose=function j(_){return _.navigation||(_.navigation=new U(_)),_};class U{constructor(L){this.updates=[],this.chart=L}addUpdate(L){this.chart.navigation.updates.push(L)}update(L,I){this.updates.forEach(E=>{E.call(this.chart,L,I)})}}F.Additions=U}(X||(X={})),X}),V(D,"Extensions/Annotations/NavigationBindingsUtilities.js",[D["Core/Utilities.js"]],function(X){const{defined:F,isNumber:j,pick:U}=X,_={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:_,getAssignedAxis:function L(i){return i.filter(T=>{const A=T.axis.getExtremes(),v=A.min,y=A.max,x=U(T.axis.minPointOffset,0);return j(v)&&j(y)&&T.value>=v-x&&T.value<=y+x&&!T.axis.options.isInternal})[0]},getFieldType:function I(i,T){const A=_[i];let v=typeof T;return F(A)&&(v=A),{string:"text",number:"number",boolean:"checkbox"}[v]}}}),V(D,"Extensions/Annotations/NavigationBindingsDefaults.js",[D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(X,F){const{getAssignedAxis:j}=X,{isNumber:U,merge:_}=F;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:A.value,y:v.value,xAxis:A.axis.options.index,yAxis:v.axis.options.index},r:5}]},y.annotationsOptions,y.bindings.circleAnnotation.annotationsOptions))},steps:[function(i,T){const A=T.options.shapes,v=A&&A[0]&&A[0].point||{};let y;if(U(v.xAxis)&&U(v.yAxis)){const x=this.chart.inverted,h=this.chart.xAxis[v.xAxis].toPixels(v.x),m=this.chart.yAxis[v.yAxis].toPixels(v.y);y=Math.max(Math.sqrt(Math.pow(x?m-i.chartX:h-i.chartX,2)+Math.pow(x?h-i.chartY:m-i.chartY,2)),5)}T.update({shapes:[{r:y}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:A.axis.options.index,yAxis:v.axis.options.index,points:[{x:A.value,y:v.value},{x:A.value,y:v.value}],ry:1}]},y.annotationsOptions,y.bindings.ellipseAnnotation.annotationOptions))},steps:[function(i,T){const A=T.shapes[0],v=A.getAbsolutePosition(A.points[1]);A.translatePoint(i.chartX-v.x,i.chartY-v.y,1),A.redraw(!1)},function(i,T){const A=T.shapes[0],v=A.getAbsolutePosition(A.points[0]),y=A.getAbsolutePosition(A.points[1]),x=A.getDistanceFromLine(v,y,i.chartX,i.chartY),h=A.getYAxis(),m=Math.abs(h.toValue(0)-h.toValue(x));A.setYRadius(m),A.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis);if(!A||!v)return;const y=A.value,x=v.value,h=A.axis.options.index,m=v.axis.options.index,g=this.chart.options.navigation;return this.chart.addAnnotation(_({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{xAxis:h,yAxis:m,x:y,y:x},{command:"Z"}]}]},g.annotationsOptions,g.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(i,T){const A=T.options.shapes,v=A&&A[0]&&A[0].points||[],y=this.chart.pointer.getCoordinates(i),x=j(y.xAxis),h=j(y.yAxis);if(x&&h){const m=x.value,g=h.value;v[1].x=m,v[2].x=m,v[2].y=g,v[3].y=g,T.update({shapes:[{points:v}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(i){const T=this.chart.pointer.getCoordinates(i),A=j(T.xAxis),v=j(T.yAxis),y=this.chart.options.navigation;if(A&&v)return this.chart.addAnnotation(_({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:A.axis.options.index,yAxis:v.axis.options.index,x:A.value,y:v.value},overflow:"none",crop:!0}]},y.annotationsOptions,y.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),V(D,"Extensions/Annotations/NavigationBindings.js",[D["Core/Chart/ChartNavigationComposition.js"],D["Core/Defaults.js"],D["Core/FormatUtilities.js"],D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsDefaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I){const{setOptions:E}=F,{format:i}=j,{doc:T,win:A}=U,{getFieldType:v}=L,{addEvent:y,attr:x,fireEvent:m,isArray:g,isFunction:u,isNumber:l,isObject:f,merge:d,objectEach:p,pick:M}=I,k=[];function o(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function s(){this.navigationBindings&&this.navigationBindings.destroy()}function t(){const b=this.options;b&&b.navigation&&b.navigation.bindings&&(this.navigationBindings=new C(this,b.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function e(){const b=this.navigationBindings,P="highcharts-disabled-btn";if(this&&b){let S=!1;if(this.series.forEach(w=>{!w.options.isInternal&&w.visible&&(S=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const w=this.navigationBindings.container[0];p(b.boundClassNames,(B,N)=>{const O=w.querySelectorAll("."+N);if(O)for(let Y=0;Y<O.length;Y++){const z=O[Y],R=z.className;"normal"===B.noDataState||S?-1!==R.indexOf(P)&&z.classList.remove(P):-1===R.indexOf(P)&&(z.className+=" "+P)}})}}}function n(){this.deselectAnnotation()}function c(){this.selectedButtonElement=null}function r(b){const P=b.prototype.defaultOptions.events&&b.prototype.defaultOptions.events.click;function S(Y){const z=this,R=z.chart.navigationBindings,G=R.activeAnnotation;P&&P.call(z,Y),G!==z?(R.deselectAnnotation(),R.activeAnnotation=z,z.setControlPointsVisibility(!0),m(R,"showPopup",{annotation:z,formType:"annotation-toolbar",options:R.annotationToFields(z),onSubmit:function(H){if("remove"===H.actionType)R.activeAnnotation=!1,R.chart.removeAnnotation(z);else{const W={};R.fieldsToOptions(H.fields,W),R.deselectAnnotation();const q=W.typeOptions;"measure"===z.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),z.update(W)}}})):m(R,"closePopup"),Y.activeAnnotation=!0}let w,B;d(!0,b.prototype.defaultOptions.events,{click:S,touchstart:function N(Y){w=Y.touches[0].clientX,B=Y.touches[0].clientY},touchend:function O(Y){w&&Math.sqrt(Math.pow(w-Y.changedTouches[0].clientX,2)+Math.pow(B-Y.changedTouches[0].clientY,2))>=4||S.call(this,Y)}})}let C=(()=>{class b{static compose(S,w){I.pushUnique(k,S)&&(y(S,"remove",o),r(S),p(S.types,B=>{r(B)})),I.pushUnique(k,w)&&(y(w,"destroy",s),y(w,"load",t),y(w,"render",e)),I.pushUnique(k,b)&&(y(b,"closePopup",n),y(b,"deselectButton",c)),I.pushUnique(k,E)&&E(_)}constructor(S,w){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=S,this.options=w,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=T.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const S=this,w=S.chart,B=S.container,N=S.options;S.boundClassNames={},p(N.bindings||{},O=>{S.boundClassNames[O.className]=O}),[].forEach.call(B,O=>{S.eventsToUnbind.push(y(O,"click",Y=>{const z=S.getButtonEvents(O,Y);z&&!z.button.classList.contains("highcharts-disabled-btn")&&S.bindingsButtonClick(z.button,z.events,Y)}))}),p(N.events||{},(O,Y)=>{u(O)&&S.eventsToUnbind.push(y(S,Y,O,{passive:!1}))}),S.eventsToUnbind.push(y(w.container,"click",function(O){!w.cancelClick&&w.isInsidePlot(O.chartX-w.plotLeft,O.chartY-w.plotTop,{visiblePlotOnly:!0})&&S.bindingsChartClick(this,O)})),S.eventsToUnbind.push(y(w.container,U.isTouchDevice?"touchmove":"mousemove",function(O){S.bindingsContainerMouseMove(this,O)},U.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const S=this;X.compose(this.chart).navigation.addUpdate(w=>{S.update(w)})}bindingsButtonClick(S,w,B){const N=this,O=N.chart,Y=O.renderer.boxWrapper;let z=!0;N.selectedButtonElement&&(N.selectedButtonElement.classList===S.classList&&(z=!1),m(N,"deselectButton",{button:N.selectedButtonElement}),N.nextEvent&&(N.currentUserDetails&&"annotations"===N.currentUserDetails.coll&&O.removeAnnotation(N.currentUserDetails),N.mouseMoveEvent=N.nextEvent=!1)),z?(N.selectedButton=w,N.selectedButtonElement=S,m(N,"selectButton",{button:S}),w.init&&w.init.call(N,S,B),(w.start||w.steps)&&O.renderer.boxWrapper.addClass("highcharts-draw-mode")):(O.stockTools&&O.stockTools.toggleButtonActiveClass(S),Y.removeClass("highcharts-draw-mode"),N.nextEvent=!1,N.mouseMoveEvent=!1,N.selectedButton=null)}bindingsChartClick(S,w){const B=this,N=B.activeAnnotation,O=B.selectedButton,Y=this.chart.renderer.boxWrapper;N&&(N.cancelClick||w.activeAnnotation||!w.target.parentNode||function a(b,P){const S=A.Element.prototype,w=S.matches||S.msMatchesSelector||S.webkitMatchesSelector;let B=null;if(S.closest)B=S.closest.call(b,P);else do{if(w.call(b,P))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return B}(w.target,".highcharts-popup")?N.cancelClick&&setTimeout(()=>{N.cancelClick=!1},0):m(B,"closePopup")),O&&O.start&&(B.nextEvent?(B.nextEvent(w,B.currentUserDetails),B.steps&&(B.stepIndex++,O.steps[B.stepIndex]?B.mouseMoveEvent=B.nextEvent=O.steps[B.stepIndex]:(m(B,"deselectButton",{button:B.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),O.end&&O.end.call(B,w,B.currentUserDetails),B.nextEvent=!1,B.mouseMoveEvent=!1,B.selectedButton=null))):(B.currentUserDetails=O.start.call(B,w),B.currentUserDetails&&O.steps?(B.stepIndex=0,B.steps=!0,B.mouseMoveEvent=B.nextEvent=O.steps[B.stepIndex]):(m(B,"deselectButton",{button:B.selectedButtonElement}),Y.removeClass("highcharts-draw-mode"),B.steps=!1,B.selectedButton=null,O.end&&O.end.call(B,w,B.currentUserDetails))))}bindingsContainerMouseMove(S,w){this.mouseMoveEvent&&this.mouseMoveEvent(w,this.currentUserDetails)}fieldsToOptions(S,w){return p(S,(B,N)=>{const O=parseFloat(B),Y=N.split("."),z=Y.length-1;if(l(O)&&!B.match(/px/g)&&!N.match(/format/g)&&(B=O),"undefined"!==B){let R=w;Y.forEach((G,H)=>{const W=M(Y[H+1],"");z===H?R[G]=B:(R[G]||(R[G]=W.match(/\d/g)?[]:{}),R=R[G])})}}),w}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(S){const w=S.options,B=b.annotationsEditable,N=B.nestedOptions,O=M(w.type,w.shapes&&w.shapes[0]&&w.shapes[0].type,w.labels&&w.labels[0]&&w.labels[0].type,"label"),Y=b.annotationsNonEditable[w.langKey]||[],z={langKey:w.langKey,type:O};function R(G,H,W,q,Z){let tt;W&&G&&-1===Y.indexOf(H)&&((W.indexOf&&W.indexOf(H))>=0||W[H]||!0===W)&&(g(G)?(q[H]=[],G.forEach(($,it)=>{f($)?(q[H][it]={},p($,(nt,ot)=>{R(nt,ot,N[H],q[H][it],H)})):R($,0,N[H],q[H],H)})):f(G)?(tt={},g(q)?(q.push(tt),tt[H]={},tt=tt[H]):q[H]=tt,p(G,($,it)=>{R($,it,0===H?W:N[H],tt,H)})):"format"===H?q[H]=[i(G,S.labels[0].points[0]).toString(),"text"]:g(q)?q.push([G,v(Z,G)]):q[H]=[G,v(H,G)])}return p(w,(G,H)=>{"typeOptions"===H?(z[H]={},p(w[H],(W,q)=>{R(W,q,N,z[H],q)})):R(G,H,B[O],z,H)}),z}getClickedClassNames(S,w){let O,B=w.target,N=[];for(;B&&B.tagName;)if(O=x(B,"class"),O&&(N=N.concat(O.split(" ").map(Y=>[Y,B]))),B=B.parentNode,B===S)return N;return N}getButtonEvents(S,w){const B=this;let O;return this.getClickedClassNames(S,w).forEach(Y=>{B.boundClassNames[Y[0]]&&!O&&(O={events:B.boundClassNames[Y[0]],button:Y[1]})}),O}update(S){this.options=d(!0,this.options,S),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(S=>S())}destroy(){this.removeEvents()}}return b.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},b.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},b})();return C}),V(D,"Stock/StockTools/StockToolsUtilities.js",[D["Core/Defaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{getOptions:_}=X,{getAssignedAxis:L,getFieldType:I}=F,{defined:E,fireEvent:i,isNumber:T,uniqueKey:A}=U,v=["apo","ad","aroon","aroonoscillator","atr","ao","cci","chaikin","cmf","cmo","disparityindex","dmi","dpo","linearRegressionAngle","linearRegressionIntercept","linearRegressionSlope","klinger","macd","mfi","momentum","natr","obv","ppo","roc","rsi","slowstochastic","stochastic","trix","williamsr"],y=["ad","cmf","klinger","mfi","obv","vbp","vwap"];function h(M,k){const a=k.pointer.getCoordinates(M);let o,s,e,t=Number.MAX_VALUE;if(k.navigationBindings&&(o=L(a.xAxis),s=L(a.yAxis)),!o||!s)return;const n=o.value,c=s.value;return s.axis.series.forEach(r=>{r.points&&r.points.forEach(C=>{C&&t>Math.abs(C.x-n)&&(t=Math.abs(C.x-n),e=C)})}),e&&e.x&&e.y?{x:e.x,y:e.y,below:c<e.y,series:e.series,xAxis:e.series.xAxis.options.index||0,yAxis:e.series.yAxis.options.index||0}:void 0}return{indicatorsWithAxes:v,indicatorsWithVolume:y,addFlagFromForm:function x(M){return function(k){const a=this,o=a.chart,s=o.stockTools,t=h(k,o);if(!t)return;const n={type:"flags",onSeries:t.series.id,shape:M,data:[{x:t.x,y:t.y}],xAxis:t.xAxis,yAxis:t.yAxis,point:{events:{click:function(){const c=this,r=c.options;i(a,"showPopup",{point:c,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[r.title,I("title",r.title)],name:[r.name,I("name",r.name)]},onSubmit:function(C){"remove"===C.actionType?c.remove():c.update(a.fieldsToOptions(C.fields,{}))}})}}}};(!s||!s.guiEnabled)&&o.addSeries(n),i(a,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",I("label","A")],name:["Flag A",I("label","Flag A")]},onSubmit:function(c){a.fieldsToOptions(c.fields,n.data[0]),o.addSeries(n)}})}},attractToPoint:h,getAssignedAxis:L,isNotNavigatorYAxis:function m(M){return"highcharts-navigator-yaxis"!==M.userOptions.className},isPriceIndicatorEnabled:function g(M){return M.some(k=>k.lastVisiblePrice||k.lastPrice)},manageIndicators:function u(M){const k=this.chart,a={linkedTo:M.linkedTo,type:M.type};let o,s,t,e;if("edit"===M.actionType)this.fieldsToOptions(M.fields,a),e=k.get(M.seriesId),e&&e.update(a,!1);else if("remove"===M.actionType){if(e=k.get(M.seriesId),e&&(o=e.yAxis,e.linkedSeries&&e.linkedSeries.forEach(n=>{n.remove(!1)}),e.remove(!1),v.indexOf(e.type)>=0)){const n={height:o.options.height,top:o.options.top};o.remove(!1),this.resizeYAxes(n)}}else a.id=A(),this.fieldsToOptions(M.fields,a),s=k.get(a.linkedTo),t=_().plotOptions,typeof s<"u"&&s instanceof j&&"sum"===s.getDGApproximation()&&!E(t&&t[a.type]&&t.dataGrouping&&t.dataGrouping.approximation)&&(a.dataGrouping={approximation:"sum"}),v.indexOf(M.type)>=0?(o=k.addAxis({id:A(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),a.yAxis=o.options.id,this.resizeYAxes()):a.yAxis=k.get(M.linkedTo).options.yAxis,y.indexOf(M.type)>=0&&(a.params.volumeSeriesID=k.series.filter(function(n){return"column"===n.options.type})[0].options.id),k.addSeries(a,!1);i(this,"deselectButton",{button:this.selectedButtonElement}),k.redraw()},updateHeight:function l(M,k){const a=k.options.typeOptions,o=T(a.yAxis)&&this.chart.yAxis[a.yAxis];o&&a.points&&k.update({typeOptions:{height:o.toValue(M[o.horiz?"chartX":"chartY"])-(a.points[1].y||0)}})},updateNthPoint:function f(M){return function(k,a){const o=a.options.typeOptions,s=T(o.xAxis)&&this.chart.xAxis[o.xAxis],t=T(o.yAxis)&&this.chart.yAxis[o.yAxis];s&&t&&(o.points.forEach((e,n)=>{n>=M&&(e.x=s.toValue(k[s.horiz?"chartX":"chartY"]),e.y=t.toValue(k[t.horiz?"chartX":"chartY"]))}),a.update({typeOptions:{points:o.points}}))}},updateRectSize:function d(M,k){const a=k.chart,o=k.options.typeOptions,s=T(o.xAxis)&&a.xAxis[o.xAxis],t=T(o.yAxis)&&a.yAxis[o.yAxis];if(s&&t){const e=s.toValue(M[s.horiz?"chartX":"chartY"]),n=t.toValue(M[t.horiz?"chartX":"chartY"]),c=e-o.point.x,r=o.point.y-n;k.update({typeOptions:{background:{width:a.inverted?r:c,height:a.inverted?c:r}}})}}}}),V(D,"Stock/StockTools/StockToolsBindings.js",[D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Stock/StockTools/StockToolsUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{getAssignedAxis:_}=F,{addFlagFromForm:L,attractToPoint:I,isNotNavigatorYAxis:E,isPriceIndicatorEnabled:i,manageIndicators:T,updateHeight:A,updateNthPoint:v,updateRectSize:y}=j,{fireEvent:x,merge:h}=U;return{segment:{className:"highcharts-segment",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"segment",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.segment.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowSegment.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},ray:{className:"highcharts-ray",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"ray",type:"infinityLine",typeOptions:{type:"ray",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.ray.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowRay.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.infinityLine.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value},{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.arrowInfinityLine.annotationsOptions);return this.chart.addAnnotation(p)},steps:[v(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.horizontalLine.annotationsOptions);this.chart.addAnnotation(p)}},verticalLine:{className:"highcharts-vertical-line",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value}]}},d.annotationsOptions,d.bindings.verticalLine.annotationsOptions);this.chart.addAnnotation(p)}},crooked3:{className:"highcharts-crooked3",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"crooked3",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p}]}},M.annotationsOptions,M.bindings.crooked3.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),v(2)]},crooked5:{className:"highcharts-crooked5",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"crooked5",type:"crookedLine",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]}},M.annotationsOptions,M.bindings.crooked5.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),v(2),v(3),v(4)]},elliott3:{className:"highcharts-elliott3",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"elliott3",type:"elliottWave",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.elliott3.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),v(2),v(3)]},elliott5:{className:"highcharts-elliott5",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"elliott5",type:"elliottWave",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.elliott5.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),v(2),v(3),v(4),v(5)]},measureX:{className:"highcharts-measure-x",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const M=this.chart.options.navigation,k=h({langKey:"measure",type:"measure",typeOptions:{selectType:"x",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.measureX.annotationsOptions);return this.chart.addAnnotation(k)},steps:[y]},measureY:{className:"highcharts-measure-y",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const M=this.chart.options.navigation,k=h({langKey:"measure",type:"measure",typeOptions:{selectType:"y",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.measureY.annotationsOptions);return this.chart.addAnnotation(k)},steps:[y]},measureXY:{className:"highcharts-measure-xy",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const M=this.chart.options.navigation,k=h({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",xAxis:l.axis.options.index,yAxis:f.axis.options.index,point:{x:l.value,y:f.value},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.measureXY.annotationsOptions);return this.chart.addAnnotation(k)},steps:[y]},fibonacci:{className:"highcharts-fibonacci",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"fibonacci",type:"fibonacci",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p}]},labelOptions:{style:{color:"#666666"}}},M.annotationsOptions,M.bindings.fibonacci.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),A]},parallelChannel:{className:"highcharts-parallel-channel",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"parallelChannel",type:"tunnel",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:d,y:p},{x:d,y:p}]}},M.annotationsOptions,M.bindings.parallelChannel.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),A]},pitchfork:{className:"highcharts-pitchfork",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=l.value,p=f.value,M=this.chart.options.navigation,k=h({langKey:"pitchfork",type:"pitchfork",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value,y:f.value,controlPoint:{style:{fill:"#f21313"}}},{x:d,y:p},{x:d,y:p}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},M.annotationsOptions,M.bindings.pitchfork.annotationsOptions);return this.chart.addAnnotation(k)},steps:[v(1),v(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(g){const u=I(g,this.chart);if(!u)return;this.verticalCounter=this.verticalCounter||0;const l=this.chart.options.navigation,f=h({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40,text:this.verticalCounter.toString()}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalCounter.annotationsOptions),d=this.chart.addAnnotation(f);this.verticalCounter++,d.options.events.click.call(d,{})}},timeCycles:{className:"highcharts-time-cycles",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=h({langKey:"timeCycles",type:"timeCycles",typeOptions:{xAxis:u.xAxis,yAxis:u.yAxis,points:[{x:u.x},{x:u.x}],line:{stroke:"rgba(0, 0, 0, 0.75)",fill:"transparent",strokeWidth:2}}},l.annotationsOptions,l.bindings.timeCycles.annotationsOptions),d=this.chart.addAnnotation(f);return d.options.events.click.call(d,{}),d},steps:[v(1)]},verticalLabel:{className:"highcharts-vertical-label",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=h({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalLabel.annotationsOptions),d=this.chart.addAnnotation(f);d.options.events.click.call(d,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(g){const u=I(g,this.chart);if(!u)return;const l=this.chart.options.navigation,f=h({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:u.x,y:u.y,xAxis:u.xAxis,yAxis:u.yAxis},label:{offset:u.below?40:-40,format:" "},connector:{fill:"none",stroke:u.below?"#f21313":"#06b535"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},l.annotationsOptions,l.bindings.verticalArrow.annotationsOptions),d=this.chart.addAnnotation(f);d.options.events.click.call(d,{})}},fibonacciTimeZones:{className:"highcharts-fibonacci-time-zones",start:function(g){const u=this.chart.pointer.getCoordinates(g),l=_(u.xAxis),f=_(u.yAxis);if(!l||!f)return;const d=this.chart.options.navigation,p=h({type:"fibonacciTimeZones",langKey:"fibonacciTimeZones",typeOptions:{xAxis:l.axis.options.index,yAxis:f.axis.options.index,points:[{x:l.value}]}},d.annotationsOptions,d.bindings.fibonacciTimeZones.annotationsOptions);return this.chart.addAnnotation(p)},steps:[function(g,u){const l=u.options.typeOptions.points,f=l&&l[0].x,d=this.chart.pointer.getCoordinates(g),p=_(d.xAxis),M=_(d.yAxis);u.update({typeOptions:{xAxis:p.axis.options.index,yAxis:M.axis.options.index,points:[{x:f},{x:p.value}]}})}]},flagCirclepin:{className:"highcharts-flag-circlepin",start:L("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:L("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:L("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:L("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(g){this.chart.update({chart:{zooming:{type:"x"}}}),x(this,"deselectButton",{button:g})}},zoomY:{className:"highcharts-zoom-y",init:function(g){this.chart.update({chart:{zooming:{type:"y"}}}),x(this,"deselectButton",{button:g})}},zoomXY:{className:"highcharts-zoom-xy",init:function(g){this.chart.update({chart:{zooming:{type:"xy"}}}),x(this,"deselectButton",{button:g})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(g){this.chart.series[0].update({type:"line",useOhlcData:!0}),x(this,"deselectButton",{button:g})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(g){this.chart.series[0].update({type:"ohlc"}),x(this,"deselectButton",{button:g})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(g){this.chart.series[0].update({type:"candlestick"}),x(this,"deselectButton",{button:g})}},seriesTypeHeikinAshi:{className:"highcharts-series-type-heikinashi",init:function(g){this.chart.series[0].update({type:"heikinashi"}),x(this,"deselectButton",{button:g})}},seriesTypeHLC:{className:"highcharts-series-type-hlc",init:function(g){this.chart.series[0].update({type:"hlc",useOhlcData:!0}),x(this,"deselectButton",{button:g})}},seriesTypeHollowCandlestick:{className:"highcharts-series-type-hollowcandlestick",init:function(g){this.chart.series[0].update({type:"hollowcandlestick"}),x(this,"deselectButton",{button:g})}},fullScreen:{className:"highcharts-full-screen",noDataState:"normal",init:function(g){this.chart.fullscreen&&this.chart.fullscreen.toggle(),x(this,"deselectButton",{button:g})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(g){const u=this.chart,l=u.series,f=u.stockTools,d=i(u.series);f&&f.guiEnabled&&(l.forEach(function(p){p.update({lastPrice:{enabled:!d},lastVisiblePrice:{enabled:!d,label:{enabled:!0}}},!1)}),u.redraw()),x(this,"deselectButton",{button:g})}},indicators:{className:"highcharts-indicators",init:function(){const g=this;x(g,"showPopup",{formType:"indicators",options:{},onSubmit:function(u){T.call(g,u)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(g){const u=this.chart,l=u.stockTools,f=l.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(u.annotations||[]).forEach(function(d){d.setVisibility(!this.toggledAnnotations)},this),l&&l.guiEnabled&&(g.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+f+'annotations-hidden.svg")':'url("'+f+'annotations-visible.svg")'),x(this,"deselectButton",{button:g})}},saveChart:{className:"highcharts-save-chart",noDataState:"normal",init:function(g){const l=this.chart,f=[],d=[],p=[],M=[];l.annotations.forEach(function(k,a){f[a]=k.userOptions}),l.series.forEach(function(k){k.is("sma")?d.push(k.userOptions):"flags"===k.type&&p.push(k.userOptions)}),l.yAxis.forEach(function(k){E(k)&&M.push(k.options)}),X.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:f,indicators:d,flags:p,yAxes:M})),x(this,"deselectButton",{button:g})}}}}),V(D,"Stock/StockTools/StockToolsDefaults.js",[],function(){return{lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",typeHLC:"HLC",typeHollowCandlestick:"Hollow Candlestick",typeHeikinAshi:"Heikin Ashi",circle:"Circle",ellipse:"Ellipse",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",timeCycles:"Time Cycles"}},navigation:{popup:{circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",timeCycles:"Time Cycles",flags:"Flags",addButton:"Add",saveButton:"Save",editButton:"Edit",removeButton:"Remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background",noFilterMatch:"No match",searchIndicators:"Search Indicators",clearFilter:"\u2715 clear filter",index:"Index",period:"Period",periods:"Periods",standardDeviation:"Standard deviation",periodTenkan:"Tenkan period",periodSenkouSpanB:"Senkou Span B period",periodATR:"ATR period",multiplierATR:"ATR multiplier",shortPeriod:"Short period",longPeriod:"Long period",signalPeriod:"Signal period",decimals:"Decimals",algorithm:"Algorithm",topBand:"Top band",bottomBand:"Bottom band",initialAccelerationFactor:"Initial acceleration factor",maxAccelerationFactor:"Max acceleration factor",increment:"Increment",multiplier:"Multiplier",ranges:"Ranges",highIndex:"High index",lowIndex:"Low index",deviation:"Deviation",xAxisUnit:"x-axis unit",factor:"Factor",fastAvgPeriod:"Fast average period",slowAvgPeriod:"Slow average period",average:"Average",indicatorAliases:{abands:["Acceleration Bands"],bb:["Bollinger Bands"],dema:["Double Exponential Moving Average"],ema:["Exponential Moving Average"],ikh:["Ichimoku Kinko Hyo"],keltnerchannels:["Keltner Channels"],linearRegression:["Linear Regression"],pivotpoints:["Pivot Points"],pc:["Price Channel"],priceenvelopes:["Price Envelopes"],psar:["Parabolic SAR"],sma:["Simple Moving Average"],supertrend:["Super Trend"],tema:["Triple Exponential Moving Average"],vbp:["Volume by Price"],vwap:["Volume Weighted Moving Average"],wma:["Weighted Moving Average"],zigzag:["Zig Zag"],apo:["Absolute price indicator"],ad:["Accumulation/Distribution"],aroon:["Aroon"],aroonoscillator:["Aroon oscillator"],atr:["Average True Range"],ao:["Awesome oscillator"],cci:["Commodity Channel Index"],chaikin:["Chaikin"],cmf:["Chaikin Money Flow"],cmo:["Chande Momentum Oscillator"],disparityindex:["Disparity Index"],dmi:["Directional Movement Index"],dpo:["Detrended price oscillator"],klinger:["Klinger Oscillator"],linearRegressionAngle:["Linear Regression Angle"],linearRegressionIntercept:["Linear Regression Intercept"],linearRegressionSlope:["Linear Regression Slope"],macd:["Moving Average Convergence Divergence"],mfi:["Money Flow Index"],momentum:["Momentum"],natr:["Normalized Average True Range"],obv:["On-Balance Volume"],ppo:["Percentage Price oscillator"],roc:["Rate of Change"],rsi:["Relative Strength Index"],slowstochastic:["Slow Stochastic"],stochastic:["Stochastic"],trix:["TRIX"],williamsr:["Williams %R"]}}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:["indicators","separator","simpleShapes","lines","crookedLines","measure","advanced","toggleAnnotations","separator","verticalLabels","flags","separator","zoomChange","fullScreen","typeChange","separator","currentPriceIndicator","saveChart"],definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","ellipse","rectangle"],circle:{symbol:"circle.svg"},ellipse:{symbol:"ellipse.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:["segment","arrowSegment","ray","arrowRay","line","arrowInfinityLine","horizontalLine","verticalLine"],segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowInfinityLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","fibonacciTimeZones","pitchfork","parallelChannel","timeCycles"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},fibonacciTimeZones:{symbol:"fibonacci-timezone.svg"},parallelChannel:{symbol:"parallel-channel.svg"},timeCycles:{symbol:"time-cycles.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick","typeHollowCandlestick","typeHLC","typeHeikinAshi"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"},typeHLC:{symbol:"series-hlc.svg"},typeHeikinAshi:{symbol:"series-heikin-ashi.svg"},typeHollowCandlestick:{symbol:"series-hollow-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}}),V(D,"Stock/StockTools/StockTools.js",[D["Core/Defaults.js"],D["Extensions/Annotations/NavigationBindingsUtilities.js"],D["Stock/StockTools/StockToolsBindings.js"],D["Stock/StockTools/StockToolsDefaults.js"],D["Stock/StockTools/StockToolsUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{setOptions:I}=X,{getAssignedAxis:E}=F,{isNotNavigatorYAxis:i,isPriceIndicatorEnabled:T}=_,{correctFloat:A,defined:v,isNumber:y,pick:x}=L,h=[];function g(p,M,k,a){let s,t,e,o=0;function n(r){return v(r)&&!y(r)&&r.match("%")}return a&&(e=A(parseFloat(a.top)/100),t=A(parseFloat(a.height)/100)),{positions:p.map((r,C)=>{let b=A(n(r.options.height)?parseFloat(r.options.height)/100:r.height/M),P=A(n(r.options.top)?parseFloat(r.options.top)/100:(r.top-r.chart.plotTop)/M);return t?(P>e&&(P-=t),o=Math.max(o,(P||0)+(b||0))):(y(b)||(b=p[C-1].series.every(S=>S.is("sma"))?s:k/100),y(P)||(P=o),s=b,o=A(Math.max(o,(P||0)+(b||0)))),{height:100*b,top:100*P}}),allAxesHeight:o}}function u(p){const M=[];return p.forEach(function(k,a){const o=p[a+1];M[a]=o?{enabled:!0,controlledAxis:{next:[x(o.options.id,o.options.index)]}}:{enabled:!1}}),M}function l(p,M,k,a){return p.forEach(function(o,s){const t=p[s-1];o.top=t?A(t.height+t.top):0,k&&(o.height=A(o.height+a*M))}),p}function f(p){const k=this.chart,a=k.yAxis.filter(i),o=k.plotHeight,{positions:s,allAxesHeight:t}=this.getYAxisPositions(a,o,20,p),e=this.getYAxisResizers(a);!p&&t<=A(1)?s[s.length-1]={height:20,top:A(100*t-20)}:s.forEach(function(n){n.height=n.height/(100*t)*100,n.top=n.top/(100*t)*100}),s.forEach(function(n,c){a[c].update({height:n.height+"%",top:n.top+"%",resize:e[c],offset:0},!1)})}return{compose:function m(p){if(L.pushUnique(h,p)){const M=p.prototype;M.getYAxisPositions=g,M.getYAxisResizers=u,M.recalculateYAxisPositions=l,M.resizeYAxes=f,M.utils={indicatorsWithAxes:_.indicatorsWithAxes,indicatorsWithVolume:_.indicatorsWithVolume,getAssignedAxis:E,isPriceIndicatorEnabled:T,manageIndicators:_.manageIndicators}}L.pushUnique(h,I)&&(I(U),I({navigation:{bindings:j}}))}}}),V(D,"Stock/StockTools/StockToolbar.js",[D["Core/Utilities.js"]],function(X){const{addEvent:F,createElement:j,css:U,fireEvent:_,getStyle:L,isArray:I,merge:E,pick:i}=X;class T{constructor(v,y,x){this.arrowDown=void 0,this.arrowUp=void 0,this.arrowWrapper=void 0,this.listWrapper=void 0,this.showhideBtn=void 0,this.submenu=void 0,this.toolbar=void 0,this.wrapper=void 0,this.chart=x,this.options=v,this.lang=y,this.iconsURL=this.getIconsURL(),this.guiEnabled=v.enabled,this.visible=i(v.visible,!0),this.placed=i(v.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),_(this,"afterInit")}init(){const v=this.lang,y=this.options,x=this.toolbar,m=y.definitions,g=x.childNodes;y.buttons.forEach(u=>{const l=this.addButton(x,m,u,v);this.eventsToUnbind.push(F(l.buttonWrapper,"click",()=>this.eraseActiveButtons(g,l.buttonWrapper))),I(m[u].items)&&this.addSubmenu(l,m[u])})}addSubmenu(v,y){const x=v.submenuArrow,h=v.buttonWrapper,m=L(h,"width"),g=this.wrapper,u=this.listWrapper,l=this.toolbar.childNodes,f=this.submenu=j("ul",{className:"highcharts-submenu-wrapper"},void 0,h);this.addSubmenuItems(h,y),this.eventsToUnbind.push(F(x,"click",d=>{if(d.stopPropagation(),this.eraseActiveButtons(l,h),h.className.indexOf("highcharts-current")>=0)u.style.width=u.startWidth+"px",h.classList.remove("highcharts-current"),f.style.display="none";else{f.style.display="block";let p=f.offsetHeight-h.offsetHeight-3;f.offsetHeight+h.offsetTop>g.offsetHeight&&h.offsetTop>p||(p=0),U(f,{top:-p+"px",left:m+3+"px"}),h.className+=" highcharts-current",u.startWidth=g.offsetWidth,u.style.width=u.startWidth+L(u,"padding-left")+f.offsetWidth+3+"px"}}))}addSubmenuItems(v,y){const x=this,h=this.submenu,m=this.lang,g=this.listWrapper;let l;y.items.forEach(d=>{l=this.addButton(h,y,d,m),this.eventsToUnbind.push(F(l.mainButton,"click",function(){x.switchSymbol(this,v,!0),g.style.width=g.startWidth+"px",h.style.display="none"}))});const f=h.querySelectorAll("li > .highcharts-menu-item-btn")[0];this.switchSymbol(f,!1)}eraseActiveButtons(v,y,x){[].forEach.call(v,h=>{h!==y&&(h.classList.remove("highcharts-current"),h.classList.remove("highcharts-active"),(x=h.querySelectorAll(".highcharts-submenu-wrapper")).length>0&&(x[0].style.display="none"))})}addButton(v,y,x,h={}){const m=y[x],g=m.items,l=m.className||"",f=j("li",{className:i(T.prototype.classMapping[x],"")+" "+l,title:h[x]||x},void 0,v),d=j("span",{className:"highcharts-menu-item-btn"},void 0,f);if(g&&g.length){const p=j("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},void 0,f);return p.style.backgroundImage="url("+this.iconsURL+"arrow-bottom.svg)",{buttonWrapper:f,mainButton:d,submenuArrow:p}}return d.style.backgroundImage="url("+this.iconsURL+m.symbol+")",{buttonWrapper:f,mainButton:d}}addNavigation(){const v=this.wrapper;this.arrowWrapper=j("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=j("div",{className:"highcharts-arrow-up"},void 0,this.arrowWrapper),this.arrowUp.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=j("div",{className:"highcharts-arrow-down"},void 0,this.arrowWrapper),this.arrowDown.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",v.insertBefore(this.arrowWrapper,v.childNodes[0]),this.scrollButtons()}scrollButtons(){const v=this.wrapper,y=this.toolbar,x=.1*v.offsetHeight;let h=0;this.eventsToUnbind.push(F(this.arrowUp,"click",()=>{h>0&&(h-=x,y.style.marginTop=-h+"px")})),this.eventsToUnbind.push(F(this.arrowDown,"click",()=>{v.offsetHeight+h<=y.offsetHeight+x&&(h+=x,y.style.marginTop=-h+"px")}))}createHTML(){const v=this.chart,y=this.options,x=v.container,h=v.options.navigation;let g,u;const l=this.wrapper=j("div",{className:"highcharts-stocktools-wrapper "+y.className+" "+(h&&h.bindingsClassName)});x.appendChild(l),["mousedown","mousemove","click","touchstart"].forEach(f=>{F(l,f,d=>d.stopPropagation())}),F(l,"mouseover",f=>v.pointer.onContainerMouseLeave(f)),this.toolbar=u=j("ul",{className:"highcharts-stocktools-toolbar "+y.toolbarClassName}),this.listWrapper=g=j("div",{className:"highcharts-menu-wrapper"}),l.insertBefore(g,l.childNodes[0]),g.insertBefore(u,g.childNodes[0]),this.showHideToolbar(),this.addNavigation()}showHideNavigatorion(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")}showHideToolbar(){const v=this.chart,y=this.wrapper,x=this.listWrapper,h=this.submenu,m=this.showhideBtn=j("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},void 0,y);let g=this.visible;m.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",g?(y.style.height="100%",m.style.top=L(x,"padding-top")+"px",m.style.left=y.offsetWidth+L(x,"padding-left")+"px"):(h&&(h.style.display="none"),m.style.left="0px",g=this.visible=!1,x.classList.add("highcharts-hide"),m.classList.toggle("highcharts-arrow-right"),y.style.height=m.offsetHeight+"px"),this.eventsToUnbind.push(F(m,"click",()=>{v.update({stockTools:{gui:{visible:!g,placed:!0}}})}))}switchSymbol(v,y){const x=v.parentNode,h=x.className,m=x.parentNode.parentNode;h.indexOf("highcharts-disabled-btn")>-1||(m.className="",h&&m.classList.add(h.trim()),m.querySelectorAll(".highcharts-menu-item-btn")[0].style.backgroundImage=v.style.backgroundImage,y&&this.toggleButtonActiveClass(m))}toggleButtonActiveClass(v){const y=v.classList;y.contains("highcharts-active")?y.remove("highcharts-active"):y.add("highcharts-active")}unselectAllButtons(v){const y=v.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(y,x=>{x!==v&&x.classList.remove("highcharts-active")})}update(v,y){E(!0,this.chart.options.stockTools,v),this.destroy(),this.chart.setStockTools(v),this.chart.navigationBindings&&this.chart.navigationBindings.update(),this.chart.isDirtyBox=!0,i(y,!0)&&this.chart.redraw()}destroy(){const v=this.wrapper,y=v&&v.parentNode;this.eventsToUnbind.forEach(x=>x()),y&&y.removeChild(v)}redraw(){this.showHideNavigatorion()}getIconsURL(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/11.0.0/gfx/stock-icons/"}}return T.prototype.classMapping={circle:"highcharts-circle-annotation",ellipse:"highcharts-ellipse-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowInfinityLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",fibonacciTimeZones:"highcharts-fibonacci-time-zones",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",timeCycles:"highcharts-time-cycles",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeHLC:"highcharts-series-type-hlc",typeCandlestick:"highcharts-series-type-candlestick",typeHollowCandlestick:"highcharts-series-type-hollowcandlestick",typeHeikinAshi:"highcharts-series-type-heikinashi",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},T}),V(D,"Stock/StockTools/StockToolsGui.js",[D["Core/Defaults.js"],D["Stock/StockTools/StockToolsDefaults.js"],D["Stock/StockTools/StockToolbar.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{setOptions:_}=X,{addEvent:L,getStyle:I,merge:E,pick:i}=U,T=[];function A(p){const M=this.options,k=M.lang,a=E(M.stockTools&&M.stockTools.gui,p&&p.gui);this.stockTools=new j(a,k&&k.stockTools&&k.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}function y(){this.setStockTools()}function x(){if(this.stockTools){const p=this.options.chart,M=this.stockTools.listWrapper,k=M&&(M.startWidth+I(M,"padding-left")+I(M,"padding-right")||M.offsetWidth);let a=!1;if(k&&k<this.plotWidth){const o=i(p.spacingLeft,p.spacing&&p.spacing[3],0)+k,s=o-this.spacingBox.x;this.spacingBox.x=o,this.spacingBox.width-=s,a=!0}else 0===k&&(a=!0);k!==this.stockTools.prevOffsetWidth&&(this.stockTools.prevOffsetWidth=k,a&&(this.isDirtyLegend=!0))}}function h(){this.stockTools&&this.stockTools.destroy()}function m(){const p=this.stockTools&&this.stockTools.listWrapper,M=p&&(p.startWidth+I(p,"padding-left")+I(p,"padding-right")||p.offsetWidth);M&&M<this.plotWidth&&(this.plotLeft+=M,this.spacing[3]+=M)}function g(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}function u(){const p=this.stockTools,M=p&&p.toolbar&&p.toolbar.querySelector(".highcharts-current-price-indicator");p&&this.navigationBindings&&this.options.series&&M&&(M.firstChild.style["background-image"]=this.navigationBindings.constructor.prototype.utils.isPriceIndicatorEnabled(this.series)?'url("'+p.getIconsURL()+'current-price-hide.svg")':'url("'+p.getIconsURL()+'current-price-show.svg")')}function l(p){const k=this.chart.stockTools;if(k&&k.guiEnabled){let a=p.button;a.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(a=a.parentNode.parentNode),k.toggleButtonActiveClass(a)}}function f(p){const k=this.chart.stockTools;if(k&&k.guiEnabled){let a=p.button;k.unselectAllButtons(p.button),a.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(a=a.parentNode.parentNode),k.toggleButtonActiveClass(a)}}return{compose:function v(p,M){U.pushUnique(T,p)&&(L(p,"afterGetContainer",y),L(p,"beforeRedraw",x),L(p,"beforeRender",x),L(p,"destroy",h),L(p,"getMargins",m,{order:0}),L(p,"redraw",g),L(p,"render",u),p.prototype.setStockTools=A),U.pushUnique(T,M)&&(L(M,"deselectButton",l),L(M,"selectButton",f)),U.pushUnique(T,_)&&_(F)}}}),V(D,"masters/modules/stock-tools.src.js",[D["Core/Globals.js"],D["Extensions/Annotations/NavigationBindings.js"],D["Stock/StockTools/StockTools.js"],D["Stock/StockTools/StockToolsGui.js"],D["Stock/StockTools/StockToolbar.js"]],function(X,F,j,U,_){const L=X;L.Toolbar=_,j.compose(F),U.compose(L.Chart,F)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470),ct(1335)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},1335:(Ct,Bt,ct)=>{"use strict";var Mt,At,Q;Q=function(Q){function D(V,X,F,j){V.hasOwnProperty(X)||(V[X]=j.apply(null,F),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:X,module:V[X]}})))}D(Q=Q?Q._modules:{},"Core/Axis/BrokenAxis.js",[Q["Core/Axis/Stacking/StackItem.js"],Q["Core/Utilities.js"]],function(V,X){const{addEvent:F,find:j,fireEvent:U,isArray:_,isNumber:L,pick:I}=X;var E;return function(i){function T(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function A(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function v(){const f=this.brokenAxis;if(f&&f.hasBreaks){const d=this.tickPositions,p=this.tickPositions.info,M=[];for(let k=0;k<d.length;k++)f.isInAnyBreak(d[k])||M.push(d[k]);this.tickPositions=M,this.tickPositions.info=p}}function y(){this.brokenAxis||(this.brokenAxis=new l(this))}function x(){const{isDirty:f,options:{connectNulls:d},points:p,xAxis:M,yAxis:k}=this;if(f){let a=p.length;for(;a--;){const o=p[a],s=!(null===o.y&&!1===d)&&(M&&M.brokenAxis&&M.brokenAxis.isInAnyBreak(o.x,!0)||k&&k.brokenAxis&&k.brokenAxis.isInAnyBreak(o.y,!0));o.visible=!s&&!1!==o.options.visible}}}function h(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,I(this.pointArrayMap,["y"]))}function m(f,d){const p=this,M=p.points;let k,a,o,s;if(f&&f.brokenAxis&&f.brokenAxis.hasBreaks){const t=f.brokenAxis;d.forEach(function(e){k=t&&t.breakArray||[],a=f.isXAxis?f.min:I(p.options.threshold,f.min),M.forEach(function(n){s=I(n["stack"+e.toUpperCase()],n[e]),k.forEach(function(c){L(a)&&L(s)&&(o=!1,a<c.from&&s>c.to||a>c.from&&s<c.from?o="pointBreak":(a<c.from&&s>c.from&&s<c.to||a>c.from&&s>c.to&&s<c.from)&&(o="pointInBreak"),o&&U(f,o,{point:n,brk:c}))})})})}}function g(){var f=this.currentDataGrouping,d=f&&f.gapSize;f=this.points.slice();const p=this.yAxis;let M=this.options.gapSize,k=f.length-1;var a;if(M&&0<k)for("value"!==this.options.gapUnit&&(M*=this.basePointRange),d&&d>M&&d>=this.basePointRange&&(M=d);k--;)a&&!1!==a.visible||(a=f[k+1]),d=f[k],!1!==a.visible&&!1!==d.visible&&(a.x-d.x>M&&(f.splice(k+1,0,{isNull:!0,x:a=(d.x+a.x)/2}),p.stacking&&this.options.stacking&&((a=p.stacking.stacks[this.stackKey][a]=new V(p,p.options.stackLabels,!1,a,this.stack)).total=0)),a=d);return this.getGraphPath(f)}const u=[];i.compose=function(f,d){if(X.pushUnique(u,f)&&(f.keepProps.push("brokenAxis"),F(f,"init",y),F(f,"afterInit",T),F(f,"afterSetTickPositions",v),F(f,"afterSetOptions",A)),X.pushUnique(u,d)){const p=d.prototype;p.drawBreaks=m,p.gappedPath=g,F(d,"afterGeneratePoints",x),F(d,"afterRender",h)}return f};class l{static isInBreak(d,p){const M=d.repeat||1/0,k=d.from,a=d.to-d.from;return p=p>=k?(p-k)%M:M-(k-p)%M,d.inclusive?p<=a:p<a&&0!==p}static lin2Val(d){var p=this.brokenAxis;if(!(p=p&&p.breakArray)||!L(d))return d;let M,k;for(k=0;k<p.length&&(M=p[k],!(M.from>=d));k++)(M.to<d||l.isInBreak(M,d))&&(d+=M.len);return d}static val2Lin(d){var p=this.brokenAxis;if(!(p=p&&p.breakArray)||!L(d))return d;let k,a,M=d;for(a=0;a<p.length;a++)if(k=p[a],k.to<=d)M-=k.len;else{if(k.from>=d)break;if(l.isInBreak(k,d)){M-=d-k.from;break}}return M}constructor(d){this.hasBreaks=!1,this.axis=d}findBreakAt(d,p){return j(p,function(M){return M.from<d&&d<M.to})}isInAnyBreak(d,p){const M=this.axis,k=M.options.breaks||[];let o,s,t,a=k.length;if(a&&L(d)){for(;a--;)l.isInBreak(k[a],d)&&(o=!0,s||(s=I(k[a].showPoints,!M.isXAxis)));t=o&&p?o&&!s:o}return t}setBreaks(d,p){const M=this,k=M.axis,a=_(d)&&!!d.length;k.isDirty=M.hasBreaks!==a,M.hasBreaks=a,k.options.breaks=k.userOptions.breaks=d,k.forceRedraw=!0,k.series.forEach(function(o){o.isDirty=!0}),a||k.val2lin!==l.val2Lin||(delete k.val2lin,delete k.lin2val),a&&(k.userOptions.ordinal=!1,k.lin2val=l.lin2Val,k.val2lin=l.val2Lin,k.setExtremes=function(o,s,t,e,n){if(M.hasBreaks){const c=this.options.breaks||[];let r;for(;r=M.findBreakAt(o,c);)o=r.to;for(;r=M.findBreakAt(s,c);)s=r.from;s<o&&(s=o)}k.constructor.prototype.setExtremes.call(this,o,s,t,e,n)},k.setAxisTranslation=function(){if(k.constructor.prototype.setAxisTranslation.call(this),M.unitLength=void 0,M.hasBreaks){const o=k.options.breaks||[],s=[],t=[],e=I(k.pointRangePadding,0);let c,r,P,S,n=0,C=k.userMin||k.min,b=k.userMax||k.max;o.forEach(function(w){r=w.repeat||1/0,L(C)&&L(b)&&(l.isInBreak(w,C)&&(C+=w.to%r-C%r),l.isInBreak(w,b)&&(b-=b%r-w.from%r))}),o.forEach(function(w){if(P=w.from,r=w.repeat||1/0,L(C)&&L(b)){for(;P-r>C;)P-=r;for(;P<C;)P+=r;for(S=P;S<b;S+=r)s.push({value:S,move:"in"}),s.push({value:S+w.to-w.from,move:"out",size:w.breakSize})}}),s.sort(function(w,B){return w.value===B.value?("in"===w.move?0:1)-("in"===B.move?0:1):w.value-B.value}),c=0,P=C,s.forEach(function(w){c+="in"===w.move?1:-1,1===c&&"in"===w.move&&(P=w.value),0===c&&L(P)&&(t.push({from:P,to:w.value,len:w.value-P-(w.size||0)}),n+=w.value-P-(w.size||0))}),M.breakArray=t,L(C)&&L(b)&&L(k.min)&&(M.unitLength=b-C-n+e,U(k,"afterBreaks"),k.staticScale?k.transA=k.staticScale:M.unitLength&&(k.transA*=(b-k.min+e)/M.unitLength),e&&(k.minPixelPadding=k.transA*(k.minPointOffset||0)),k.min=C,k.max=b)}}),I(p,!0)&&k.chart.redraw()}}i.Additions=l}(E||(E={})),E}),D(Q,"masters/modules/broken-axis.src.js",[Q["Core/Globals.js"],Q["Core/Axis/BrokenAxis.js"]],function(V,X){X.compose(V.Axis,V.Series)}),D(Q,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),D(Q,"Extensions/DataGrouping/ApproximationDefaults.js",[Q["Extensions/DataGrouping/ApproximationRegistry.js"],Q["Core/Utilities.js"]],function(V,X){function F(i){const T=i.length;return i=j(i),E(i)&&T&&(i=L(i/T)),i}function j(i){let A,T=i.length;if(!T&&i.hasNulls)A=null;else if(T)for(A=0;T--;)A+=i[T];return A}const{arrayMax:U,arrayMin:_,correctFloat:L,extend:I,isNumber:E}=X;return X={average:F,averages:function(){const i=[];return[].forEach.call(arguments,function(T){i.push(F(T))}),typeof i[0]>"u"?void 0:i},close:function(i){return i.length?i[i.length-1]:i.hasNulls?null:void 0},high:function(i){return i.length?U(i):i.hasNulls?null:void 0},hlc:function(i,T,A){if(i=V.high(i),T=V.low(T),A=V.close(A),E(i)||E(T)||E(A))return[i,T,A]},low:function(i){return i.length?_(i):i.hasNulls?null:void 0},ohlc:function(i,T,A,v){if(i=V.open(i),T=V.high(T),A=V.low(A),v=V.close(v),E(i)||E(T)||E(A)||E(v))return[i,T,A,v]},open:function(i){return i.length?i[0]:i.hasNulls?null:void 0},range:function(i,T){return i=V.low(i),T=V.high(T),E(i)||E(T)?[i,T]:null===i&&null===T?null:void 0},sum:j},I(V,X),X}),D(Q,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),D(Q,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[Q["Extensions/DataGrouping/DataGroupingDefaults.js"],Q["Core/Utilities.js"]],function(V,X){function F(v){const y=this,x=y.series;x.forEach(function(h){h.groupPixelWidth=void 0}),x.forEach(function(h){h.groupPixelWidth=y.getGroupPixelWidth&&y.getGroupPixelWidth(),h.groupPixelWidth&&(h.hasProcessed=!0),h.applyGrouping(!!v.hasExtremesChanged)})}function j(){const v=this.series;let m,g,y=v.length,x=0,h=!1;for(;y--;)(g=v[y].options.dataGrouping)&&(x=Math.max(x,i(g.groupPixelWidth,V.common.groupPixelWidth)),m=(v[y].processedXData||v[y].data).length,(v[y].groupPixelWidth||m>this.chart.plotSizeX/x||m&&g.forced)&&(h=!0));return h?x:0}function U(){this.series.forEach(function(v){v.hasProcessed=!1})}function _(v,y){let x;if(y=i(y,!0),v||(v={forced:!1,units:null}),this instanceof A)for(x=this.series.length;x--;)this.series[x].update({dataGrouping:v},!1);else this.chart.options.series.forEach(function(h){h.dataGrouping="boolean"==typeof v?v:E(v,h.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),y&&this.chart.redraw()}const{addEvent:L,extend:I,merge:E,pick:i}=X,T=[];let A;return{compose:function(v){A=v,X.pushUnique(T,v)&&(L(v,"afterSetScale",U),L(v,"postProcessData",F),I(v.prototype,{applyGrouping:F,getGroupPixelWidth:j,setDataGrouping:_}))}}}),D(Q,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[Q["Extensions/DataGrouping/ApproximationRegistry.js"],Q["Extensions/DataGrouping/DataGroupingDefaults.js"],Q["Core/Axis/DateTimeAxis.js"],Q["Core/Defaults.js"],Q["Core/Series/SeriesRegistry.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_){function L(p){var M=this.chart,k=this.options.dataGrouping,a=!1!==this.allowDG&&k&&l(k.enabled,M.options.isStock),o=this.visible||!M.options.chart.ignoreHiddenSeries;const s=this.currentDataGrouping;var t=!1;if(a&&!this.requireSorting&&(this.requireSorting=t=!0),p=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||p)||!a,t&&(this.requireSorting=!1),!p){this.destroyGroupedData(),p=k.groupAll?this.xData:this.processedXData,a=k.groupAll?this.yData:this.processedYData;var r,e=M.plotSizeX,n=(t=this.xAxis).options.ordinal,c=this.groupPixelWidth;let N;if(c&&p&&p.length&&e){this.isDirty=N=!0,this.points=null;var C=t.getExtremes(),b=C.min;C=C.max,n=n&&t.ordinal&&t.ordinal.getGroupIntervalFactor(b,C,this)||1,e=t.getTimeTicks(F.Additions.prototype.normalizeTimeTickInterval(c*(C-b)/e*n,k.units||X.units),Math.min(b,p[0]),Math.max(C,p[p.length-1]),t.options.startOfWeek,p,this.closestPointRange),p=(c=v.groupData.apply(this,[p,a,e,k.approximation])).groupedXData,a=c.groupedYData,n=0,k&&k.smoothed&&p.length&&(k.firstAnchor="firstPoint",k.anchor="middle",k.lastAnchor="lastPoint",h(32,!1,M,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),M=p;var P=C,S=this.options.dataGrouping;if(C=this.currentDataGrouping&&this.currentDataGrouping.gapSize,S&&this.xData&&C&&this.groupMap){b=M.length-1;var w=S.anchor;const O=l(S.firstAnchor,w);if(S=l(S.lastAnchor,w),w&&"start"!==w){var B=C*{middle:.5,end:1}[w];for(w=M.length-1;w--&&0<w;)M[w]+=B}O&&"start"!==O&&this.xData[0]>=M[0]&&(B=this.groupMap[0].length,g(w=this.groupMap[0].start)&&g(B)&&(r=w+(B-1)),M[0]={middle:M[0]+.5*C,end:M[0]+C,firstPoint:this.xData[0],lastPoint:r&&this.xData[r]}[O]),S&&"start"!==S&&C&&M[b]>=P-C&&(M[b]={middle:M[b]+.5*C,end:M[b]+C,firstPoint:(r=this.groupMap[this.groupMap.length-1].start)&&this.xData[r],lastPoint:this.xData[this.xData.length-1]}[S])}for(r=1;r<e.length;r++)e.info.segmentStarts&&-1!==e.info.segmentStarts.indexOf(r)||(n=Math.max(e[r]-e[r-1],n));(C=e.info).gapSize=n,this.closestPointRange=e.info.totalRange,this.groupMap=c.groupMap,o&&(o=t,x((r=p)[0])&&g(o.min)&&g(o.dataMin)&&r[0]<o.min&&((!x(o.options.min)&&o.min<=o.dataMin||o.min===o.dataMin)&&(o.min=Math.min(r[0],o.min)),o.dataMin=Math.min(r[0],o.dataMin)),x(r[r.length-1])&&g(o.max)&&g(o.dataMax)&&r[r.length-1]>o.max&&((!x(o.options.max)&&g(o.dataMax)&&o.max>=o.dataMax||o.max===o.dataMax)&&(o.max=Math.max(r[r.length-1],o.max)),o.dataMax=Math.max(r[r.length-1],o.dataMax))),k.groupAll&&(this.allGroupedData=a,p=(k=this.cropData(p,a,t.min,t.max,1)).xData,a=k.yData,this.cropStart=k.start),this.processedXData=p,this.processedYData=a}else this.groupMap=null;this.hasGroupedData=N,this.currentDataGrouping=C,this.preventGraphAnimation=(s&&s.totalRange)!==(C&&C.totalRange)}}function I(){this.groupedData&&(this.groupedData.forEach(function(p,M){p&&(this.groupedData[M]=p.destroy?p.destroy():null)},this),this.groupedData.length=0)}function E(){f.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function i(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function T(p,M,k,a){const o=this,s=o.data,t=o.options&&o.options.data,e=[],n=[],c=[],r=p.length,C=!!M,b=[],P=o.pointArrayMap,S=P&&P.length,w=["x"].concat(P||["y"]),B=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let N=0,O=0;if(a="function"==typeof a?a:a&&V[a]?V[a]:V[o.getDGApproximation&&o.getDGApproximation()||"average"],S)for(var Y=P.length;Y--;)b.push([]);else b.push([]);Y=S||1;for(let G=0;G<=r;G++)if(!(p[G]<k[0])){for(;typeof k[N+1]<"u"&&p[G]>=k[N+1]||G===r;){var z=k[N];o.dataGroupInfo={start:B?O:o.cropStart+O,length:b[0].length};var R=a.apply(o,b);for(o.pointClass&&!x(o.dataGroupInfo.options)&&(o.dataGroupInfo.options=u(o.pointClass.prototype.optionsToObject.call({series:o},o.options.data[o.cropStart+O])),w.forEach(function(H){delete o.dataGroupInfo.options[H]})),typeof R<"u"&&(e.push(z),n.push(R),c.push(o.dataGroupInfo)),O=G,z=0;z<Y;z++)b[z].length=0,b[z].hasNulls=!1;if(N+=1,G===r)break}if(G===r)break;if(P){z=o.options.dataGrouping&&o.options.dataGrouping.groupAll?G:o.cropStart+G,z=s&&s[z]||o.pointClass.prototype.applyOptions.apply({series:o},[t[z]]);for(let H=0;H<S;H++)g(R=z[P[H]])?b[H].push(R):null===R&&(b[H].hasNulls=!0)}else g(z=C?M[G]:null)?b[0].push(z):null===z&&(b[0].hasNulls=!0)}return{groupedXData:e,groupedYData:n,groupMap:c}}function A(p){p=p.options;const M=this.type,k=this.chart.options.plotOptions,a=this.useCommonDataGrouping&&X.common,o=X.seriesSpecific;let s=j.defaultOptions.plotOptions[M].dataGrouping;if(k&&(o[M]||a)){const t=this.chart.rangeSelector;s||(s=u(X.common,o[M])),p.dataGrouping=u(a,s,k.series&&k.series.dataGrouping,k[M].dataGrouping,this.userOptions.dataGrouping,!p.isInternal&&t&&g(t.selected)&&t.buttonOptions[t.selected].dataGrouping)}}const{series:{prototype:v}}=U,{addEvent:y,defined:x,error:h,extend:m,isNumber:g,merge:u,pick:l}=_,f=v.generatePoints,d=[];return{compose:function(p){const M=p.prototype.pointClass;_.pushUnique(d,M)&&y(M,"update",function(){if(this.dataGroup)return h(24,!1,this.series.chart),!1}),_.pushUnique(d,p)&&(y(p,"afterSetOptions",A),y(p,"destroy",I),m(p.prototype,{applyGrouping:L,destroyGroupedData:I,generatePoints:E,getDGApproximation:i,groupData:T}))},groupData:T}}),D(Q,"Extensions/DataGrouping/DataGrouping.js",[Q["Extensions/DataGrouping/DataGroupingAxisComposition.js"],Q["Extensions/DataGrouping/DataGroupingDefaults.js"],Q["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],Q["Core/FormatUtilities.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U){function _(A){const v=this.chart,y=v.time,x=A.labelConfig,h=x.series;var m=h.tooltipOptions,g=h.options.dataGrouping;const u=h.xAxis;var l=m.xDateFormat;let f,d,p=m[A.isFooter?"footerFormat":"headerFormat"];u&&"datetime"===u.options.type&&g&&i(x.key)&&(d=h.currentDataGrouping,g=g.dateTimeLabelFormats||X.common.dateTimeLabelFormats,d?(m=g[d.unitName],1===d.count?l=m[0]:(l=m[1],f=m[2])):!l&&g&&u.dateTime&&(l=u.dateTime.getXDateFormat(x.x,m.dateTimeLabelFormats)),l=y.dateFormat(l,x.key),f&&(l+=y.dateFormat(f,x.key+d.totalRange-1)),h.chart.styledMode&&(p=this.styledModeFormat(p)),A.text=L(p,{point:E(x.point,{key:l}),series:h},v),A.preventDefault())}const{format:L}=j,{addEvent:I,extend:E,isNumber:i}=U,T=[];return{compose:function(A,v,y){V.compose(A),F.compose(v),y&&U.pushUnique(T,y)&&I(y,"headerFormatter",_)},groupData:F.groupData}}),D(Q,"masters/modules/datagrouping.src.js",[Q["Core/Globals.js"],Q["Extensions/DataGrouping/ApproximationDefaults.js"],Q["Extensions/DataGrouping/ApproximationRegistry.js"],Q["Extensions/DataGrouping/DataGrouping.js"]],function(V,X,F,j){V.dataGrouping={approximationDefaults:X,approximations:F},j.compose(V.Axis,V.Series,V.Tooltip)}),D(Q,"Series/DataModifyComposition.js",[Q["Core/Axis/Axis.js"],Q["Core/Series/Point.js"],Q["Core/Series/Series.js"],Q["Core/Utilities.js"]],function(V,X,F,j){const{prototype:{tooltipFormatter:U}}=X,{addEvent:_,arrayMax:L,arrayMin:I,correctFloat:E,defined:i,isArray:T,isNumber:A,isString:v,pick:y}=j;var x;return function(h){function m(s,t,e){this.isXAxis||(this.series.forEach(function(n){"compare"===s&&"boolean"!=typeof t?n.setCompare(t,!1):"cumulative"!==s||v(t)||n.setCumulative(t,!1)}),y(e,!0)&&this.chart.redraw())}function g(s){const t=this,{numberFormatter:e}=t.series.chart,n=function(c){s=s.replace("{point."+c+"}",(0<t[c]&&"change"===c?"+":"")+e(t[c],y(t.series.tooltipOptions.changeDecimals,2)))};return i(t.change)&&n("change"),i(t.cumulativeSum)&&n("cumulativeSum"),U.apply(this,[s])}function u(){const s=this.options.compare;let t;("percent"===s||"value"===s||this.options.cumulative)&&(t=new o(this),"percent"===s||"value"===s?t.initCompare(s):t.initCumulative()),this.dataModify=t}function l(s){const t=(s=s.dataExtremes).activeYData;if(this.dataModify&&s){let e;this.options.compare?e=[this.dataModify.modifyValue(s.dataMin),this.dataModify.modifyValue(s.dataMax)]:this.options.cumulative&&T(t)&&2<=t.length&&(e=o.getCumulativeExtremes(t)),e&&(s.dataMin=I(e),s.dataMax=L(e))}}function f(s,t){this.options.compare=this.userOptions.compare=s,this.update({},y(t,!0)),!this.dataModify||"value"!==s&&"percent"!==s?this.points.forEach(e=>{delete e.change}):this.dataModify.initCompare(s)}function d(){if(this.xAxis&&this.processedYData&&this.dataModify){const s=this.processedXData,t=this.processedYData,e=t.length,n=!0===this.options.compareStart?0:1;let r,c=-1;for(this.pointArrayMap&&(c=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),r=0;r<e-n;r++){const C=t[r]&&-1<c?t[r][c]:t[r];if(A(C)&&0!==C&&s[r+n]>=(this.xAxis.min||0)){this.dataModify.compareValue=C;break}}}}function p(s,t){this.setModifier("compare",s,t)}function M(s,t){s=y(s,!1),this.options.cumulative=this.userOptions.cumulative=s,this.update({},y(t,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(e=>{delete e.cumulativeSum})}function k(s,t){this.setModifier("cumulative",s,t)}const a=[];h.compose=function(s,t,e){if(j.pushUnique(a,s)){const n=s.prototype;n.setCompare=f,n.setCumulative=M,_(s,"afterInit",u),_(s,"afterGetExtremes",l),_(s,"afterProcessData",d)}return j.pushUnique(a,t)&&((t=t.prototype).setCompare=p,t.setModifier=m,t.setCumulative=k),j.pushUnique(a,e)&&(e.prototype.tooltipFormatter=g),s};class o{constructor(t){this.series=t}modifyValue(){return 0}static getCumulativeExtremes(t){let e=1/0,n=-1/0;return t.reduce((c,r)=>(r=c+r,e=Math.min(e,r,c),n=Math.max(n,r,c),r)),[e,n]}initCompare(t){this.modifyValue=function(e,n){null===e&&(e=0);const c=this.compareValue;return typeof e<"u"&&typeof c<"u"?(e="value"===t?e-c:e/c*100-(100===this.series.options.compareBase?0:100),typeof n<"u"&&(n=this.series.points[n])&&(n.change=e),e):0}}initCumulative(){this.modifyValue=function(t,e){if(null===t&&(t=0),void 0!==t&&void 0!==e){const n=0<e?this.series.points[e-1]:null;return n&&n.cumulativeSum&&(t=E(n.cumulativeSum+t)),(e=this.series.points[e])&&(e.cumulativeSum=t),t}return 0}}}h.Additions=o}(x||(x={})),x}),D(Q,"Core/Axis/NavigatorAxisComposition.js",[Q["Core/Globals.js"],Q["Core/Utilities.js"]],function(V,X){function F(){this.navigatorAxis||(this.navigatorAxis=new A(this))}function j(v){var y=this.chart.options,x=y.navigator;const h=this.navigatorAxis,m=y.chart.zooming.pinchType,g=y.rangeSelector;y=y.chart.zooming.type,this.isXAxis&&(x&&x.enabled||g&&g.enabled)&&("y"===y?v.zoomed=!1:(!U&&"xy"===y||U&&"xy"===m)&&this.options.range&&(x=h.previousZoom,I(v.newMin)?h.previousZoom=[this.min,this.max]:x&&(v.newMin=x[0],v.newMax=x[1],h.previousZoom=void 0))),typeof v.zoomed<"u"&&v.preventDefault()}const{isTouchDevice:U}=V,{addEvent:_,correctFloat:L,defined:I,isNumber:E,pick:i}=X,T=[];class A{static compose(y){X.pushUnique(T,y)&&(y.keepProps.push("navigatorAxis"),_(y,"init",F),_(y,"zoom",j))}constructor(y){this.axis=y}destroy(){this.axis=void 0}toFixedRange(y,x,h,m){var g=this.axis,u=g.chart;y=i(h,g.translate(y,!0,!g.horiz)),x=i(m,g.translate(x,!0,!g.horiz)),g=(g.pointRange||0)/2;const l=(u=u&&u.fixedRange)&&(x-y)/u;return I(h)||(y=L(y+g)),I(m)||(x=L(x-g)),.7<l&&1.3>l&&(m?y=x-u:x=y+u),E(y)&&E(x)||(y=x=void 0),{min:y,max:x}}}return A}),D(Q,"Stock/Navigator/NavigatorDefaults.js",[Q["Core/Color/Color.js"],Q["Core/Series/SeriesRegistry.js"]],function(V,X){return({parse:V}=V),({seriesTypes:X}=X),{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:V("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof X.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),D(Q,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(V,X,F,j,U={}){return V=U.width?U.width/2:F,X=Math.round(V/3)+.5,[["M",-V-1,.5],["L",V,.5],["L",V,(j=U.height||j)+.5],["L",-V-1,j+.5],["L",-V-1,.5],["M",-X,4],["L",-X,j-3],["M",X-1,4],["L",X-1,j-3]]}}}),D(Q,"Stock/Navigator/NavigatorComposition.js",[Q["Core/Defaults.js"],Q["Core/Globals.js"],Q["Core/Axis/NavigatorAxisComposition.js"],Q["Stock/Navigator/NavigatorDefaults.js"],Q["Stock/Navigator/NavigatorSymbols.js"],Q["Core/Renderer/RendererRegistry.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_,L){function I(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function E(){var a;const o=this.legend,s=this.navigator;let t,e,n;if(s){t=o&&o.options,e=s.xAxis,n=s.yAxis;const{scrollbarHeight:c,scrollButtonSize:r}=s;this.inverted?(s.left=s.opposite?this.chartWidth-c-s.height:this.spacing[3]+c,s.top=this.plotTop+r):(s.left=p(e.left,this.plotLeft+r),s.top=s.navigatorOptions.top||this.chartHeight-s.height-c-((null===(a=this.scrollbar)||void 0===a?void 0:a.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?o.legendHeight+p(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&n&&(this.inverted?e.options.left=n.options.left=s.left:e.options.top=n.options.top=s.top,e.setAxisSize(),n.setAxisSize())}}function i(a){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new k(this),p(a.redraw,!0)&&this.redraw(a.animation))}function T(){const a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=this.navigator=new k(this))}function A(){const a=this.options,o=a.navigator,s=a.rangeSelector;if((o&&o.enabled||s&&s.enabled)&&(!g&&"x"===a.chart.zooming.type||g&&"x"===a.chart.zooming.pinchType))return!1}function v(a){const o=a.navigator;o&&a.xAxis[0]&&(a=a.xAxis[0].getExtremes(),o.render(a.min,a.max))}function y(a){const o=a.options.navigator||{},s=a.options.scrollbar||{};this.navigator||this.scroller||!o.enabled&&!s.enabled||(d(!0,this.options.navigator,o),d(!0,this.options.scrollbar,s),delete a.options.navigator,delete a.options.scrollbar)}function x(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:h,setOptions:m}=V,{isTouchDevice:g}=X,{getRendererType:u}=_,{addEvent:l,extend:f,merge:d,pick:p}=L,M=[];let k;return{compose:function(a,o,s,t){F.compose(a),k=s,L.pushUnique(M,o)&&(o.prototype.callbacks.push(v),l(o,"afterAddSeries",I),l(o,"afterSetChartSize",E),l(o,"afterUpdate",i),l(o,"beforeRender",T),l(o,"beforeShowResetZoom",A),l(o,"update",y)),L.pushUnique(M,t)&&l(t,"afterUpdate",x),L.pushUnique(M,u)&&f(u().prototype.symbols,U),L.pushUnique(M,m)&&f(h,{navigator:j})}}}),D(Q,"Core/Axis/ScrollbarAxis.js",[Q["Core/Utilities.js"]],function(V){const{addEvent:X,defined:F,pick:j}=V,U=[];return class _{static compose(I,E){if(!V.pushUnique(U,I))return I;const i=T=>{const A=j(T.options&&T.options.min,T.min),v=j(T.options&&T.options.max,T.max);return{axisMin:A,axisMax:v,scrollMin:F(T.dataMin)?Math.min(A,T.min,T.dataMin,j(T.threshold,1/0)):A,scrollMax:F(T.dataMax)?Math.max(v,T.max,T.dataMax,j(T.threshold,-1/0)):v}};return X(I,"afterInit",function(){const T=this;T.options&&T.options.scrollbar&&T.options.scrollbar.enabled&&(T.options.scrollbar.vertical=!T.horiz,T.options.startOnTick=T.options.endOnTick=!1,T.scrollbar=new E(T.chart.renderer,T.options.scrollbar,T.chart),X(T.scrollbar,"changed",function(A){let{axisMin:v,axisMax:y,scrollMin:x,scrollMax:h}=i(T);var m=h-x;let g;F(v)&&F(y)&&(T.horiz&&!T.reversed||!T.horiz&&T.reversed?(g=x+m*this.to,m=x+m*this.from):(g=x+m*(1-this.from),m=x+m*(1-this.to)),this.shouldUpdateExtremes(A.DOMType)?T.setExtremes(m,g,!0,"mousemove"!==A.DOMType&&"touchmove"!==A.DOMType,A):this.setRange(this.from,this.to))}))}),X(I,"afterRender",function(){let{scrollMin:T,scrollMax:A}=i(this),v=this.scrollbar;var y=this.axisTitleMargin+(this.titleOffset||0),x=this.chart.scrollbarsOffsets;let h=this.options.margin||0;v&&(this.horiz?(this.opposite||(x[1]+=y),v.position(this.left,this.top+this.height+2+x[1]-(this.opposite?h:0),this.width,this.height),this.opposite||(x[1]+=h),y=1):(this.opposite&&(x[0]+=y),v.position(v.options.opposite?this.left+this.width+2+x[0]-(this.opposite?0:h):this.opposite?0:h,this.top,this.width,this.height),this.opposite&&(x[0]+=h),y=0),x[y]+=v.size+(v.options.margin||0),isNaN(T)||isNaN(A)||!F(this.min)||!F(this.max)||this.min===this.max?v.setRange(0,1):(x=(this.min-T)/(A-T),y=(this.max-T)/(A-T),this.horiz&&!this.reversed||!this.horiz&&this.reversed?v.setRange(x,y):v.setRange(1-y,1-x)))}),X(I,"afterGetOffset",function(){const T=this.scrollbar;var A=T&&!T.options.opposite;A=this.horiz?2:A?3:1,T&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[A]+=T.size+(T.options.margin||0))}),I}}}),D(Q,"Stock/Scrollbar/ScrollbarDefaults.js",[Q["Core/Globals.js"]],function(V){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"none",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),D(Q,"Stock/Scrollbar/Scrollbar.js",[Q["Core/Defaults.js"],Q["Core/Globals.js"],Q["Core/Axis/ScrollbarAxis.js"],Q["Stock/Scrollbar/ScrollbarDefaults.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U){const{defaultOptions:_}=V,{addEvent:L,correctFloat:I,defined:E,destroyObjectProperties:i,fireEvent:T,merge:A,pick:v,removeEvent:y}=U;let x=(()=>{class h{static compose(g){F.compose(g,h)}static swapXY(g,u){return u&&g.forEach(l=>{const f=l.length;let d;for(let p=0;p<f;p+=2)d=l[p+1],"number"==typeof d&&(l[p+1]=l[p+2],l[p+2]=d)}),g}constructor(g,u,l){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(g,u,l)}addEvents(){var g=this.options.inverted?[1,0]:[0,1];const u=this.scrollbarButtons,l=this.scrollbarGroup.element,f=this.track.element,d=this.mouseDownHandler.bind(this),p=this.mouseMoveHandler.bind(this),M=this.mouseUpHandler.bind(this);g=[[u[g[0]].element,"click",this.buttonToMinClick.bind(this)],[u[g[1]].element,"click",this.buttonToMaxClick.bind(this)],[f,"click",this.trackClick.bind(this)],[l,"mousedown",d],[l.ownerDocument,"mousemove",p],[l.ownerDocument,"mouseup",M]],X.hasTouch&&g.push([l,"touchstart",d],[l.ownerDocument,"touchmove",p],[l.ownerDocument,"touchend",M]),g.forEach(function(k){L.apply(null,k)}),this._events=g}buttonToMaxClick(g){const u=(this.to-this.from)*v(this.options.step,.2);this.updatePosition(this.from+u,this.to+u),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}buttonToMinClick(g){const u=I(this.to-this.from)*v(this.options.step,.2);this.updatePosition(I(this.from-u),I(this.to-u)),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}cursorToScrollbarPosition(g){var u=this.options;return{chartX:(g.chartX-this.x-this.xOffset)/(this.barWidth-(u=u.minWidth>this.calculatedWidth?u.minWidth:0)),chartY:(g.chartY-this.y-this.yOffset)/(this.barWidth-u)}}destroy(){const g=this,u=g.chart.scroller;g.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(l){g[l]&&g[l].destroy&&(g[l]=g[l].destroy())}),u&&g===u.scrollbar&&(u.scrollbar=null,i(u.scrollbarButtons))}drawScrollbarButton(g){const u=this.renderer,l=this.scrollbarButtons,f=this.options,d=this.size;var p=u.g().add(this.group);l.push(p),f.buttonsEnabled&&(p=u.rect().addClass("highcharts-scrollbar-button").add(p),this.chart.styledMode||p.attr({stroke:f.buttonBorderColor,"stroke-width":f.buttonBorderWidth,fill:f.buttonBackgroundColor}),p.attr(p.crisp({x:-.5,y:-.5,width:d+1,height:d+1,r:f.buttonBorderRadius},p.strokeWidth())),g=u.path(h.swapXY([["M",d/2+(g?-1:1),d/2-3],["L",d/2+(g?-1:1),d/2+3],["L",d/2+(g?2:-2),d/2]],f.vertical)).addClass("highcharts-scrollbar-arrow").add(l[g]),this.chart.styledMode||g.attr({fill:f.buttonArrowColor}))}init(g,u,l){this.scrollbarButtons=[],this.renderer=g,this.userOptions=u,this.options=A(j,_.scrollbar,u),this.options.margin=v(this.options.margin,10),this.chart=l,this.size=v(this.options.size,this.options.height),u.enabled&&(this.render(),this.addEvents())}mouseDownHandler(g){g=this.chart.pointer.normalize(g),g=this.cursorToScrollbarPosition(g),this.chartX=g.chartX,this.chartY=g.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(g){var u=this.chart.pointer.normalize(g),l=this.options.vertical?"chartY":"chartX";const f=this.initPositions||[];!this.grabbedCenter||g.touches&&0===g.touches[0][l]||(l=(u=this.cursorToScrollbarPosition(u)[l])-(l=this[l]),this.hasDragged=!0,this.updatePosition(f[0]+l,f[1]+l),this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:g.type,DOMEvent:g}))}mouseUpHandler(g){this.hasDragged&&T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:g.type,DOMEvent:g}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(g,u,l,f){const{buttonsEnabled:d,margin:p=0,vertical:M}=this.options,k=this.rendered?"animate":"attr";let a=f,o=0;this.group.show(),this.x=g,this.y=u+this.trackBorderWidth,this.width=l,this.height=f,this.xOffset=a,this.yOffset=o,M?(this.width=this.yOffset=l=this.size,this.xOffset=a=0,this.yOffset=o=d?this.size:0,this.barWidth=f-(d?2*l:0),this.x=g+=p):(this.height=f=this.size,this.xOffset=a=d?this.size:0,this.barWidth=l-(d?2*f:0),this.y+=p),this.group[k]({translateX:g,translateY:this.y}),this.track[k]({width:l,height:f}),this.scrollbarButtons[1][k]({translateX:M?0:l-a,translateY:M?f-o:0})}removeEvents(){this._events.forEach(function(g){y.apply(null,g)}),this._events.length=0}render(){const g=this.renderer,u=this.options,l=this.size,f=this.chart.styledMode,d=g.g("scrollbar").attr({zIndex:u.zIndex}).hide().add();this.group=d,this.track=g.rect().addClass("highcharts-scrollbar-track").attr({r:u.trackBorderRadius||0,height:l,width:l}).add(d),f||this.track.attr({fill:u.trackBackgroundColor,stroke:u.trackBorderColor,"stroke-width":u.trackBorderWidth});const p=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-p%2/2,y:-p%2/2}),this.scrollbarGroup=g.g().add(d),this.scrollbar=g.rect().addClass("highcharts-scrollbar-thumb").attr({height:l-p,width:l-p,r:u.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=g.path(h.swapXY([["M",-3,l/4],["L",-3,2*l/3],["M",0,l/4],["L",0,2*l/3],["M",3,l/4],["L",3,2*l/3]],u.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),f||(this.scrollbar.attr({fill:u.barBackgroundColor,stroke:u.barBorderColor,"stroke-width":u.barBorderWidth}),this.scrollbarRifles.attr({stroke:u.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(g,u){const l=this.options,f=l.vertical;var d=l.minWidth,p=this.barWidth;const M=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(E(p)){var k=p*Math.min(u,1);g=Math.max(g,0);var a=Math.ceil(p*g);this.calculatedWidth=k=I(k-a),k<d&&(a=(p-d+k)*g,k=d),d=Math.floor(a+this.xOffset+this.yOffset),p=k/2-.5,this.from=g,this.to=u,f?(this.scrollbarGroup[M]({translateY:d}),this.scrollbar[M]({height:k}),this.scrollbarRifles[M]({translateY:p}),this.scrollbarTop=d,this.scrollbarLeft=0):(this.scrollbarGroup[M]({translateX:d}),this.scrollbar[M]({width:k}),this.scrollbarRifles[M]({translateX:p}),this.scrollbarLeft=d,this.scrollbarTop=0),12>=k?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===l.showFull&&(0>=g&&1<=u?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(g){return v(this.options.liveRedraw,X.svg&&!X.isTouchDevice&&!this.chart.boosted)||"mouseup"===g||"touchend"===g||!E(g)}trackClick(g){const u=this.chart.pointer.normalize(g),l=this.to-this.from;this.options.vertical&&u.chartY>this.y+this.scrollbarTop||!this.options.vertical&&u.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+l,this.to+l):this.updatePosition(this.from-l,this.to-l),T(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:g})}update(g){this.destroy(),this.init(this.chart.renderer,A(!0,this.options,g),this.chart)}updatePosition(g,u){1<u&&(g=I(1-I(u-g)),u=1),0>g&&(u=I(u-g),g=0),this.from=g,this.to=u}}return h.defaultOptions=j,h})();return _.scrollbar=A(!0,x.defaultOptions,_.scrollbar),x}),D(Q,"Stock/Navigator/Navigator.js",[Q["Core/Axis/Axis.js"],Q["Core/Defaults.js"],Q["Core/Globals.js"],Q["Core/Axis/NavigatorAxisComposition.js"],Q["Stock/Navigator/NavigatorComposition.js"],Q["Stock/Scrollbar/Scrollbar.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_,L){function I(o,...s){if((s=[].filter.call(s,f)).length)return Math[o].apply(0,s)}const{defaultOptions:E}=X,{hasTouch:i,isTouchDevice:T}=F,{addEvent:A,clamp:v,correctFloat:y,defined:x,destroyObjectProperties:h,erase:m,extend:g,find:u,isArray:l,isNumber:f,merge:d,pick:p,removeEvent:M,splat:k}=L;class a{static compose(s,t,e){U.compose(s,t,a,e)}constructor(s){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(s)}drawHandle(s,t,e,n){const c=this.navigatorOptions.handles.height;this.handles[t][n](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(s,10)+.5-c)}:{translateX:Math.round(this.left+parseInt(s,10)),translateY:Math.round(this.top+this.height/2-c/2-1)})}drawOutline(s,t,e,n){const c=this.navigatorOptions.maskInside;var r=this.outline.strokeWidth();const C=r/2;var b=r%2/2;const P=this.scrollButtonSize,S=this.size,w=this.top,B=w-C,N=w+(r=this.height);let O=this.left;e?(b=[["M",O+r,w-P-b],["L",O+r,e=w+t+b],["L",O,e],["M",O,t=w+s+b],["L",O+r,t],["L",O+r,w+S+P]],c&&b.push(["M",O+r,e-C],["L",O+r,t+C])):(O-=P,b=[["M",O,B],["L",s+=O+P-b,B],["L",s,N],["M",t+=O+P-b,N],["L",t,B],["L",O+S+2*P,w+C]],c&&b.push(["M",s-C,B],["L",t+C,B])),this.outline[n]({d:b})}drawMasks(s,t,e,n){const c=this.left,r=this.top,C=this.height;let b,P,S,w;e?(S=[c,c,c],w=[r,r+s,r+t],P=[C,C,C],b=[s,t-s,this.size-t]):(S=[c,c+s,c+t],w=[r,r,r],P=[s,t-s,this.size-t],b=[C,C,C]),this.shades.forEach((B,N)=>{B[n]({x:S[N],y:w[N],width:P[N],height:b[N]})})}renderElements(){const s=this,t=s.navigatorOptions,e=t.maskInside,n=s.chart,c=n.renderer,r={cursor:n.inverted?"ns-resize":"ew-resize"},C=s.navigatorGroup=c.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!e,e,!e].forEach((b,P)=>{const S=c.rect().addClass("highcharts-navigator-mask"+(1===P?"-inside":"-outside")).add(C);n.styledMode||(S.attr({fill:b?t.maskFill:"rgba(0,0,0,0)"}),1===P&&S.css(r)),s.shades[P]=S}),s.outline=c.path().addClass("highcharts-navigator-outline").add(C),n.styledMode||s.outline.attr({"stroke-width":t.outlineWidth,stroke:t.outlineColor}),t.handles&&t.handles.enabled){const b=t.handles,{height:P,width:S}=b;[0,1].forEach(w=>{s.handles[w]=c.symbol(b.symbols[w],-S/2-1,0,S,P,b),n.inverted&&s.handles[w].attr({rotation:90,rotationOriginX:Math.floor(-S/2),rotationOriginY:(P+S)/2}),s.handles[w].attr({zIndex:7-w}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][w]).add(C),n.styledMode||s.handles[w].attr({fill:b.backgroundColor,stroke:b.borderColor,"stroke-width":b.lineWidth}).css(r)})}}update(s){(this.series||[]).forEach(t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,s),this.init(this.chart)}render(s,t,e,n){var c=this.chart;const r=this.xAxis,C=r.pointRange||0;var b=r.navigatorAxis.fake?c.xAxis[0]:r;const P=this.navigatorEnabled;var S=this.rendered,w=c.inverted;const B=c.xAxis[0].minRange,N=c.xAxis[0].options.maxRange,O=this.scrollButtonSize;let z,Y=this.scrollbarHeight;if(!this.hasDragged||x(e)){if(s=y(s-C/2),t=y(t+C/2),!f(s)||!f(t)){if(!S)return;e=0,n=p(r.width,b.width)}this.left=p(r.left,c.plotLeft+O+(w?c.plotWidth:0));var R=this.size=z=p(r.len,(w?c.plotHeight:c.plotWidth)-2*O);c=w?Y:z+2*O,e=p(e,r.toPixels(s,!0)),n=p(n,r.toPixels(t,!0)),f(e)&&Math.abs(e)!==1/0||(e=0,n=c),s=r.toValue(e,!0),t=r.toValue(n,!0);var G=Math.abs(y(t-s));G<B?this.grabbedLeft?e=r.toPixels(t-B-C,!0):this.grabbedRight&&(n=r.toPixels(s+B+C,!0)):x(N)&&y(G-C)>N&&(this.grabbedLeft?e=r.toPixels(t-N-C,!0):this.grabbedRight&&(n=r.toPixels(s+N+C,!0))),this.zoomedMax=v(Math.max(e,n),0,R),this.zoomedMin=v(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,n),0,R),this.range=this.zoomedMax-this.zoomedMin,R=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),P&&(this.navigatorGroup.attr({visibility:"inherit"}),this.drawMasks(e,R,w,S=S&&!this.hasDragged?"animate":"attr"),this.drawOutline(e,R,w,S),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,w,S),this.drawHandle(R,1,w,S))),this.scrollbar&&(w?(w=this.top-O,b=this.left-Y+(P||!b.opposite?0:(b.titleOffset||0)+b.axisTitleMargin),Y=z+2*O):(w=this.top+(P?this.height:-Y),b=this.left-O),this.scrollbar.position(b,w,c,Y),this.scrollbar.setRange(this.zoomedMin/(z||1),this.zoomedMax/(z||1))),this.rendered=!0}}addMouseEvents(){const s=this,t=s.chart,e=t.container;let c,r,n=[];s.mouseMoveHandler=c=function(C){s.onMouseMove(C)},s.mouseUpHandler=r=function(C){s.onMouseUp(C)},n=s.getPartsEvents("mousedown"),n.push(A(t.renderTo,"mousemove",c),A(e.ownerDocument,"mouseup",r)),i&&(n.push(A(t.renderTo,"touchmove",c),A(e.ownerDocument,"touchend",r)),n.concat(s.getPartsEvents("touchstart"))),s.eventsToUnbind=n,s.series&&s.series[0]&&n.push(A(s.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(s){const t=this,e=[];return["shades","handles"].forEach(function(n){t[n].forEach(function(c,r){e.push(A(c.element,s,function(C){t[n+"Mousedown"](C,r)}))})}),e}shadesMousedown(s,t){s=this.chart.pointer.normalize(s);const e=this.chart,n=this.xAxis,c=this.zoomedMin,r=this.size,C=this.range;let S,w,b=this.left,P=s.chartX;e.inverted&&(P=s.chartY,b=this.top),1===t?(this.grabbedCenter=P,this.fixedWidth=C,this.dragOffset=P-c):(s=P-b-C/2,0===t?s=Math.max(0,s):2===t&&s+C>=r&&(s=r-C,this.reversedExtremes?(s-=C,w=this.getUnionExtremes().dataMin):S=this.getUnionExtremes().dataMax),s!==c&&(this.fixedWidth=C,t=n.navigatorAxis.toFixedRange(s,s+C,w,S),x(t.min)&&e.xAxis[0].setExtremes(Math.min(t.min,t.max),Math.max(t.min,t.max),!0,null,{trigger:"navigator"})))}handlesMousedown(s,t){this.chart.pointer.normalize(s);const e=(s=this.chart).xAxis[0],n=this.reversedExtremes;0===t?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=n?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=n?e.max:e.min),s.fixedRange=null}onMouseMove(s){const t=this;var e=t.chart;const n=t.navigatorSize,c=t.range,r=t.dragOffset,C=e.inverted;let b=t.left;s.touches&&0===s.touches[0].pageX||(s=e.pointer.normalize(s),e=s.chartX,C&&(b=t.top,e=s.chartY),t.grabbedLeft?(t.hasDragged=!0,t.render(0,0,e-b,t.otherHandlePos)):t.grabbedRight?(t.hasDragged=!0,t.render(0,0,t.otherHandlePos,e-b)):t.grabbedCenter&&(t.hasDragged=!0,e<r?e=r:e>n+r-c&&(e=n+r-c),t.render(0,0,e-r,e-r+c)),t.hasDragged&&t.scrollbar&&p(t.scrollbar.options.liveRedraw,!T&&!this.chart.boosted)&&(s.DOMType=s.type,setTimeout(function(){t.onMouseUp(s)},0)))}onMouseUp(s){var t=this.chart,e=this.xAxis,n=this.scrollbar;const c=s.DOMEvent||s,r=t.inverted,C=this.rendered&&!this.hasDragged?"animate":"attr";let b,P;(!this.hasDragged||n&&n.hasDragged)&&"scrollbar"!==s.trigger||(n=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?b=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(P=this.fixedExtreme),this.zoomedMax===this.size&&(P=this.reversedExtremes?n.dataMin:n.dataMax),0===this.zoomedMin&&(b=this.reversedExtremes?n.dataMax:n.dataMin),e=e.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,b,P),x(e.min)&&t.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:c})),"mousemove"!==s.DOMType&&"touchmove"!==s.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&f(this.zoomedMin)&&f(this.zoomedMax)&&(t=Math.round(this.zoomedMin),s=Math.round(this.zoomedMax),this.shades&&this.drawMasks(t,s,r,C),this.outline&&this.drawOutline(t,s,r,C),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(t,0,r,C),this.drawHandle(s,1,r,C)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(s){s()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const s=this.baseSeries||[];this.navigatorEnabled&&s[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&s.forEach(function(t){M(t,"updatedData",this.updatedDataHandler)},this),s[0].xAxis&&M(s[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(s){var t=s.options,e=t.navigator||{},n=e.enabled,c=t.scrollbar||{},r=c.enabled;t=n&&e.height||0;var C=r&&c.height||0;const b=c.buttonsEnabled&&C||0;this.handles=[],this.shades=[],this.chart=s,this.setBaseSeries(),this.height=t,this.scrollbarHeight=C,this.scrollButtonSize=b,this.scrollbarEnabled=r,this.navigatorEnabled=n,this.navigatorOptions=e,this.scrollbarOptions=c,this.opposite=p(e.opposite,!(n||!s.inverted));const P=this;c=s.xAxis.length,r=s.yAxis.length,C=(n=P.baseSeries)&&n[0]&&n[0].xAxis||s.xAxis[0]||{options:{}},s.isDirtyBox=!0,P.navigatorEnabled?(P.xAxis=new V(s,d({breaks:C.options.breaks,ordinal:C.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},s.inverted?{offsets:[b,0,-b,0],width:t}:{offsets:[0,-b,0,b],height:t})),P.yAxis=new V(s,d(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:r,isInternal:!0,reversed:p(e.yAxis&&e.yAxis.reversed,s.yAxis[0]&&s.yAxis[0].reversed,!1),zoomEnabled:!1},s.inverted?{width:t}:{height:t})),n||e.series.data?P.updateNavigatorSeries(!1):0===s.series.length&&(P.unbindRedraw=A(s,"beforeRedraw",function(){0<s.series.length&&!P.series&&(P.setBaseSeries(),P.unbindRedraw())})),P.reversedExtremes=s.inverted&&!P.xAxis.reversed||!s.inverted&&P.xAxis.reversed,P.renderElements(),P.addMouseEvents()):(P.xAxis={chart:s,navigatorAxis:{fake:!0},translate:function(S,w){var B=s.xAxis[0];const N=B.getExtremes(),O=B.len-2*b,Y=I("min",B.options.min,N.dataMin);return B=I("max",B.options.max,N.dataMax)-Y,w?S*B/O+Y:O*(S-Y)/B},toPixels:function(S){return this.translate(S)},toValue:function(S){return this.translate(S,!0)}},P.xAxis.navigatorAxis.axis=P.xAxis,P.xAxis.navigatorAxis.toFixedRange=j.prototype.toFixedRange.bind(P.xAxis.navigatorAxis)),s.options.scrollbar.enabled&&(e=d(s.options.scrollbar,{vertical:s.inverted}),!f(e.margin)&&P.navigatorEnabled&&(e.margin=s.inverted?-3:3),s.scrollbar=P.scrollbar=new _(s.renderer,e,s),A(P.scrollbar,"changed",function(S){var w=P.size;const B=w*this.to;w*=this.from,P.hasDragged=P.scrollbar.hasDragged,P.render(0,0,w,B),this.shouldUpdateExtremes(S.DOMType)&&setTimeout(function(){P.onMouseUp(S)})})),P.addBaseSeriesEvents(),P.addChartEvents()}getUnionExtremes(s){const t=this.chart.xAxis[0],e=this.xAxis,n=e.options,c=t.options;let r;return s&&null===t.dataMin||(r={dataMin:p(n&&n.min,I("min",c.min,t.dataMin,e.dataMin,e.min)),dataMax:p(n&&n.max,I("max",c.max,t.dataMax,e.dataMax,e.max))}),r}setBaseSeries(s,t){const e=this.chart,n=this.baseSeries=[];s=s||e.options&&e.options.navigator.baseSeries||(e.series.length?u(e.series,c=>!c.options.isInternal).index:0),(e.series||[]).forEach((c,r)=>{c.options.isInternal||!c.options.showInNavigator&&(r!==s&&c.options.id!==s||!1===c.options.showInNavigator)||n.push(c)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(s,t){const e=this,n=e.chart,c=e.baseSeries,r={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},C=e.series=(e.series||[]).filter(B=>{const N=B.baseSeries;return!(0>c.indexOf(N)&&(N&&(M(N,"updatedData",e.updatedDataHandler),delete N.navigatorSeries),B.chart&&B.destroy(),1))});let b,P,w,S=e.navigatorOptions.series;c&&c.length&&c.forEach(B=>{const N=B.navigatorSeries;var O=g({color:B.color,visible:B.visible},l(S)?E.navigator.series:S);N&&!1===e.navigatorOptions.adaptToUpdatedData||(r.name="Navigator "+c.length,b=B.options||{},w=b.navigatorOptions||{},O.dataLabels=k(O.dataLabels),P=d(b,r,O,w),P.pointRange=p(O.pointRange,w.pointRange,E.plotOptions[P.type||"line"].pointRange),O=w.data||O.data,e.hasNavigatorData=e.hasNavigatorData||!!O,P.data=O||b.data&&b.data.slice(0),N&&N.options?N.update(P,t):(B.navigatorSeries=n.initSeries(P),B.navigatorSeries.baseSeries=B,C.push(B.navigatorSeries)))}),(S.data&&(!c||!c.length)||l(S))&&(e.hasNavigatorData=!1,S=k(S),S.forEach((B,N)=>{r.name="Navigator "+(C.length+1),P=d(E.navigator.series,{color:n.series[N]&&!n.series[N].options.isInternal&&n.series[N].color||n.options.colors[N]||n.options.colors[0]},r,B),P.data=B.data,P.data&&(e.hasNavigatorData=!0,C.push(n.initSeries(P)))})),s&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const s=this,t=s.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(A(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(e=>{e.eventsToUnbind.push(A(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),e.eventsToUnbind.push(A(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&e.eventsToUnbind.push(A(e,"updatedData",this.updatedDataHandler)),e.eventsToUnbind.push(A(e,"remove",function(){this.navigatorSeries&&(m(s.series,this.navigatorSeries),x(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(s){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)},s)}modifyNavigatorAxisExtremes(){const s=this.xAxis;if(typeof s.getExtremes<"u"){const t=this.getUnionExtremes(!0);!t||t.dataMin===s.min&&t.dataMax===s.max||(s.min=t.dataMin,s.max=t.dataMax)}}modifyBaseAxisExtremes(){const s=this.chart.navigator;var t=this.getExtremes();const e=t.dataMin,n=t.dataMax;t=t.max-t.min;const c=s.stickToMin,r=s.stickToMax,C=p(this.options.overscroll,0),b=s.series&&s.series[0],P=!!this.setExtremes;let S,w;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(c&&(w=e,S=w+t),r&&(S=n+C,c||(w=Math.max(e,S-t,s.getBaseSeriesMin(b&&b.xData?b.xData[0]:-Number.MAX_VALUE)))),P&&(c||r)&&f(w)&&(this.min=this.userMin=w,this.max=this.userMax=S)),s.stickToMin=s.stickToMax=null}updatedDataHandler(){const s=this.chart.navigator,t=this.navigatorSeries;s.stickToMax=p(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,s.reversedExtremes?0===Math.round(s.zoomedMin):Math.round(s.zoomedMax)>=Math.round(s.size)),s.stickToMin=s.shouldStickToMin(this,s),t&&!s.hasNavigatorData&&(t.options.pointStart=this.xData[0],t.setData(this.options.data,!1,null,!1))}shouldStickToMin(s,t){t=t.getBaseSeriesMin(s.xData[0]);var e=s.xAxis;s=e.max;const n=e.min;return e=e.options.range,!(!f(s)||!f(n))&&(e&&0<s-t?s-t<e:n<=t)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(A(this.chart,"redraw",function(){const s=this.navigator,t=s&&(s.baseSeries&&s.baseSeries[0]&&s.baseSeries[0].xAxis||this.xAxis[0]);t&&s.render(t.min,t.max)}),A(this.chart,"getMargins",function(){let s=this.navigator,t=s.opposite?"plotTop":"marginBottom";this.inverted&&(t=s.opposite?"marginRight":"plotLeft"),this[t]=(this[t]||0)+(s.navigatorEnabled||!this.inverted?s.height+s.scrollbarHeight:0)+s.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach(s=>{s.destroy&&s.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(s=>{this[s]&&this[s].destroy&&this[s].destroy(),this[s]=null}),[this.handles].forEach(s=>{h(s)})}}return a}),D(Q,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),D(Q,"Stock/RangeSelector/RangeSelectorComposition.js",[Q["Core/Defaults.js"],Q["Stock/RangeSelector/RangeSelectorDefaults.js"],Q["Core/Utilities.js"]],function(V,X,F){function j(){const M=this.range,k=M.type,a=this.max,o=this.chart.time,s=function(c,r){const C="year"===k?"FullYear":"Month",b=new o.Date(c),P=o.get(C,b);return o.set(C,b,P+r),P===o.get(C,b)&&o.set("Date",b,0),b.getTime()-c};let t,e;g(M)?(t=a-M,e=M):M&&(t=a+s(a,-(M.count||1)),this.chart&&(this.chart.fixedRange=a-t));const n=l(this.dataMin,Number.MIN_VALUE);return g(t)||(t=n),t<=n&&(t=n,typeof e>"u"&&(e=s(t,M.count)),this.newMax=Math.min(t+e,l(this.dataMax,Number.MAX_VALUE))),g(a)?!g(M)&&M&&M._offsetMin&&(t+=M._offsetMin):t=void 0,t}function U(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new p(this))}function _(){var M=this.axes;const k=this.rangeSelector;k&&(g(k.deferredYTDClick)&&(k.clickButton(k.deferredYTDClick),delete k.deferredYTDClick),M.forEach(a=>{a.updateNames(),a.setScale()}),this.getAxisMargins(),k.render(),M=k.options.verticalAlign,k.options.floating||("bottom"===M?this.extraBottomMargin=!0:"middle"!==M&&(this.extraTopMargin=!0)))}function L(M){let k,a,o,s;const t=M.rangeSelector,e=()=>{t&&(k=M.xAxis[0].getExtremes(),a=M.legend,s=t&&t.options.verticalAlign,g(k.min)&&t.render(k.min,k.max),a.display&&"top"===s&&s===a.options.verticalAlign&&(o=u(M.spacingBox),o.y="vertical"===a.options.layout?M.plotTop:o.y+t.getHeight(),a.group.placed=!1,a.align(o)))};t&&(m(f,n=>n[0]===M)||f.push([M,[y(M.xAxis[0],"afterSetExtremes",function(n){t&&t.render(n.min,n.max)}),y(M,"redraw",e)]]),e())}function I(){for(let M=0,k=f.length;M<k;++M){const a=f[M];if(a[0]===this){a[1].forEach(o=>o()),f.splice(M,1);break}}}function E(){var M=this.rangeSelector;M&&(M=M.getHeight(),this.extraTopMargin&&(this.plotTop+=M),this.extraBottomMargin&&(this.marginBottom+=M))}function i(){var M=this.rangeSelector;M&&!M.options.floating&&(M.render(),"bottom"===(M=M.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==M&&(this.extraTopMargin=!0))}function T(M){var k=M.options.rangeSelector;M=this.extraBottomMargin;const a=this.extraTopMargin;let o=this.rangeSelector;k&&k.enabled&&!x(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new p(this)),this.extraTopMargin=this.extraBottomMargin=!1,o&&(L(this),k=k&&k.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===k?this.extraBottomMargin=!0:"middle"!==k&&(this.extraTopMargin=!0)),this.extraBottomMargin!==M||this.extraTopMargin!==a)&&(this.isDirtyBox=!0)}const{defaultOptions:A,setOptions:v}=V,{addEvent:y,defined:x,extend:h,find:m,isNumber:g,merge:u,pick:l}=F,f=[],d=[];let p;return{compose:function(M,k,a){p=a,F.pushUnique(d,M)&&(M.prototype.minFromRange=j),F.pushUnique(d,k)&&(y(k,"afterGetContainer",U),y(k,"beforeRender",_),y(k,"destroy",I),y(k,"getMargins",E),y(k,"render",i),y(k,"update",T),k.prototype.callbacks.push(L)),F.pushUnique(d,v)&&(h(A,{rangeSelector:X.rangeSelector}),h(A.lang,X.lang))}}}),D(Q,"Stock/RangeSelector/RangeSelector.js",[Q["Core/Axis/Axis.js"],Q["Core/Defaults.js"],Q["Core/Globals.js"],Q["Stock/RangeSelector/RangeSelectorComposition.js"],Q["Core/Renderer/SVG/SVGElement.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_){const{defaultOptions:I}=X,{addEvent:E,createElement:i,css:T,defined:A,destroyObjectProperties:v,discardElement:y,extend:x,fireEvent:h,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=_;class M{static compose(a,o){j.compose(a,o,M)}constructor(a){this.buttons=void 0,this.buttonOptions=M.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=a,this.init(a)}clickButton(a,o){const s=this.chart,t=this.buttonOptions[a],e=s.xAxis[0];var n=s.scroller&&s.scroller.getUnionExtremes()||e||{},c=t.type;const r=t.dataGrouping;let P,w,C=n.dataMin,b=n.dataMax,S=e&&Math.round(Math.min(e.max,f(b,e.max)));n=t._range;let B,N,O,Y=!0;if(null!==C&&null!==b){if(s.fixedRange=n,this.setSelected(a),r&&(this.forcedDataGrouping=!0,V.prototype.setDataGrouping.call(e||{chart:this.chart},r,!1),this.frozenStates=t.preserveDataGrouping),"month"===c||"year"===c)e?(P=e.minFromRange.call(c={range:t,max:S,chart:s,dataMin:C,dataMax:b}),m(c.newMax)&&(S=c.newMax),Y=!1):n=t;else if(n)P=Math.max(S-n,C),S=Math.min(P+n,b),Y=!1;else if("ytd"===c){if(!e)return void(this.deferredYTDClick=a);(typeof b>"u"||typeof C>"u")&&(C=Number.MAX_VALUE,b=Number.MIN_VALUE,s.series.forEach(z=>{(z=z.xData)&&(C=Math.min(z[0],C),b=Math.max(z[z.length-1],b))}),o=!1),P=B=(c=this.getYTDExtremes(b,C,s.time.useUTC)).min,S=c.max}else"all"===c&&e&&(s.navigator&&s.navigator.baseSeries[0]&&(s.navigator.baseSeries[0].xAxis.options.range=void 0),P=C,S=b);Y&&t._offsetMin&&A(P)&&(P+=t._offsetMin),t._offsetMax&&A(S)&&(S+=t._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=a+1),e?e.setExtremes(P,S,f(o,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:t}):(w=p(s.options.xAxis)[0],O=w.range,w.range=n,N=w.min,w.min=B,E(s,"load",function(){w.range=O,w.min=N})),h(this,"afterBtnClick")}}setSelected(a){this.selected=this.options.selected=a}init(a){const o=this,s=a.options.rangeSelector,t=s.buttons||o.defaultButtons.slice(),e=s.selected,n=function(){const c=o.minInput,r=o.maxInput;c&&c.blur&&h(c,"blur"),r&&r.blur&&h(r,"blur")};o.chart=a,o.options=s,o.buttons=[],o.buttonOptions=t,this.eventsToUnbind=[],this.eventsToUnbind.push(E(a.container,"mousedown",n)),this.eventsToUnbind.push(E(a,"resize",n)),t.forEach(o.computeButtonRange),typeof e<"u"&&t[e]&&this.clickButton(e,!1),this.eventsToUnbind.push(E(a,"load",function(){a.xAxis&&a.xAxis[0]&&E(a.xAxis[0],"setExtremes",function(c){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==c.trigger&&"updatedData"!==c.trigger&&o.forcedDataGrouping&&!o.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const a=this;var o=this.chart;const s=this.dropdown,t=o.xAxis[0],e=Math.round(t.max-t.min),n=!t.hasVisibleSeries,c=o.scroller&&o.scroller.getUnionExtremes()||t,r=c.dataMin,C=c.dataMax,b=(o=a.getYTDExtremes(C,r,o.time.useUTC)).min,P=o.max,S=a.selected,w=a.options.allButtonsEnabled,B=a.buttons;let N=m(S);a.buttonOptions.forEach((O,Y)=>{var z=O._range,R=O.type,G=O.count||1;const H=B[Y],W=O._offsetMax-O._offsetMin,q=Y===S,Z=z>C-r,tt=z<t.minRange;O=0;let $=!1,it=!1;z=z===e,("month"===R||"year"===R)&&e+36e5>=864e5*{month:28,year:365}[R]*G-W&&e-36e5<=864e5*{month:31,year:366}[R]*G+W?z=!0:"ytd"===R?(z=P-b+W===e,$=!q):"all"===R&&(z=t.max-t.min>=C-r,it=!q&&N&&z),G=q&&z||z&&!N&&!$||q&&a.frozenStates,(R=!w&&(Z||tt||it||n))?O=3:G&&(N=!0,O=2),H.state!==O&&(H.setState(O),s&&(s.options[Y+1].disabled=R,2===O&&(s.selectedIndex=Y+1)),0===O&&S===Y&&a.setSelected())})}computeButtonRange(a){const o=a.type,s=a.count||1,t={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};t[o]?a._range=t[o]*s:("month"===o||"year"===o)&&(a._range=864e5*{month:30,year:365}[o]*s),a._offsetMin=f(a.offsetMin,0),a._offsetMax=f(a.offsetMax,0),a._range+=a._offsetMax-a._offsetMin}getInputValue(a){const s=this.chart.time;return(a="min"===a?this.minInput:this.maxInput)?("text"===a.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(a.value,s.useUTC,s):0}setInputValue(a,o){const s=this.options,t=this.chart.time,e="min"===a?this.minInput:this.maxInput;if(a="min"===a?this.minDateBox:this.maxDateBox,e){var n=e.getAttribute("data-hc-time");n=A(n)?Number(n):void 0,A(o)&&(A(n)&&e.setAttribute("data-hc-time-previous",n),e.setAttribute("data-hc-time",o),n=o),e.value=t.dateFormat(this.inputTypeFormats[e.type]||s.inputEditDateFormat,n),a&&a.attr({text:t.dateFormat(s.inputDateFormat,n)})}}setInputExtremes(a,o,s){if(a="min"===a?this.minInput:this.maxInput){const t=this.inputTypeFormats[a.type],e=this.chart.time;t&&(o=e.dateFormat(t,o),a.min!==o&&(a.min=o),s=e.dateFormat(t,s),a.max!==s&&(a.max=s))}}showInput(a){const o="min"===a?this.minDateBox:this.maxDateBox;if((a="min"===a?this.minInput:this.maxInput)&&o&&this.inputGroup){const s="text"===a.type,{translateX:t,translateY:e}=this.inputGroup,{inputBoxWidth:n}=this.options;T(a,{width:s?o.width+(n?-2:20)+"px":"auto",height:o.height-2+"px",border:"2px solid silver"}),T(a,s&&n?{left:t+o.x+"px",top:e+"px"}:{left:Math.min(Math.round(o.x+t-(a.offsetWidth-o.width)/2),this.chart.chartWidth-a.offsetWidth)+"px",top:e-(a.offsetHeight-o.height)/2+"px"})}}hideInput(a){(a="min"===a?this.minInput:this.maxInput)&&T(a,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(a,o,s){var e,t=a.split("/").join("-").split(" ").join("T");return-1===t.indexOf("T")&&(t+="T00:00"),o?t+="Z":((e=F.isSafari)&&(e=!(6<(e=t).length&&(e.lastIndexOf("-")===e.length-6||e.lastIndexOf("+")===e.length-6))),e&&(t+=0>=(e=new Date(t).getTimezoneOffset()/60)?`+${l(-e)}:00`:`-${l(e)}:00`)),t=Date.parse(t),m(t)||(a=a.split("-"),t=Date.UTC(d(a[0]),d(a[1])-1,d(a[2]))),s&&o&&m(t)&&(t+=s.getTimezoneOffset(t)),t}drawInput(a){function o(){const{maxInput:B,minInput:N}=n,O=s.xAxis[0];var Y=s.scroller&&s.scroller.xAxis?s.scroller.xAxis:O;const z=Y.dataMin;Y=Y.dataMax;let R=n.getInputValue(a);R!==Number(S.getAttribute("data-hc-time-previous"))&&m(R)&&(S.setAttribute("data-hc-time-previous",R),b&&B&&m(z)?R>Number(B.getAttribute("data-hc-time"))?R=void 0:R<z&&(R=z):N&&m(Y)&&(R<Number(N.getAttribute("data-hc-time"))?R=void 0:R>Y&&(R=Y)),typeof R<"u"&&O.setExtremes(b?R:O.min,b?O.max:R,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:s,div:t,inputGroup:e}=this,n=this,c=s.renderer.style||{};var r=s.renderer;const C=s.options.rangeSelector,b="min"===a;var P=I.lang[b?"rangeSelectorFrom":"rangeSelectorTo"]||"";P=r.label(P,0).addClass("highcharts-range-label").attr({padding:P?2:0,height:P?C.inputBoxHeight:0}).add(e),r=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:C.inputBoxWidth,height:C.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(a),n[a+"Input"].focus()}),s.styledMode||r.attr({stroke:C.inputBoxBorderColor,"stroke-width":1}),r.add(e);const S=i("input",{name:a,className:"highcharts-range-selector"},void 0,t);S.setAttribute("type",function L(k){if(-1!==k.indexOf("%L"))return"text";const a="aAdewbBmoyY".split("").some(s=>-1!==k.indexOf("%"+s)),o="HkIlMS".split("").some(s=>-1!==k.indexOf("%"+s));return a&&o?"datetime-local":a?"date":o?"time":"text"}(C.inputDateFormat||"%e %b %Y")),s.styledMode||(P.css(g(c,C.labelStyle)),r.css(g({color:"#333333"},c,C.inputStyle)),T(S,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},C.inputStyle))),S.onfocus=()=>{n.showInput(a)},S.onblur=()=>{S===F.doc.activeElement&&o(),n.hideInput(a),n.setInputValue(a),S.blur()};let w=!1;return S.onchange=()=>{w||(o(),n.hideInput(a),S.blur())},S.onkeypress=B=>{13===B.keyCode&&o()},S.onkeydown=B=>{w=!0,38!==B.keyCode&&40!==B.keyCode||o()},S.onkeyup=()=>{w=!1},{dateBox:r,input:S,label:P}}getPosition(){var a=this.chart;const o=a.options.rangeSelector;return{buttonTop:(a="top"===o.verticalAlign?a.plotTop-a.axisOffset[0]:0)+o.buttonPosition.y,inputTop:a+o.inputPosition.y-10}}getYTDExtremes(a,o,s){const t=this.chart.time;var e=new t.Date(a);const n=t.get("FullYear",e);return s=s?t.Date.UTC(n,0,1):+new t.Date(n,0,1),o=Math.max(o,s),e=e.getTime(),{max:Math.min(a||e,e),min:o}}render(a,o){var s=this.chart,t=s.renderer;const e=s.container;var n=s.options;const c=n.rangeSelector,r=f(n.chart.style&&n.chart.style.zIndex,0)+1;if(n=c.inputEnabled,!1!==c.enabled){if(this.rendered||(this.group=t.g("range-selector-group").attr({zIndex:7}).add(),this.div=i("div",void 0,{position:"relative",height:0,zIndex:r}),this.buttonOptions.length&&this.renderButtons(),e.parentNode&&e.parentNode.insertBefore(this.div,e),n&&(this.inputGroup=t.g("input-group").add(this.group),t=this.drawInput("min"),this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input,t=this.drawInput("max"),this.maxDateBox=t.dateBox,this.maxLabel=t.label,this.maxInput=t.input)),n&&(this.setInputValue("min",a),this.setInputValue("max",o),a=s.scroller&&s.scroller.getUnionExtremes()||s.xAxis[0]||{},A(a.dataMin)&&A(a.dataMax)&&(s=s.xAxis[0].minRange||0,this.setInputExtremes("min",a.dataMin,Math.min(a.dataMax,this.getInputValue("max"))-s),this.setInputExtremes("max",Math.max(a.dataMin,this.getInputValue("min"))+s,a.dataMax)),this.inputGroup)){let C=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(b=>{if(b){const{width:P}=b.getBBox();P&&(b.attr({x:C}),C+=P+c.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:a,chart:o,options:s}=this,t=I.lang,e=o.renderer,n=g(s.buttonTheme),c=n&&n.states,r=n.width||28;delete n.width,delete n.states,this.buttonGroup=e.g("range-selector-buttons").add(this.group);const C=this.dropdown=i("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(C,"touchstart",()=>{C.style.fontSize="16px"}),[[F.isMS?"mouseover":"mouseenter"],[F.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([b,P])=>{E(C,b,()=>{const S=a[this.currentButtonIndex()];S&&h(S.element,P||b)})}),this.zoomText=e.label(t&&t.rangeSelectorZoom||"",0).attr({padding:s.buttonTheme.padding,height:s.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(s.labelStyle),n["stroke-width"]=f(n["stroke-width"],0)),i("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,C),this.buttonOptions.forEach((b,P)=>{i("option",{textContent:b.title||b.text},void 0,C),a[P]=e.button(b.text,0,0,S=>{const w=b.events&&b.events.click;let B;w&&(B=w.call(b,S)),!1!==B&&this.clickButton(P),this.isActive=!0},n,c&&c.hover,c&&c.select,c&&c.disabled).attr({"text-align":"center",width:r}).add(this.buttonGroup),b.title&&a[P].attr("title",b.title)})}alignElements(){const{buttonGroup:a,buttons:o,chart:s,group:t,inputGroup:e,options:n,zoomText:c}=this;var r=s.options;const C=r.exporting&&!1!==r.exporting.enabled&&r.navigation&&r.navigation.buttonOptions,{buttonPosition:b,inputPosition:P,verticalAlign:S}=n;r=(O,Y)=>C&&this.titleCollision(s)&&"top"===S&&"right"===Y.align&&Y.y-O.getBBox().height-12<(C.y||0)+(C.height||0)+s.spacing[0]?-40:0;var w=s.plotLeft;if(t&&b&&P){var B=b.x-s.spacing[3];if(a){if(this.positionButtons(),!this.initialButtonGroupWidth){let R=0;c&&(R+=c.getBBox().width+5),o.forEach((G,H)=>{R+=G.width,H!==o.length-1&&(R+=n.buttonSpacing)}),this.initialButtonGroupWidth=R}w-=s.spacing[3],this.updateButtonStates();var N=r(a,b);this.alignButtonGroup(N),t.placed=a.placed=s.hasLoaded}N=0,e&&(N=r(e,P),"left"===P.align?B=w:"right"===P.align&&(B=-Math.max(s.axisOffset[1],-N)),e.align({y:P.y,width:e.getBBox().width,align:P.align,x:P.x+B-2},!0,s.spacingBox),e.placed=s.hasLoaded),this.handleCollision(N),t.align({verticalAlign:S},!0,s.spacingBox),r=t.alignAttr.translateY,w=t.getBBox().height+20,B=0,"bottom"===S&&(B=r-(w=w+(B=(B=s.legend&&s.legend.options)&&"bottom"===B.verticalAlign&&B.enabled&&!B.floating?s.legend.legendHeight+f(B.margin,10):0)-20)-(n.floating?0:n.y)-(s.titleOffset?s.titleOffset[2]:0)-10),"top"===S?(n.floating&&(B=0),s.titleOffset&&s.titleOffset[0]&&(B=s.titleOffset[0]),B+=s.margin[0]-s.spacing[0]||0):"middle"===S&&(P.y===b.y?B=r:(P.y||b.y)&&(B=0>P.y||0>b.y?B-Math.min(P.y,b.y):r-w)),t.translate(n.x,n.y+Math.floor(B));const{minInput:O,maxInput:Y,dropdown:z}=this;n.inputEnabled&&O&&Y&&(O.style.marginTop=t.translateY+"px",Y.style.marginTop=t.translateY+"px"),z&&(z.style.marginTop=t.translateY+"px")}}alignButtonGroup(a,o){const{chart:s,options:t,buttonGroup:e}=this,{buttonPosition:n}=t,c=s.plotLeft-s.spacing[3];let r=n.x-s.spacing[3];"right"===n.align?r+=a-c:"center"===n.align&&(r-=c/2),e&&e.align({y:n.y,width:f(o,this.initialButtonGroupWidth),align:n.align,x:r},!0,s.spacingBox)}positionButtons(){const{buttons:a,chart:o,options:s,zoomText:t}=this,e=o.hasLoaded?"animate":"attr",{buttonPosition:n}=s,c=o.plotLeft;let r=c;t&&"hidden"!==t.visibility&&(t[e]({x:f(c+n.x,c)}),r+=n.x+t.getBBox().width+5);for(let C=0,b=this.buttonOptions.length;C<b;++C)"hidden"!==a[C].visibility?(a[C][e]({x:r}),r+=a[C].width+s.buttonSpacing):a[C][e]({x:c})}handleCollision(a){const{chart:o,buttonGroup:s,inputGroup:t}=this,{buttonPosition:e,dropdown:n,inputPosition:c}=this.options,r=()=>{let P=0;return this.buttons.forEach(S=>{(S=S.getBBox()).width>P&&(P=S.width)}),P},C=P=>{if(t&&s){const S=t.alignAttr.translateX+t.alignOptions.x-a+t.getBBox().x+2,w=t.alignOptions.width,B=s.alignAttr.translateX+s.getBBox().x;return B+P>S&&S+w>B&&e.y<c.y+t.getBBox().height}return!1},b=()=>{t&&s&&t.attr({translateX:t.alignAttr.translateX+(o.axisOffset[1]>=-a?0:-a),translateY:t.alignAttr.translateY+s.getBBox().height+10})};if(s){if("always"===n)return this.collapseButtons(a),void(C(r())&&b());"never"===n&&this.expandButtons()}t&&s?c.align===e.align||C(this.initialButtonGroupWidth+20)?"responsive"===n?(this.collapseButtons(a),C(r())&&b()):b():"responsive"===n&&this.expandButtons():s&&"responsive"===n&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(a):this.expandButtons())}collapseButtons(a){const{buttons:o,buttonOptions:s,chart:t,dropdown:e,options:n,zoomText:c}=this,r=t.userOptions.rangeSelector&&t.userOptions.rangeSelector.buttonTheme||{},C=S=>({text:S?`${S} \u25be`:"\u25be",width:"auto",paddingLeft:f(n.buttonTheme.paddingLeft,r.padding,8),paddingRight:f(n.buttonTheme.paddingRight,r.padding,8)});c&&c.hide();let b=!1;s.forEach((S,w)=>{2!==(w=o[w]).state?w.hide():(w.show(),w.attr(C(S.text)),b=!0)}),b||(e&&(e.selectedIndex=0),o[0].show(),o[0].attr(C(this.zoomText&&this.zoomText.textStr)));const{align:P}=n.buttonPosition;this.positionButtons(),"right"!==P&&"center"!==P||this.alignButtonGroup(a,o[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:a,buttonOptions:o,options:s,zoomText:t}=this;this.hideDropdown(),t&&t.show(),o.forEach((e,n)=>{(n=a[n]).show(),n.attr({text:e.text,width:s.buttonTheme.width||28,paddingLeft:f(s.buttonTheme.paddingLeft,"unset"),paddingRight:f(s.buttonTheme.paddingRight,"unset")}),2>n.state&&n.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:a}=this;return a&&0<a.selectedIndex?a.selectedIndex-1:0}showDropdown(){const{buttonGroup:a,buttons:o,chart:s,dropdown:t}=this;if(a&&t){const{translateX:e,translateY:n}=a,c=o[this.currentButtonIndex()].getBBox();T(t,{left:s.plotLeft+e+"px",top:n+.5+"px",width:c.width+"px",height:c.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:a}=this;a&&(T(a,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var a=this.options,o=this.group;const s=a.y,t=a.buttonPosition.y,e=a.inputPosition.y;return a.height?a.height:(this.alignElements(),a=o?o.getBBox(!0).height+13+s:0,o=Math.min(e,t),(0>e&&0>t||0<e&&0<t)&&(a+=Math.abs(o)),a)}titleCollision(a){return!(a.options.title.text||a.options.subtitle.text)}update(a){const o=this.chart;g(!0,o.options.rangeSelector,a),this.destroy(),this.init(o),this.render()}destroy(){const a=this,o=a.minInput,s=a.maxInput;a.eventsToUnbind&&(a.eventsToUnbind.forEach(t=>t()),a.eventsToUnbind=void 0),v(a.buttons),o&&(o.onfocus=o.onblur=o.onchange=null),s&&(s.onfocus=s.onblur=s.onchange=null),u(a,function(t,e){t&&"chart"!==e&&(t instanceof U?t.destroy():t instanceof window.HTMLElement&&y(t)),t!==M.prototype[e]&&(a[e]=null)},this)}}return x(M.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),M}),D(Q,"Core/Axis/OrdinalAxis.js",[Q["Core/Axis/Axis.js"],Q["Core/Globals.js"],Q["Core/Series/Series.js"],Q["Core/Utilities.js"]],function(V,X,F,j){const{addEvent:U,correctFloat:_,css:L,defined:I,error:E,pick:i,timeUnits:T}=j,A=[];var v;return function(y){function x(o,s,t,e,n=[],c=0,r){const C={},b=this.options.tickPixelInterval;var w,P=this.chart.time,S=[];let B,N;var O=0;let Y=[],z=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!n||3>n.length||typeof s>"u")return P.getTimeTicks.apply(P,arguments);const R=n.length;for(w=0;w<R;w++){if(N=w&&n[w-1]>t,n[w]<s&&(O=w),w===R-1||n[w+1]-n[w]>5*c||N){if(n[w]>z){for(B=P.getTimeTicks(o,n[O],n[w],e);B.length&&B[0]<=z;)B.shift();B.length&&(z=B[B.length-1]),S.push(Y.length),Y=Y.concat(B)}O=w+1}if(N)break}if(B){if(n=B.info,r&&n.unitRange<=T.hour){for(w=Y.length-1,O=1;O<w;O++)if(P.dateFormat("%d",Y[O])!==P.dateFormat("%d",Y[O-1])){C[Y[O]]="day";var G=!0}G&&(C[Y[0]]="day"),n.higherRanks=C}n.segmentStarts=S,Y.info=n}else E(12,!1,this.chart);if(r&&I(b)){let H;for(P=[],G=[],w=O=Y.length;w--;)S=this.translate(Y[w]),H&&(G[w]=H-S),P[w]=H=S;for(G.sort(),(G=G[Math.floor(G.length/2)])<.6*b&&(G=null),w=Y[O-1]>t?O-1:O,H=void 0;w--;)S=P[w],O=Math.abs(H-S),H&&O<.8*b&&(null===G||O<.8*G)?(C[Y[w]]&&!C[Y[w+1]]?(O=w+1,H=S):O=w,Y.splice(O,1)):H=S}return Y}function h(o){const s=this.ordinal.positions;if(!s)return o;let e,t=s.length-1;return 0>o?o=s[0]:o>t?o=s[t]:(t=Math.floor(o),e=o-t),typeof e<"u"&&typeof s[t]<"u"?s[t]+(e?e*(s[t+1]-s[t]):0):o}function m(o){var s=this.ordinal,t=s.positions;if(!t)return o;var e=(o-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<e&&e<this.left+this.len||(s.extendedOrdinalPositions||(s.extendedOrdinalPositions=s.getExtendedPositions()),t=s.extendedOrdinalPositions),t&&t.length){if(o=s.getIndexOfPoint(e,t),s=_(o%1),0<=o&&o<t.length-1)return t[Math.floor(o)]+s*(t[Math.ceil(o)]-t[Math.floor(o)]);e=t[0];const n=((t=t[(s=t.length)-1])-e)/(s-1);return 0>o?e+n*o:t+n*(o-s)}return o}function g(o,s){const t=y.Additions.findIndexOf(o,s,!0);return o[t]===s?t:t+(s-o[t])/(o[t+1]-o[t])}function u(){this.ordinal||(this.ordinal=new y.Additions(this))}function l(){this.isXAxis&&I(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&I(this.userMin)&&(this.min+=this.options.overscroll))}function f(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function d(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function p(o){const s=this.xAxis[0],t=s.options.overscroll,e=o.originalEvent.chartX,n=this.options.chart.panning;let c=!1;if(n&&"y"!==n.type&&s.options.ordinal&&s.series.length){var r=this.mouseDownX;const S=s.getExtremes(),w=S.dataMax,B=S.min,N=S.max;var C=this.hoverPoints,b=s.closestPointRange||s.ordinal&&s.ordinal.overscrollPointsRange;r=(r-e)/(s.translationSlope*(s.ordinal.slope||b));var P={ordinal:{positions:b=s.ordinal.getExtendedPositions(),extendedOrdinalPositions:b}};b=s.index2val;const O=s.val2lin;let Y;P.ordinal.positions?1<Math.abs(r)&&(C&&C.forEach(function(z){z.setState()}),0>r?(C=P,Y=s.ordinal.positions?s:P):(C=s.ordinal.positions?s:P,Y=P),w>(P=Y.ordinal.positions)[P.length-1]&&P.push(w),this.fixedRange=N-B,(r=s.navigatorAxis.toFixedRange(void 0,void 0,b.apply(C,[O.apply(C,[B,!0])+r]),b.apply(Y,[O.apply(Y,[N,!0])+r]))).min>=Math.min(S.dataMin,B)&&r.max<=Math.max(w,N)+t&&s.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=e,L(this.container,{cursor:"move"})):c=!0}else c=!0;c||n&&/y/.test(n.type)?t&&(s.max=s.dataMax+t):o.preventDefault()}function M(){const o=this.xAxis;o&&o.options.ordinal&&(delete o.ordinal.index,delete o.ordinal.extendedOrdinalPositions)}function k(o,s){const t=this.ordinal;var e=t.positions;let n=t.slope,c=t.extendedOrdinalPositions;if(!e)return o;var r=e.length;if(e[0]<=o&&e[r-1]>=o)o=g(e,o);else{if(c||(c=t.getExtendedPositions&&t.getExtendedPositions(),t.extendedOrdinalPositions=c),!c||!c.length)return o;r=c.length,n||(n=(c[r-1]-c[0])/r),e=g(c,e[0]),o=o>=c[0]&&o<=c[r-1]?g(c,o)-e:o<c[0]?-e-(c[0]-o)/n:(o-c[r-1])/n+r-e}return s?o:n*(o||0)+t.offset}y.compose=function(o,s,t){if(j.pushUnique(A,o)){const e=o.prototype;e.getTimeTicks=x,e.index2val=h,e.lin2val=m,e.val2lin=k,e.ordinal2lin=e.val2lin,U(o,"afterInit",u),U(o,"foundExtremes",l),U(o,"afterSetScale",f),U(o,"initialAxisTranslation",d)}return j.pushUnique(A,t)&&U(t,"pan",p),j.pushUnique(A,s)&&U(s,"updatedData",M),o};class a{constructor(s){this.index={},this.axis=s}beforeSetTickPositions(){const s=this.axis,t=s.ordinal;var e=s.getExtremes();const n=e.min;var c=e.max;const r=s.isXAxis&&!!s.options.breaks;e=s.options.ordinal;const C=s.chart.options.chart.ignoreHiddenSeries;let b,P;var S;let w=[],B=Number.MAX_VALUE,N=!1,O=!1,Y=!1;if(e||r){let R=0;if(s.series.forEach(function(G,H){if(P=[],0<H&&"highcharts-navigator-series"!==G.options.id&&1<G.processedXData.length&&(O=R!==G.processedXData[1]-G.processedXData[0]),R=G.processedXData[1]-G.processedXData[0],G.boosted&&(Y=G.boosted),!(C&&!1===G.visible||!1===G.takeOrdinalPosition&&!r)&&(w=w.concat(G.processedXData),b=w.length,w.sort(function(W,q){return W-q}),B=Math.min(B,i(G.closestPointRange,B)),b)){for(H=0;H<b-1;)w[H]!==w[H+1]&&P.push(w[H+1]),H++;P[0]!==w[0]&&P.unshift(w[0]),w=P}}),O&&Y&&(w.pop(),w.shift()),b=w.length,2<b){var z=w[1]-w[0];for(S=b-1;S--&&!N;)w[S+1]-w[S]!==z&&(N=!0);!s.options.keepOrdinalPadding&&(w[0]-n>z||c-w[w.length-1]>z)&&(N=!0)}else s.options.overscroll&&(2===b?B=w[1]-w[0]:1===b?(B=s.options.overscroll,w=[w[0],w[0]+B]):B=t.overscrollPointsRange);N||s.forceOrdinal?(s.options.overscroll&&(t.overscrollPointsRange=B,w=w.concat(t.getOverscrollPositions())),t.positions=w,z=s.ordinal2lin(Math.max(n,w[0]),!0),S=Math.max(s.ordinal2lin(Math.min(c,w[w.length-1]),!0),1),t.slope=c=(c-n)/(S-z),t.offset=n-z*c):(t.overscrollPointsRange=i(s.closestPointRange,t.overscrollPointsRange),t.positions=s.ordinal.slope=t.offset=void 0)}s.isOrdinal=e&&N,t.groupIntervalFactor=null}static findIndexOf(s,t,e){let r,n=0,c=s.length-1;for(;n<c;)r=Math.ceil((n+c)/2),s[r]<=t?n=r:c=r-1;return s[n]===t||e?n:-1}getExtendedPositions(){const s=this,t=s.axis,e=t.constructor.prototype,n=t.chart,c=t.series[0].currentDataGrouping,r=c?c.count+c.unitName:"raw",C=t.options.overscroll,b=t.getExtremes();let P,S,w=s.index;return w||(w=s.index={}),w[r]||(P={series:[],chart:n,forceOrdinal:!1,getExtremes:function(){return{min:b.dataMin,max:b.dataMax+C}},getGroupPixelWidth:e.getGroupPixelWidth,getTimeTicks:e.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:e.ordinal2lin,getIndexOfPoint:e.getIndexOfPoint,val2lin:e.val2lin},P.ordinal.axis=P,t.series.forEach(function(B){S={xAxis:P,xData:B.xData.slice(),chart:n,destroyGroupedData:X.noop,getProcessedData:F.prototype.getProcessedData,applyGrouping:F.prototype.applyGrouping},S.xData=S.xData.concat(s.getOverscrollPositions()),S.options={dataGrouping:c?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[c.unitName,[c.count]]]}:{enabled:!1}},P.series.push(S),B.processData.apply(S)}),S.closestPointRange!==S.basePointRange&&S.currentDataGrouping&&(P.forceOrdinal=!0),t.ordinal.beforeSetTickPositions.apply({axis:P}),w[r]=P.ordinal.positions),w[r]}getGroupIntervalFactor(s,t,e){const n=(e=e.processedXData).length;var c=[],r=this.groupIntervalFactor;if(!r){for(r=0;r<n-1;r++)c[r]=e[r+1]-e[r];c.sort(function(C,b){return C-b}),c=c[Math.floor(n/2)],s=Math.max(s,e[0]),t=Math.min(t,e[n-1]),this.groupIntervalFactor=r=n*c/(t-s)}return r}getIndexOfPoint(s,t){const e=this.axis,n=this.positions?this.positions[0]:0;let c=e.series[0].points&&e.series[0].points[0]&&e.series[0].points[0].plotX||e.minPixelPadding;return 1<e.series.length&&e.series.forEach(function(r){r.points&&I(r.points[0])&&I(r.points[0].plotX)&&r.points[0].plotX<c&&r.points[0].plotX>=i(e.min,-1/0)&&(c=r.points[0].plotX)}),s=(s-c)/(e.translationSlope*(this.slope||e.closestPointRange||this.overscrollPointsRange)),a.findIndexOf(t,n)+s}getOverscrollPositions(){const s=this.axis,t=s.options.overscroll,e=this.overscrollPointsRange,n=[];let c=s.dataMax;if(I(e))for(;c<=s.dataMax+t;)c+=e,n.push(c);return n}postProcessTickInterval(s){const t=this.axis,e=this.slope;return e?t.options.breaks?t.closestPointRange||s:s/(e/t.closestPointRange):s}}y.Additions=a}(v||(v={})),v}),D(Q,"Series/HLC/HLCPoint.js",[Q["Core/Series/SeriesRegistry.js"]],function(V){return({column:{prototype:{pointClass:V}}}=V.seriesTypes),class X extends V{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}}),D(Q,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),D(Q,"Series/HLC/HLCSeries.js",[Q["Series/HLC/HLCPoint.js"],Q["Series/HLC/HLCSeriesDefaults.js"],Q["Core/Series/SeriesRegistry.js"],Q["Core/Utilities.js"]],function(V,X,F,j){const{column:U}=F.seriesTypes,{extend:_,merge:L}=j;class I extends U{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(i,T,A){const v=i[0];i=i[1],"number"==typeof v[2]&&(v[2]=Math.max(A+T,v[2])),"number"==typeof i[2]&&(i[2]=Math.min(A-T,i[2]))}getPointPath(i,T){T=T.strokeWidth();const A=i.series,v=T%2/2,y=Math.round(i.plotX)-v,x=Math.round(i.shapeArgs.width/2),h=[["M",y,Math.round(i.yBottom)],["L",y,Math.round(i.plotHigh)]];return null!==i.close&&(i=Math.round(i.plotClose)+v,h.push(["M",y,i],["L",y+x,i]),A.extendStem(h,T/2,i)),h}drawSinglePoint(i){var T=i.series;const A=T.chart;let v=i.graphic;typeof i.plotY<"u"&&(v||(i.graphic=v=A.renderer.path().add(T.group)),A.styledMode||v.attr(T.pointAttribs(i,i.selected&&"select")),T=T.getPointPath(i,v),v[v?"animate":"attr"]({d:T}).addClass(i.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(i,T){return delete(i=super.pointAttribs.call(this,i,T)).fill,i}toYData(i){return[i.high,i.low,i.close]}translate(){const i=this,T=i.yAxis,A=this.pointArrayMap&&this.pointArrayMap.slice()||[],v=A.map(y=>`plot${y.charAt(0).toUpperCase()+y.slice(1)}`);v.push("yBottom"),A.push("low"),super.translate.apply(i),i.points.forEach(function(y){A.forEach(function(x,h){null!==(x=y[x])&&(i.dataModify&&(x=i.dataModify.modifyValue(x)),y[v[h]]=T.toPixels(x,!0))}),y.tooltipPos[1]=y.plotHigh+T.pos-i.chart.plotTop})}}return I.defaultOptions=L(U.defaultOptions,X),_(I.prototype,{pointClass:V,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),F.registerSeriesType("hlc",I),I}),D(Q,"Series/OHLC/OHLCPoint.js",[Q["Core/Series/SeriesRegistry.js"]],function(V){return({seriesTypes:{hlc:V}}=V),class X extends V.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const j=super.getZone();return this.resolveUpColor(),j}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),D(Q,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),D(Q,"Series/OHLC/OHLCSeries.js",[Q["Series/OHLC/OHLCPoint.js"],Q["Series/OHLC/OHLCSeriesDefaults.js"],Q["Core/Series/SeriesRegistry.js"],Q["Core/Utilities.js"]],function(V,X,F,j){function U(v){const y=(v=v.options).dataGrouping;y&&v.useOhlcData&&"highcharts-navigator-series"!==v.id&&(y.approximation="ohlc")}function _(v){(v=v.options).useOhlcData&&"highcharts-navigator-series"!==v.id&&E(this,{pointValKey:A.prototype.pointValKey,pointArrayMap:A.prototype.pointArrayMap,toYData:A.prototype.toYData})}const{seriesTypes:{hlc:L}}=F,{addEvent:I,extend:E,merge:i}=j,T=[];class A extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(y,...x){j.pushUnique(T,y)&&(I(y,"afterSetOptions",U),I(y,"init",_))}getPointPath(y,x){const h=super.getPointPath(y,x),m=(x=x.strokeWidth())%2/2,g=Math.round(y.plotX)-m,u=Math.round(y.shapeArgs.width/2);return null!==y.open&&(y=Math.round(y.plotOpen)+m,h.push(["M",g,y],["L",g-u,y]),super.extendStem(h,x/2,y)),h}pointAttribs(y,x){x=super.pointAttribs.call(this,y,x);const h=this.options;return delete x.fill,!y.options.color&&h.upColor&&y.open<y.close&&(x.stroke=h.upColor),x}toYData(y){return[y.open,y.high,y.low,y.close]}}return A.defaultOptions=i(L.defaultOptions,X),E(A.prototype,{pointClass:V,pointArrayMap:["open","high","low","close"]}),F.registerSeriesType("ohlc",A),A}),D(Q,"Series/Candlestick/CandlestickSeriesDefaults.js",[Q["Core/Defaults.js"],Q["Core/Utilities.js"]],function(V,X){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),D(Q,"Series/Candlestick/CandlestickSeries.js",[Q["Series/Candlestick/CandlestickSeriesDefaults.js"],Q["Core/Defaults.js"],Q["Core/Series/SeriesRegistry.js"],Q["Core/Utilities.js"]],function(V,X,F,j){({defaultOptions:X}=X);const{column:U,ohlc:_}=F.seriesTypes;({merge:j}=j);class L extends _{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(E,i){const T=U.prototype.pointAttribs.call(this,E,i),A=this.options,v=E.open<E.close,y=A.lineColor||this.color,x=E.color||this.color;return T["stroke-width"]=A.lineWidth,T.fill=E.options.color||v&&A.upColor||x,T.stroke=E.options.lineColor||v&&A.upLineColor||y,i&&(T.fill=(E=A.states[i]).color||T.fill,T.stroke=E.lineColor||T.stroke,T["stroke-width"]=E.lineWidth||T["stroke-width"]),T}drawPoints(){var E=this.points;const i=this.chart,T=this.yAxis.reversed;for(const x of E){var A=void 0,v=void 0;let h,m;var y=void 0;let g,u;const l=!(E=x.graphic);typeof x.plotY<"u"&&(E||(x.graphic=E=i.renderer.path().add(this.group)),this.chart.styledMode||E.attr(this.pointAttribs(x,x.selected&&"select")).shadow(this.options.shadow),y=E.strokeWidth()%2/2,g=Math.round(x.plotX)-y,A=x.plotOpen,v=x.plotClose,h=Math.min(A,v),A=Math.max(A,v),u=Math.round(x.shapeArgs.width/2),v=T?A!==x.yBottom:Math.round(h)!==Math.round(x.plotHigh),m=T?Math.round(h)!==Math.round(x.plotHigh):A!==x.yBottom,h=Math.round(h)+y,A=Math.round(A)+y,(y=[]).push(["M",g-u,A],["L",g-u,h],["L",g+u,h],["L",g+u,A],["Z"],["M",g,h],["L",g,v?Math.round(T?x.yBottom:x.plotHigh):h],["M",g,A],["L",g,m?Math.round(T?x.plotHigh:x.yBottom):A]),E[l?"attr":"animate"]({d:y}).addClass(x.getClassName(),!0))}}}return L.defaultOptions=j(_.defaultOptions,X.plotOptions,{tooltip:_.defaultOptions.tooltip},V),F.registerSeriesType("candlestick",L),L}),D(Q,"Series/Flags/FlagsPoint.js",[Q["Core/Series/SeriesRegistry.js"],Q["Core/Utilities.js"]],function(V,X){({column:{prototype:{pointClass:V}}}=V.seriesTypes);const{isNumber:F}=X;return class j extends V{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return F(this.y)||typeof this.y>"u"}hasNewShapeType(){const _=this.options.shape||this.series.options.shape;return this.graphic&&_&&_!==this.graphic.symbolKey}}}),D(Q,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),D(Q,"Series/Flags/FlagsSymbols.js",[Q["Core/Renderer/RendererRegistry.js"]],function(V){var X;return function(F){function j(L,I,E,i,T){const A=T&&T.anchorX||L,v=this.circle(A-1,(T=T&&T.anchorY||I)-1,2,2);return v.push(["M",A,T],["L",L,I+i],["L",L,I],["L",L+E,I],["L",L+E,I+i],["L",L,I+i],["Z"]),v}function U(L,I){L[I+"pin"]=function(E,i,T,A,v){const y=v&&v.anchorX;let x;if(v=v&&v.anchorY,"circle"===I&&A>T&&(E-=Math.round((A-T)/2),T=A),x=L[I](E,i,T,A),y&&v){let h=y;"circle"===I?h=E+T/2:(T=x[1],"M"===(E=x[0])[0]&&"L"===T[0]&&(h=(E[1]+T[1])/2)),x.push(["M",h,i>v?i:i+A],["L",y,v]),x=x.concat(L.circle(y-1,v-1,2,2))}return x}}const _=[];F.compose=function(L){-1===_.indexOf(L)&&(_.push(L),(L=L.prototype.symbols).flag=j,U(L,"circle"),U(L,"square")),L=V.getRendererType(),_.indexOf(L)&&_.push(L)}}(X||(X={})),X}),D(Q,"Series/OnSeriesComposition.js",[Q["Series/Column/ColumnSeries.js"],Q["Core/Series/Series.js"],Q["Core/Utilities.js"]],function(V,X,F){const{prototype:j}=V,{prototype:U}=X,{defined:_,stableSort:L}=F;var I;return function(E){function i(v){return U.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,v)}function T(){j.translate.apply(this);const v=this;var y=v.options,x=v.chart;const h=v.points;var m=y.onSeries;const g=(m=m&&x.get(m))&&m.options.step,u=m&&m.points,l=x.inverted,f=v.xAxis,d=v.yAxis;let p;x=h.length-1,y=y.onKey||"y";let a,o,s,t,M=u&&u.length,k=0;if(m&&m.visible&&M){k=(m.pointXOffset||0)+(m.barW||0)/2;var e=m.currentDataGrouping;for(o=u[M-1].x+(e?e.totalRange:0),L(h,(n,c)=>n.x-c.x),y="plot"+y[0].toUpperCase()+y.substr(1);M--&&h[x]&&(a=u[M],(e=h[x]).y=a.y,!(a.x<=e.x&&typeof a[y]<"u"&&(e.x<=o&&(e.plotY=a[y],a.x<e.x&&!g&&(s=u[M+1])&&typeof s[y]<"u"&&(t=(e.x-a.x)/(s.x-a.x),e.plotY+=t*(s[y]-a[y]),e.y+=t*(s.y-a.y))),x--,M++,0>x))););}h.forEach((n,c)=>{let r;n.plotX+=k,(typeof n.plotY>"u"||l)&&(0<=n.plotX&&n.plotX<=f.len?l?(n.plotY=f.translate(n.x,0,1,0,1),n.plotX=_(n.y)?d.translate(n.y,0,0,0,1):0):n.plotY=(f.opposite?0:v.yAxis.len)+f.offset:n.shapeArgs={}),(p=h[c-1])&&p.plotX===n.plotX&&(typeof p.stackIndex>"u"&&(p.stackIndex=0),r=p.stackIndex+1),n.stackIndex=r}),this.onSeries=m}const A=[];E.compose=function(v){if(F.pushUnique(A,v)){const y=v.prototype;y.getPlotBox=i,y.translate=T}return v},E.getPlotBox=i,E.translate=T}(I||(I={})),I}),D(Q,"Series/Flags/FlagsSeries.js",[Q["Series/Flags/FlagsPoint.js"],Q["Series/Flags/FlagsSeriesDefaults.js"],Q["Series/Flags/FlagsSymbols.js"],Q["Core/Globals.js"],Q["Series/OnSeriesComposition.js"],Q["Core/Renderer/RendererUtilities.js"],Q["Core/Series/SeriesRegistry.js"],Q["Core/Renderer/SVG/SVGElement.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_,L,I,E){({noop:j}=j);const{distribute:i}=_,{series:T,seriesTypes:{column:A}}=L,{addEvent:v,defined:y,extend:x,merge:h,objectEach:m,wrap:g}=E;class u extends A{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(f){f&&this.setClip()}drawPoints(){var f=this.points,d=this.chart;const p=d.renderer,M=d.inverted,k=this.options,a=k.y,o=this.yAxis,s={},t=[];let e,n,c,r,C,b,P;for(c=f.length;c--;){r=f[c],b=(M?r.plotY:r.plotX)>this.xAxis.len,e=r.plotX;var S=r.stackIndex,w=r.options.shape||k.shape;n=r.plotY,typeof n<"u"&&(n=r.plotY+a-(typeof S<"u"&&S*k.stackDistance)),r.anchorX=S?void 0:r.plotX,C=S?void 0:r.plotY,P="flag"!==w,S=r.graphic,typeof n<"u"&&0<=e&&!b?(S&&r.hasNewShapeType()&&(S=S.destroy()),S||(S=r.graphic=p.label("",null,null,w,null,null,k.useHTML).addClass("highcharts-point").add(this.markerGroup),r.graphic.div&&(r.graphic.div.point=r),S.isNew=!0),S.attr({align:P?"center":"left",width:k.width,height:k.height,"text-align":k.textAlign}),d.styledMode||S.attr(this.pointAttribs(r)).css(h(k.style,r.style)).shadow(k.shadow),0<e&&(e-=S.strokeWidth()%2),w={y:n,anchorY:C},k.allowOverlapX&&(w.x=e,w.anchorX=r.anchorX),S.attr({text:r.options.title||k.title||"A"})[S.isNew?"attr":"animate"](w),k.allowOverlapX||(s[r.plotX]?s[r.plotX].size=Math.max(s[r.plotX].size,S.width):s[r.plotX]={align:P?.5:0,size:S.width,target:e,anchorX:e}),r.tooltipPos=[e,n+o.pos-d.plotTop]):S&&(r.graphic=S.destroy())}if(!k.allowOverlapX){let B=100;m(s,function(N){N.plotX=N.anchorX,t.push(N),B=Math.max(N.size,B)}),i(t,M?o.len:this.xAxis.len,B);for(const N of f)d=N.plotX,(d=(f=N.graphic)&&s[d])&&f&&(y(d.pos)?f[f.isNew?"attr":"animate"]({x:d.pos+(d.align||0)*d.size,anchorX:N.anchorX}).show().isNew=!1:f.hide().isNew=!0)}k.useHTML&&this.markerGroup&&g(this.markerGroup,"on",function(B){return I.prototype.on.apply(B.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const f=this.points;super.drawTracker();for(const d of f){const p=d.graphic;p&&(d.unbindMouseOver&&d.unbindMouseOver(),d.unbindMouseOver=v(p.element,"mouseover",function(){0<d.stackIndex&&!d.raised&&(d._y=p.y,p.attr({y:d._y-8}),d.raised=!0);for(const M of f)M!==d&&M.raised&&M.graphic&&(M.graphic.attr({y:M._y}),M.raised=!1)}))}}pointAttribs(f,d){const p=this.options,M=f&&f.color||this.color;let k=p.lineColor,a=f&&f.lineWidth;return f=f&&f.fillColor||p.fillColor,d&&(f=p.states[d].fillColor,k=p.states[d].lineColor,a=p.states[d].lineWidth),{fill:f||M,stroke:k||M,"stroke-width":a||p.lineWidth||0}}setClip(){T.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return u.compose=F.compose,u.defaultOptions=h(A.defaultOptions,X),U.compose(u),x(u.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:V,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:j,init:T.prototype.init}),L.registerSeriesType("flags",u),u}),D(Q,"Core/Chart/StockChart.js",[Q["Core/Axis/Axis.js"],Q["Core/Chart/Chart.js"],Q["Core/FormatUtilities.js"],Q["Core/Defaults.js"],Q["Stock/Navigator/NavigatorDefaults.js"],Q["Stock/RangeSelector/RangeSelectorDefaults.js"],Q["Stock/Scrollbar/ScrollbarDefaults.js"],Q["Core/Series/Series.js"],Q["Core/Renderer/SVG/SVGRenderer.js"],Q["Core/Utilities.js"]],function(V,X,F,j,U,_,L,I,E,i){function T(a,o){return"xAxis"===a?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===a?{labels:{y:-2},opposite:p(o.opposite,!0),showLastLabel:!(!o.categories&&"category"!==o.type),title:{text:null}}:{}}function A(a,o){return"xAxis"===a?(a={type:"datetime",categories:void 0},p(o.navigator&&o.navigator.enabled,U.enabled,!0)&&(a.startOnTick=!1,a.endOnTick=!1),a):{}}const{format:v}=F,{getOptions:y}=j,{addEvent:x,clamp:h,defined:m,extend:g,find:u,isNumber:l,isString:f,merge:d,pick:p,splat:M}=i;class k extends X{init(o,s){const t=y(),e=o.xAxis,n=o.yAxis;var c=p(o.navigator&&o.navigator.enabled,U.enabled,!0);o.xAxis=o.yAxis=void 0,c=d({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:c},scrollbar:{enabled:p(L.enabled,!0)},rangeSelector:{enabled:p(_.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:p(t.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},o,{isStock:!0}),o.xAxis=e,o.yAxis=n,c.xAxis=M(o.xAxis||{}).map(function(r,C){return d(T("xAxis",r),t.xAxis,t.xAxis&&t.xAxis[C],r,A("xAxis",o))}),c.yAxis=M(o.yAxis||{}).map(function(r,C){return d(T("yAxis",r),t.yAxis,t.yAxis&&t.yAxis[C],r)}),super.init(c,s)}createAxis(o,s){return s.axis=d(T(o,s.axis),s.axis,A(o,this.userOptions)),super.createAxis(o,s)}}return(a=k||(k={})).stockChart=function(o,s,t){return new a(o,s,t)},x(I,"setOptions",function(a){let o;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?o={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(o={marker:{enabled:!1,radius:2}}),o&&(a.plotOptions[this.type]=d(a.plotOptions[this.type],o)))}),x(V,"autoLabelAlign",function(a){const{chart:o,options:s}=this,t=o._labelPanes=o._labelPanes||{},e=s.labels;if(o.options.isStock&&"yAxis"===this.coll){const n=s.top+","+s.height;!t[n]&&e.enabled&&(15===e.distance&&1===this.side&&(e.distance=0),typeof e.align>"u"&&(e.align="right"),t[n]=this,a.align="right",a.preventDefault())}}),x(V,"destroy",function(){const a=this.chart,o=this.options&&this.options.top+","+this.options.height;o&&a._labelPanes&&a._labelPanes[o]===this&&delete a._labelPanes[o]}),x(V,"getPlotLinePath",function(a){let C,b,P,S,N,O,G,s=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,e=s.chart,n=e.renderer,c=s.left,r=s.top,w=[],B=[],Y=a.translatedValue,z=a.value,R=a.force;(e.options.isStock&&!1!==a.acrossPanes&&"xAxis"===s.coll||"yAxis"===s.coll)&&(a.preventDefault(),B=function o(H){const W="xAxis"===H?"yAxis":"xAxis";return l(H=s.options[W])?[e[W][H]]:f(H)?[e.get(H)]:t.map(function(q){return q[W]})}(s.coll),N=s.isXAxis?e.yAxis:e.xAxis,N.forEach(function(H){if(!m(H.options.id)||-1===H.options.id.indexOf("navigator")){var W=H.isXAxis?"yAxis":"xAxis";W=m(H.options[W])?e[W][H.options[W]]:e[W][0],s===W&&B.push(H)}}),O=B.length?[]:[s.isXAxis?e.yAxis[0]:e.xAxis[0]],B.forEach(function(H){-1!==O.indexOf(H)||u(O,function(W){return W.pos===H.pos&&W.len===H.len})||O.push(H)}),G=p(Y,s.translate(z,void 0,void 0,a.old)),l(G)&&O.forEach(s.horiz?function(H){let W;b=H.pos,S=b+H.len,C=P=Math.round(G+s.transB),"pass"!==R&&(C<c||C>c+s.width)&&(R?C=P=h(C,c,c+s.width):W=!0),W||w.push(["M",C,b],["L",P,S])}:function(H){let W;C=H.pos,P=C+H.len,b=S=Math.round(r+s.height-G),"pass"!==R&&(b<r||b>r+s.height)&&(R?b=S=h(b,r,r+s.height):W=!0),W||w.push(["M",C,b],["L",P,S])}),a.path=0<w.length?n.crispPolyLine(w,a.lineWidth||1):null)}),E.prototype.crispPolyLine=function(a,o){for(let s=0;s<a.length;s+=2){const t=a[s],e=a[s+1];t[1]===e[1]&&(t[1]=e[1]=Math.round(t[1])-o%2/2),t[2]===e[2]&&(t[2]=e[2]=Math.round(t[2])+o%2/2)}return a},x(V,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),x(V,"afterDrawCrosshair",function(a){var o,s;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&l(this.min)&&l(this.max)){var t=this.chart,e=this.logarithmic,n=this.crosshair.label,c=this.horiz,r=this.opposite,C=this.left,b=this.top,P=this.width,S=this.crossLabel,w=n.format,B="",N="inside"===this.options.tickPosition,O=!1!==this.crosshair.snap,Y=0,z=a.e||this.cross&&this.cross.e;a=a.point;var R=this.min,G=this.max;e&&(R=e.lin2log(R),G=e.lin2log(G)),e=c?"center":r?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",S||(S=this.crossLabel=t.renderer.label("",0,void 0,n.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(a&&a.series?a.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:n.align||e,padding:p(n.padding,8),r:p(n.borderRadius,3),zIndex:2}).add(this.labelGroup),t.styledMode||S.attr({fill:n.backgroundColor||a&&a.series&&a.series.color||"#666666",stroke:n.borderColor||"","stroke-width":n.borderWidth||0}).css(g({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},n.style||{}))),c?(P=O?(a.plotX||0)+C:z.chartX,b+=r?0:this.height):(P=C+this.offset+(r?P:0),b=O?(a.plotY||0)+b:z.chartY),w||n.formatter||(this.dateTime&&(B="%b %d, %Y"),w="{value"+(B?":"+B:"")+"}"),B=O?this.isXAxis?a.x:a.y:this.toValue(c?z.chartX:z.chartY),O=a&&a.series?a.series.isPointInside(a):l(B)&&B>R&&B<G,z="",w?z=v(w,{value:B},t):n.formatter&&l(B)&&(z=n.formatter.call(this,B)),S.attr({text:z,x:P,y:b,visibility:O?"inherit":"hidden"}),n=S.getBBox(),!l(S.x)||c||r||(P=S.x-n.width/2),l(S.y)&&(c?(N&&!r||!N&&r)&&(b=S.y-n.height):b=S.y-n.height/2),c?(o=C-n.x,s=C+this.width-n.x):(o="left"===this.labelAlign?C:0,s="right"===this.labelAlign?C+this.width:t.chartWidth),S.translateX<o&&(Y=o-S.translateX),S.translateX+n.width>=s&&(Y=-(S.translateX+n.width-s)),S.attr({x:P+Y,y:b,anchorX:c?P:this.opposite?0:t.chartWidth,anchorY:c?this.opposite?t.chartHeight:0:b+n.height/2})}}),I.prototype.forceCropping=function(){const o=this.options.dataGrouping;return!1!==this.allowDG&&o&&p(o.enabled,this.chart.options.isStock)},x(X,"update",function(a){"scrollbar"in(a=a.options)&&this.navigator&&(d(!0,this.options.scrollbar,a.scrollbar),this.navigator.update({}),delete a.scrollbar)}),k;var a}),D(Q,"masters/modules/stock.src.js",[Q["Core/Globals.js"],Q["Series/DataModifyComposition.js"],Q["Stock/Navigator/Navigator.js"],Q["Stock/RangeSelector/RangeSelector.js"],Q["Stock/Scrollbar/Scrollbar.js"],Q["Core/Axis/OrdinalAxis.js"],Q["Series/OHLC/OHLCSeries.js"],Q["Series/Flags/FlagsSeries.js"],Q["Core/Chart/StockChart.js"]],function(V,X,F,j,U,_,L,I,E){V.Navigator=F,V.RangeSelector=j,V.Scrollbar=U,V.StockChart=V.stockChart=E.stockChart,X.compose(V.Series,V.Axis,V.Point),I.compose(V.Renderer),F.compose(V.Axis,V.Chart,V.Series),L.compose(V.Series),_.compose(V.Axis,V.Series,V.Chart),j.compose(V.Axis,V.Chart),U.compose(V.Axis)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))},3885:(Ct,Bt,ct)=>{var Mt,At,Q;Q=function(Q){"use strict";var D=Q?Q._modules:{};function V(X,F,j,U){X.hasOwnProperty(F)||(X[F]=U.apply(null,j),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:F,module:X[F]}})))}V(D,"Core/Axis/BrokenAxis.js",[D["Core/Axis/Stacking/StackItem.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,find:U,fireEvent:_,isArray:L,isNumber:I,pick:E}=F;var i;return function(T){const A=[];function y(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function x(){const p=this;p.brokenAxis&&p.brokenAxis.hasBreaks&&(p.options.ordinal=!1)}function h(){const p=this,M=p.brokenAxis;if(M&&M.hasBreaks){const k=p.tickPositions,a=p.tickPositions.info,o=[];for(let s=0;s<k.length;s++)M.isInAnyBreak(k[s])||o.push(k[s]);p.tickPositions=o,p.tickPositions.info=a}}function m(){const p=this;p.brokenAxis||(p.brokenAxis=new d(p))}function g(){const{isDirty:p,options:{connectNulls:M},points:k,xAxis:a,yAxis:o}=this;if(p){let s=k.length;for(;s--;){const t=k[s],n=!(null===t.y&&!1===M)&&(a&&a.brokenAxis&&a.brokenAxis.isInAnyBreak(t.x,!0)||o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(t.y,!0));t.visible=!n&&!1!==t.options.visible}}}function u(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,E(this.pointArrayMap,["y"]))}function l(p,M){const k=this,a=k.points;let o,s,t,e;if(p&&p.brokenAxis&&p.brokenAxis.hasBreaks){const n=p.brokenAxis;M.forEach(function(c){o=n&&n.breakArray||[],s=p.isXAxis?p.min:E(k.options.threshold,p.min),a.forEach(function(r){e=E(r["stack"+c.toUpperCase()],r[c]),o.forEach(function(C){I(s)&&I(e)&&(t=!1,s<C.from&&e>C.to||s>C.from&&e<C.from?t="pointBreak":(s<C.from&&e>C.from&&e<C.to||s>C.from&&e>C.to&&e<C.from)&&(t="pointInBreak"),t&&_(p,t,{point:r,brk:C}))})})})}}function f(){const p=this.currentDataGrouping,M=p&&p.gapSize,k=this.points.slice(),a=this.yAxis;let t,o=this.options.gapSize,s=k.length-1;if(o&&s>0){let e,n;for("value"!==this.options.gapUnit&&(o*=this.basePointRange),M&&M>o&&M>=this.basePointRange&&(o=M);s--;)if(n&&!1!==n.visible||(n=k[s+1]),e=k[s],!1!==n.visible&&!1!==e.visible){if(n.x-e.x>o){const c=(e.x+n.x)/2;k.splice(s+1,0,{isNull:!0,x:c}),a.stacking&&this.options.stacking&&(t=a.stacking.stacks[this.stackKey][c]=new X(a,a.options.stackLabels,!1,c,this.stack),t.total=0)}n=e}}return this.getGraphPath(k)}T.compose=function v(p,M){if(F.pushUnique(A,p)&&(p.keepProps.push("brokenAxis"),j(p,"init",m),j(p,"afterInit",y),j(p,"afterSetTickPositions",h),j(p,"afterSetOptions",x)),F.pushUnique(A,M)){const k=M.prototype;k.drawBreaks=l,k.gappedPath=f,j(M,"afterGeneratePoints",g),j(M,"afterRender",u)}return p};class d{static isInBreak(M,k){const a=M.repeat||1/0,o=M.from,s=M.to-M.from,t=k>=o?(k-o)%a:a-(o-k)%a;let e;return e=M.inclusive?t<=s:t<s&&0!==t,e}static lin2Val(M){const a=this.brokenAxis,o=a&&a.breakArray;if(!o||!I(M))return M;let t,e,s=M;for(e=0;e<o.length&&(t=o[e],!(t.from>=s));e++)(t.to<s||d.isInBreak(t,s))&&(s+=t.len);return s}static val2Lin(M){const a=this.brokenAxis,o=a&&a.breakArray;if(!o||!I(M))return M;let t,e,s=M;for(e=0;e<o.length;e++)if(t=o[e],t.to<=M)s-=t.len;else{if(t.from>=M)break;if(d.isInBreak(t,M)){s-=M-t.from;break}}return s}constructor(M){this.hasBreaks=!1,this.axis=M}findBreakAt(M,k){return U(k,function(a){return a.from<M&&M<a.to})}isInAnyBreak(M,k){const o=this.axis,s=o.options.breaks||[];let e,n,c,t=s.length;if(t&&I(M)){for(;t--;)d.isInBreak(s[t],M)&&(e=!0,n||(n=E(s[t].showPoints,!o.isXAxis)));c=e&&k?e&&!n:e}return c}setBreaks(M,k){const a=this,o=a.axis,s=L(M)&&!!M.length;o.isDirty=a.hasBreaks!==s,a.hasBreaks=s,o.options.breaks=o.userOptions.breaks=M,o.forceRedraw=!0,o.series.forEach(function(t){t.isDirty=!0}),!s&&o.val2lin===d.val2Lin&&(delete o.val2lin,delete o.lin2val),s&&(o.userOptions.ordinal=!1,o.lin2val=d.lin2Val,o.val2lin=d.val2Lin,o.setExtremes=function(t,e,n,c,r){if(a.hasBreaks){const C=this.options.breaks||[];let b;for(;b=a.findBreakAt(t,C);)t=b.to;for(;b=a.findBreakAt(e,C);)e=b.from;e<t&&(e=t)}o.constructor.prototype.setExtremes.call(this,t,e,n,c,r)},o.setAxisTranslation=function(){if(o.constructor.prototype.setAxisTranslation.call(this),a.unitLength=void 0,a.hasBreaks){const t=o.options.breaks||[],e=[],n=[],c=E(o.pointRangePadding,0);let C,b,w,B,r=0,P=o.userMin||o.min,S=o.userMax||o.max;t.forEach(function(N){b=N.repeat||1/0,I(P)&&I(S)&&(d.isInBreak(N,P)&&(P+=N.to%b-P%b),d.isInBreak(N,S)&&(S-=S%b-N.from%b))}),t.forEach(function(N){if(w=N.from,b=N.repeat||1/0,I(P)&&I(S)){for(;w-b>P;)w-=b;for(;w<P;)w+=b;for(B=w;B<S;B+=b)e.push({value:B,move:"in"}),e.push({value:B+N.to-N.from,move:"out",size:N.breakSize})}}),e.sort(function(N,O){return N.value===O.value?("in"===N.move?0:1)-("in"===O.move?0:1):N.value-O.value}),C=0,w=P,e.forEach(function(N){C+="in"===N.move?1:-1,1===C&&"in"===N.move&&(w=N.value),0===C&&I(w)&&(n.push({from:w,to:N.value,len:N.value-w-(N.size||0)}),r+=N.value-w-(N.size||0))}),a.breakArray=n,I(P)&&I(S)&&I(o.min)&&(a.unitLength=S-P-r+c,_(o,"afterBreaks"),o.staticScale?o.transA=o.staticScale:a.unitLength&&(o.transA*=(S-o.min+c)/a.unitLength),c&&(o.minPixelPadding=o.transA*(o.minPointOffset||0)),o.min=P,o.max=S)}}),E(k,!0)&&o.chart.redraw()}}T.Additions=d}(i||(i={})),i}),V(D,"masters/modules/broken-axis.src.js",[D["Core/Globals.js"],D["Core/Axis/BrokenAxis.js"]],function(X,F){F.compose(X.Axis,X.Series)}),V(D,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),V(D,"Extensions/DataGrouping/ApproximationDefaults.js",[D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Core/Utilities.js"]],function(X,F){const{arrayMax:j,arrayMin:U,correctFloat:_,extend:L,isNumber:I}=F;function E(l){const f=l.length;let d=g(l);return I(d)&&f&&(d=_(d/f)),d}function g(l){let d,f=l.length;if(!f&&l.hasNulls)d=null;else if(f)for(d=0;f--;)d+=l[f];return d}const u={average:E,averages:function i(){const l=[];return[].forEach.call(arguments,function(f){l.push(E(f))}),typeof l[0]>"u"?void 0:l},close:function T(l){return l.length?l[l.length-1]:l.hasNulls?null:void 0},high:function A(l){return l.length?j(l):l.hasNulls?null:void 0},hlc:function v(l,f,d){if(l=X.high(l),f=X.low(f),d=X.close(d),I(l)||I(f)||I(d))return[l,f,d]},low:function y(l){return l.length?U(l):l.hasNulls?null:void 0},ohlc:function x(l,f,d,p){if(l=X.open(l),f=X.high(f),d=X.low(d),p=X.close(p),I(l)||I(f)||I(d)||I(p))return[l,f,d,p]},open:function h(l){return l.length?l[0]:l.hasNulls?null:void 0},range:function m(l,f){return l=X.low(l),f=X.high(f),I(l)||I(f)?[l,f]:null===l&&null===f?null:void 0},sum:g};return L(X,u),u}),V(D,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),V(D,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Core/Utilities.js"]],function(X,F){const{addEvent:j,extend:U,merge:_,pick:L}=F,I=[];let E;function i(h){const m=this,g=m.series;g.forEach(function(u){u.groupPixelWidth=void 0}),g.forEach(function(u){u.groupPixelWidth=m.getGroupPixelWidth&&m.getGroupPixelWidth(),u.groupPixelWidth&&(u.hasProcessed=!0),u.applyGrouping(!!h.hasExtremesChanged)})}function A(){const h=this.series;let l,f,m=h.length,g=0,u=!1;for(;m--;)f=h[m].options.dataGrouping,f&&(g=Math.max(g,L(f.groupPixelWidth,X.common.groupPixelWidth)),l=(h[m].processedXData||h[m].data).length,(h[m].groupPixelWidth||l>this.chart.plotSizeX/g||l&&f.forced)&&(u=!0));return u?g:0}function v(){this.series.forEach(function(h){h.hasProcessed=!1})}function y(h,m){let u;if(m=L(m,!0),h||(h={forced:!1,units:null}),this instanceof E)for(u=this.series.length;u--;)this.series[u].update({dataGrouping:h},!1);else this.chart.options.series.forEach(function(l){l.dataGrouping="boolean"==typeof h?h:_(h,l.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),m&&this.chart.redraw()}return{compose:function T(h){E=h,F.pushUnique(I,h)&&(j(h,"afterSetScale",v),j(h,"postProcessData",i),U(h.prototype,{applyGrouping:i,getGroupPixelWidth:A,setDataGrouping:y}))}}}),V(D,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Core/Axis/DateTimeAxis.js"],D["Core/Defaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{series:{prototype:I}}=_,{addEvent:E,defined:i,error:T,extend:A,isNumber:v,merge:y,pick:x}=L,h=I.generatePoints,m=[];function l(t){const e=this,n=e.chart,r=e.options.dataGrouping,C=!1!==e.allowDG&&r&&x(r.enabled,n.options.isStock),b=e.visible||!n.options.chart.ignoreHiddenSeries,P=this.currentDataGrouping;let S,w,B=!1;C&&!e.requireSorting&&(e.requireSorting=B=!0);const N=!1===function o(t,e){return!(t.isCartesian&&!t.isDirty&&!t.xAxis.isDirty&&!t.yAxis.isDirty&&!e)}(e,t)||!C;if(B&&(e.requireSorting=!1),!N){e.destroyGroupedData();const O=r.groupAll?e.xData:e.processedXData,Y=r.groupAll?e.yData:e.processedYData,z=n.plotSizeX,R=e.xAxis,G=R.options.ordinal,H=e.groupPixelWidth;let W,q;if(H&&O&&O.length&&z){q=!0,e.isDirty=!0,e.points=null;const Z=R.getExtremes(),tt=Z.min,$=Z.max,it=G&&R.ordinal&&R.ordinal.getGroupIntervalFactor(tt,$,e)||1,ot=R.getTimeTicks(j.Additions.prototype.normalizeTimeTickInterval(H*($-tt)/z*it,r.units||F.units),Math.min(tt,O[0]),Math.max($,O[O.length-1]),R.options.startOfWeek,O,e.closestPointRange),rt=I.groupData.apply(e,[O,Y,ot,r.approximation]);let lt=rt.groupedXData,at=rt.groupedYData,ut=0;for(r&&r.smoothed&&lt.length&&(r.firstAnchor="firstPoint",r.anchor="middle",r.lastAnchor="lastPoint",T(32,!1,n,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),function u(t,e,n){const r=t.options.dataGrouping,C=t.currentDataGrouping&&t.currentDataGrouping.gapSize;let b;if(r&&t.xData&&C&&t.groupMap){const P=e.length-1,S=r.anchor,w=x(r.firstAnchor,S),B=x(r.lastAnchor,S);if(S&&"start"!==S){const N=C*{middle:.5,end:1}[S];for(b=e.length-1;b--&&b>0;)e[b]+=N}if(w&&"start"!==w&&t.xData[0]>=e[0]){const N=t.groupMap[0].start,O=t.groupMap[0].length;let Y;v(N)&&v(O)&&(Y=N+(O-1)),e[0]={middle:e[0]+.5*C,end:e[0]+C,firstPoint:t.xData[0],lastPoint:Y&&t.xData[Y]}[w]}if(B&&"start"!==B&&C&&e[P]>=n-C){const N=t.groupMap[t.groupMap.length-1].start;e[P]={middle:e[P]+.5*C,end:e[P]+C,firstPoint:N&&t.xData[N],lastPoint:t.xData[t.xData.length-1]}[B]}}}(e,lt,$),W=1;W<ot.length;W++)(!ot.info.segmentStarts||-1===ot.info.segmentStarts.indexOf(W))&&(ut=Math.max(ot[W]-ot[W-1],ut));S=ot.info,S.gapSize=ut,e.closestPointRange=ot.info.totalRange,e.groupMap=rt.groupMap,b&&function g(t,e){i(e[0])&&v(t.min)&&v(t.dataMin)&&e[0]<t.min&&((!i(t.options.min)&&t.min<=t.dataMin||t.min===t.dataMin)&&(t.min=Math.min(e[0],t.min)),t.dataMin=Math.min(e[0],t.dataMin)),i(e[e.length-1])&&v(t.max)&&v(t.dataMax)&&e[e.length-1]>t.max&&((!i(t.options.max)&&v(t.dataMax)&&t.max>=t.dataMax||t.max===t.dataMax)&&(t.max=Math.max(e[e.length-1],t.max)),t.dataMax=Math.max(e[e.length-1],t.dataMax))}(R,lt),r.groupAll&&(e.allGroupedData=at,w=e.cropData(lt,at,R.min,R.max,1),lt=w.xData,at=w.yData,e.cropStart=w.start),e.processedXData=lt,e.processedYData=at}else e.groupMap=null;e.hasGroupedData=q,e.currentDataGrouping=S,e.preventGraphAnimation=(P&&P.totalRange)!==(S&&S.totalRange)}}function d(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function p(){h.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function M(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function k(t,e,n,c){const r=this,C=r.data,b=r.options&&r.options.data,P=[],S=[],w=[],B=t.length,N=!!e,O=[],Y=r.pointArrayMap,z=Y&&Y.length,R=["x"].concat(Y||["y"]),G=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let H,W,q,Z=0,tt=0;const $="function"==typeof c?c:c&&X[c]?X[c]:X[r.getDGApproximation&&r.getDGApproximation()||"average"];if(z){let nt=Y.length;for(;nt--;)O.push([])}else O.push([]);const it=z||1;for(let nt=0;nt<=B;nt++)if(!(t[nt]<n[0])){for(;typeof n[Z+1]<"u"&&t[nt]>=n[Z+1]||nt===B;){H=n[Z],r.dataGroupInfo={start:G?tt:r.cropStart+tt,length:O[0].length},q=$.apply(r,O),r.pointClass&&!i(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=y(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+tt])),R.forEach(function(ot){delete r.dataGroupInfo.options[ot]})),typeof q<"u"&&(P.push(H),S.push(q),w.push(r.dataGroupInfo)),tt=nt;for(let ot=0;ot<it;ot++)O[ot].length=0,O[ot].hasNulls=!1;if(Z+=1,nt===B)break}if(nt===B)break;if(Y){const ot=r.options.dataGrouping&&r.options.dataGrouping.groupAll?nt:r.cropStart+nt,rt=C&&C[ot]||r.pointClass.prototype.applyOptions.apply({series:r},[b[ot]]);let lt;for(let at=0;at<z;at++)lt=rt[Y[at]],v(lt)?O[at].push(lt):null===lt&&(O[at].hasNulls=!0)}else W=N?e[nt]:null,v(W)?O[0].push(W):null===W&&(O[0].hasNulls=!0)}return{groupedXData:P,groupedYData:S,groupMap:w}}function a(t){const e=t.options,n=this.type,c=this.chart.options.plotOptions,r=this.useCommonDataGrouping&&F.common,C=F.seriesSpecific;let b=U.defaultOptions.plotOptions[n].dataGrouping;if(c&&(C[n]||r)){const P=this.chart.rangeSelector;b||(b=y(F.common,C[n])),e.dataGrouping=y(r,b,c.series&&c.series.dataGrouping,c[n].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&P&&v(P.selected)&&P.buttonOptions[P.selected].dataGrouping)}}return{compose:function f(t){const e=t.prototype.pointClass;L.pushUnique(m,e)&&E(e,"update",function(){if(this.dataGroup)return T(24,!1,this.series.chart),!1}),L.pushUnique(m,t)&&(E(t,"afterSetOptions",a),E(t,"destroy",d),A(t.prototype,{applyGrouping:l,destroyGroupedData:d,generatePoints:p,getDGApproximation:M,groupData:k}))},groupData:k}}),V(D,"Extensions/DataGrouping/DataGrouping.js",[D["Extensions/DataGrouping/DataGroupingAxisComposition.js"],D["Extensions/DataGrouping/DataGroupingDefaults.js"],D["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],D["Core/FormatUtilities.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{format:L}=U,{addEvent:I,extend:E,isNumber:i}=_,T=[];function v(x){const h=this.chart,m=h.time,g=x.labelConfig,u=g.series,f=u.tooltipOptions,d=u.options.dataGrouping,p=u.xAxis;let k,a,o,s,t,M=f.xDateFormat,e=f[x.isFooter?"footerFormat":"headerFormat"];p&&"datetime"===p.options.type&&d&&i(g.key)&&(a=u.currentDataGrouping,o=d.dateTimeLabelFormats||F.common.dateTimeLabelFormats,a?(s=o[a.unitName],1===a.count?M=s[0]:(M=s[1],k=s[2])):!M&&o&&p.dateTime&&(M=p.dateTime.getXDateFormat(g.x,f.dateTimeLabelFormats)),t=m.dateFormat(M,g.key),k&&(t+=m.dateFormat(k,g.key+a.totalRange-1)),u.chart.styledMode&&(e=this.styledModeFormat(e)),x.text=L(e,{point:E(g.point,{key:t}),series:u},h),x.preventDefault())}return{compose:function A(x,h,m){X.compose(x),j.compose(h),m&&_.pushUnique(T,m)&&I(m,"headerFormatter",v)},groupData:j.groupData}}),V(D,"masters/modules/datagrouping.src.js",[D["Core/Globals.js"],D["Extensions/DataGrouping/ApproximationDefaults.js"],D["Extensions/DataGrouping/ApproximationRegistry.js"],D["Extensions/DataGrouping/DataGrouping.js"]],function(X,F,j,U){const _=X;_.dataGrouping={approximationDefaults:F,approximations:j},U.compose(_.Axis,_.Series,_.Tooltip)}),V(D,"Series/DataModifyComposition.js",[D["Core/Axis/Axis.js"],D["Core/Series/Point.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{prototype:{tooltipFormatter:_}}=F,{addEvent:L,arrayMax:I,arrayMin:E,correctFloat:i,defined:T,isArray:A,isNumber:v,isString:y,pick:x}=U;var h;return function(m){const g=[];function l(e,n,c){this.isXAxis||(this.series.forEach(function(r){"compare"===e&&"boolean"!=typeof n?r.setCompare(n,!1):"cumulative"===e&&!y(n)&&r.setCumulative(n,!1)}),x(c,!0)&&this.chart.redraw())}function f(e){const n=this,{numberFormatter:c}=n.series.chart,r=function(C){e=e.replace("{point."+C+"}",(n[C]>0&&"change"===C?"+":"")+c(n[C],x(n.series.tooltipOptions.changeDecimals,2)))};return T(n.change)&&r("change"),T(n.cumulativeSum)&&r("cumulativeSum"),_.apply(this,[e])}function d(){const e=this.options.compare;let n;("percent"===e||"value"===e||this.options.cumulative)&&(n=new t(this),"percent"===e||"value"===e?n.initCompare(e):n.initCumulative()),this.dataModify=n}function p(e){const n=e.dataExtremes,c=n.activeYData;if(this.dataModify&&n){let r;this.options.compare?r=[this.dataModify.modifyValue(n.dataMin),this.dataModify.modifyValue(n.dataMax)]:this.options.cumulative&&A(c)&&c.length>=2&&(r=t.getCumulativeExtremes(c)),r&&(n.dataMin=E(r),n.dataMax=I(r))}}function M(e,n){this.options.compare=this.userOptions.compare=e,this.update({},x(n,!0)),!this.dataModify||"value"!==e&&"percent"!==e?this.points.forEach(c=>{delete c.change}):this.dataModify.initCompare(e)}function k(){const e=this;if(e.xAxis&&e.processedYData&&e.dataModify){const n=e.processedXData,c=e.processedYData,r=c.length,C=!0===e.options.compareStart?0:1;let P,b=-1;for(e.pointArrayMap&&(b=e.pointArrayMap.indexOf(e.options.pointValKey||e.pointValKey||"y")),P=0;P<r-C;P++){const S=c[P]&&b>-1?c[P][b]:c[P];if(v(S)&&0!==S&&n[P+C]>=(e.xAxis.min||0)){e.dataModify.compareValue=S;break}}}}function a(e,n){this.setModifier("compare",e,n)}function o(e,n){e=x(e,!1),this.options.cumulative=this.userOptions.cumulative=e,this.update({},x(n,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(c=>{delete c.cumulativeSum})}function s(e,n){this.setModifier("cumulative",e,n)}m.compose=function u(e,n,c){if(U.pushUnique(g,e)){const r=e.prototype;r.setCompare=M,r.setCumulative=o,L(e,"afterInit",d),L(e,"afterGetExtremes",p),L(e,"afterProcessData",k)}if(U.pushUnique(g,n)){const r=n.prototype;r.setCompare=a,r.setModifier=l,r.setCumulative=s}return U.pushUnique(g,c)&&(c.prototype.tooltipFormatter=f),e};class t{constructor(n){this.series=n}modifyValue(){return 0}static getCumulativeExtremes(n){let c=1/0,r=-1/0;return n.reduce((C,b)=>{const P=C+b;return c=Math.min(c,P,C),r=Math.max(r,P,C),P}),[c,r]}initCompare(n){this.modifyValue=function(c,r){null===c&&(c=0);const C=this.compareValue;if(typeof c<"u"&&typeof C<"u"){if("value"===n?c-=C:c=c/C*100-(100===this.series.options.compareBase?0:100),typeof r<"u"){const b=this.series.points[r];b&&(b.change=c)}return c}return 0}}initCumulative(){this.modifyValue=function(n,c){if(null===n&&(n=0),void 0!==n&&void 0!==c){const r=c>0?this.series.points[c-1]:null;r&&r.cumulativeSum&&(n=i(r.cumulativeSum+n));const C=this.series.points[c];return C&&(C.cumulativeSum=n),n}return 0}}}m.Additions=t}(h||(h={})),h}),V(D,"Core/Axis/NavigatorAxisComposition.js",[D["Core/Globals.js"],D["Core/Utilities.js"]],function(X,F){const{isTouchDevice:j}=X,{addEvent:U,correctFloat:_,defined:L,isNumber:I,pick:E}=F,i=[];function T(){const y=this;y.navigatorAxis||(y.navigatorAxis=new v(y))}function A(y){const x=this,m=x.chart.options,g=m.navigator,u=x.navigatorAxis,l=m.chart.zooming.pinchType,f=m.rangeSelector,d=m.chart.zooming.type;if(x.isXAxis&&(g&&g.enabled||f&&f.enabled))if("y"===d)y.zoomed=!1;else if((!j&&"xy"===d||j&&"xy"===l)&&x.options.range){const p=u.previousZoom;L(y.newMin)?u.previousZoom=[x.min,x.max]:p&&(y.newMin=p[0],y.newMax=p[1],u.previousZoom=void 0)}typeof y.zoomed<"u"&&y.preventDefault()}class v{static compose(x){F.pushUnique(i,x)&&(x.keepProps.push("navigatorAxis"),U(x,"init",T),U(x,"zoom",A))}constructor(x){this.axis=x}destroy(){this.axis=void 0}toFixedRange(x,h,m,g){const u=this.axis,l=u.chart;let f=E(m,u.translate(x,!0,!u.horiz)),d=E(g,u.translate(h,!0,!u.horiz));const p=l&&l.fixedRange,M=(u.pointRange||0)/2,k=p&&(d-f)/p;return L(m)||(f=_(f+M)),L(g)||(d=_(d-M)),k>.7&&k<1.3&&(g?f=d-p:d=f+p),(!I(f)||!I(d))&&(f=d=void 0),{min:f,max:d}}}return v}),V(D,"Stock/Navigator/NavigatorDefaults.js",[D["Core/Color/Color.js"],D["Core/Series/SeriesRegistry.js"]],function(X,F){const{parse:j}=X,{seriesTypes:U}=F;return{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:j("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof U.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),V(D,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function X(j,U,_,L,I={}){const E=I.width?I.width/2:_,i=Math.round(E/3)+.5;return[["M",-E-1,.5],["L",E,.5],["L",E,(L=I.height||L)+.5],["L",-E-1,L+.5],["L",-E-1,.5],["M",-i,4],["L",-i,L-3],["M",i-1,4],["L",i-1,L-3]]}}}),V(D,"Stock/Navigator/NavigatorComposition.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/NavigatorAxisComposition.js"],D["Stock/Navigator/NavigatorDefaults.js"],D["Stock/Navigator/NavigatorSymbols.js"],D["Core/Renderer/RendererRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I){const{defaultOptions:E,setOptions:i}=X,{isTouchDevice:T}=F,{getRendererType:A}=L,{addEvent:v,extend:y,merge:x,pick:h}=I,m=[];let g;function l(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function f(){var t;const e=this.legend,n=this.navigator;let c,r,C;if(n){c=e&&e.options,r=n.xAxis,C=n.yAxis;const{scrollbarHeight:b,scrollButtonSize:P}=n;this.inverted?(n.left=n.opposite?this.chartWidth-b-n.height:this.spacing[3]+b,n.top=this.plotTop+P):(n.left=h(r.left,this.plotLeft+P),n.top=n.navigatorOptions.top||this.chartHeight-n.height-b-((null===(t=this.scrollbar)||void 0===t?void 0:t.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(c&&"bottom"===c.verticalAlign&&"proximate"!==c.layout&&c.enabled&&!c.floating?e.legendHeight+h(c.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),r&&C&&(this.inverted?r.options.left=C.options.left=n.left:r.options.top=C.options.top=n.top,r.setAxisSize(),C.setAxisSize())}}function d(t){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new g(this),h(t.redraw,!0)&&this.redraw(t.animation))}function p(){const t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new g(this))}function M(){const t=this.options,e=t.navigator,n=t.rangeSelector;if((e&&e.enabled||n&&n.enabled)&&(!T&&"x"===t.chart.zooming.type||T&&"x"===t.chart.zooming.pinchType))return!1}function k(t){const e=t.navigator;if(e&&t.xAxis[0]){const n=t.xAxis[0].getExtremes();e.render(n.min,n.max)}}function a(t){const e=t.options.navigator||{},n=t.options.scrollbar||{};!this.navigator&&!this.scroller&&(e.enabled||n.enabled)&&(x(!0,this.options.navigator,e),x(!0,this.options.scrollbar,n),delete t.options.navigator,delete t.options.scrollbar)}function o(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function u(t,e,n,c){j.compose(t),g=n,I.pushUnique(m,e)&&(e.prototype.callbacks.push(k),v(e,"afterAddSeries",l),v(e,"afterSetChartSize",f),v(e,"afterUpdate",d),v(e,"beforeRender",p),v(e,"beforeShowResetZoom",M),v(e,"update",a)),I.pushUnique(m,c)&&v(c,"afterUpdate",o),I.pushUnique(m,A)&&y(A().prototype.symbols,_),I.pushUnique(m,i)&&y(E,{navigator:U})}}}),V(D,"Core/Axis/ScrollbarAxis.js",[D["Core/Utilities.js"]],function(X){const{addEvent:F,defined:j,pick:U}=X,_=[];return class L{static compose(E,i){if(!X.pushUnique(_,E))return E;const T=A=>{const v=U(A.options&&A.options.min,A.min),y=U(A.options&&A.options.max,A.max);return{axisMin:v,axisMax:y,scrollMin:j(A.dataMin)?Math.min(v,A.min,A.dataMin,U(A.threshold,1/0)):v,scrollMax:j(A.dataMax)?Math.max(y,A.max,A.dataMax,U(A.threshold,-1/0)):y}};return F(E,"afterInit",function(){const A=this;A.options&&A.options.scrollbar&&A.options.scrollbar.enabled&&(A.options.scrollbar.vertical=!A.horiz,A.options.startOnTick=A.options.endOnTick=!1,A.scrollbar=new i(A.chart.renderer,A.options.scrollbar,A.chart),F(A.scrollbar,"changed",function(v){let u,l,{axisMin:y,axisMax:x,scrollMin:h,scrollMax:m}=T(A),g=m-h;!j(y)||!j(x)||(A.horiz&&!A.reversed||!A.horiz&&A.reversed?(u=h+g*this.to,l=h+g*this.from):(u=h+g*(1-this.from),l=h+g*(1-this.to)),this.shouldUpdateExtremes(v.DOMType)?A.setExtremes(l,u,!0,"mousemove"!==v.DOMType&&"touchmove"!==v.DOMType,v):this.setRange(this.from,this.to))}))}),F(E,"afterRender",function(){let u,l,f,A=this,{scrollMin:v,scrollMax:y}=T(A),x=A.scrollbar,h=A.axisTitleMargin+(A.titleOffset||0),m=A.chart.scrollbarsOffsets,g=A.options.margin||0;if(x){if(A.horiz)A.opposite||(m[1]+=h),x.position(A.left,A.top+A.height+2+m[1]-(A.opposite?g:0),A.width,A.height),A.opposite||(m[1]+=g),u=1;else{let d;A.opposite&&(m[0]+=h),d=x.options.opposite?A.left+A.width+2+m[0]-(A.opposite?0:g):A.opposite?0:g,x.position(d,A.top,A.width,A.height),A.opposite&&(m[0]+=g),u=0}m[u]+=x.size+(x.options.margin||0),isNaN(v)||isNaN(y)||!j(A.min)||!j(A.max)||A.min===A.max?x.setRange(0,1):(l=(A.min-v)/(y-v),f=(A.max-v)/(y-v),A.horiz&&!A.reversed||!A.horiz&&A.reversed?x.setRange(l,f):x.setRange(1-f,1-l))}}),F(E,"afterGetOffset",function(){const A=this,v=A.scrollbar,x=A.horiz?2:v&&!v.options.opposite?3:1;v&&(A.chart.scrollbarsOffsets=[0,0],A.chart.axisOffset[x]+=v.size+(v.options.margin||0))}),E}}}),V(D,"Stock/Scrollbar/ScrollbarDefaults.js",[D["Core/Globals.js"]],function(X){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"none",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),V(D,"Stock/Scrollbar/Scrollbar.js",[D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/ScrollbarAxis.js"],D["Stock/Scrollbar/ScrollbarDefaults.js"],D["Core/Utilities.js"]],function(X,F,j,U,_){const{defaultOptions:L}=X,{addEvent:I,correctFloat:E,defined:i,destroyObjectProperties:T,fireEvent:A,merge:v,pick:y,removeEvent:x}=_;let h=(()=>{class m{static compose(u){j.compose(u,m)}static swapXY(u,l){return l&&u.forEach(f=>{const d=f.length;let p;for(let M=0;M<d;M+=2)p=f[M+1],"number"==typeof p&&(f[M+1]=f[M+2],f[M+2]=p)}),u}constructor(u,l,f){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(u,l,f)}addEvents(){const u=this.options.inverted?[1,0]:[0,1],l=this.scrollbarButtons,f=this.scrollbarGroup.element,d=this.track.element,p=this.mouseDownHandler.bind(this),M=this.mouseMoveHandler.bind(this),k=this.mouseUpHandler.bind(this),a=[[l[u[0]].element,"click",this.buttonToMinClick.bind(this)],[l[u[1]].element,"click",this.buttonToMaxClick.bind(this)],[d,"click",this.trackClick.bind(this)],[f,"mousedown",p],[f.ownerDocument,"mousemove",M],[f.ownerDocument,"mouseup",k]];F.hasTouch&&a.push([f,"touchstart",p],[f.ownerDocument,"touchmove",M],[f.ownerDocument,"touchend",k]),a.forEach(function(o){I.apply(null,o)}),this._events=a}buttonToMaxClick(u){const l=this,f=(l.to-l.from)*y(l.options.step,.2);l.updatePosition(l.from+f,l.to+f),A(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}buttonToMinClick(u){const l=this,f=E(l.to-l.from)*y(l.options.step,.2);l.updatePosition(E(l.from-f),E(l.to-f)),A(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}cursorToScrollbarPosition(u){const l=this,f=l.options,d=f.minWidth>l.calculatedWidth?f.minWidth:0;return{chartX:(u.chartX-l.x-l.xOffset)/(l.barWidth-d),chartY:(u.chartY-l.y-l.yOffset)/(l.barWidth-d)}}destroy(){const u=this,l=u.chart.scroller;u.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(f){u[f]&&u[f].destroy&&(u[f]=u[f].destroy())}),l&&u===l.scrollbar&&(l.scrollbar=null,T(l.scrollbarButtons))}drawScrollbarButton(u){const l=this,f=l.renderer,d=l.scrollbarButtons,p=l.options,M=l.size,k=f.g().add(l.group);if(d.push(k),p.buttonsEnabled){const a=f.rect().addClass("highcharts-scrollbar-button").add(k);l.chart.styledMode||a.attr({stroke:p.buttonBorderColor,"stroke-width":p.buttonBorderWidth,fill:p.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:M+1,height:M+1,r:p.buttonBorderRadius},a.strokeWidth()));const o=f.path(m.swapXY([["M",M/2+(u?-1:1),M/2-3],["L",M/2+(u?-1:1),M/2+3],["L",M/2+(u?2:-2),M/2]],p.vertical)).addClass("highcharts-scrollbar-arrow").add(d[u]);l.chart.styledMode||o.attr({fill:p.buttonArrowColor})}}init(u,l,f){const d=this;d.scrollbarButtons=[],d.renderer=u,d.userOptions=l,d.options=v(U,L.scrollbar,l),d.options.margin=y(d.options.margin,10),d.chart=f,d.size=y(d.options.size,d.options.height),l.enabled&&(d.render(),d.addEvents())}mouseDownHandler(u){const l=this,f=l.chart.pointer.normalize(u),d=l.cursorToScrollbarPosition(f);l.chartX=d.chartX,l.chartY=d.chartY,l.initPositions=[l.from,l.to],l.grabbedCenter=!0}mouseMoveHandler(u){const l=this,f=l.chart.pointer.normalize(u),p=l.options.vertical?"chartY":"chartX",M=l.initPositions||[];let k,a,o;l.grabbedCenter&&(!u.touches||0!==u.touches[0][p])&&(a=l.cursorToScrollbarPosition(f)[p],k=l[p],o=a-k,l.hasDragged=!0,l.updatePosition(M[0]+o,M[1]+o),l.hasDragged&&A(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMType:u.type,DOMEvent:u}))}mouseUpHandler(u){const l=this;l.hasDragged&&A(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMType:u.type,DOMEvent:u}),l.grabbedCenter=l.hasDragged=l.chartX=l.chartY=null}position(u,l,f,d){const p=this,M=p.options,{buttonsEnabled:k,margin:a=0,vertical:o}=M,s=p.rendered?"animate":"attr";let t=d,e=0;p.group.show(),p.x=u,p.y=l+this.trackBorderWidth,p.width=f,p.height=d,p.xOffset=t,p.yOffset=e,o?(p.width=p.yOffset=f=e=p.size,p.xOffset=t=0,p.yOffset=e=k?p.size:0,p.barWidth=d-(k?2*f:0),p.x=u+=a):(p.height=d=p.size,p.xOffset=t=k?p.size:0,p.barWidth=f-(k?2*d:0),p.y=p.y+a),p.group[s]({translateX:u,translateY:p.y}),p.track[s]({width:f,height:d}),p.scrollbarButtons[1][s]({translateX:o?0:f-t,translateY:o?d-e:0})}removeEvents(){this._events.forEach(function(u){x.apply(null,u)}),this._events.length=0}render(){const u=this,l=u.renderer,f=u.options,d=u.size,p=u.chart.styledMode,M=l.g("scrollbar").attr({zIndex:f.zIndex}).hide().add();u.group=M,u.track=l.rect().addClass("highcharts-scrollbar-track").attr({r:f.trackBorderRadius||0,height:d,width:d}).add(M),p||u.track.attr({fill:f.trackBackgroundColor,stroke:f.trackBorderColor,"stroke-width":f.trackBorderWidth});const k=u.trackBorderWidth=u.track.strokeWidth();u.track.attr({x:-k%2/2,y:-k%2/2}),u.scrollbarGroup=l.g().add(M),u.scrollbar=l.rect().addClass("highcharts-scrollbar-thumb").attr({height:d-k,width:d-k,r:f.barBorderRadius||0}).add(u.scrollbarGroup),u.scrollbarRifles=l.path(m.swapXY([["M",-3,d/4],["L",-3,2*d/3],["M",0,d/4],["L",0,2*d/3],["M",3,d/4],["L",3,2*d/3]],f.vertical)).addClass("highcharts-scrollbar-rifles").add(u.scrollbarGroup),p||(u.scrollbar.attr({fill:f.barBackgroundColor,stroke:f.barBorderColor,"stroke-width":f.barBorderWidth}),u.scrollbarRifles.attr({stroke:f.rifleColor,"stroke-width":1})),u.scrollbarStrokeWidth=u.scrollbar.strokeWidth(),u.scrollbarGroup.translate(-u.scrollbarStrokeWidth%2/2,-u.scrollbarStrokeWidth%2/2),u.drawScrollbarButton(0),u.drawScrollbarButton(1)}setRange(u,l){const f=this,d=f.options,p=d.vertical,M=d.minWidth,k=f.barWidth,a=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!i(k))return;const o=k*Math.min(l,1);let s,t;u=Math.max(u,0),s=Math.ceil(k*u),f.calculatedWidth=t=E(o-s),t<M&&(s=(k-M+t)*u,t=M);const e=Math.floor(s+f.xOffset+f.yOffset),n=t/2-.5;f.from=u,f.to=l,p?(f.scrollbarGroup[a]({translateY:e}),f.scrollbar[a]({height:t}),f.scrollbarRifles[a]({translateY:n}),f.scrollbarTop=e,f.scrollbarLeft=0):(f.scrollbarGroup[a]({translateX:e}),f.scrollbar[a]({width:t}),f.scrollbarRifles[a]({translateX:n}),f.scrollbarLeft=e,f.scrollbarTop=0),t<=12?f.scrollbarRifles.hide():f.scrollbarRifles.show(),!1===d.showFull&&(u<=0&&l>=1?f.group.hide():f.group.show()),f.rendered=!0}shouldUpdateExtremes(u){return y(this.options.liveRedraw,F.svg&&!F.isTouchDevice&&!this.chart.boosted)||"mouseup"===u||"touchend"===u||!i(u)}trackClick(u){const l=this,f=l.chart.pointer.normalize(u),d=l.to-l.from;l.options.vertical&&f.chartY>l.y+l.scrollbarTop||!l.options.vertical&&f.chartX>l.x+l.scrollbarLeft?l.updatePosition(l.from+d,l.to+d):l.updatePosition(l.from-d,l.to-d),A(l,"changed",{from:l.from,to:l.to,trigger:"scrollbar",DOMEvent:u})}update(u){this.destroy(),this.init(this.chart.renderer,v(!0,this.options,u),this.chart)}updatePosition(u,l){l>1&&(u=E(1-E(l-u)),l=1),u<0&&(l=E(l-u),u=0),this.from=u,this.to=l}}return m.defaultOptions=U,m})();return L.scrollbar=v(!0,h.defaultOptions,L.scrollbar),h}),V(D,"Stock/Navigator/Navigator.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Core/Axis/NavigatorAxisComposition.js"],D["Stock/Navigator/NavigatorComposition.js"],D["Stock/Scrollbar/Scrollbar.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I){const{defaultOptions:E}=F,{hasTouch:i,isTouchDevice:T}=j,{addEvent:A,clamp:v,correctFloat:y,defined:x,destroyObjectProperties:h,erase:m,extend:g,find:u,isArray:l,isNumber:f,merge:d,pick:p,removeEvent:M,splat:k}=I;function a(s,...t){const e=[].filter.call(t,f);if(e.length)return Math[s].apply(0,e)}class o{static compose(t,e,n){_.compose(t,e,o,n)}constructor(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.range=void 0,this.rendered=void 0,this.scrollbarHeight=0,this.scrollButtonSize=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}drawHandle(t,e,n,c){const r=this,C=r.navigatorOptions.handles.height;r.handles[e][c](n?{translateX:Math.round(r.left+r.height/2),translateY:Math.round(r.top+parseInt(t,10)+.5-C)}:{translateX:Math.round(r.left+parseInt(t,10)),translateY:Math.round(r.top+r.height/2-C/2-1)})}drawOutline(t,e,n,c){const r=this,C=r.navigatorOptions.maskInside,b=r.outline.strokeWidth(),P=b/2,S=b%2/2,w=r.scrollButtonSize,B=r.size,N=r.top,O=r.height,Y=N-P,z=N+O;let G,H,R=r.left;n?(G=N+e+S,H=[["M",R+O,N-w-S],["L",R+O,G],["L",R,G],["M",R,e=N+t+S],["L",R+O,e],["L",R+O,N+B+w]],C&&H.push(["M",R+O,G-P],["L",R+O,e+P])):(R-=w,H=[["M",R,Y],["L",t+=R+w-S,Y],["L",t,z],["M",e+=R+w-S,z],["L",e,Y],["L",R+B+2*w,N+P]],C&&H.push(["M",t-P,Y],["L",e+P,Y])),r.outline[c]({d:H})}drawMasks(t,e,n,c){const r=this,C=r.left,b=r.top,P=r.height;let S,w,B,N;n?(B=[C,C,C],N=[b,b+t,b+e],w=[P,P,P],S=[t,e-t,r.size-e]):(B=[C,C+t,C+e],N=[b,b,b],w=[t,e-t,r.size-e],S=[P,P,P]),r.shades.forEach((O,Y)=>{O[c]({x:B[Y],y:N[Y],width:w[Y],height:S[Y]})})}renderElements(){const t=this,e=t.navigatorOptions,n=e.maskInside,c=t.chart,C=c.renderer,b={cursor:c.inverted?"ns-resize":"ew-resize"},P=t.navigatorGroup=C.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach((S,w)=>{const B=C.rect().addClass("highcharts-navigator-mask"+(1===w?"-inside":"-outside")).add(P);c.styledMode||(B.attr({fill:S?e.maskFill:"rgba(0,0,0,0)"}),1===w&&B.css(b)),t.shades[w]=B}),t.outline=C.path().addClass("highcharts-navigator-outline").add(P),c.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles&&e.handles.enabled){const S=e.handles,{height:w,width:B}=S;[0,1].forEach(N=>{t.handles[N]=C.symbol(S.symbols[N],-B/2-1,0,B,w,S),c.inverted&&t.handles[N].attr({rotation:90,rotationOriginX:Math.floor(-B/2),rotationOriginY:(w+B)/2}),t.handles[N].attr({zIndex:7-N}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][N]).add(P),c.styledMode||t.handles[N].attr({fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.lineWidth}).css(b)})}}update(t){(this.series||[]).forEach(n=>{n.baseSeries&&delete n.baseSeries.navigatorSeries}),this.destroy(),d(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,e,n,c){const r=this,C=r.chart,b=r.xAxis,P=b.pointRange||0,S=b.navigatorAxis.fake?C.xAxis[0]:b,w=r.navigatorEnabled,B=r.rendered,N=C.inverted,O=C.xAxis[0].minRange,Y=C.xAxis[0].options.maxRange,z=r.scrollButtonSize;let R,G,H,q,Z,W=r.scrollbarHeight;if(this.hasDragged&&!x(n))return;if(t=y(t-P/2),e=y(e+P/2),!f(t)||!f(e)){if(!B)return;n=0,c=p(b.width,S.width)}r.left=p(b.left,C.plotLeft+z+(N?C.plotWidth:0));let tt=r.size=q=p(b.len,(N?C.plotHeight:C.plotWidth)-2*z);R=N?W:q+2*z,n=p(n,b.toPixels(t,!0)),c=p(c,b.toPixels(e,!0)),(!f(n)||Math.abs(n)===1/0)&&(n=0,c=R);const $=b.toValue(n,!0),it=b.toValue(c,!0),nt=Math.abs(y(it-$));nt<O?this.grabbedLeft?n=b.toPixels(it-O-P,!0):this.grabbedRight&&(c=b.toPixels($+O+P,!0)):x(Y)&&y(nt-P)>Y&&(this.grabbedLeft?n=b.toPixels(it-Y-P,!0):this.grabbedRight&&(c=b.toPixels($+Y+P,!0))),r.zoomedMax=v(Math.max(n,c),0,tt),r.zoomedMin=v(r.fixedWidth?r.zoomedMax-r.fixedWidth:Math.min(n,c),0,tt),r.range=r.zoomedMax-r.zoomedMin,tt=Math.round(r.zoomedMax);const ot=Math.round(r.zoomedMin);w&&(r.navigatorGroup.attr({visibility:"inherit"}),Z=B&&!r.hasDragged?"animate":"attr",r.drawMasks(ot,tt,N,Z),r.drawOutline(ot,tt,N,Z),r.navigatorOptions.handles.enabled&&(r.drawHandle(ot,0,N,Z),r.drawHandle(tt,1,N,Z))),r.scrollbar&&(N?(H=r.top-z,G=r.left-W+(w||!S.opposite?0:(S.titleOffset||0)+S.axisTitleMargin),W=q+2*z):(H=r.top+(w?r.height:-W),G=r.left-z),r.scrollbar.position(G,H,R,W),r.scrollbar.setRange(r.zoomedMin/(q||1),r.zoomedMax/(q||1))),r.rendered=!0}addMouseEvents(){const t=this,e=t.chart,n=e.container;let r,C,c=[];t.mouseMoveHandler=r=function(b){t.onMouseMove(b)},t.mouseUpHandler=C=function(b){t.onMouseUp(b)},c=t.getPartsEvents("mousedown"),c.push(A(e.renderTo,"mousemove",r),A(n.ownerDocument,"mouseup",C)),i&&(c.push(A(e.renderTo,"touchmove",r),A(n.ownerDocument,"touchend",C)),c.concat(t.getPartsEvents("touchstart"))),t.eventsToUnbind=c,t.series&&t.series[0]&&c.push(A(t.series[0].xAxis,"foundExtremes",function(){e.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){const e=this,n=[];return["shades","handles"].forEach(function(c){e[c].forEach(function(r,C){n.push(A(r.element,t,function(b){e[c+"Mousedown"](b,C)}))})}),n}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);const n=this,c=n.chart,r=n.xAxis,C=n.zoomedMin,b=n.size,P=n.range;let B,N,O,Y,S=n.left,w=t.chartX;c.inverted&&(w=t.chartY,S=n.top),1===e?(n.grabbedCenter=w,n.fixedWidth=P,n.dragOffset=w-C):(Y=w-S-P/2,0===e?Y=Math.max(0,Y):2===e&&Y+P>=b&&(Y=b-P,n.reversedExtremes?(Y-=P,N=n.getUnionExtremes().dataMin):B=n.getUnionExtremes().dataMax),Y!==C&&(n.fixedWidth=P,O=r.navigatorAxis.toFixedRange(Y,Y+P,N,B),x(O.min)&&c.xAxis[0].setExtremes(Math.min(O.min,O.max),Math.max(O.min,O.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){t=this.chart.pointer.normalize(t);const n=this,c=n.chart,r=c.xAxis[0],C=n.reversedExtremes;0===e?(n.grabbedLeft=!0,n.otherHandlePos=n.zoomedMax,n.fixedExtreme=C?r.min:r.max):(n.grabbedRight=!0,n.otherHandlePos=n.zoomedMin,n.fixedExtreme=C?r.max:r.min),c.fixedRange=null}onMouseMove(t){const e=this,n=e.chart,c=e.navigatorSize,r=e.range,C=e.dragOffset,b=n.inverted;let S,P=e.left;(!t.touches||0!==t.touches[0].pageX)&&(S=(t=n.pointer.normalize(t)).chartX,b&&(P=e.top,S=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,S-P,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,S-P)):e.grabbedCenter&&(e.hasDragged=!0,S<C?S=C:S>c+C-r&&(S=c+C-r),e.render(0,0,S-C,S-C+r)),e.hasDragged&&e.scrollbar&&p(e.scrollbar.options.liveRedraw,!T&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){const e=this,n=e.chart,c=e.xAxis,r=e.scrollbar,C=t.DOMEvent||t,b=n.inverted,P=e.rendered&&!e.hasDragged?"animate":"attr";let S,w,B,N,O,Y;(e.hasDragged&&(!r||!r.hasDragged)||"scrollbar"===t.trigger)&&(B=e.getUnionExtremes(),e.zoomedMin===e.otherHandlePos?N=e.fixedExtreme:e.zoomedMax===e.otherHandlePos&&(O=e.fixedExtreme),e.zoomedMax===e.size&&(O=e.reversedExtremes?B.dataMin:B.dataMax),0===e.zoomedMin&&(N=e.reversedExtremes?B.dataMax:B.dataMin),Y=c.navigatorAxis.toFixedRange(e.zoomedMin,e.zoomedMax,N,O),x(Y.min)&&n.xAxis[0].setExtremes(Math.min(Y.min,Y.max),Math.max(Y.min,Y.max),!0,!e.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:C})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(e.grabbedLeft=e.grabbedRight=e.grabbedCenter=e.fixedWidth=e.fixedExtreme=e.otherHandlePos=e.hasDragged=e.dragOffset=null),e.navigatorEnabled&&f(e.zoomedMin)&&f(e.zoomedMax)&&(w=Math.round(e.zoomedMin),S=Math.round(e.zoomedMax),e.shades&&e.drawMasks(w,S,b,P),e.outline&&e.drawOutline(w,S,b,P),e.navigatorOptions.handles.enabled&&Object.keys(e.handles).length===e.handles.length&&(e.drawHandle(w,0,b,P),e.drawHandle(S,1,b,P)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(e){M(e,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&M(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(t){const e=t.options,n=e.navigator||{},c=n.enabled,r=e.scrollbar||{},C=r.enabled,b=c&&n.height||0,P=C&&r.height||0,S=r.buttonsEnabled&&P||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=b,this.scrollbarHeight=P,this.scrollButtonSize=S,this.scrollbarEnabled=C,this.navigatorEnabled=c,this.navigatorOptions=n,this.scrollbarOptions=r,this.opposite=p(n.opposite,Boolean(!c&&t.inverted));const w=this,B=w.baseSeries,N=t.xAxis.length,O=t.yAxis.length,Y=B&&B[0]&&B[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,w.navigatorEnabled?(w.xAxis=new X(t,d({breaks:Y.options.breaks,ordinal:Y.options.ordinal},n.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:N,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[S,0,-S,0],width:b}:{offsets:[0,-S,0,S],height:b})),w.yAxis=new X(t,d(n.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:O,isInternal:!0,reversed:p(n.yAxis&&n.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:b}:{height:b})),B||n.series.data?w.updateNavigatorSeries(!1):0===t.series.length&&(w.unbindRedraw=A(t,"beforeRedraw",function(){t.series.length>0&&!w.series&&(w.setBaseSeries(),w.unbindRedraw())})),w.reversedExtremes=t.inverted&&!w.xAxis.reversed||!t.inverted&&w.xAxis.reversed,w.renderElements(),w.addMouseEvents()):(w.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(z,R){const G=t.xAxis[0],H=G.getExtremes(),W=G.len-2*S,q=a("min",G.options.min,H.dataMin),Z=a("max",G.options.max,H.dataMax)-q;return R?z*Z/W+q:W*(z-q)/Z},toPixels:function(z){return this.translate(z)},toValue:function(z){return this.translate(z,!0)}},w.xAxis.navigatorAxis.axis=w.xAxis,w.xAxis.navigatorAxis.toFixedRange=U.prototype.toFixedRange.bind(w.xAxis.navigatorAxis)),t.options.scrollbar.enabled){const z=d(t.options.scrollbar,{vertical:t.inverted});!f(z.margin)&&w.navigatorEnabled&&(z.margin=t.inverted?-3:3),t.scrollbar=w.scrollbar=new L(t.renderer,z,t),A(w.scrollbar,"changed",function(R){const G=w.size,H=G*this.to,W=G*this.from;w.hasDragged=w.scrollbar.hasDragged,w.render(0,0,W,H),this.shouldUpdateExtremes(R.DOMType)&&setTimeout(function(){w.onMouseUp(R)})})}w.addBaseSeriesEvents(),w.addChartEvents()}getUnionExtremes(t){const e=this.chart.xAxis[0],n=this.xAxis,c=n.options,r=e.options;let C;return(!t||null!==e.dataMin)&&(C={dataMin:p(c&&c.min,a("min",r.min,e.dataMin,n.dataMin,n.min)),dataMax:p(c&&c.max,a("max",r.max,e.dataMax,n.dataMax,n.max))}),C}setBaseSeries(t,e){const n=this.chart,c=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?u(n.series,r=>!r.options.isInternal).index:0),(n.series||[]).forEach((r,C)=>{!r.options.isInternal&&(r.options.showInNavigator||(C===t||r.options.id===t)&&!1!==r.options.showInNavigator)&&c.push(r)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){const n=this,c=n.chart,r=n.baseSeries,C={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},b=n.series=(n.series||[]).filter(N=>{const O=N.baseSeries;return!(r.indexOf(O)<0&&(O&&(M(O,"updatedData",n.updatedDataHandler),delete O.navigatorSeries),N.chart&&N.destroy(),1))});let P,S,B,w=n.navigatorOptions.series;r&&r.length&&r.forEach(N=>{const O=N.navigatorSeries,Y=g({color:N.color,visible:N.visible},l(w)?E.navigator.series:w);if(O&&!1===n.navigatorOptions.adaptToUpdatedData)return;C.name="Navigator "+r.length,P=N.options||{},B=P.navigatorOptions||{},Y.dataLabels=k(Y.dataLabels),S=d(P,C,Y,B),S.pointRange=p(Y.pointRange,B.pointRange,E.plotOptions[S.type||"line"].pointRange);const z=B.data||Y.data;n.hasNavigatorData=n.hasNavigatorData||!!z,S.data=z||P.data&&P.data.slice(0),O&&O.options?O.update(S,e):(N.navigatorSeries=c.initSeries(S),N.navigatorSeries.baseSeries=N,b.push(N.navigatorSeries))}),(w.data&&!(r&&r.length)||l(w))&&(n.hasNavigatorData=!1,w=k(w),w.forEach((N,O)=>{C.name="Navigator "+(b.length+1),S=d(E.navigator.series,{color:c.series[O]&&!c.series[O].options.isInternal&&c.series[O].color||c.options.colors[O]||c.options.colors[0]},C,N),S.data=N.data,S.data&&(n.hasNavigatorData=!0,b.push(c.initSeries(S)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(A(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach(n=>{n.eventsToUnbind.push(A(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),n.eventsToUnbind.push(A(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&n.eventsToUnbind.push(A(n,"updatedData",this.updatedDataHandler)),n.eventsToUnbind.push(A(n,"remove",function(){this.navigatorSeries&&(m(t.series,this.navigatorSeries),x(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(e,n){return Math.min(e,n.xData&&n.xData.length?n.xData[0]:e)},t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(typeof t.getExtremes<"u"){const e=this.getUnionExtremes(!0);e&&(e.dataMin!==t.min||e.dataMax!==t.max)&&(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){const t=this,e=t.chart.navigator,n=t.getExtremes(),C=n.dataMin,b=n.dataMax,P=n.max-n.min,S=e.stickToMin,w=e.stickToMax,B=p(t.options.overscroll,0),N=e.series&&e.series[0],O=!!t.setExtremes;let z,R;t.eventArgs&&"rangeSelectorButton"===t.eventArgs.trigger||(S&&(R=C,z=R+P),w&&(z=b+B,S||(R=Math.max(C,z-P,e.getBaseSeriesMin(N&&N.xData?N.xData[0]:-Number.MAX_VALUE)))),O&&(S||w)&&f(R)&&(t.min=t.userMin=R,t.max=t.userMax=z)),e.stickToMin=e.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,e=this,n=this.navigatorSeries,c=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=p(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,c),t.stickToMin=t.shouldStickToMin(e,t),n&&!t.hasNavigatorData&&(n.options.pointStart=e.xData[0],n.setData(e.options.data,!1,null,!1))}shouldStickToMin(t,e){const n=e.getBaseSeriesMin(t.xData[0]),c=t.xAxis,r=c.max,C=c.min,b=c.options.range;let P=!0;return P=!(!f(r)||!f(C))&&(b&&r-n>0?r-n<b:C<=n),P}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(A(this.chart,"redraw",function(){const t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),A(this.chart,"getMargins",function(){let t=this,e=t.navigator,n=e.opposite?"plotTop":"marginBottom";t.inverted&&(n=e.opposite?"marginRight":"plotLeft"),t[n]=(t[n]||0)+(e.navigatorEnabled||!t.inverted?e.height+e.scrollbarHeight:0)+e.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{h(t)})}}return o}),V(D,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),V(D,"Stock/RangeSelector/RangeSelectorComposition.js",[D["Core/Defaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Core/Utilities.js"]],function(X,F,j){const{defaultOptions:U,setOptions:_}=X,{addEvent:L,defined:I,extend:E,find:i,isNumber:T,merge:A,pick:v}=j,y=[],x=[];let h;function m(){const o=this.range,s=o.type,t=this.max,e=this.chart.time,n=function(b,P){const S="year"===s?"FullYear":"Month",w=new e.Date(b),B=e.get(S,w);return e.set(S,w,B+P),B===e.get(S,w)&&e.set("Date",w,0),w.getTime()-b};let c,r;T(o)?(c=t-o,r=o):o&&(c=t+n(t,-(o.count||1)),this.chart&&(this.chart.fixedRange=t-c));const C=v(this.dataMin,Number.MIN_VALUE);return T(c)||(c=C),c<=C&&(c=C,typeof r>"u"&&(r=n(c,o.count)),this.newMax=Math.min(c+r,v(this.dataMax,Number.MAX_VALUE))),T(t)?!T(o)&&o&&o._offsetMin&&(c+=o._offsetMin):c=void 0,c}function u(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new h(this))}function l(){const o=this,s=o.axes,t=o.rangeSelector;if(t){T(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),s.forEach(n=>{n.updateNames(),n.setScale()}),o.getAxisMargins(),t.render();const e=t.options.verticalAlign;t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}}function f(o){let s,t,e,n;const c=o.rangeSelector,r=()=>{c&&(s=o.xAxis[0].getExtremes(),t=o.legend,n=c&&c.options.verticalAlign,T(s.min)&&c.render(s.min,s.max),t.display&&"top"===n&&n===t.options.verticalAlign&&(e=A(o.spacingBox),"vertical"===t.options.layout?e.y=o.plotTop:e.y+=c.getHeight(),t.group.placed=!1,t.align(e)))};c&&(i(y,b=>b[0]===o)||y.push([o,[L(o.xAxis[0],"afterSetExtremes",function(b){c&&c.render(b.min,b.max)}),L(o,"redraw",r)]]),r())}function d(){for(let o=0,s=y.length;o<s;++o){const t=y[o];if(t[0]===this)return t[1].forEach(e=>e()),void y.splice(o,1)}}function p(){const o=this.rangeSelector;if(o){const s=o.getHeight();this.extraTopMargin&&(this.plotTop+=s),this.extraBottomMargin&&(this.marginBottom+=s)}}function M(){const s=this.rangeSelector;if(s&&!s.options.floating){s.render();const t=s.options.verticalAlign;"bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)}}function k(o){const e=o.options.rangeSelector,n=this.extraBottomMargin,c=this.extraTopMargin;let r=this.rangeSelector;if(e&&e.enabled&&!I(r)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=r=new h(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r){f(this);const C=e&&e.verticalAlign||r.options&&r.options.verticalAlign;r.options.floating||("bottom"===C?this.extraBottomMargin=!0:"middle"!==C&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==n||this.extraTopMargin!==c)&&(this.isDirtyBox=!0)}}return{compose:function g(o,s,t){h=t,j.pushUnique(x,o)&&(o.prototype.minFromRange=m),j.pushUnique(x,s)&&(L(s,"afterGetContainer",u),L(s,"beforeRender",l),L(s,"destroy",d),L(s,"getMargins",p),L(s,"render",M),L(s,"update",k),s.prototype.callbacks.push(f)),j.pushUnique(x,_)&&(E(U,{rangeSelector:F.rangeSelector}),E(U.lang,F.lang))}}}),V(D,"Stock/RangeSelector/RangeSelector.js",[D["Core/Axis/Axis.js"],D["Core/Defaults.js"],D["Core/Globals.js"],D["Stock/RangeSelector/RangeSelectorComposition.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L){const{defaultOptions:I}=F,{addEvent:E,createElement:i,css:T,defined:A,destroyObjectProperties:v,discardElement:y,extend:x,fireEvent:h,isNumber:m,merge:g,objectEach:u,pad:l,pick:f,pInt:d,splat:p}=L;class k{static compose(o,s){U.compose(o,s,k)}constructor(o){this.buttons=void 0,this.buttonOptions=k.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=o,this.init(o)}clickButton(o,s){const t=this,e=t.chart,n=t.buttonOptions[o],c=e.xAxis[0],r=e.scroller&&e.scroller.getUnionExtremes()||c||{},C=n.type,b=n.dataGrouping;let w,N,Y,z,R,G,H,P=r.dataMin,S=r.dataMax,B=c&&Math.round(Math.min(c.max,f(S,c.max))),O=n._range,W=!0;if(null!==P&&null!==S){if(e.fixedRange=O,t.setSelected(o),b&&(this.forcedDataGrouping=!0,X.prototype.setDataGrouping.call(c||{chart:this.chart},b,!1),this.frozenStates=n.preserveDataGrouping),"month"===C||"year"===C)c?(G={range:n,max:B,chart:e,dataMin:P,dataMax:S},w=c.minFromRange.call(G),m(G.newMax)&&(B=G.newMax),W=!1):O=n;else if(O)w=Math.max(B-O,P),B=Math.min(w+O,S),W=!1;else if("ytd"===C){if(!c)return void(t.deferredYTDClick=o);(typeof S>"u"||typeof P>"u")&&(P=Number.MAX_VALUE,S=Number.MIN_VALUE,e.series.forEach(q=>{const Z=q.xData;Z&&(P=Math.min(Z[0],P),S=Math.max(Z[Z.length-1],S))}),s=!1),H=t.getYTDExtremes(S,P,e.time.useUTC),w=Y=H.min,B=H.max}else"all"===C&&c&&(e.navigator&&e.navigator.baseSeries[0]&&(e.navigator.baseSeries[0].xAxis.options.range=void 0),w=P,B=S);W&&n._offsetMin&&A(w)&&(w+=n._offsetMin),n._offsetMax&&A(B)&&(B+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=o+1),c?c.setExtremes(w,B,f(s,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(N=p(e.options.xAxis)[0],R=N.range,N.range=O,z=N.min,N.min=Y,E(e,"load",function(){N.range=R,N.min=z})),h(this,"afterBtnClick")}}setSelected(o){this.selected=this.options.selected=o}init(o){const s=this,t=o.options.rangeSelector,e=t.buttons||s.defaultButtons.slice(),n=t.selected,c=function(){const r=s.minInput,C=s.maxInput;r&&r.blur&&h(r,"blur"),C&&C.blur&&h(C,"blur")};s.chart=o,s.options=t,s.buttons=[],s.buttonOptions=e,this.eventsToUnbind=[],this.eventsToUnbind.push(E(o.container,"mousedown",c)),this.eventsToUnbind.push(E(o,"resize",c)),e.forEach(s.computeButtonRange),typeof n<"u"&&e[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(E(o,"load",function(){o.xAxis&&o.xAxis[0]&&E(o.xAxis[0],"setExtremes",function(r){this.max-this.min!==o.fixedRange&&"rangeSelectorButton"!==r.trigger&&"updatedData"!==r.trigger&&s.forcedDataGrouping&&!s.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const o=this,s=this.chart,t=this.dropdown,e=s.xAxis[0],n=Math.round(e.max-e.min),c=!e.hasVisibleSeries,r=864e5,C=s.scroller&&s.scroller.getUnionExtremes()||e,b=C.dataMin,P=C.dataMax,S=o.getYTDExtremes(P,b,s.time.useUTC),w=S.min,B=S.max,N=o.selected,O=o.options.allButtonsEnabled,Y=o.buttons;let z=m(N);o.buttonOptions.forEach((R,G)=>{const H=R._range,W=R.type,q=R.count||1,Z=Y[G],tt=R._offsetMax-R._offsetMin,$=G===N;let ot=0,rt=!1,lt=!1,at=H===n;("month"===W||"year"===W)&&n+36e5>={month:28,year:365}[W]*r*q-tt&&n-36e5<={month:31,year:366}[W]*r*q+tt?at=!0:"ytd"===W?(at=B-w+tt===n,rt=!$):"all"===W&&(at=e.max-e.min>=P-b,lt=!$&&z&&at);const ut=!O&&(H>P-b||H<e.minRange||lt||c);ut?ot=3:($&&at||at&&!z&&!rt||$&&o.frozenStates)&&(z=!0,ot=2),Z.state!==ot&&(Z.setState(ot),t&&(t.options[G+1].disabled=ut,2===ot&&(t.selectedIndex=G+1)),0===ot&&N===G&&o.setSelected())})}computeButtonRange(o){const s=o.type,t=o.count||1,e={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};e[s]?o._range=e[s]*t:("month"===s||"year"===s)&&(o._range=24*{month:30,year:365}[s]*36e5*t),o._offsetMin=f(o.offsetMin,0),o._offsetMax=f(o.offsetMax,0),o._range+=o._offsetMax-o._offsetMin}getInputValue(o){const s="min"===o?this.minInput:this.maxInput,e=this.chart.time;return s?("text"===s.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(s.value,e.useUTC,e):0}setInputValue(o,s){const t=this.options,e=this.chart.time,n="min"===o?this.minInput:this.maxInput,c="min"===o?this.minDateBox:this.maxDateBox;if(n){const r=n.getAttribute("data-hc-time");let C=A(r)?Number(r):void 0;if(A(s)){const b=C;A(b)&&n.setAttribute("data-hc-time-previous",b),n.setAttribute("data-hc-time",s),C=s}n.value=e.dateFormat(this.inputTypeFormats[n.type]||t.inputEditDateFormat,C),c&&c.attr({text:e.dateFormat(t.inputDateFormat,C)})}}setInputExtremes(o,s,t){const e="min"===o?this.minInput:this.maxInput;if(e){const n=this.inputTypeFormats[e.type],c=this.chart.time;if(n){const r=c.dateFormat(n,s);e.min!==r&&(e.min=r);const C=c.dateFormat(n,t);e.max!==C&&(e.max=C)}}}showInput(o){const s="min"===o?this.minDateBox:this.maxDateBox,t="min"===o?this.minInput:this.maxInput;if(t&&s&&this.inputGroup){const e="text"===t.type,{translateX:n,translateY:c}=this.inputGroup,{inputBoxWidth:r}=this.options;T(t,{width:e?s.width+(r?-2:20)+"px":"auto",height:s.height-2+"px",border:"2px solid silver"}),T(t,e&&r?{left:n+s.x+"px",top:c+"px"}:{left:Math.min(Math.round(s.x+n-(t.offsetWidth-s.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:c-(t.offsetHeight-s.height)/2+"px"})}}hideInput(o){const s="min"===o?this.minInput:this.maxInput;s&&T(s,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(o,s,t){let n=o.split("/").join("-").split(" ").join("T");if(-1===n.indexOf("T")&&(n+="T00:00"),s)n+="Z";else if(j.isSafari&&(!((r=n).length>6)||r.lastIndexOf("-")!==r.length-6&&r.lastIndexOf("+")!==r.length-6)){const r=new Date(n).getTimezoneOffset()/60;n+=r<=0?`+${l(-r)}:00`:`-${l(r)}:00`}var r;let c=Date.parse(n);if(!m(c)){const r=o.split("-");c=Date.UTC(d(r[0]),d(r[1])-1,d(r[2]))}return t&&s&&m(c)&&(c+=t.getTimezoneOffset(c)),c}drawInput(o){const{chart:s,div:t,inputGroup:e}=this,n=this,c=s.renderer.style||{},r=s.renderer,C=s.options.rangeSelector,P="min"===o;function S(){const{maxInput:z,minInput:R}=n,G=s.xAxis[0],H=s.scroller&&s.scroller.xAxis?s.scroller.xAxis:G,W=H.dataMin,q=H.dataMax;let Z=n.getInputValue(o);Z!==Number(O.getAttribute("data-hc-time-previous"))&&m(Z)&&(O.setAttribute("data-hc-time-previous",Z),P&&z&&m(W)?Z>Number(z.getAttribute("data-hc-time"))?Z=void 0:Z<W&&(Z=W):R&&m(q)&&(Z<Number(R.getAttribute("data-hc-time"))?Z=void 0:Z>q&&(Z=q)),typeof Z<"u"&&G.setExtremes(P?Z:G.min,P?G.max:Z,void 0,void 0,{trigger:"rangeSelectorInput"}))}const w=I.lang[P?"rangeSelectorFrom":"rangeSelectorTo"]||"",B=r.label(w,0).addClass("highcharts-range-label").attr({padding:w?2:0,height:w?C.inputBoxHeight:0}).add(e),N=r.label("",0).addClass("highcharts-range-input").attr({padding:2,width:C.inputBoxWidth,height:C.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(o),n[o+"Input"].focus()});s.styledMode||N.attr({stroke:C.inputBoxBorderColor,"stroke-width":1}),N.add(e);const O=i("input",{name:o,className:"highcharts-range-selector"},void 0,t);O.setAttribute("type",function M(a){if(-1!==a.indexOf("%L"))return"text";const s=["a","A","d","e","w","b","B","m","o","y","Y"].some(e=>-1!==a.indexOf("%"+e)),t=["H","k","I","l","M","S"].some(e=>-1!==a.indexOf("%"+e));return s&&t?"datetime-local":s?"date":t?"time":"text"}(C.inputDateFormat||"%e %b %Y")),s.styledMode||(B.css(g(c,C.labelStyle)),N.css(g({color:"#333333"},c,C.inputStyle)),T(O,x({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},C.inputStyle))),O.onfocus=()=>{n.showInput(o)},O.onblur=()=>{O===j.doc.activeElement&&S(),n.hideInput(o),n.setInputValue(o),O.blur()};let Y=!1;return O.onchange=()=>{Y||(S(),n.hideInput(o),O.blur())},O.onkeypress=z=>{13===z.keyCode&&S()},O.onkeydown=z=>{Y=!0,(38===z.keyCode||40===z.keyCode)&&S()},O.onkeyup=()=>{Y=!1},{dateBox:N,input:O,label:B}}getPosition(){const o=this.chart,s=o.options.rangeSelector,t="top"===s.verticalAlign?o.plotTop-o.axisOffset[0]:0;return{buttonTop:t+s.buttonPosition.y,inputTop:t+s.inputPosition.y-10}}getYTDExtremes(o,s,t){const e=this.chart.time,n=new e.Date(o),c=e.get("FullYear",n),r=t?e.Date.UTC(c,0,1):+new e.Date(c,0,1),C=Math.max(s,r),b=n.getTime();return{max:Math.min(o||b,b),min:C}}render(o,s){const t=this.chart,e=t.renderer,n=t.container,c=t.options,r=c.rangeSelector,C=f(c.chart.style&&c.chart.style.zIndex,0)+1,b=r.inputEnabled;if(!1!==r.enabled){if(!this.rendered&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=i("div",void 0,{position:"relative",height:0,zIndex:C}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),b)){this.inputGroup=e.g("input-group").add(this.group);const S=this.drawInput("min");this.minDateBox=S.dateBox,this.minLabel=S.label,this.minInput=S.input;const w=this.drawInput("max");this.maxDateBox=w.dateBox,this.maxLabel=w.label,this.maxInput=w.input}if(b){this.setInputValue("min",o),this.setInputValue("max",s);const S=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(A(S.dataMin)&&A(S.dataMax)){const w=t.xAxis[0].minRange||0;this.setInputExtremes("min",S.dataMin,Math.min(S.dataMax,this.getInputValue("max"))-w),this.setInputExtremes("max",Math.max(S.dataMin,this.getInputValue("min"))+w,S.dataMax)}if(this.inputGroup){let w=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(B=>{if(B){const{width:N}=B.getBBox();N&&(B.attr({x:w}),w+=N+r.inputSpacing)}})}}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:o,chart:s,options:t}=this,e=I.lang,n=s.renderer,c=g(t.buttonTheme),r=c&&c.states,C=c.width||28;delete c.width,delete c.states,this.buttonGroup=n.g("range-selector-buttons").add(this.group);const b=this.dropdown=i("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);E(b,"touchstart",()=>{b.style.fontSize="16px"}),[[j.isMS?"mouseover":"mouseenter"],[j.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([P,S])=>{E(b,P,()=>{const w=o[this.currentButtonIndex()];w&&h(w.element,S||P)})}),this.zoomText=n.label(e&&e.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),c["stroke-width"]=f(c["stroke-width"],0)),i("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,b),this.buttonOptions.forEach((P,S)=>{i("option",{textContent:P.title||P.text},void 0,b),o[S]=n.button(P.text,0,0,w=>{const B=P.events&&P.events.click;let N;B&&(N=B.call(P,w)),!1!==N&&this.clickButton(S),this.isActive=!0},c,r&&r.hover,r&&r.select,r&&r.disabled).attr({"text-align":"center",width:C}).add(this.buttonGroup),P.title&&o[S].attr("title",P.title)})}alignElements(){const{buttonGroup:o,buttons:s,chart:t,group:e,inputGroup:n,options:c,zoomText:r}=this,C=t.options,b=C.exporting&&!1!==C.exporting.enabled&&C.navigation&&C.navigation.buttonOptions,{buttonPosition:P,inputPosition:S,verticalAlign:w}=c,B=(O,Y)=>b&&this.titleCollision(t)&&"top"===w&&"right"===Y.align&&Y.y-O.getBBox().height-12<(b.y||0)+(b.height||0)+t.spacing[0]?-40:0;let N=t.plotLeft;if(e&&P&&S){let O=P.x-t.spacing[3];if(o){if(this.positionButtons(),!this.initialButtonGroupWidth){let tt=0;r&&(tt+=r.getBBox().width+5),s.forEach(($,it)=>{tt+=$.width,it!==s.length-1&&(tt+=c.buttonSpacing)}),this.initialButtonGroupWidth=tt}N-=t.spacing[3],this.updateButtonStates();const Z=B(o,P);this.alignButtonGroup(Z),e.placed=o.placed=t.hasLoaded}let Y=0;n&&(Y=B(n,S),"left"===S.align?O=N:"right"===S.align&&(O=-Math.max(t.axisOffset[1],-Y)),n.align({y:S.y,width:n.getBBox().width,align:S.align,x:S.x+O-2},!0,t.spacingBox),n.placed=t.hasLoaded),this.handleCollision(Y),e.align({verticalAlign:w},!0,t.spacingBox);const z=e.alignAttr.translateY;let R=e.getBBox().height+20,G=0;if("bottom"===w){const Z=t.legend&&t.legend.options;R=R+(Z&&"bottom"===Z.verticalAlign&&Z.enabled&&!Z.floating?t.legend.legendHeight+f(Z.margin,10):0)-20,G=z-R-(c.floating?0:c.y)-(t.titleOffset?t.titleOffset[2]:0)-10}"top"===w?(c.floating&&(G=0),t.titleOffset&&t.titleOffset[0]&&(G=t.titleOffset[0]),G+=t.margin[0]-t.spacing[0]||0):"middle"===w&&(S.y===P.y?G=z:(S.y||P.y)&&(S.y<0||P.y<0?G-=Math.min(S.y,P.y):G=z-R)),e.translate(c.x,c.y+Math.floor(G));const{minInput:H,maxInput:W,dropdown:q}=this;c.inputEnabled&&H&&W&&(H.style.marginTop=e.translateY+"px",W.style.marginTop=e.translateY+"px"),q&&(q.style.marginTop=e.translateY+"px")}}alignButtonGroup(o,s){const{chart:t,options:e,buttonGroup:n}=this,{buttonPosition:r}=e,C=t.plotLeft-t.spacing[3];let b=r.x-t.spacing[3];"right"===r.align?b+=o-C:"center"===r.align&&(b-=C/2),n&&n.align({y:r.y,width:f(s,this.initialButtonGroupWidth),align:r.align,x:b},!0,t.spacingBox)}positionButtons(){const{buttons:o,chart:s,options:t,zoomText:e}=this,n=s.hasLoaded?"animate":"attr",{buttonPosition:c}=t,r=s.plotLeft;let C=r;e&&"hidden"!==e.visibility&&(e[n]({x:f(r+c.x,r)}),C+=c.x+e.getBBox().width+5);for(let b=0,P=this.buttonOptions.length;b<P;++b)"hidden"!==o[b].visibility?(o[b][n]({x:C}),C+=o[b].width+t.buttonSpacing):o[b][n]({x:r})}handleCollision(o){const{chart:s,buttonGroup:t,inputGroup:e}=this,{buttonPosition:n,dropdown:c,inputPosition:r}=this.options,C=()=>{let S=0;return this.buttons.forEach(w=>{const B=w.getBBox();B.width>S&&(S=B.width)}),S},b=S=>{if(e&&t){const w=e.alignAttr.translateX+e.alignOptions.x-o+e.getBBox().x+2,B=e.alignOptions.width,N=t.alignAttr.translateX+t.getBBox().x;return N+S>w&&w+B>N&&n.y<r.y+e.getBBox().height}return!1},P=()=>{e&&t&&e.attr({translateX:e.alignAttr.translateX+(s.axisOffset[1]>=-o?0:-o),translateY:e.alignAttr.translateY+t.getBBox().height+10})};if(t){if("always"===c)return this.collapseButtons(o),void(b(C())&&P());"never"===c&&this.expandButtons()}e&&t?r.align===n.align||b(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(o),b(C())&&P()):P():"responsive"===c&&this.expandButtons():t&&"responsive"===c&&(this.initialButtonGroupWidth>s.plotWidth?this.collapseButtons(o):this.expandButtons())}collapseButtons(o){const{buttons:s,buttonOptions:t,chart:e,dropdown:n,options:c,zoomText:r}=this,C=e.userOptions.rangeSelector&&e.userOptions.rangeSelector.buttonTheme||{},b=w=>({text:w?`${w} \u25be`:"\u25be",width:"auto",paddingLeft:f(c.buttonTheme.paddingLeft,C.padding,8),paddingRight:f(c.buttonTheme.paddingRight,C.padding,8)});r&&r.hide();let P=!1;t.forEach((w,B)=>{const N=s[B];2!==N.state?N.hide():(N.show(),N.attr(b(w.text)),P=!0)}),P||(n&&(n.selectedIndex=0),s[0].show(),s[0].attr(b(this.zoomText&&this.zoomText.textStr)));const{align:S}=c.buttonPosition;this.positionButtons(),("right"===S||"center"===S)&&this.alignButtonGroup(o,s[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:o,buttonOptions:s,options:t,zoomText:e}=this;this.hideDropdown(),e&&e.show(),s.forEach((n,c)=>{const r=o[c];r.show(),r.attr({text:n.text,width:t.buttonTheme.width||28,paddingLeft:f(t.buttonTheme.paddingLeft,"unset"),paddingRight:f(t.buttonTheme.paddingRight,"unset")}),r.state<2&&r.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:o}=this;return o&&o.selectedIndex>0?o.selectedIndex-1:0}showDropdown(){const{buttonGroup:o,buttons:s,chart:t,dropdown:e}=this;if(o&&e){const{translateX:n,translateY:c}=o,r=s[this.currentButtonIndex()].getBBox();T(e,{left:t.plotLeft+n+"px",top:c+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:o}=this;o&&(T(o,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const s=this.options,t=this.group,c=s.y,r=s.buttonPosition.y,C=s.inputPosition.y;let b=0;if(s.height)return s.height;this.alignElements(),b=t?t.getBBox(!0).height+13+c:0;const P=Math.min(C,r);return(C<0&&r<0||C>0&&r>0)&&(b+=Math.abs(P)),b}titleCollision(o){return!(o.options.title.text||o.options.subtitle.text)}update(o){const s=this.chart;g(!0,s.options.rangeSelector,o),this.destroy(),this.init(s),this.render()}destroy(){const o=this,s=o.minInput,t=o.maxInput;o.eventsToUnbind&&(o.eventsToUnbind.forEach(e=>e()),o.eventsToUnbind=void 0),v(o.buttons),s&&(s.onfocus=s.onblur=s.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null),u(o,function(e,n){e&&"chart"!==n&&(e instanceof _?e.destroy():e instanceof window.HTMLElement&&y(e)),e!==k.prototype[n]&&(o[n]=null)},this)}}return x(k.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),k}),V(D,"Core/Axis/OrdinalAxis.js",[D["Core/Axis/Axis.js"],D["Core/Globals.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{addEvent:_,correctFloat:L,css:I,defined:E,error:i,pick:T,timeUnits:A}=U,v=[];var y;return function(x){function m(t,e,n,c,r=[],C=0,b){const P={},S=this.options.tickPixelInterval,w=this.chart.time,B=[];let N,O,Y,z,R,G=0,H=[],W=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||typeof e>"u")return w.getTimeTicks.apply(w,arguments);const q=r.length;for(N=0;N<q;N++){if(R=N&&r[N-1]>n,r[N]<e&&(G=N),N===q-1||r[N+1]-r[N]>5*C||R){if(r[N]>W){for(O=w.getTimeTicks(t,r[G],r[N],c);O.length&&O[0]<=W;)O.shift();O.length&&(W=O[O.length-1]),B.push(H.length),H=H.concat(O)}G=N+1}if(R)break}if(O){if(z=O.info,b&&z.unitRange<=A.hour){for(N=H.length-1,G=1;G<N;G++)w.dateFormat("%d",H[G])!==w.dateFormat("%d",H[G-1])&&(P[H[G]]="day",Y=!0);Y&&(P[H[0]]="day"),z.higherRanks=P}z.segmentStarts=B,H.info=z}else i(12,!1,this.chart);if(b&&E(S)){const Z=H.length,tt=[],$=[];let it,nt,ot,rt,lt,at=Z;for(;at--;)nt=this.translate(H[at]),ot&&($[at]=ot-nt),tt[at]=ot=nt;for($.sort(),rt=$[Math.floor($.length/2)],rt<.6*S&&(rt=null),at=H[Z-1]>n?Z-1:Z,ot=void 0;at--;)nt=tt[at],lt=Math.abs(ot-nt),ot&&lt<.8*S&&(null===rt||lt<.8*rt)?(P[H[at]]&&!P[H[at+1]]?(it=at+1,ot=nt):it=at,H.splice(it,1)):ot=nt}return H}function g(t){const c=this.ordinal.positions;if(!c)return t;let C,r=c.length-1;return t<0?t=c[0]:t>r?t=c[r]:(r=Math.floor(t),C=t-r),typeof C<"u"&&typeof c[r]<"u"?c[r]+(C?C*(c[r+1]-c[r]):0):t}function u(t){const e=this,n=e.ordinal;let C=n.positions;if(!C)return t;const b=(t-(e.old?e.old.min:e.min))*(e.old?e.old.transA:e.transA)+e.minPixelPadding;if(b>0&&b<e.left+e.len||(n.extendedOrdinalPositions||(n.extendedOrdinalPositions=n.getExtendedPositions()),C=n.extendedOrdinalPositions),C&&C.length){const S=n.getIndexOfPoint(b,C),w=L(S%1);if(S>=0&&S<C.length-1){const z=C[Math.floor(S)],G=C[Math.ceil(S)]-z;return C[Math.floor(S)]+w*G}const B=C.length,N=C[0],O=C[B-1],Y=(O-N)/(B-1);return S<0?N+Y*S:O+Y*(S-B)}return t}function l(t,e){const n=x.Additions.findIndexOf(t,e,!0);return t[n]===e?n:n+(e-t[n])/(t[n+1]-t[n])}function f(){const t=this;t.ordinal||(t.ordinal=new x.Additions(t))}function d(){const t=this;t.isXAxis&&E(t.options.overscroll)&&t.max===t.dataMax&&(!t.chart.mouseIsDown||t.isInternal)&&(!t.eventArgs||t.eventArgs&&"navigator"!==t.eventArgs.trigger)&&(t.max+=t.options.overscroll,!t.isInternal&&E(t.userMin)&&(t.min+=t.options.overscroll))}function p(){const t=this;t.horiz&&!t.isDirty&&(t.isDirty=t.isOrdinal&&t.chart.navigator&&!t.chart.navigator.adaptToUpdatedData)}function M(){const t=this;t.ordinal&&(t.ordinal.beforeSetTickPositions(),t.tickInterval=t.ordinal.postProcessTickInterval(t.tickInterval))}function k(t){const e=this,n=e.xAxis[0],c=n.options.overscroll,r=t.originalEvent.chartX,C=e.options.chart.panning;let b=!1;if(C&&"y"!==C.type&&n.options.ordinal&&n.series.length){const P=e.mouseDownX,S=n.getExtremes(),w=S.dataMax,B=S.min,N=S.max,O=e.hoverPoints,R=(P-r)/(n.translationSlope*(n.ordinal.slope||n.closestPointRange||n.ordinal&&n.ordinal.overscrollPointsRange)),G=n.ordinal.getExtendedPositions(),H={ordinal:{positions:G,extendedOrdinalPositions:G}},W=n.index2val,q=n.val2lin;let Z,tt,$,it;H.ordinal.positions?Math.abs(R)>1&&(O&&O.forEach(function(nt){nt.setState()}),R<0?($=H,it=n.ordinal.positions?n:H):($=n.ordinal.positions?n:H,it=H),tt=it.ordinal.positions,w>tt[tt.length-1]&&tt.push(w),e.fixedRange=N-B,Z=n.navigatorAxis.toFixedRange(void 0,void 0,W.apply($,[q.apply($,[B,!0])+R]),W.apply(it,[q.apply(it,[N,!0])+R])),Z.min>=Math.min(S.dataMin,B)&&Z.max<=Math.max(w,N)+c&&n.setExtremes(Z.min,Z.max,!0,!1,{trigger:"pan"}),e.mouseDownX=r,I(e.container,{cursor:"move"})):b=!0}else b=!0;b||C&&/y/.test(C.type)?c&&(n.max=n.dataMax+c):t.preventDefault()}function a(){const t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.extendedOrdinalPositions)}function o(t,e){const c=this.ordinal,r=c.positions;let S,C=c.slope,b=c.extendedOrdinalPositions;if(!r)return t;if(r[0]<=t&&r[r.length-1]>=t)S=l(r,t);else{if(b||(b=c.getExtendedPositions&&c.getExtendedPositions(),c.extendedOrdinalPositions=b),!b||!b.length)return t;const w=b.length;C||(C=(b[w-1]-b[0])/w);const B=l(b,r[0]);S=t>=b[0]&&t<=b[w-1]?l(b,t)-B:t<b[0]?-B-(b[0]-t)/C:(t-b[w-1])/C+w-B}return e?S:C*(S||0)+c.offset}x.compose=function h(t,e,n){if(U.pushUnique(v,t)){const c=t.prototype;c.getTimeTicks=m,c.index2val=g,c.lin2val=u,c.val2lin=o,c.ordinal2lin=c.val2lin,_(t,"afterInit",f),_(t,"foundExtremes",d),_(t,"afterSetScale",p),_(t,"initialAxisTranslation",M)}return U.pushUnique(v,n)&&_(n,"pan",k),U.pushUnique(v,e)&&_(e,"updatedData",a),t};class s{constructor(e){this.index={},this.axis=e}beforeSetTickPositions(){const e=this.axis,n=e.ordinal,c=e.getExtremes(),r=c.min,C=c.max,b=e.isXAxis&&!!e.options.breaks,P=e.options.ordinal,S=e.chart.options.chart.ignoreHiddenSeries;let w,B,N,O,Y,z,R,G=[],H=Number.MAX_VALUE,W=!1,q=!1,Z=!1;if(P||b){let tt=0;if(e.series.forEach(function($,it){if(B=[],it>0&&"highcharts-navigator-series"!==$.options.id&&$.processedXData.length>1&&(q=tt!==$.processedXData[1]-$.processedXData[0]),tt=$.processedXData[1]-$.processedXData[0],$.boosted&&(Z=$.boosted),(!S||!1!==$.visible)&&(!1!==$.takeOrdinalPosition||b)&&(G=G.concat($.processedXData),w=G.length,G.sort(function(nt,ot){return nt-ot}),H=Math.min(H,T($.closestPointRange,H)),w)){for(it=0;it<w-1;)G[it]!==G[it+1]&&B.push(G[it+1]),it++;B[0]!==G[0]&&B.unshift(G[0]),G=B}}),q&&Z&&(G.pop(),G.shift()),w=G.length,w>2){for(N=G[1]-G[0],R=w-1;R--&&!W;)G[R+1]-G[R]!==N&&(W=!0);!e.options.keepOrdinalPadding&&(G[0]-r>N||C-G[G.length-1]>N)&&(W=!0)}else e.options.overscroll&&(2===w?H=G[1]-G[0]:1===w?(H=e.options.overscroll,G=[G[0],G[0]+H]):H=n.overscrollPointsRange);W||e.forceOrdinal?(e.options.overscroll&&(n.overscrollPointsRange=H,G=G.concat(n.getOverscrollPositions())),n.positions=G,O=e.ordinal2lin(Math.max(r,G[0]),!0),Y=Math.max(e.ordinal2lin(Math.min(C,G[G.length-1]),!0),1),n.slope=z=(C-r)/(Y-O),n.offset=r-O*z):(n.overscrollPointsRange=T(e.closestPointRange,n.overscrollPointsRange),n.positions=e.ordinal.slope=n.offset=void 0)}e.isOrdinal=P&&W,n.groupIntervalFactor=null}static findIndexOf(e,n,c){let b,r=0,C=e.length-1;for(;r<C;)b=Math.ceil((r+C)/2),e[b]<=n?r=b:C=b-1;return e[r]===n||c?r:-1}getExtendedPositions(){const e=this,n=e.axis,c=n.constructor.prototype,r=n.chart,C=n.series[0].currentDataGrouping,b=C?C.count+C.unitName:"raw",P=n.options.overscroll,S=n.getExtremes();let w,B,N=e.index;return N||(N=e.index={}),N[b]||(w={series:[],chart:r,forceOrdinal:!1,getExtremes:function(){return{min:S.dataMin,max:S.dataMax+P}},getGroupPixelWidth:c.getGroupPixelWidth,getTimeTicks:c.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:c.ordinal2lin,getIndexOfPoint:c.getIndexOfPoint,val2lin:c.val2lin},w.ordinal.axis=w,n.series.forEach(function(O){B={xAxis:w,xData:O.xData.slice(),chart:r,destroyGroupedData:F.noop,getProcessedData:j.prototype.getProcessedData,applyGrouping:j.prototype.applyGrouping},B.xData=B.xData.concat(e.getOverscrollPositions()),B.options={dataGrouping:C?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[C.unitName,[C.count]]]}:{enabled:!1}},w.series.push(B),O.processData.apply(B)}),B.closestPointRange!==B.basePointRange&&B.currentDataGrouping&&(w.forceOrdinal=!0),n.ordinal.beforeSetTickPositions.apply({axis:w}),N[b]=w.ordinal.positions),N[b]}getGroupIntervalFactor(e,n,c){const r=this,b=c.processedXData,P=b.length,S=[];let w,B,N=r.groupIntervalFactor;if(!N){for(B=0;B<P-1;B++)S[B]=b[B+1]-b[B];S.sort(function(O,Y){return O-Y}),w=S[Math.floor(P/2)],e=Math.max(e,b[0]),n=Math.min(n,b[P-1]),r.groupIntervalFactor=N=P*w/(n-e)}return N}getIndexOfPoint(e,n){const c=this,r=c.axis,C=c.positions?c.positions[0]:0;let b=r.series[0].points&&r.series[0].points[0]&&r.series[0].points[0].plotX||r.minPixelPadding;r.series.length>1&&r.series.forEach(function(w){w.points&&E(w.points[0])&&E(w.points[0].plotX)&&w.points[0].plotX<b&&w.points[0].plotX>=T(r.min,-1/0)&&(b=w.points[0].plotX)});const S=(e-b)/(r.translationSlope*(c.slope||r.closestPointRange||c.overscrollPointsRange));return s.findIndexOf(n,C)+S}getOverscrollPositions(){const n=this.axis,c=n.options.overscroll,r=this.overscrollPointsRange,C=[];let b=n.dataMax;if(E(r))for(;b<=n.dataMax+c;)b+=r,C.push(b);return C}postProcessTickInterval(e){const c=this.axis,r=this.slope;let C;return C=r?c.options.breaks?c.closestPointRange||e:e/(r/c.closestPointRange):e,C}}x.Additions=s}(y||(y={})),y}),V(D,"Series/HLC/HLCPoint.js",[D["Core/Series/SeriesRegistry.js"]],function(X){const{column:{prototype:{pointClass:F}}}=X.seriesTypes;return class j extends F{constructor(){super(...arguments),this.close=void 0,this.high=void 0,this.low=void 0,this.options=void 0,this.plotClose=void 0,this.series=void 0}}}),V(D,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),V(D,"Series/HLC/HLCSeries.js",[D["Series/HLC/HLCPoint.js"],D["Series/HLC/HLCSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{column:_}=j.seriesTypes,{extend:L,merge:I}=U;class E extends _{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.yData=void 0}extendStem(T,A,v){const y=T[0],x=T[1];"number"==typeof y[2]&&(y[2]=Math.max(v+A,y[2])),"number"==typeof x[2]&&(x[2]=Math.min(v-A,x[2]))}getPointPath(T,A){const v=A.strokeWidth(),y=T.series,x=v%2/2,h=Math.round(T.plotX)-x,m=Math.round(T.shapeArgs.width/2);let g=T.plotClose;const u=[["M",h,Math.round(T.yBottom)],["L",h,Math.round(T.plotHigh)]];return null!==T.close&&(g=Math.round(T.plotClose)+x,u.push(["M",h,g],["L",h+m,g]),y.extendStem(u,v/2,g)),u}drawSinglePoint(T){const A=T.series,v=A.chart;let y,x=T.graphic;typeof T.plotY<"u"&&(x||(T.graphic=x=v.renderer.path().add(A.group)),v.styledMode||x.attr(A.pointAttribs(T,T.selected&&"select")),y=A.getPointPath(T,x),x[x?"animate":"attr"]({d:y}).addClass(T.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(T,A){const v=super.pointAttribs.call(this,T,A);return delete v.fill,v}toYData(T){return[T.high,T.low,T.close]}translate(){const T=this,A=T.yAxis,v=this.pointArrayMap&&this.pointArrayMap.slice()||[],y=v.map(x=>`plot${x.charAt(0).toUpperCase()+x.slice(1)}`);y.push("yBottom"),v.push("low"),super.translate.apply(T),T.points.forEach(function(x){v.forEach(function(h,m){let g=x[h];null!==g&&(T.dataModify&&(g=T.dataModify.modifyValue(g)),x[y[m]]=A.toPixels(g,!0))}),x.tooltipPos[1]=x.plotHigh+A.pos-T.chart.plotTop})}}return E.defaultOptions=I(_.defaultOptions,F),L(E.prototype,{pointClass:X,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),j.registerSeriesType("hlc",E),E}),V(D,"Series/OHLC/OHLCPoint.js",[D["Core/Series/SeriesRegistry.js"]],function(X){const{seriesTypes:{hlc:F}}=X;return class j extends F.prototype.pointClass{constructor(){super(...arguments),this.open=void 0,this.options=void 0,this.plotOpen=void 0,this.series=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const _=super.getZone();return this.resolveUpColor(),_}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),V(D,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),V(D,"Series/OHLC/OHLCSeries.js",[D["Series/OHLC/OHLCPoint.js"],D["Series/OHLC/OHLCSeriesDefaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{seriesTypes:{hlc:_}}=j,{addEvent:L,extend:I,merge:E}=U,i=[];function T(y){const x=y.options,h=x.dataGrouping;h&&x.useOhlcData&&"highcharts-navigator-series"!==x.id&&(h.approximation="ohlc")}function A(y){const h=y.options;h.useOhlcData&&"highcharts-navigator-series"!==h.id&&I(this,{pointValKey:v.prototype.pointValKey,pointArrayMap:v.prototype.pointArrayMap,toYData:v.prototype.toYData})}class v extends _{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}static compose(x,...h){U.pushUnique(i,x)&&(L(x,"afterSetOptions",T),L(x,"init",A))}getPointPath(x,h){const m=super.getPointPath(x,h),g=h.strokeWidth(),u=g%2/2,l=Math.round(x.plotX)-u,f=Math.round(x.shapeArgs.width/2);let d=x.plotOpen;return null!==x.open&&(d=Math.round(x.plotOpen)+u,m.push(["M",l,d],["L",l-f,d]),super.extendStem(m,g/2,d)),m}pointAttribs(x,h){const m=super.pointAttribs.call(this,x,h),g=this.options;return delete m.fill,!x.options.color&&g.upColor&&x.open<x.close&&(m.stroke=g.upColor),m}toYData(x){return[x.open,x.high,x.low,x.close]}}return v.defaultOptions=E(_.defaultOptions,F),I(v.prototype,{pointClass:X,pointArrayMap:["open","high","low","close"]}),j.registerSeriesType("ohlc",v),v}),V(D,"Series/Candlestick/CandlestickSeriesDefaults.js",[D["Core/Defaults.js"],D["Core/Utilities.js"]],function(X,F){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),V(D,"Series/Candlestick/CandlestickSeries.js",[D["Series/Candlestick/CandlestickSeriesDefaults.js"],D["Core/Defaults.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F,j,U){const{defaultOptions:_}=F,{column:L,ohlc:I}=j.seriesTypes,{merge:E}=U;class i extends I{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(A,v){const y=L.prototype.pointAttribs.call(this,A,v),x=this.options,h=A.open<A.close,m=x.lineColor||this.color,g=A.color||this.color;if(y["stroke-width"]=x.lineWidth,y.fill=A.options.color||h&&x.upColor||g,y.stroke=A.options.lineColor||h&&x.upLineColor||m,v){const u=x.states[v];y.fill=u.color||y.fill,y.stroke=u.lineColor||y.stroke,y["stroke-width"]=u.lineWidth||y["stroke-width"]}return y}drawPoints(){const A=this,v=A.points,y=A.chart,x=A.yAxis.reversed;for(const h of v){let g,u,l,f,d,p,M,k,a,o,m=h.graphic;const s=!m;typeof h.plotY<"u"&&(m||(h.graphic=m=y.renderer.path().add(A.group)),A.chart.styledMode||m.attr(A.pointAttribs(h,h.selected&&"select")).shadow(A.options.shadow),M=m.strokeWidth()%2/2,k=Math.round(h.plotX)-M,g=h.plotOpen,u=h.plotClose,l=Math.min(g,u),f=Math.max(g,u),o=Math.round(h.shapeArgs.width/2),d=x?f!==h.yBottom:Math.round(l)!==Math.round(h.plotHigh),p=x?Math.round(l)!==Math.round(h.plotHigh):f!==h.yBottom,l=Math.round(l)+M,f=Math.round(f)+M,a=[],a.push(["M",k-o,f],["L",k-o,l],["L",k+o,l],["L",k+o,f],["Z"],["M",k,l],["L",k,d?Math.round(x?h.yBottom:h.plotHigh):l],["M",k,f],["L",k,p?Math.round(x?h.plotHigh:h.yBottom):f]),m[s?"attr":"animate"]({d:a}).addClass(h.getClassName(),!0))}}}return i.defaultOptions=E(I.defaultOptions,_.plotOptions,{tooltip:I.defaultOptions.tooltip},X),j.registerSeriesType("candlestick",i),i}),V(D,"Series/Flags/FlagsPoint.js",[D["Core/Series/SeriesRegistry.js"],D["Core/Utilities.js"]],function(X,F){const{column:{prototype:{pointClass:j}}}=X.seriesTypes,{isNumber:U}=F;return class _ extends j{constructor(){super(...arguments),this.options=void 0,this.series=void 0,this.ttBelow=!1}isValid(){return U(this.y)||typeof this.y>"u"}hasNewShapeType(){const I=this.options.shape||this.series.options.shape;return this.graphic&&I&&I!==this.graphic.symbolKey}}}),V(D,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),V(D,"Series/Flags/FlagsSymbols.js",[D["Core/Renderer/RendererRegistry.js"]],function(X){var F;return function(j){const U=[];function L(E,i,T,A,v){const y=v&&v.anchorX||E,x=v&&v.anchorY||i,h=this.circle(y-1,x-1,2,2);return h.push(["M",y,x],["L",E,i+A],["L",E,i],["L",E+T,i],["L",E+T,i+A],["L",E,i+A],["Z"]),h}function I(E,i){E[i+"pin"]=function(T,A,v,y,x){const h=x&&x.anchorX,m=x&&x.anchorY;let g;if("circle"===i&&y>v&&(T-=Math.round((y-v)/2),v=y),g=E[i](T,A,v,y),h&&m){let u=h;if("circle"===i)u=T+v/2;else{const f=g[0],d=g[1];"M"===f[0]&&"L"===d[0]&&(u=(f[1]+d[1])/2)}g.push(["M",u,A>m?A:A+y],["L",h,m]),g=g.concat(E.circle(h-1,m-1,2,2))}return g}}j.compose=function _(E){if(-1===U.indexOf(E)){U.push(E);const T=E.prototype.symbols;T.flag=L,I(T,"circle"),I(T,"square")}const i=X.getRendererType();U.indexOf(i)&&U.push(i)}}(F||(F={})),F}),V(D,"Series/OnSeriesComposition.js",[D["Series/Column/ColumnSeries.js"],D["Core/Series/Series.js"],D["Core/Utilities.js"]],function(X,F,j){const{prototype:U}=X,{prototype:_}=F,{defined:L,stableSort:I}=j;var E;return function(i){const T=[];function v(x){return _.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,x)}function y(){U.translate.apply(this);const x=this,h=x.options,m=x.chart,g=x.points,u=h.onSeries,l=u&&m.get(u),f=l&&l.options.step,d=l&&l.points,p=m.inverted,M=x.xAxis,k=x.yAxis;let o,s,c,r,C,b,P,a=g.length-1,t=h.onKey||"y",e=d&&d.length,n=0;if(l&&l.visible&&e)for(n=(l.pointXOffset||0)+(l.barW||0)/2,b=l.currentDataGrouping,r=d[e-1].x+(b?b.totalRange:0),I(g,(S,w)=>S.x-w.x),t="plot"+t[0].toUpperCase()+t.substr(1);e--&&g[a]&&(c=d[e],o=g[a],o.y=c.y,!(c.x<=o.x&&typeof c[t]<"u"&&(o.x<=r&&(o.plotY=c[t],c.x<o.x&&!f&&(C=d[e+1],C&&typeof C[t]<"u"&&(P=(o.x-c.x)/(C.x-c.x),o.plotY+=P*(C[t]-c[t]),o.y+=P*(C.y-c.y)))),a--,e++,a<0))););g.forEach((S,w)=>{let B;S.plotX+=n,(typeof S.plotY>"u"||p)&&(S.plotX>=0&&S.plotX<=M.len?p?(S.plotY=M.translate(S.x,0,1,0,1),S.plotX=L(S.y)?k.translate(S.y,0,0,0,1):0):S.plotY=(M.opposite?0:x.yAxis.len)+M.offset:S.shapeArgs={}),s=g[w-1],s&&s.plotX===S.plotX&&(typeof s.stackIndex>"u"&&(s.stackIndex=0),B=s.stackIndex+1),S.stackIndex=B}),this.onSeries=l}i.compose=function A(x){if(j.pushUnique(T,x)){const h=x.prototype;h.getPlotBox=v,h.translate=y}return x},i.getPlotBox=v,i.translate=y}(E||(E={})),E}),V(D,"Series/Flags/FlagsSeries.js",[D["Series/Flags/FlagsPoint.js"],D["Series/Flags/FlagsSeriesDefaults.js"],D["Series/Flags/FlagsSymbols.js"],D["Core/Globals.js"],D["Series/OnSeriesComposition.js"],D["Core/Renderer/RendererUtilities.js"],D["Core/Series/SeriesRegistry.js"],D["Core/Renderer/SVG/SVGElement.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I,E,i){const{noop:T}=U,{distribute:A}=L,{series:v,seriesTypes:{column:y}}=I,{addEvent:x,defined:h,extend:m,merge:g,objectEach:u,wrap:l}=i;class f extends y{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}animate(p){p&&this.setClip()}drawPoints(){const p=this,M=p.points,k=p.chart,a=k.renderer,o=k.inverted,s=p.options,t=s.y,e=p.yAxis,n={},c=[];let r,C,b,P,S,w,B,N,O,Y,z;for(P=M.length;P--;)S=M[P],Y=(o?S.plotY:S.plotX)>p.xAxis.len,r=S.plotX,B=S.stackIndex,b=S.options.shape||s.shape,C=S.plotY,typeof C<"u"&&(C=S.plotY+t-(typeof B<"u"&&B*s.stackDistance)),S.anchorX=B?void 0:S.plotX,N=B?void 0:S.plotY,z="flag"!==b,w=S.graphic,typeof C<"u"&&r>=0&&!Y?(w&&S.hasNewShapeType()&&(w=w.destroy()),w||(w=S.graphic=a.label("",null,null,b,null,null,s.useHTML).addClass("highcharts-point").add(p.markerGroup),S.graphic.div&&(S.graphic.div.point=S),w.isNew=!0),w.attr({align:z?"center":"left",width:s.width,height:s.height,"text-align":s.textAlign}),k.styledMode||w.attr(p.pointAttribs(S)).css(g(s.style,S.style)).shadow(s.shadow),r>0&&(r-=w.strokeWidth()%2),O={y:C,anchorY:N},s.allowOverlapX&&(O.x=r,O.anchorX=S.anchorX),w.attr({text:S.options.title||s.title||"A"})[w.isNew?"attr":"animate"](O),s.allowOverlapX||(n[S.plotX]?n[S.plotX].size=Math.max(n[S.plotX].size,w.width):n[S.plotX]={align:z?.5:0,size:w.width,target:r,anchorX:r}),S.tooltipPos=[r,C+e.pos-k.plotTop]):w&&(S.graphic=w.destroy());if(!s.allowOverlapX){let R=100;u(n,function(G){G.plotX=G.anchorX,c.push(G),R=Math.max(G.size,R)}),A(c,o?e.len:this.xAxis.len,R);for(const G of M){const W=G.graphic,q=W&&n[G.plotX];q&&W&&(h(q.pos)?W[W.isNew?"attr":"animate"]({x:q.pos+(q.align||0)*q.size,anchorX:G.anchorX}).show().isNew=!1:W.hide().isNew=!0)}}s.useHTML&&p.markerGroup&&l(p.markerGroup,"on",function(R){return E.prototype.on.apply(R.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const M=this.points;super.drawTracker();for(const k of M){const a=k.graphic;a&&(k.unbindMouseOver&&k.unbindMouseOver(),k.unbindMouseOver=x(a.element,"mouseover",function(){k.stackIndex>0&&!k.raised&&(k._y=a.y,a.attr({y:k._y-8}),k.raised=!0);for(const o of M)o!==k&&o.raised&&o.graphic&&(o.graphic.attr({y:o._y}),o.raised=!1)}))}}pointAttribs(p,M){const k=this.options,a=p&&p.color||this.color;let o=k.lineColor,s=p&&p.lineWidth,t=p&&p.fillColor||k.fillColor;return M&&(t=k.states[M].fillColor,o=k.states[M].lineColor,s=k.states[M].lineWidth),{fill:t||a,stroke:o||a,"stroke-width":s||k.lineWidth||0}}setClip(){v.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return f.compose=j.compose,f.defaultOptions=g(y.defaultOptions,F),_.compose(f),m(f.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:X,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:T,init:v.prototype.init}),I.registerSeriesType("flags",f),f}),V(D,"Core/Chart/StockChart.js",[D["Core/Axis/Axis.js"],D["Core/Chart/Chart.js"],D["Core/FormatUtilities.js"],D["Core/Defaults.js"],D["Stock/Navigator/NavigatorDefaults.js"],D["Stock/RangeSelector/RangeSelectorDefaults.js"],D["Stock/Scrollbar/ScrollbarDefaults.js"],D["Core/Series/Series.js"],D["Core/Renderer/SVG/SVGRenderer.js"],D["Core/Utilities.js"]],function(X,F,j,U,_,L,I,E,i,T){const{format:A}=j,{getOptions:v}=U,{addEvent:y,clamp:x,defined:h,extend:m,find:g,isNumber:u,isString:l,merge:f,pick:d,splat:p}=T;class M extends F{init(s,t){const e=v(),n=s.xAxis,c=s.yAxis,r=d(s.navigator&&s.navigator.enabled,_.enabled,!0);s.xAxis=s.yAxis=void 0;const C=f({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:r},scrollbar:{enabled:d(I.enabled,!0)},rangeSelector:{enabled:d(L.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:d(e.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},s,{isStock:!0});s.xAxis=n,s.yAxis=c,C.xAxis=p(s.xAxis||{}).map(function(b,P){return f(k("xAxis",b),e.xAxis,e.xAxis&&e.xAxis[P],b,a("xAxis",s))}),C.yAxis=p(s.yAxis||{}).map(function(b,P){return f(k("yAxis",b),e.yAxis,e.yAxis&&e.yAxis[P],b)}),super.init(C,t)}createAxis(s,t){return t.axis=f(k(s,t.axis),t.axis,a(s,this.userOptions)),super.createAxis(s,t)}}var o;function k(o,s){return"xAxis"===o?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===o?{labels:{y:-2},opposite:d(s.opposite,!0),showLastLabel:!(!s.categories&&"category"!==s.type),title:{text:null}}:{}}function a(o,s){if("xAxis"===o){const e={type:"datetime",categories:void 0};return d(s.navigator&&s.navigator.enabled,_.enabled,!0)&&(e.startOnTick=!1,e.endOnTick=!1),e}return{}}return(o=M||(M={})).stockChart=function s(t,e,n){return new o(t,e,n)},y(E,"setOptions",function(o){let s;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?s={borderWidth:0,shadow:!1}:!this.is("scatter")&&!this.is("sma")&&(s={marker:{enabled:!1,radius:2}}),s&&(o.plotOptions[this.type]=f(o.plotOptions[this.type],s)))}),y(X,"autoLabelAlign",function(o){const{chart:s,options:t}=this,e=s._labelPanes=s._labelPanes||{},n=t.labels;if(s.options.isStock&&"yAxis"===this.coll){const c=t.top+","+t.height;!e[c]&&n.enabled&&(15===n.distance&&1===this.side&&(n.distance=0),typeof n.align>"u"&&(n.align="right"),e[c]=this,o.align="right",o.preventDefault())}}),y(X,"destroy",function(){const o=this.chart,s=this.options&&this.options.top+","+this.options.height;s&&o._labelPanes&&o._labelPanes[s]===this&&delete o._labelPanes[s]}),y(X,"getPlotLinePath",function(o){let C,b,P,S,N,O,G,s=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,e=s.chart,n=e.renderer,c=s.left,r=s.top,w=[],B=[],Y=o.translatedValue,z=o.value,R=o.force;(e.options.isStock&&!1!==o.acrossPanes&&"xAxis"===s.coll||"yAxis"===s.coll)&&(o.preventDefault(),B=function H(W){const q="xAxis"===W?"yAxis":"xAxis",Z=s.options[q];return u(Z)?[e[q][Z]]:l(Z)?[e.get(Z)]:t.map(function(tt){return tt[q]})}(s.coll),N=s.isXAxis?e.yAxis:e.xAxis,N.forEach(function(W){if(!h(W.options.id)||-1===W.options.id.indexOf("navigator")){const q=W.isXAxis?"yAxis":"xAxis",Z=h(W.options[q])?e[q][W.options[q]]:e[q][0];s===Z&&B.push(W)}}),O=B.length?[]:[s.isXAxis?e.yAxis[0]:e.xAxis[0]],B.forEach(function(W){-1===O.indexOf(W)&&!g(O,function(q){return q.pos===W.pos&&q.len===W.len})&&O.push(W)}),G=d(Y,s.translate(z,void 0,void 0,o.old)),u(G)&&O.forEach(s.horiz?function(W){let q;b=W.pos,S=b+W.len,C=P=Math.round(G+s.transB),"pass"!==R&&(C<c||C>c+s.width)&&(R?C=P=x(C,c,c+s.width):q=!0),q||w.push(["M",C,b],["L",P,S])}:function(W){let q;C=W.pos,P=C+W.len,b=S=Math.round(r+s.height-G),"pass"!==R&&(b<r||b>r+s.height)&&(R?b=S=x(b,r,r+s.height):q=!0),q||w.push(["M",C,b],["L",P,S])}),o.path=w.length>0?n.crispPolyLine(w,o.lineWidth||1):null)}),i.prototype.crispPolyLine=function(o,s){for(let t=0;t<o.length;t+=2){const e=o[t],n=o[t+1];e[1]===n[1]&&(e[1]=n[1]=Math.round(e[1])-s%2/2),e[2]===n[2]&&(e[2]=n[2]=Math.round(e[2])+s%2/2)}return o},y(X,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),y(X,"afterDrawCrosshair",function(o){if(!(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&u(this.min)&&u(this.max)))return;let S,w,B,Y,z,s=this.chart,t=this.logarithmic,e=this.crosshair.label,n=this.horiz,c=this.opposite,r=this.left,C=this.top,b=this.width,P=this.crossLabel,N=e.format,O="",R="inside"===this.options.tickPosition,G=!1!==this.crosshair.snap,H=0,W=o.e||this.cross&&this.cross.e,q=o.point,Z=this.min,tt=this.max;t&&(Z=t.lin2log(Z),tt=t.lin2log(tt)),z=n?"center":c?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",P||(P=this.crossLabel=s.renderer.label("",0,void 0,e.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(q&&q.series?q.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:e.align||z,padding:d(e.padding,8),r:d(e.borderRadius,3),zIndex:2}).add(this.labelGroup),s.styledMode||P.attr({fill:e.backgroundColor||q&&q.series&&q.series.color||"#666666",stroke:e.borderColor||"","stroke-width":e.borderWidth||0}).css(m({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},e.style||{}))),n?(S=G?(q.plotX||0)+r:W.chartX,w=C+(c?0:this.height)):(S=r+this.offset+(c?b:0),w=G?(q.plotY||0)+C:W.chartY),!N&&!e.formatter&&(this.dateTime&&(O="%b %d, %Y"),N="{value"+(O?":"+O:"")+"}");const $=G?this.isXAxis?q.x:q.y:this.toValue(n?W.chartX:W.chartY),it=q&&q.series?q.series.isPointInside(q):u($)&&$>Z&&$<tt;let nt="";N?nt=A(N,{value:$},s):e.formatter&&u($)&&(nt=e.formatter.call(this,$)),P.attr({text:nt,x:S,y:w,visibility:it?"inherit":"hidden"}),B=P.getBBox(),u(P.x)&&!n&&!c&&(S=P.x-B.width/2),u(P.y)&&(n?(R&&!c||!R&&c)&&(w=P.y-B.height):w=P.y-B.height/2),Y=n?{left:r-B.x,right:r+this.width-B.x}:{left:"left"===this.labelAlign?r:0,right:"right"===this.labelAlign?r+this.width:s.chartWidth},P.translateX<Y.left&&(H=Y.left-P.translateX),P.translateX+B.width>=Y.right&&(H=-(P.translateX+B.width-Y.right)),P.attr({x:S+H,y:w,anchorX:n?S:this.opposite?0:s.chartWidth,anchorY:n?this.opposite?s.chartHeight:0:w+B.height/2})}),E.prototype.forceCropping=function(){const t=this.options.dataGrouping;return!1!==this.allowDG&&t&&d(t.enabled,this.chart.options.isStock)},y(F,"update",function(o){const s=o.options;"scrollbar"in s&&this.navigator&&(f(!0,this.options.scrollbar,s.scrollbar),this.navigator.update({}),delete s.scrollbar)}),M}),V(D,"masters/modules/stock.src.js",[D["Core/Globals.js"],D["Series/DataModifyComposition.js"],D["Stock/Navigator/Navigator.js"],D["Stock/RangeSelector/RangeSelector.js"],D["Stock/Scrollbar/Scrollbar.js"],D["Core/Axis/OrdinalAxis.js"],D["Series/OHLC/OHLCSeries.js"],D["Series/Flags/FlagsSeries.js"],D["Core/Chart/StockChart.js"]],function(X,F,j,U,_,L,I,E,i){const T=X;T.Navigator=j,T.RangeSelector=U,T.Scrollbar=_,T.StockChart=T.stockChart=i.stockChart,F.compose(T.Series,T.Axis,T.Point),E.compose(T.Renderer),j.compose(T.Axis,T.Chart,T.Series),I.compose(T.Series),L.compose(T.Axis,T.Series,T.Chart),U.compose(T.Axis,T.Chart),_.compose(T.Axis)})},Ct.exports?(Q.default=Q,Ct.exports=Q):(Mt=[ct(3470)],void 0!==(At=function(D){return Q(D),Q.Highcharts=D,Q}.apply(Bt,Mt))&&(Ct.exports=At))}}]);