(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[938],{6938:(kt,Ot,ut)=>{"use strict";ut.r(Ot),ut.d(Ot,{TradesModule:()=>Ht});var Pt=ut(6895),Ct=ut(4859),gt=ut(811),v=ut(9549),$=ut(7392),j=ut(4144),G=ut(8255),X=ut(4385),F=ut(3267),U=ut(6308),R=ut(7155),I=ut(3848),T=ut(7314),e=ut(4650),w=ut(3238),A=ut(2687),x=ut(1281);let d=0;const k=(0,w.Id)(class{}),r="mat-badge-content";let s=(()=>{class rt extends k{get color(){return this._color}set color(tt){this._setColor(tt),this._color=tt}get overlap(){return this._overlap}set overlap(tt){this._overlap=(0,x.Ig)(tt)}get content(){return this._content}set content(tt){this._updateRenderedContent(tt)}get description(){return this._description}set description(tt){this._updateHostAriaDescription(tt)}get hidden(){return this._hidden}set hidden(tt){this._hidden=(0,x.Ig)(tt)}constructor(tt,it,dt,mt,vt){super(),this._ngZone=tt,this._elementRef=it,this._ariaDescriber=dt,this._renderer=mt,this._animationMode=vt,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=d++,this._isInitialized=!1}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const tt=this._renderer.createElement("span"),it="mat-badge-active";return tt.setAttribute("id",`mat-badge-content-${this._id}`),tt.setAttribute("aria-hidden","true"),tt.classList.add(r),"NoopAnimations"===this._animationMode&&tt.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(tt),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{tt.classList.add(it)})}):tt.classList.add(it),tt}_updateRenderedContent(tt){const it=`${tt??""}`.trim();this._isInitialized&&it&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=it),this._content=it}_updateHostAriaDescription(tt){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),tt&&this._ariaDescriber.describe(this._elementRef.nativeElement,tt),this._description=tt}_setColor(tt){const it=this._elementRef.nativeElement.classList;it.remove(`mat-badge-${this._color}`),tt&&it.add(`mat-badge-${tt}`)}_clearExistingBadges(){const tt=this._elementRef.nativeElement.querySelectorAll(`:scope > .${r}`);for(const it of Array.from(tt))it!==this._badgeElement&&it.remove()}}return rt.\u0275fac=function(tt){return new(tt||rt)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(A.$s),e.Y36(e.Qsj),e.Y36(e.QbO,8))},rt.\u0275dir=e.lG2({type:rt,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(tt,it){2&tt&&e.ekj("mat-badge-overlap",it.overlap)("mat-badge-above",it.isAbove())("mat-badge-below",!it.isAbove())("mat-badge-before",!it.isAfter())("mat-badge-after",it.isAfter())("mat-badge-small","small"===it.size)("mat-badge-medium","medium"===it.size)("mat-badge-large","large"===it.size)("mat-badge-hidden",it.hidden||!it.content)("mat-badge-disabled",it.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[e.qOj]}),rt})(),u=(()=>{class rt{}return rt.\u0275fac=function(tt){return new(tt||rt)},rt.\u0275mod=e.oAB({type:rt}),rt.\u0275inj=e.cJS({imports:[A.rt,w.BQ,w.BQ]}),rt})();var p=ut(6205),o=ut(4466),c=ut(7579),l=ut(2722),f=ut(9646),m=ut(5115),M=ut(5439),y=ut.n(M),C=ut(1135),h=ut(8505),a=ut(5698),t=ut(3900),i=ut(4004),n=ut(529),b=ut(5240);class g{constructor(Q,tt){this._httpClient=Q,this._apiService=tt,this._rooms=new C.X(null),this._klines=new C.X(null),this._rounds=new C.X(null),this._config=new C.X(null),this._tradingCalls=new C.X(null),this._tradingRoom=new C.X(null)}get rooms$(){return this._rooms.asObservable()}get klines$(){return this._klines.asObservable()}get rounds$(){return this._rounds.asObservable()}get config$(){return this._config.asObservable()}get tradingCalls$(){return this._tradingCalls.asObservable()}get tradingRoom$(){return this._tradingRoom.asObservable()}getTradingRooms(){return this._httpClient.get(this._apiService.public_trading_rooms()).pipe((0,h.b)(Q=>{this._rooms.next(Q)}))}getTradingRoomsAndFirst(){return this._httpClient.get(this._apiService.public_trading_rooms()).pipe((0,h.b)(Q=>{this._rooms.next(Q),this._tradingRoom.next(Q[0])}))}getTradingRoom(Q){return this._httpClient.get(this._apiService.public_trading_rooms_room(Q)).pipe((0,h.b)(tt=>{this._tradingRoom.next(tt)}))}getLatestKlines(Q,tt=60){return this._httpClient.get(this._apiService.public_trading_latest_klines(Q.symbol??"",tt)).pipe((0,h.b)(it=>{this._klines.next(it)}))}getLatestRounds(Q,tt=60){return this._httpClient.get(this._apiService.public_trading_latest_rounds(Q.symbol??"",tt)).pipe((0,h.b)(it=>{this._rounds.next(it)}))}getConfig(Q,tt=60){return this._httpClient.get(this._apiService.public_trading_config(Q.symbol??"")).pipe((0,h.b)(it=>{this._config.next(it)}))}call(Q){return this._tradingCalls.pipe((0,a.q)(1),(0,t.w)(tt=>this._httpClient.post(this._apiService.users_trading_calls(),Q).pipe((0,i.U)(it=>((tt??[]).push(it),this._tradingCalls.next(tt),it)))))}getLatestTradingCalls(){return this._tradingCalls.pipe((0,a.q)(1),(0,t.w)(Q=>this._httpClient.get(this._apiService.users_trading_latestCalls()).pipe((0,h.b)(tt=>{Q=(Q=Q??[]).filter(it=>tt.findIndex(dt=>dt._id==it._id)<0),this._tradingCalls.next([...Q,...tt])}))))}getTradingCallToday(){return this._tradingCalls.pipe((0,a.q)(1),(0,t.w)(Q=>this._httpClient.get(this._apiService.users_trading_calls_today()).pipe((0,h.b)(tt=>{Q=(Q=Q??[]).filter(it=>tt.findIndex(dt=>dt._id==it._id)<0),this._tradingCalls.next([...Q,...tt])}))))}getStorageTradingCalls(){return this._tradingCalls.pipe((0,a.q)(1),(0,t.w)(Q=>{let tt=localStorage.getItem(m._.LOCAL_STORAGE_KEYS.TRADING_CALLS);if(!tt)return(0,f.of)([]);try{let it=JSON.parse(tt);return Array.isArray(it)?(Array.isArray(Q)||(Q=[]),this._tradingCalls.next([...Q,...it]),(0,f.of)(it)):(0,f.of)([])}catch(it){console.error(it)}}))}static#t=this.\u0275fac=function(tt){return new(tt||g)(e.LFG(n.eN),e.LFG(b.s))};static#e=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}class P{constructor(Q){this._tradingService=Q}resolve(Q,tt){return this._tradingService.getTradingRooms()}static#t=this.\u0275fac=function(tt){return new(tt||P)(e.LFG(g))};static#e=this.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}class E{constructor(Q){this._tradingService=Q}resolve(Q,tt){return this._tradingService.getTradingRoomsAndFirst()}static#t=this.\u0275fac=function(tt){return new(tt||E)(e.LFG(g))};static#e=this.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}class D{constructor(Q){this._tradingService=Q}resolve(Q,tt){return this._tradingService.getTradingRoom(Q.paramMap.get("symbol"))}static#t=this.\u0275fac=function(tt){return new(tt||D)(e.LFG(g))};static#e=this.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}class O{constructor(Q){this._tradingService=Q,this._unsubscribeAll=new c.x}resolve(Q,tt){return this._tradingService.tradingCalls$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(it=>{if(!it)return(0,f.of)(!0);let dt=localStorage.getItem(m._.LOCAL_STORAGE_KEYS.TRADING_CALLS);try{let mt=JSON.parse(dt);if(!Array.isArray(mt))return localStorage.setItem(m._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(it)),(0,f.of)(!0);mt=mt.filter(vt=>it.findIndex(Tt=>Tt._id==vt._id)<0),mt=[...mt,...it].filter(vt=>new Date(vt.openTime).getTime()>y()().startOf("day").toDate().getTime()),localStorage.setItem(m._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(mt))}catch(mt){console.error(mt),localStorage.setItem(m._.LOCAL_STORAGE_KEYS.TRADING_CALLS,JSON.stringify(it.filter(vt=>new Date(vt.openTime).getTime()>y()().startOf("day").toDate().getTime())))}}),this._tradingService.getStorageTradingCalls()}static#t=this.\u0275fac=function(tt){return new(tt||O)(e.LFG(g))};static#e=this.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}var S=ut(9299),L=ut(4482),B=ut(5403),Y=ut(9548),z=(()=>{return(rt=z||(z={}))[rt.BUY=1]="BUY",rt[rt.SELL=2]="SELL",z;var rt})();class N{static getOpenDate(Q=new Date){return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),0)}static getCloseDate(Q=new Date){return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),59)}}var H=ut(2594),V=ut(7020);class Z{transform(Q,...tt){let it=parseInt(""+Q/60,10),dt=parseInt(""+Q%60,10);return it=it<10?"0"+it:it,dt=dt<10?"0"+dt:dt,`${it} : ${dt}`}static#t=this.\u0275fac=function(tt){return new(tt||Z)};static#e=this.\u0275pipe=e.Yjl({name:"countdown",type:Z,pure:!0})}var W=ut(758),q=ut(3317),K=ut(1688),J=ut(7495),et=ut(5707),st=ut(3795),ot=ut(1864),lt=ut(5082),nt=ut(5589),at=ut(4006),pt=ut(3857);const bt=["btcChartComponent"];function ht(rt,Q){if(1&rt&&(e.TgZ(0,"mat-option",47),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt){const tt=Q.$implicit;e.Q6J("value",tt),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,tt.symbol)),"")}}function ct(rt,Q){if(1&rt){const tt=e.EpF();e.ynx(0),e.TgZ(1,"div",43)(2,"mat-form-field",44)(3,"mat-select",45),e.NdJ("valueChange",function(dt){e.CHM(tt);const mt=e.oxw();return e.KtG(mt.tradingRoom=dt)})("valueChange",function(dt){e.CHM(tt);const mt=e.oxw();return e.KtG(mt.onRoomChange(dt))}),e.YNc(4,ht,4,6,"mat-option",46),e.qZA()()(),e.BQk()}if(2&rt){const tt=e.oxw();e.xp6(3),e.Q6J("value",tt.tradingRoom),e.xp6(1),e.Q6J("ngForOf",tt.tradingRooms)}}function xt(rt,Q){if(1&rt&&(e.ynx(0),e.TgZ(1,"div",48)(2,"div",49)(3,"span",50),e._uU(4),e.ALo(5,"uppercase"),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"span",50),e._uU(8),e.qZA()(),e.TgZ(9,"div",51)(10,"span",50),e._uU(11),e.ALo(12,"uppercase"),e.ALo(13,"transloco"),e.qZA(),e.TgZ(14,"span",50),e._uU(15),e.qZA()()(),e.BQk()),2&rt){const tt=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,e.lcZ(6,6,"buy"))," "),e.xp6(4),e.hij(" ",tt.countResult.buy," "),e.xp6(3),e.hij(" ",e.lcZ(12,8,e.lcZ(13,10,"sell"))," "),e.xp6(4),e.hij(" ",tt.countResult.sell," ")}}function ft(rt,Q){if(1&rt&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53)(3,"div",54),e._uU(4),e.ALo(5,"capitalize"),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"div",55),e._UZ(8,"img",56)(9,"img",57),e.TgZ(10,"div"),e._UZ(11,"div",58),e.qZA()(),e.TgZ(12,"div",59)(13,"div",60)(14,"div",61),e._uU(15),e.qZA(),e.TgZ(16,"div",62),e._uU(17),e.ALo(18,"capitalize"),e.ALo(19,"transloco"),e.qZA()(),e.TgZ(20,"div",60)(21,"div",63),e._uU(22),e.qZA(),e.TgZ(23,"div",62),e._uU(24),e.ALo(25,"capitalize"),e.ALo(26,"transloco"),e.qZA()()()(),e.TgZ(27,"div",53)(28,"div",54),e._uU(29),e.ALo(30,"capitalize"),e.ALo(31,"transloco"),e.qZA(),e.TgZ(32,"div",55),e._UZ(33,"img",56)(34,"img",57),e.TgZ(35,"div"),e._UZ(36,"div",58),e.qZA()(),e.TgZ(37,"div",59)(38,"div",60)(39,"div",61),e._uU(40),e.ALo(41,"currency"),e.qZA(),e.TgZ(42,"div",62),e._uU(43),e.ALo(44,"capitalize"),e.ALo(45,"transloco"),e.qZA()(),e.TgZ(46,"div",60)(47,"div",63),e._uU(48),e.ALo(49,"currency"),e.qZA(),e.TgZ(50,"div",62),e._uU(51),e.ALo(52,"capitalize"),e.ALo(53,"transloco"),e.qZA()()()(),e.TgZ(54,"div",53)(55,"div",54),e._uU(56),e.ALo(57,"capitalize"),e.ALo(58,"transloco"),e.qZA(),e.TgZ(59,"div",55),e._UZ(60,"img",56)(61,"img",57),e.TgZ(62,"div"),e._UZ(63,"div",58),e.qZA()(),e.TgZ(64,"div",59)(65,"div",60)(66,"div",61),e._uU(67),e.qZA(),e.TgZ(68,"div",62),e._uU(69),e.ALo(70,"capitalize"),e.ALo(71,"transloco"),e.qZA()(),e.TgZ(72,"div",60)(73,"div",63),e._uU(74),e.qZA(),e.TgZ(75,"div",62),e._uU(76),e.ALo(77,"capitalize"),e.ALo(78,"transloco"),e.qZA()()()()(),e.BQk()),2&rt){const tt=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,21,e.lcZ(6,23,"oscillators"))," "),e.xp6(6),e.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+tt.gaugeRotate(tt.analysisSell,tt.analysisBuy)),e.xp6(5),e.hij(" ",tt.analysisSell," "),e.xp6(2),e.hij(" ",e.lcZ(18,25,e.lcZ(19,27,"sell"))," "),e.xp6(5),e.hij(" ",tt.analysisBuy," "),e.xp6(2),e.hij(" ",e.lcZ(25,29,e.lcZ(26,31,"buy"))," "),e.xp6(5),e.hij(" ",e.lcZ(30,33,e.lcZ(31,35,"trading amount"))," "),e.xp6(6),e.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+tt.gaugeRotate(tt.analysisSellAmount,tt.analysisBuyAmount)),e.xp6(5),e.hij(" ",e.lcZ(41,37,tt.analysisSellAmount)," "),e.xp6(3),e.hij(" ",e.lcZ(44,39,e.lcZ(45,41,"sell"))," "),e.xp6(5),e.hij(" ",e.lcZ(49,43,tt.analysisBuyAmount)," "),e.xp6(3),e.hij(" ",e.lcZ(52,45,e.lcZ(53,47,"buy"))," "),e.xp6(5),e.hij(" ",e.lcZ(57,49,e.lcZ(58,51,"trading counter"))," "),e.xp6(6),e.Tol("absolute w-24 h-24 md:w-32 md:h-32 flex items-center justify-start px-2 transition ease-linear duration-150 "+tt.gaugeRotate(tt.analysisSellCount,tt.analysisBuyCount)),e.xp6(5),e.hij(" ",tt.analysisSellCount," "),e.xp6(2),e.hij(" ",e.lcZ(70,53,e.lcZ(71,55,"sell"))," "),e.xp6(5),e.hij(" ",tt.analysisBuyCount," "),e.xp6(2),e.hij(" ",e.lcZ(77,57,e.lcZ(78,59,"buy"))," ")}}function yt(rt,Q){1&rt&&e._UZ(0,"div",73)}function St(rt,Q){1&rt&&e._UZ(0,"div",74)}function wt(rt,Q){1&rt&&e._UZ(0,"div",75)}function Mt(rt,Q){if(1&rt&&(e.TgZ(0,"div"),e.YNc(1,yt,1,0,"div",70),e.YNc(2,St,1,0,"div",71),e.YNc(3,wt,1,0,"div",72),e.qZA()),2&rt){const tt=Q.$implicit;e.xp6(1),e.Q6J("ngIf",0==tt),e.xp6(1),e.Q6J("ngIf",1==tt),e.xp6(1),e.Q6J("ngIf",2==tt)}}function Et(rt,Q){if(1&rt&&(e.TgZ(0,"div",68),e.YNc(1,Mt,4,3,"div",69),e.qZA()),2&rt){const tt=Q.$implicit;e.xp6(1),e.Q6J("ngForOf",tt)}}function Lt(rt,Q){if(1&rt&&(e.TgZ(0,"div",66),e.YNc(1,Et,2,1,"div",67),e.qZA()),2&rt){const tt=Q.$implicit;e.xp6(1),e.Q6J("ngForOf",tt)}}function Dt(rt,Q){if(1&rt&&(e.TgZ(0,"div",64),e.YNc(1,Lt,2,1,"div",65),e.qZA()),2&rt){const tt=e.oxw();e.xp6(1),e.Q6J("ngForOf",tt.getLastResults)}}function Bt(rt,Q){1&rt&&e._UZ(0,"mat-icon",76)}function It(rt,Q){1&rt&&e._UZ(0,"mat-icon",77)}function jt(rt,Q){1&rt&&e._UZ(0,"mat-progress-spinner",78),2&rt&&e.Q6J("diameter",24)("mode","indeterminate")}function Rt(rt,Q){1&rt&&(e.TgZ(0,"div",62),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"trading time"))," "))}function Vt(rt,Q){1&rt&&(e.TgZ(0,"div",62),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"wait for result"))," "))}function qt(rt,Q){if(1&rt&&(e.ynx(0),e.TgZ(1,"div"),e.YNc(2,Rt,4,5,"div",79),e.YNc(3,Vt,4,5,"div",79),e.TgZ(4,"div",80)(5,"span"),e._uU(6),e.ALo(7,"countdown"),e.qZA()()(),e.BQk()),2&rt){const tt=e.oxw();e.xp6(2),e.Q6J("ngIf",tt.checkCanTrade()),e.xp6(1),e.Q6J("ngIf",!tt.checkCanTrade()),e.xp6(3),e.hij(" ",e.lcZ(7,3,tt.countdown)," ")}}function Kt(rt,Q){1&rt&&(e.TgZ(0,"div",81)(1,"span"),e._uU(2),e.ALo(3,"capitalize"),e.ALo(4,"transloco"),e.qZA()()),2&rt&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,e.lcZ(4,3,"wait for processing"))," "))}function Jt(rt,Q){1&rt&&e._UZ(0,"mat-progress-spinner",78),2&rt&&e.Q6J("diameter",24)("mode","indeterminate")}function Qt(rt,Q){1&rt&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"opening"))," "))}function $t(rt,Q){if(1&rt&&(e.TgZ(0,"span",85),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt){const tt=e.oxw(3);e.Q6J("matBadge",tt.getTradingCallsByStatus("opening").length),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,"opening"))," ")}}function te(rt,Q){if(1&rt&&(e.YNc(0,Qt,4,5,"span",2),e.YNc(1,$t,4,6,"span",84)),2&rt){const tt=e.oxw(2);e.Q6J("ngIf",tt.getTradingCallsByStatus("opening").length<=0),e.xp6(1),e.Q6J("ngIf",tt.getTradingCallsByStatus("opening").length>0)}}function ee(rt,Q){1&rt&&(e.TgZ(0,"div",99),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"demo"))," "))}function ie(rt,Q){1&rt&&e._UZ(0,"mat-icon",100)}function se(rt,Q){1&rt&&e._UZ(0,"mat-icon",101)}function oe(rt,Q){1&rt&&e._UZ(0,"div")}const Zt=function(rt,Q){return{"bg-lime-500":rt,"bg-red-500":Q}};function ne(rt,Q){if(1&rt&&(e.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"div"),e._uU(4),e.qZA(),e.YNc(5,ee,4,5,"div",91),e.qZA()(),e.TgZ(6,"div",92)(7,"div",93)(8,"button",94),e.YNc(9,ie,1,0,"mat-icon",95),e.YNc(10,se,1,0,"mat-icon",96),e.qZA(),e.TgZ(11,"div",97),e._uU(12),e.ALo(13,"uppercase"),e.ALo(14,"transloco"),e.qZA()(),e.TgZ(15,"div",97),e._uU(16),e.ALo(17,"currency"),e.qZA()(),e.TgZ(18,"div",92)(19,"div",98),e._uU(20),e.ALo(21,"date"),e.qZA(),e.YNc(22,oe,1,0,"div",2),e.qZA()()),2&rt){const tt=Q.$implicit,it=e.oxw(3);e.xp6(4),e.hij(" ",tt.symbol," "),e.xp6(1),e.Q6J("ngIf",tt.cashAccount!=it.CashAccount.REAL),e.xp6(3),e.Q6J("ngClass",e.WLB(18,Zt,tt.type==it.TradingCallType.BUY,tt.type==it.TradingCallType.SELL)),e.xp6(1),e.Q6J("ngIf",tt.type==it.TradingCallType.BUY),e.xp6(1),e.Q6J("ngIf",tt.type==it.TradingCallType.SELL),e.xp6(2),e.hij(" ",e.lcZ(13,9,e.lcZ(14,11,tt.type==it.TradingCallType.BUY?"buy":"sell"))," "),e.xp6(4),e.hij(" ",e.lcZ(17,13,tt.betCash)," "),e.xp6(4),e.hij(" ",e.xi3(21,15,tt.time,"YYYY/MM/dd HH:mm:ss")," "),e.xp6(2),e.Q6J("ngIf",0!=tt.winType)}}function re(rt,Q){if(1&rt&&(e.ynx(0),e.TgZ(1,"div",86),e.YNc(2,ne,23,21,"div",87),e.qZA(),e.BQk()),2&rt){const tt=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",tt.getTradingCallsByStatus("opening"))}}function ae(rt,Q){1&rt&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"closed"))," "))}function le(rt,Q){if(1&rt&&(e.TgZ(0,"span",85),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt){const tt=e.oxw(3);e.Q6J("matBadge",tt.getTradingCallsByStatus("closed").length),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,"closed"))," ")}}function ce(rt,Q){if(1&rt&&(e.YNc(0,ae,4,5,"span",2),e.YNc(1,le,4,6,"span",84)),2&rt){const tt=e.oxw(2);e.Q6J("ngIf",tt.getTradingCallsByStatus("closed").length<=0),e.xp6(1),e.Q6J("ngIf",tt.getTradingCallsByStatus("closed").length>0)}}function he(rt,Q){1&rt&&(e.TgZ(0,"div",99),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&rt&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"demo"))," "))}function de(rt,Q){1&rt&&e._UZ(0,"mat-icon",100)}function pe(rt,Q){1&rt&&e._UZ(0,"mat-icon",101)}function ue(rt,Q){if(1&rt&&(e.TgZ(0,"div",104),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&rt){const tt=e.oxw(2).$implicit;e.xp6(1),e.hij(" +",e.lcZ(2,1,tt.benefit)," ")}}function ge(rt,Q){if(1&rt&&(e.TgZ(0,"div",105),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&rt){const tt=e.oxw(2).$implicit;e.xp6(1),e.hij(" -",e.lcZ(2,1,tt.betCash)," ")}}function fe(rt,Q){if(1&rt&&(e.TgZ(0,"div"),e.YNc(1,ue,3,3,"div",102),e.YNc(2,ge,3,3,"div",103),e.qZA()),2&rt){const tt=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",tt.type==tt.winType),e.xp6(1),e.Q6J("ngIf",tt.type!=tt.winType)}}function me(rt,Q){if(1&rt&&(e.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"div"),e._uU(4),e.qZA(),e.YNc(5,he,4,5,"div",91),e.qZA()(),e.TgZ(6,"div",92)(7,"div",93)(8,"button",94),e.YNc(9,de,1,0,"mat-icon",95),e.YNc(10,pe,1,0,"mat-icon",96),e.qZA(),e.TgZ(11,"div",97),e._uU(12),e.ALo(13,"uppercase"),e.ALo(14,"transloco"),e.qZA()(),e.TgZ(15,"div",97),e._uU(16),e.ALo(17,"currency"),e.qZA()(),e.TgZ(18,"div",92)(19,"div",98),e._uU(20),e.ALo(21,"date"),e.qZA(),e.YNc(22,fe,3,2,"div",2),e.qZA()()),2&rt){const tt=Q.$implicit,it=e.oxw(3);e.xp6(4),e.hij(" ",tt.symbol," "),e.xp6(1),e.Q6J("ngIf",tt.cashAccount!=it.CashAccount.REAL),e.xp6(3),e.Q6J("ngClass",e.WLB(18,Zt,tt.type==it.TradingCallType.BUY,tt.type==it.TradingCallType.SELL)),e.xp6(1),e.Q6J("ngIf",tt.type==it.TradingCallType.BUY),e.xp6(1),e.Q6J("ngIf",tt.type==it.TradingCallType.SELL),e.xp6(2),e.hij(" ",e.lcZ(13,9,e.lcZ(14,11,tt.type==it.TradingCallType.BUY?"buy":"sell"))," "),e.xp6(4),e.hij(" ",e.lcZ(17,13,tt.betCash)," "),e.xp6(4),e.hij(" ",e.xi3(21,15,tt.time,"YYYY/MM/dd HH:mm:ss")," "),e.xp6(2),e.Q6J("ngIf",0!=tt.winType)}}function xe(rt,Q){if(1&rt&&(e.ynx(0),e.TgZ(1,"div",86),e.YNc(2,me,23,21,"div",87),e.qZA(),e.BQk()),2&rt){const tt=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",tt.getTradingCallsByStatus("closed"))}}function be(rt,Q){if(1&rt&&(e.TgZ(0,"div",82)(1,"mat-tab-group")(2,"mat-tab"),e.YNc(3,te,2,2,"ng-template",83),e.YNc(4,re,3,1,"ng-container",2),e.qZA(),e.TgZ(5,"mat-tab"),e.YNc(6,ce,2,2,"ng-template",83),e.YNc(7,xe,3,1,"ng-container",2),e.qZA()()()),2&rt){const tt=e.oxw();let it,dt;e.xp6(4),e.Q6J("ngIf",(null==(it=tt.getTradingCallsByStatus("opening"))?null:it.length)>0),e.xp6(3),e.Q6J("ngIf",(null==(dt=tt.getTradingCallsByStatus("closed"))?null:dt.length)>0)}}const ye=function(rt,Q){return{"md:w-8/12":rt,"md:w-10/12":Q}},ve=function(rt){return{"grid-cols-2":rt}};var Xt=(()=>{return(rt=Xt||(Xt={}))[rt.INDICATORS=1]="INDICATORS",rt[rt.LAST_RESULTS=2]="LAST_RESULTS",Xt;var rt})();class Ft{constructor(Q,tt,it,dt,mt,vt,Tt,At,Nt){this._socketService=Q,this._tradingService=tt,this._userService=it,this._router=dt,this._translocoService=mt,this._deviceDetectorService=vt,this._changeDetectorRef=Tt,this._hotToastService=At,this._soundService=Nt,this.CashAccount=H.q,this.TradingCallType=z,this.btcOptions={},this.canTrade=!1,this.calling=!1,this.betCash=0,this.klines=[],this.TabType=Xt,this.tab=Xt.INDICATORS,this.history=!1,this.capitalizePipe=new q.e,this.maxDisplayPoint=m._.TRADES.MAX_DISPLAY_POINT_ON_PC,this._unsubscribeAll=new c.x}prepare(){this.tradingRoom$=this._tradingService.tradingRoom$,this.isMobile=this._deviceDetectorService.isMobile(),this.maxDisplayPoint=this.isMobile?m._.TRADES.MAX_DISPLAY_POINT_ON_MOBILE:m._.TRADES.MAX_DISPLAY_POINT_ON_PC,this._userService.user$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{this.user=Q,this._changeDetectorRef.markForCheck()}),this._tradingService.rooms$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{this.tradingRooms=Q,this._changeDetectorRef.markForCheck()}),this._tradingService.config$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{Q&&(this.tradingConfig=Q,this.betCash=this.tradingConfig.sliderMin,this._changeDetectorRef.markForCheck())}),this._tradingService.tradingCalls$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{Q&&(this.tradingCalls=Q,this._changeDetectorRef.markForCheck())}),this._tradingService.rounds$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{let tt=[];Q&&(tt=Q.map(it=>({symbol:it.symbol,time:it.time,openTime:it.openTime,closeTime:it.closeTime,openPrice:it.openPrice,highPrice:it.highPrice,lowPrice:it.lowPrice,closePrice:it.closePrice,closed:it.closed,canTrade:it.canTrade})).sort((it,dt)=>new Date(it.openTime).getTime()-new Date(dt.openTime).getTime()),this.klines=tt,this._changeDetectorRef.markForCheck(),this.chart&&this.chart.ref$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(it=>{let mt=it.series[1],vt=it.series[2],Tt=it.series[3];if(it.series[0].setData(tt.map(At=>({x:new Date(At.openTime).getTime(),close:At.closePrice,high:At.highPrice,low:At.lowPrice,open:At.openPrice}))),mt.setData(tt.map(At=>({x:new Date(At.openTime).getTime(),y:Math.abs(At.closePrice-At.openPrice),color:At.closePrice-At.openPrice>0?"#84CC16":"#EF4444"}))),this.bollingBands=this.calculateBollingerBands(tt),vt.setData(this.bollingBands.map(At=>[new Date(At.openTime).getTime(),At.lower,At.upper])),Tt.setData(this.bollingBands.map(At=>[new Date(At.openTime).getTime(),At.average])),this.isMobile){let At=new Date;it.xAxis[0].setExtremes(At.getTime()-6e4*this.maxDisplayPoint,At.getTime())}}))}),this._socketService.socket.fromEvent(Y.V.NOW).subscribe(Q=>{this.currentTime=Q,this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(Y.V.ROOM_JOIN).subscribe(Q=>{this.tradingRoom=this.tradingRooms.find(tt=>tt.symbol==Q),this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(Y.V.KLINE).subscribe(Q=>{this.analysisBuy=Q.analysisBuy,this.analysisSell=Q.analysisSell,this.analysisBuyAmount=Q.analysisBuyAmount,this.analysisSellAmount=Q.analysisSellAmount,this.analysisBuyCount=Q.analysisBuyCount,this.analysisSellCount=Q.analysisSellCount,this.canTrade=Q.canTrade,this.countdown=y()(Q.closeTime).diff(y()(Q.time),"seconds");let tt=new Date;this.chart.ref$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(it=>{let dt=this.klines.findIndex(mt=>new Date(mt.openTime).getTime()==new Date(Q.openTime).getTime());if(dt>=0){this.klines[dt]=Q;let mt=it.series[0].points.find(Nt=>new Date(Nt.x).getTime()==new Date(Q.openTime).getTime());mt&&mt.update({close:Q.closePrice,high:Q.highPrice,low:Q.lowPrice,open:Q.openPrice},!0,!0);let vt=it.series[1].points[it.series[1].points.length-1];vt&&vt.update({x:new Date(Q.openTime).getTime(),y:Math.abs(Q.closePrice-Q.openPrice),color:Q.closePrice-Q.openPrice>0?"#84CC16":"#EF4444"},!0,!0);let Tt=it.series[2].points[it.series[1].points.length-1];Tt&&(this.bollingBands=this.calculateBollingerBands(this.klines),Tt.update([new Date(this.bollingBands[dt].openTime).getTime(),this.bollingBands[dt].lower,this.bollingBands[dt].upper],!0,!0));let At=it.series[3].points[it.series[1].points.length-1];At&&(this.bollingBands=this.calculateBollingerBands(this.klines),At.update([new Date(this.bollingBands[dt].openTime).getTime(),this.bollingBands[dt].average],!0,!0))}else{this.klines.push(Q),it.series[0].addPoint({x:new Date(Q.openTime).getTime(),close:Q.closePrice,high:Q.highPrice,low:Q.lowPrice,open:Q.openPrice},!0,!0,!0),it.series[1].addPoint({x:new Date(Q.openTime).getTime(),y:Math.abs(Q.closePrice-Q.openPrice),color:Q.closePrice-Q.openPrice>0?"#84CC16":"#EF4444"},!0,!0,!0);let mt=it.series[2];mt&&(this.bollingBands=this.calculateBollingerBands(this.klines),mt.addPoint([new Date(this.bollingBands[this.bollingBands.length-1].openTime).getTime(),this.bollingBands[this.bollingBands.length-1].lower,this.bollingBands[this.bollingBands.length-1].upper],!0,!0,!0)),it.series[3].addPoint([new Date(this.bollingBands[this.bollingBands.length-1].openTime).getTime(),this.bollingBands[this.bollingBands.length-1].average],!0,!0,!0)}if(this.isMobile){let mt=it.series[0].data[it.series[0].data.length-1]?.x;it.xAxis[0].setExtremes(tt.getTime()-6e4*this.maxDisplayPoint,mt)}}),this._changeDetectorRef.markForCheck()}),this.tradingRoom$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(Q=>{Q&&(this.tradingRoom=Q,this._socketService.socket.emit(Y.V.ROOM_JOIN,Q.symbol),this.updateRounds(Q),this._changeDetectorRef.markForCheck())}),this.tradingRoom$.pipe(function _(){return(0,L.e)((rt,Q)=>{let tt,it=!1;rt.subscribe((0,B.x)(Q,dt=>{const mt=tt;tt=dt,it&&Q.next([mt,dt]),it=!0}))})}(),(0,l.R)(this._unsubscribeAll)).subscribe(([Q,tt])=>{Q&&this._socketService.socket.emit(Y.V.ROOM_LEFT,Q.symbol),this._socketService.socket.emit(Y.V.ROOM_JOIN,tt.symbol),this.updateRounds(tt),this._changeDetectorRef.markForCheck()}),this._socketService.socket.on(Y.V.disconnect,()=>{this._socketService.socket.emit(Y.V.ROOM_JOIN,this.tradingRoom.symbol),this.updateRounds(this.tradingRoom),this._changeDetectorRef.markForCheck()}),this._socketService.socket.fromEvent(Y.V.TRADING_CONFIG).subscribe(Q=>{this.tradingConfig=Q,this._changeDetectorRef.markForCheck()}),this._prepareChartData()}ngOnInit(){this.prepare()}deactive(){this._socketService.socket.emit(Y.V.ROOM_LEFT,this.tradingRoom.symbol)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}_prepareChartData(){let Q=new Z,tt=new W.H,it=this;this.chart=new V.Du({time:{useUTC:!1},chart:{panning:{enabled:!1},backgroundColor:"transparent",plotBackgroundImage:"/assets/images/trades/world_map_dot.svg"},credits:{enabled:!1},navigator:{enabled:!1},xAxis:[{lineColor:"#363A3E",lineWidth:1,labels:{enabled:!0}}],yAxis:[{gridLineColor:"#363A3E",gridLineDashStyle:"LongDash",height:"80%",labels:{align:"left",formatter(){return tt.transform(this.value)},style:{color:"#FFFFFF"}},plotLines:[{color:"#581C87",width:1,id:"current-price",zIndex:100,dashStyle:"Solid"}],lineWidth:1,resize:{enabled:!0}},{labels:{enabled:!1},top:"80%",height:"20%",gridLineColor:""}],plotOptions:{candlestick:{pointWidth:8,maxPointWidth:12,lineColor:"#EF4444",upLineColor:"#84CC16",lineWidth:2,lastPrice:{enabled:!0,label:{enabled:!1},color:"#581C87"},lastVisiblePrice:{enabled:!0,label:{enabled:!0,align:"left",formatter:dt=>tt.transform(dt)+"</br>"+Q.transform(it.countdown),backgroundColor:"#581C87"}}},column:{minPointLength:2,pointWidth:8,maxPointWidth:12,borderRadius:0},areasplinerange:{fillOpacity:.1,lineColor:"#4ade80"},line:{dashStyle:"LongDash",color:"#f59e0b"},series:{states:{inactive:{opacity:1}},allowPointSelect:!1}},rangeSelector:{enabled:!1},tooltip:{split:!1,enabled:!0,animation:!1,useHTML:!0},series:[{type:"candlestick",id:"candlestick",name:this._translocoService.translate("aapl stock price"),data:[],dataGrouping:{enabled:!1},color:"#EF4444",upColor:"#84CC16",zIndex:10},{type:"column",id:"volume",name:this._translocoService.translate("volume"),data:[],dataGrouping:{enabled:!1},yAxis:1},{type:"areasplinerange",id:"price-range",name:this._translocoService.translate("price range"),data:[],dataGrouping:{enabled:!1},visible:!this.isMobile},{type:"line",id:"average-price",name:this._translocoService.translate("average price"),data:[],dataGrouping:{enabled:!1},visible:!this.isMobile}],stockTools:{gui:{enabled:!1}},scrollbar:{enabled:!1}})}onRoomChange(Q){this._router.navigate(["/trades",Q.symbol])}updateRounds(Q){this._tradingService.getConfig(Q).subscribe(),this._tradingService.getLatestRounds(Q).subscribe(),this._userService.user&&this._tradingService.getLatestTradingCalls().subscribe()}addBetCash(Q){this.betCash=this.betCash+Q>this.userCash?this.userCash:this.betCash+Q}call(Q){if(!this._userService.user)return this._router.navigate(["/sign-in"],{queryParams:{redirectUrl:this._router.url}});this.betCash<=0||this._tradingService.call({userId:this._userService.user.id,symbol:this.tradingRoom.symbol,betCash:this.betCash,type:Q}).subscribe(()=>{this._hotToastService.success(this.capitalizePipe.transform(this._translocoService.translate("order successfully")),m.Q),this._soundService.playOrder()},()=>{this._hotToastService.error(this.capitalizePipe.transform(this._translocoService.translate("order failed")),m.Q)})}checkCanTrade(){if(!this.tradingConfig||!this.canTrade||!this.klines)return!1;let Q=Math.max(...this.klines.map(mt=>new Date(mt.openTime).getTime())),tt=this.klines.find(mt=>new Date(mt.openTime).getTime()==Q);if(!tt)return!1;let it=N.getCloseDate(new Date(tt.openTime));if(new Date(this.currentTime).getTime()>it.getTime()-this.tradingConfig.blockingTime||this.calling)return!1;if(!this.tradingCalls)return!0;let dt=this.tradingCalls.find(mt=>mt.symbol==this.tradingRoom.symbol&&new Date(mt.closeTime).getTime()==it.getTime());return!(dt&&new Date(dt.closeTime).getTime()>(new Date).getTime())}switchTab(Q){this.tab=Q}gaugeRotate(Q,tt){return Q>tt?"rotate-30":Q<tt?"rotate-[120deg]":"rotate-90"}get userCash(){return this.user.cashAccount===H.q.REAL?this.user.cash:this.user.demoCash??0}get getLastResults(){let Q=this.klines.sort((vt,Tt)=>new Date(vt.openTime).getTime()-new Date(Tt.openTime).getTime()),tt=[],it=20*(1+Math.ceil(Q.length/20)),dt=0,mt=0;tt[dt]=[],tt[dt][mt]=[];for(let vt=0;vt<it;vt++)tt[dt][mt].push(typeof Q[vt]>"u"||null==Q[vt]||!Q[vt]?0:Q[vt].closePrice>Q[vt].openPrice?1:Q[vt].closePrice<=Q[vt].openPrice?2:0),tt[dt][mt].length>=4&&(mt++,tt[dt][mt]=[]),mt>=5&&(dt++,mt=0,tt[dt]=[],tt[dt][mt]=[]);return tt}get countResult(){return{buy:this.klines.filter(Q=>Q.closePrice>Q.openPrice).length,sell:this.klines.filter(Q=>Q.closePrice<=Q.openPrice).length}}calculateBollingerBands(Q,tt=20,it=2){const dt=[];for(let mt=0;mt<Q.length;mt++){const vt=Q.slice(Math.max(0,mt-tt+1),mt+1).map(_t=>_t.closePrice),Tt=vt.reduce((_t,Wt)=>_t+Wt,0)/vt.length,At=Math.sqrt(vt.reduce((_t,Wt)=>_t+Math.pow(Wt-Tt,2),0)/vt.length);dt.push({openTime:Q[mt].openTime,average:Tt,upper:Tt+it*At,lower:Tt-it*At})}return dt}getTradingCallsByStatus(Q){let tt=new Date;return(this.tradingCalls??[]).filter(it=>"opening"==Q?tt.getTime()<new Date(it.closeTime).getTime():tt.getTime()>=new Date(it.closeTime).getTime()).sort((it,dt)=>new Date(dt.openTime).getTime()-new Date(it.openTime).getTime())}toggleHistory(){this.history=!this.history,this._tradingService.getTradingCallToday().subscribe()}static#t=this.\u0275fac=function(tt){return new(tt||Ft)(e.Y36(K.$),e.Y36(g),e.Y36(J.K),e.Y36(S.F0),e.Y36(et.Vn),e.Y36(st.x0),e.Y36(e.sBO),e.Y36(ot.jE),e.Y36(lt.y))};static#e=this.\u0275cmp=e.Xpm({type:Ft,selectors:[["app-trading"]],viewQuery:function(tt,it){if(1&tt&&e.Gf(bt,5),2&tt){let dt;e.iGM(dt=e.CRH())&&(it.btcChartComponent=dt.first)}},decls:108,vars:104,consts:[["cdkScrollable","",1,"md:flex","items-start","w-full","overflow-y-scroll","overflow-x-hidden"],[1,"relative","w-full","h-90","md:h-160","bg-gray-50","dark:bg-transparent",3,"ngClass"],[4,"ngIf"],[1,"w-full","h-60","md:h-full","mt-0","md:mt-2",3,"chart"],[1,"relative"],[1,"flex","flex-auto","px-2","items-center","gap-4"],[1,"flex","gap-4"],[3,"click"],[4,"ngIf","ngIfElse"],["lastResults",""],[1,"relative","bottom-0","border-t","md:border-0","text-center","md:w-2/12","bg-card","dark:bg-default","mt-2"],[1,"flex","w-full","md:mb-2","items-center","justify-between","pt-2","md:pt-4","md:pb-2"],[1,"flex","flex-wrap","w-full","items-center","justify-center","text-center"],[1,"mr-2","font-medium"],[1,"mr-2","text-xl","font-medium","text-violet-600"],[1,"text-xl","font-semibold","text-teal-500"],["mat-icon-button","",1,"hidden","md:block",3,"click"],["svgIcon","feather:chevron-left",4,"ngIf"],["svgIcon","feather:chevron-right",4,"ngIf"],[1,"hidden","md:block","text-left","font-medium","px-2","pb-2"],["subscriptSizing","dynamic",1,"px-2","w-full","fuse-mat-dense","mt-2"],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:minus-circle"],[1,"mx-2"],["matInput","","type","number",1,"h-8",3,"ngModel","ngModelChange"],["svgIcon","heroicons_outline:plus-circle"],[1,"hidden","md:grid","grid-cols-3","px-2","pt-1","justify-between","gap-2",3,"ngClass"],["mat-flat-button","",1,"flex","justify-start",3,"click"],["svgIcon","heroicons_outline:plus-sm",1,"icon-size-3"],[1,"text-sm"],[1,"text-sm","truncate"],[1,"hidden","relative","md:flex","flex-auto","items-center","justify-center","px-2"],[1,"w-full",3,"showTickMarks","min","max","step"],["matSliderThumb","",3,"ngModel","ngModelChange"],[1,"flex","flex-auto","md:flex-col","px-2","justify-between","items-center","mt-4"],["mat-flat-button","",3,"disabled","click"],[1,"md:font-bold","md:text-2xl","mx-2"],["matIconSuffix","","svgIcon","heroicons_outline:trending-up"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-auto","rounded-m","w-full","mx-2","bg-transparent","items-center","justify-center","md:mx-0","md:my-2","md:p-6"],["tradingRoundLoading",""],["matIconSuffix","","svgIcon","heroicons_outline:trending-down"],["class","h-full w-2/12 border-l ml-2",4,"ngIf"],[1,"absolute","md:relative","top-2","left-2","z-10"],["subscriptSizing","dynamic",1,"min-w-32","rounded-md","bg-slate-700"],[1,"w-full",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","gap-1","md:gap-4"],["mat-button","",1,"bg-lime-500","rounded-md","p-1","md:p-3"],[1,"text-xs","md:text-md","font-semibold"],["mat-button","",1,"bg-red-500","rounded-md","p-1","md:p-3"],[1,"flex","items-center","justify-between","p-1","md:p-4","w-full","md:max-w-3xl","mx-auto"],[1,"w-24","md:w-48","justify-center"],[1,"relative","w-full","text-center","md:font-bold","text-xs","md:text-md","truncate"],[1,"relative","w-24","h-12","md:w-32","md:h-16","overflow-hidden","mx-auto"],["src","/assets/images/trades/gauge_bg.svg","alt","gauge_bg.svg",1,"absolute","w-24","md:w-32"],["src","/assets/images/trades/gauge_border.svg","alt","gauge_border.svg",1,"absolute","w-24","md:w-32"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","w-16","h-1","rounded-lg"],[1,"relative","flex","flex-auto","items-center","justify-between"],[1,"text-center"],[1,"text-xs","md:text-sm","font-semibold","text-red-500"],[1,"text-secondary","text-xs","md:text-sm"],[1,"text-xs","md:text-sm","font-semibold","text-lime-500"],["cdkScrollable","",1,"flex","justify-start","p-2","md:p-6","gap-4","md:gap-6","max-w-full","overflow-x-scroll"],["class","grid gap-1 grid-cols-5",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-5"],["class","grid gap-1 grid-cols-1",4,"ngFor","ngForOf"],[1,"grid","gap-1","grid-cols-1"],[4,"ngFor","ngForOf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-slate-700",4,"ngIf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-lime-500",4,"ngIf"],["class","w-2 h-2 md:w-4 md:h-4 rounded-full bg-red-500",4,"ngIf"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-slate-700"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-lime-500"],[1,"w-2","h-2","md:w-4","md:h-4","rounded-full","bg-red-500"],["svgIcon","feather:chevron-left"],["svgIcon","feather:chevron-right"],[3,"diameter","mode"],["class","text-secondary text-xs md:text-sm",4,"ngIf"],[1,"md:w-32","rounded-full","bg-card","p1","md:p-2","dark:bg-slate-800","md:text-xl"],[1,"rounded-full","bg-card","p1","md:p-2","text-xs","md:text-sm","text-secondary","dark:bg-slate-800"],[1,"h-full","w-2/12","border-l","ml-2"],["mat-tab-label",""],["matBadgeOverlap","false",3,"matBadge",4,"ngIf"],["matBadgeOverlap","false",3,"matBadge"],[1,"px-2","py-2","grid","grid-cols-1","gap-2"],["class","rounded-md shadow bg-card p-2",4,"ngFor","ngForOf"],[1,"rounded-md","shadow","bg-card","p-2"],[1,"flex","justify-between"],[1,"flex","items-center","gap-1"],["class","bg-primary rounded-full p-1 text-sm",4,"ngIf"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],["mat-icon-button","",1,"rounded-full","icon-size-6",3,"ngClass"],["svgIcon","heroicons_outline:trending-up","class","icon-size-6 text-white",4,"ngIf"],["svgIcon","heroicons_outline:trending-down","class","icon-size-6 text-white",4,"ngIf"],[1,"font-semibold"],[1,"text-secondary","text-sm"],[1,"bg-primary","rounded-full","p-1","text-sm"],["svgIcon","heroicons_outline:trending-up",1,"icon-size-6","text-white"],["svgIcon","heroicons_outline:trending-down",1,"icon-size-6","text-white"],["class","text-lime-500 font-semibold",4,"ngIf"],["class","text-red-500 font-semibold",4,"ngIf"],[1,"text-lime-500","font-semibold"],[1,"text-red-500","font-semibold"]],template:function(tt,it){if(1&tt&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ct,5,2,"ng-container",2),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.NdJ("click",function(){return it.switchTab(it.TabType.INDICATORS)}),e._uU(8),e.ALo(9,"capitalize"),e.ALo(10,"transloco"),e.qZA(),e.TgZ(11,"div",7),e.NdJ("click",function(){return it.switchTab(it.TabType.LAST_RESULTS)}),e._uU(12),e.ALo(13,"capitalize"),e.ALo(14,"transloco"),e.qZA()(),e.YNc(15,xt,16,12,"ng-container",2),e.qZA(),e.YNc(16,ft,79,61,"ng-container",8),e.YNc(17,Dt,2,1,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13),e._uU(23),e.ALo(24,"capitalize"),e.ALo(25,"transloco"),e.qZA(),e.TgZ(26,"div",14),e._uU(27),e.qZA(),e.TgZ(28,"div",15),e._uU(29),e.ALo(30,"currency"),e.qZA()(),e.TgZ(31,"button",16),e.NdJ("click",function(){return it.toggleHistory()}),e.YNc(32,Bt,1,0,"mat-icon",17),e.YNc(33,It,1,0,"mat-icon",18),e.qZA()(),e.TgZ(34,"div",19),e._uU(35),e.ALo(36,"capitalize"),e.ALo(37,"transloco"),e.qZA(),e.TgZ(38,"mat-form-field",20)(39,"button",21),e.NdJ("click",function(){return it.addBetCash(-it.tradingConfig.sliderStep)}),e._UZ(40,"mat-icon",22),e.qZA(),e.TgZ(41,"span",23),e._uU(42),e.ALo(43,"capitalize"),e.ALo(44,"transloco"),e.qZA(),e.TgZ(45,"input",24),e.NdJ("ngModelChange",function(mt){return it.betCash=mt}),e.qZA(),e.TgZ(46,"button",21),e.NdJ("click",function(){return it.addBetCash(it.tradingConfig.sliderStep)}),e._UZ(47,"mat-icon",25),e.qZA()(),e.TgZ(48,"div",26)(49,"button",27),e.NdJ("click",function(){return it.addBetCash(5)}),e._UZ(50,"mat-icon",28),e.TgZ(51,"span",29),e._uU(52),e.ALo(53,"capitalize"),e.ALo(54,"transloco"),e.qZA()(),e.TgZ(55,"button",27),e.NdJ("click",function(){return it.addBetCash(10)}),e._UZ(56,"mat-icon",28),e.TgZ(57,"span",29),e._uU(58),e.ALo(59,"capitalize"),e.ALo(60,"transloco"),e.qZA()(),e.TgZ(61,"button",27),e.NdJ("click",function(){return it.addBetCash(20)}),e._UZ(62,"mat-icon",28),e.TgZ(63,"span",29),e._uU(64),e.ALo(65,"capitalize"),e.ALo(66,"transloco"),e.qZA()(),e.TgZ(67,"button",27),e.NdJ("click",function(){return it.addBetCash(50)}),e._UZ(68,"mat-icon",28),e.TgZ(69,"span",29),e._uU(70),e.ALo(71,"capitalize"),e.ALo(72,"transloco"),e.qZA()(),e.TgZ(73,"button",27),e.NdJ("click",function(){return it.addBetCash(100)}),e._UZ(74,"mat-icon",28),e.TgZ(75,"span",29),e._uU(76),e.ALo(77,"capitalize"),e.ALo(78,"transloco"),e.qZA()(),e.TgZ(79,"button",27),e.NdJ("click",function(){return it.addBetCash(it.userCash)}),e._UZ(80,"mat-icon",28),e.TgZ(81,"span",30),e._uU(82),e.ALo(83,"capitalize"),e.ALo(84,"transloco"),e.qZA()()(),e.TgZ(85,"div",31)(86,"mat-slider",32)(87,"input",33),e.NdJ("ngModelChange",function(mt){return it.betCash=mt}),e.qZA()()(),e.TgZ(88,"div",34)(89,"button",35),e.NdJ("click",function(){return it.call(1)}),e.TgZ(90,"span",36),e._uU(91),e.ALo(92,"capitalize"),e.ALo(93,"transloco"),e.qZA(),e._UZ(94,"mat-icon",37),e.YNc(95,jt,1,2,"mat-progress-spinner",38),e.qZA(),e.TgZ(96,"div",39),e.YNc(97,qt,8,5,"ng-container",8),e.YNc(98,Kt,5,5,"ng-template",null,40,e.W1O),e.qZA(),e.TgZ(100,"button",35),e.NdJ("click",function(){return it.call(2)}),e.TgZ(101,"span",36),e._uU(102),e.ALo(103,"capitalize"),e.ALo(104,"transloco"),e.qZA(),e._UZ(105,"mat-icon",41),e.YNc(106,Jt,1,2,"mat-progress-spinner",38),e.qZA()()(),e.YNc(107,be,8,2,"div",42),e.qZA()),2&tt){const dt=e.MAs(18),mt=e.MAs(99);let vt,Tt,At,Nt,Ut;e.xp6(1),e.Q6J("ngClass",e.WLB(99,ye,it.history,!it.history)),e.xp6(1),e.Q6J("ngIf",null==it.tradingRooms?null:it.tradingRooms.length),e.xp6(1),e.Q6J("chart",it.chart),e.xp6(4),e.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(it.tab==it.TabType.INDICATORS?"border-b-2 border-b-purple-500 md:font-bold":"")),e.xp6(1),e.hij(" ",e.lcZ(9,45,e.lcZ(10,47,"indicators"))," "),e.xp6(3),e.Tol("text-sm md:text-md p-1 md:p-2 hover:cursor-pointer hover:bg-default "+(it.tab==it.TabType.LAST_RESULTS?"border-b-2 border-b-purple-500 md:font-bold":"")),e.xp6(1),e.hij(" ",e.lcZ(13,49,e.lcZ(14,51,"last results"))," "),e.xp6(3),e.Q6J("ngIf",it.tab===it.TabType.LAST_RESULTS),e.xp6(1),e.Q6J("ngIf",it.tab===it.TabType.INDICATORS)("ngIfElse",dt),e.xp6(7),e.hij(" ",e.lcZ(24,53,e.lcZ(25,55,"profit"))," "),e.xp6(4),e.hij(" ",null!==(vt=null==it.tradingConfig?null:it.tradingConfig.benefitPercent)&&void 0!==vt?vt:0,"% "),e.xp6(2),e.hij(" ",e.lcZ(30,57,null!==(Tt=it.betCash*(null!==(Tt=null==it.tradingConfig?null:it.tradingConfig.benefitPercent)&&void 0!==Tt?Tt:0)/100)&&void 0!==Tt?Tt:0)," "),e.xp6(3),e.Q6J("ngIf",!it.history),e.xp6(1),e.Q6J("ngIf",it.history),e.xp6(2),e.hij(" ",e.lcZ(36,59,e.lcZ(37,61,"bet amount"))," "),e.xp6(7),e.Oqu(e.lcZ(43,63,e.lcZ(44,65,"$"))),e.xp6(3),e.Q6J("ngModel",it.betCash),e.xp6(3),e.Q6J("ngClass",e.VKq(102,ve,it.history)),e.xp6(4),e.hij(" ",e.lcZ(53,67,e.lcZ(54,69,"5"))," "),e.xp6(6),e.hij(" ",e.lcZ(59,71,e.lcZ(60,73,"10"))," "),e.xp6(6),e.hij(" ",e.lcZ(65,75,e.lcZ(66,77,"20"))," "),e.xp6(6),e.hij(" ",e.lcZ(71,79,e.lcZ(72,81,"50"))," "),e.xp6(6),e.hij(" ",e.lcZ(77,83,e.lcZ(78,85,"100"))," "),e.xp6(6),e.hij(" ",e.lcZ(83,87,e.lcZ(84,89,"all"))," "),e.xp6(4),e.Q6J("showTickMarks",!0)("min",null!==(At=null==it.tradingConfig?null:it.tradingConfig.sliderMin)&&void 0!==At?At:0)("max",null!==(Nt=null==it.tradingConfig?null:it.tradingConfig.sliderMax)&&void 0!==Nt?Nt:0)("step",null!==(Ut=null==it.tradingConfig?null:it.tradingConfig.sliderStep)&&void 0!==Ut?Ut:0),e.xp6(1),e.Q6J("ngModel",it.betCash),e.xp6(2),e.Tol((it.checkCanTrade()?"bg-lime-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),e.Q6J("disabled",!it.checkCanTrade()),e.xp6(2),e.hij(" ",e.lcZ(92,91,e.lcZ(93,93,"buy"))," "),e.xp6(4),e.Q6J("ngIf",it.calling),e.xp6(2),e.Q6J("ngIf",!!it.countdown)("ngIfElse",mt),e.xp6(3),e.Tol((it.checkCanTrade()?"bg-red-500":"bg-gray-300")+" rounded-md min-w-32 md:w-full md:p-8"),e.Q6J("disabled",!it.checkCanTrade()),e.xp6(2),e.hij(" ",e.lcZ(103,95,e.lcZ(104,97,"sell"))," "),e.xp6(4),e.Q6J("ngIf",it.calling),e.xp6(1),e.Q6J("ngIf",it.history)}},dependencies:[Pt.mk,Pt.sg,Pt.O5,Ct.lW,Ct.RK,v.KE,v.R9,$.Hw,j.Nt,nt.PQ,X.gD,w.ey,I.uD,I.uX,I.SP,T.pH,T.$5,s,at.Fj,at.wV,at.JJ,at.On,V.Dm,Pt.uU,q.e,Z,W.H,pt.s,et.Ot]})}class Yt{canDeactivate(Q,tt,it,dt){return Q.deactive(),!0}static#t=this.\u0275fac=function(tt){return new(tt||Yt)};static#e=this.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}const Ae=[{path:"",component:Ft,resolve:{FirstTradingRoomsResolver:E},canDeactivate:[Yt]},{path:":symbol",component:Ft,resolve:{TradingRoomsResolver:P,TradingRoomResolver:D},canDeactivate:[Yt]}];class zt{static#t=this.\u0275fac=function(tt){return new(tt||zt)};static#e=this.\u0275mod=e.oAB({type:zt});static#i=this.\u0275inj=e.cJS({imports:[S.Bz.forChild(Ae),S.Bz]})}var Ce=ut(6270),Se=ut(4346),ke=ut(4949),Pe=ut(9457),Me=ut(5002),we=ut(3885);class Gt{static#t=this.\u0275fac=function(tt){return new(tt||Gt)};static#e=this.\u0275mod=e.oAB({type:Gt});static#i=this.\u0275inj=e.cJS({providers:[{provide:V.mA,useFactory:()=>[Ce,Se,ke,Pe,Me,we]}],imports:[Pt.ez,zt,Ct.ot,gt.vV,v.lN,$.Ps,j.c,G.Tx,X.LD,F.SJ,U.JX,R.p0,I.Nh,T.KP,u,p.X,o.m]})}class Ht{static#t=this.\u0275fac=function(tt){return new(tt||Ht)};static#e=this.\u0275mod=e.oAB({type:Ht});static#i=this.\u0275inj=e.cJS({imports:[Pt.ez,Gt]})}},6270:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Extensions/Pane/PaneComposition.js",[v["Core/Utilities.js"]],function(j){const{addEvent:G,correctFloat:X,defined:F,pick:U}=j;function R(d){const k=this;let r;return d&&k.pane.forEach(s=>{T(d.chartX-k.plotLeft,d.chartY-k.plotTop,s.center)&&(r=s)}),r}function T(d,k,r,s,u){let p=!0;const o=r[0],c=r[1],l=Math.sqrt(Math.pow(d-o,2)+Math.pow(k-c,2));if(F(s)&&F(u)){const f=Math.atan2(X(k-c,8),X(d-o,8));u!==s&&(p=s>u?f>=s&&f<=Math.PI||f<=u&&f>=-Math.PI:f>=s&&f<=X(u,8))}return l<=Math.ceil(r[2]/2)&&p}function e(d){this.polar&&(d.options.inverted&&([d.x,d.y]=[d.y,d.x]),d.isInsidePlot=this.pane.some(r=>T(d.x,d.y,r.center,r.axis&&r.axis.normalizedStartAngleRad,r.axis&&r.axis.normalizedEndAngleRad)))}function w(d){const k=this.chart;d.hoverPoint&&d.hoverPoint.plotX&&d.hoverPoint.plotY&&k.hoverPane&&!T(d.hoverPoint.plotX,d.hoverPoint.plotY,k.hoverPane.center)&&(d.hoverPoint=void 0)}function A(d){const k=this.chart;k.polar?(k.hoverPane=k.getHoverPane(d),d.filter=function(r){return r.visible&&!(!d.shared&&r.directTouch)&&U(r.options.enableMouseTracking,!0)&&(!k.hoverPane||r.xAxis.pane===k.hoverPane)}):k.hoverPane=void 0}return{compose:function I(d,k){const r=d.prototype;r.getHoverPane||(r.collectionsWithUpdate.push("pane"),r.getHoverPane=R,G(d,"afterIsInsidePlot",e),G(k,"afterGetHoverData",w),G(k,"beforeGetHoverData",A))}}}),$(v,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),$(v,"Extensions/Pane/Pane.js",[v["Series/CenteredUtilities.js"],v["Extensions/Pane/PaneComposition.js"],v["Extensions/Pane/PaneDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{extend:U,merge:R,splat:I}=F;class T{constructor(w,A){this.coll="pane",this.init(w,A)}init(w,A){this.chart=A,this.background=[],A.pane.push(this),this.setOptions(w)}setOptions(w){this.options=w=R(X.pane,this.chart.angular?{background:{}}:void 0,w)}render(){const w=this.options;this.group||(this.group=this.chart.renderer.g("pane-group").attr({zIndex:w.zIndex||0}).add()),this.updateCenter();let x=this.options.background;if(x){x=I(x);const d=Math.max(x.length,this.background.length||0);for(let k=0;k<d;k++)x[k]&&this.axis?this.renderBackground(R(X.background,x[k]),k):this.background[k]&&(this.background[k]=this.background[k].destroy(),this.background.splice(k,1))}}renderBackground(w,A){const x={class:"highcharts-pane "+(w.className||"")};let d="animate";this.chart.styledMode||U(x,{fill:w.backgroundColor,stroke:w.borderColor,"stroke-width":w.borderWidth}),this.background[A]||(this.background[A]=this.chart.renderer.path().add(this.group),d="attr"),this.background[A][d]({d:this.axis.getPlotBandPath(w.from,w.to,w)}).attr(x)}updateCenter(w){this.center=(w||this.axis||{}).center=j.getCenter.call(this)}update(w,A){R(!0,this.options,w),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(x){x.pane===this&&(x.pane=null,x.update({},A))},this)}}return T.compose=G.compose,T}),$(v,"Series/AreaRange/AreaRangePoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G){const{area:{prototype:{pointClass:X,pointClass:{prototype:F}}}}=j.seriesTypes,{defined:U,isNumber:R}=G;return class I extends X{setState(){const e=this.state,w=this.series,A=w.chart.polar;U(this.plotHigh)||(this.plotHigh=w.yAxis.toPixels(this.high,!0)),U(this.plotLow)||(this.plotLow=this.plotY=w.yAxis.toPixels(this.low,!0)),w.lowerStateMarkerGraphic=w.stateMarkerGraphic,w.stateMarkerGraphic=w.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,A&&R(this.plotHighX)&&(this.plotX=this.plotHighX),F.setState.apply(this,arguments),this.state=e,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],A&&R(this.plotLowX)&&(this.plotX=this.plotLowX),w.upperStateMarkerGraphic=w.stateMarkerGraphic,w.stateMarkerGraphic=w.lowerStateMarkerGraphic,w.lowerStateMarkerGraphic=void 0;const x=w.modifyMarkerSettings();F.setState.apply(this,arguments),w.restoreMarkerSettings(x)}haloPath(){const e=this.series.chart.polar;let w=[];return this.plotY=this.plotLow,e&&R(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(w=F.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,e&&R(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(w=w.concat(F.haloPath.apply(this,arguments))),w}isValid(){return R(this.low)&&R(this.high)}}}),$(v,"Series/AreaRange/AreaRangeSeries.js",[v["Series/AreaRange/AreaRangePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{noop:U}=G,{area:R,area:{prototype:I},column:{prototype:T}}=X.seriesTypes,{addEvent:e,defined:w,extend:A,isArray:x,isNumber:d,pick:k,merge:r}=F;class u extends R{toYData(o){return[o.low,o.high]}highToXY(o){const c=this.chart,l=this.xAxis.postTranslate(o.rectPlotX||0,this.yAxis.len-(o.plotHigh||0));o.plotHighX=l.x-c.plotLeft,o.plotHigh=l.y-c.plotTop,o.plotLowX=o.plotX}getGraphPath(o){const c=[],l=[],f=I.getGraphPath,m=this.options,M=this.chart.polar,y=M&&!1!==m.connectEnds,C=m.connectNulls;let h,a,t,i=m.step;for(h=(o=o||this.points).length;h--;){a=o[h];const E=M?{plotX:a.rectPlotX,plotY:a.yBottom,doCurve:!1}:{plotX:a.plotX,plotY:a.plotY,doCurve:!1};!a.isNull&&!y&&!C&&(!o[h+1]||o[h+1].isNull)&&l.push(E),t={polarPlotY:a.polarPlotY,rectPlotX:a.rectPlotX,yBottom:a.yBottom,plotX:k(a.plotHighX,a.plotX),plotY:a.plotHigh,isNull:a.isNull},l.push(t),c.push(t),!a.isNull&&!y&&!C&&(!o[h-1]||o[h-1].isNull)&&l.push(E)}const n=f.call(this,o);i&&(!0===i&&(i="left"),m.step={left:"right",center:"center",right:"left"}[i]);const b=f.call(this,c),g=f.call(this,l);m.step=i;const P=[].concat(n,b);return!this.chart.polar&&g[0]&&"M"===g[0][0]&&(g[0]=["L",g[0][1],g[0][2]]),this.graphPath=P,this.areaPath=n.concat(g),P.isArea=!0,P.xMap=n.xMap,this.areaPath.xMap=n.xMap,P}drawDataLabels(){const o=this.points,c=o.length,l=[],f=this.options.dataLabels,m=this.chart.inverted;let M,y,C,h,a;if(f){if(x(f)?(h=f[0]||{enabled:!1},a=f[1]||{enabled:!1}):(h=A({},f),h.x=f.xHigh,h.y=f.yHigh,a=A({},f),a.x=f.xLow,a.y=f.yLow),h.enabled||this.hasDataLabels?.()){for(M=c;M--;)if(y=o[M],y){const{plotHigh:t=0,plotLow:i=0}=y;C=h.inside?t<i:t>i,y.y=y.high,y._plotY=y.plotY,y.plotY=t,l[M]=y.dataLabel,y.dataLabel=y.dataLabelUpper,y.below=C,m?h.align||(h.align=C?"right":"left"):h.verticalAlign||(h.verticalAlign=C?"top":"bottom")}for(this.options.dataLabels=h,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments),M=c;M--;)y=o[M],y&&(y.dataLabelUpper=y.dataLabel,y.dataLabel=l[M],delete y.dataLabels,y.y=y.low,y.plotY=y._plotY)}if(a.enabled||this.hasDataLabels?.()){for(M=c;M--;)if(y=o[M],y){const{plotHigh:t=0,plotLow:i=0}=y;C=a.inside?t<i:t>i,y.below=!C,m?a.align||(a.align=C?"left":"right"):a.verticalAlign||(a.verticalAlign=C?"bottom":"top")}this.options.dataLabels=a,I.drawDataLabels&&I.drawDataLabels.apply(this,arguments)}if(h.enabled)for(M=c;M--;)y=o[M],y&&(y.dataLabels=[y.dataLabelUpper,y.dataLabel].filter(function(t){return!!t}));this.options.dataLabels=f}}alignDataLabel(){T.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){const o=this,c={marker:o.options.marker,symbol:o.symbol};if(o.options.lowMarker){const{options:{marker:l,lowMarker:f}}=o;o.options.marker=r(l,f),f.symbol&&(o.symbol=f.symbol)}return c}restoreMarkerSettings(o){this.options.marker=o.marker,this.symbol=o.symbol}drawPoints(){const o=this,c=o.points.length;let l,f;const m=o.modifyMarkerSettings();for(I.drawPoints.apply(o,arguments),o.restoreMarkerSettings(m),l=0;l<c;)f=o.points[l],f.graphics=f.graphics||[],f.origProps={plotY:f.plotY,plotX:f.plotX,isInside:f.isInside,negative:f.negative,zone:f.zone,y:f.y},(f.graphic||f.graphics[0])&&(f.graphics[0]=f.graphic),f.graphic=f.graphics[1],f.plotY=f.plotHigh,w(f.plotHighX)&&(f.plotX=f.plotHighX),f.y=k(f.high,f.origProps.y),f.negative=f.y<(o.options.threshold||0),o.zones.length&&(f.zone=f.getZone()),o.chart.polar||(f.isInside=f.isTopInside=typeof f.plotY<"u"&&f.plotY>=0&&f.plotY<=o.yAxis.len&&f.plotX>=0&&f.plotX<=o.xAxis.len),l++;for(I.drawPoints.apply(o,arguments),l=0;l<c;)f=o.points[l],f.graphics=f.graphics||[],(f.graphic||f.graphics[1])&&(f.graphics[1]=f.graphic),f.graphic=f.graphics[0],f.origProps&&(A(f,f.origProps),delete f.origProps),l++}hasMarkerChanged(o,c){const l=o.lowMarker,f=c.lowMarker||{};return l&&(!1===l.enabled||f.symbol!==l.symbol||f.height!==l.height||f.width!==l.width)||super.hasMarkerChanged(o,c)}}return u.defaultOptions=r(R.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),e(u,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(p=>{const o=p.high,c=p.plotY;p.isNull?p.plotY=void 0:(p.plotLow=c,p.plotHigh=d(o)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(o):o,!1,!0,void 0,!0):void 0,this.dataModify&&(p.yBottom=p.plotHigh))})},{order:0}),e(u,"afterTranslate",function(){this.points.forEach(p=>{if(this.chart.polar)this.highToXY(p),p.plotLow=p.plotY,p.tooltipPos=[((p.plotHighX||0)+(p.plotLowX||0))/2,((p.plotHigh||0)+(p.plotLow||0))/2];else{const o=p.pos(!1,p.plotLow),c=p.pos(!1,p.plotHigh);o&&c&&(o[0]=(o[0]+c[0])/2,o[1]=(o[1]+c[1])/2),p.tooltipPos=o}})},{order:3}),A(u.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:j,pointValKey:"low",setStackedPoints:U}),X.registerSeriesType("arearange",u),u}),$(v,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[v["Series/AreaRange/AreaRangeSeries.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X){const{spline:{prototype:F}}=G.seriesTypes,{merge:U,extend:R}=X;class I extends j{}return I.defaultOptions=U(j.defaultOptions),R(I.prototype,{getPointSpline:F.getPointSpline}),G.registerSeriesType("areasplinerange",I),I}),$(v,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),$(v,"Series/BoxPlot/BoxPlotSeries.js",[v["Series/BoxPlot/BoxPlotSeriesDefaults.js"],v["Series/Column/ColumnSeries.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{noop:R}=X,{crisp:I,extend:T,merge:e,pick:w}=U;class A extends G{pointAttribs(){return{}}translate(){const d=this,k=d.yAxis,r=d.pointArrayMap;super.translate.apply(d),d.points.forEach(function(s){r.forEach(function(u){null!==s[u]&&(s[u+"Plot"]=k.translate(s[u],0,1,0,1))}),s.plotHigh=s.highPlot})}drawPoints(){const d=this,k=d.points,r=d.options,s=d.chart,u=s.renderer,p=!1!==d.doQuartiles,o=d.options.whiskerLength;let c,l,f,m,M,h,a,t,i,n,b;for(const g of k){h=g.graphic;const P=h?"animate":"attr",E=g.shapeArgs,D={},O={},S={},L={},B=g.color||d.color;if(typeof g.plotY<"u"){let _;a=E.width,t=E.x,i=t+a,n=a/2,c=p?g.q1Plot:g.lowPlot,l=p?g.q3Plot:g.lowPlot,f=g.highPlot,m=g.lowPlot,h||(g.graphic=h=u.g("point").add(d.group),g.stem=u.path().addClass("highcharts-boxplot-stem").add(h),o&&(g.whiskers=u.path().addClass("highcharts-boxplot-whisker").add(h)),p&&(g.box=u.path(void 0).addClass("highcharts-boxplot-box").add(h)),g.medianShape=u.path(void 0).addClass("highcharts-boxplot-median").add(h)),s.styledMode||(O.stroke=g.stemColor||r.stemColor||B,O["stroke-width"]=w(g.stemWidth,r.stemWidth,r.lineWidth),O.dashstyle=g.stemDashStyle||r.stemDashStyle||r.dashStyle,g.stem.attr(O),o&&(S.stroke=g.whiskerColor||r.whiskerColor||B,S["stroke-width"]=w(g.whiskerWidth,r.whiskerWidth,r.lineWidth),S.dashstyle=g.whiskerDashStyle||r.whiskerDashStyle||r.dashStyle,g.whiskers.attr(S)),p&&(D.fill=g.fillColor||r.fillColor||B,D.stroke=r.lineColor||B,D["stroke-width"]=r.lineWidth||0,D.dashstyle=g.boxDashStyle||r.boxDashStyle||r.dashStyle,g.box.attr(D)),L.stroke=g.medianColor||r.medianColor||B,L["stroke-width"]=w(g.medianWidth,r.medianWidth,r.lineWidth),L.dashstyle=g.medianDashStyle||r.medianDashStyle||r.dashStyle,g.medianShape.attr(L));const Y=I(g.plotX||0,g.stem.strokeWidth());if(_=[["M",Y,l],["L",Y,f],["M",Y,c],["L",Y,m]],g.stem[P]({d:_}),p){const z=g.box.strokeWidth();c=I(c,z),l=I(l,z),t=I(t,z),i=I(i,z),_=[["M",t,l],["L",t,c],["L",i,c],["L",i,l],["L",t,l],["Z"]],g.box[P]({d:_})}if(o){const z=g.whiskers.strokeWidth();f=I(g.highPlot,z),m=I(g.lowPlot,z),b="string"==typeof o&&/%$/.test(o)?n*parseFloat(o)/100:Number(o)/2,_=[["M",I(Y-b),f],["L",I(Y+b),f],["M",I(Y-b),m],["L",I(Y+b),m]],g.whiskers[P]({d:_})}M=I(g.medianPlot,g.medianShape.strokeWidth()),_=[["M",t,M],["L",i,M]],g.medianShape[P]({d:_})}}}toYData(d){return[d.low,d.q1,d.median,d.q3,d.high]}}return A.defaultOptions=e(G.defaultOptions,j),T(A.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:R,setStackedPoints:R}),F.registerSeriesType("boxplot",A),A}),$(v,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),$(v,"Series/Bubble/BubbleLegendItem.js",[v["Core/Color/Color.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{parse:U}=j,{noop:R}=X,{arrayMax:I,arrayMin:T,isNumber:e,merge:w,pick:A,stableSort:x}=F;return class d{constructor(r,s){this.setState=R,this.init(r,s)}init(r,s){this.options=r,this.visible=!0,this.chart=s.chart,this.legend=s}addToLegend(r){r.splice(this.options.legendIndex,0,this)}drawLegendSymbol(r){const s=A(r.options.itemDistance,20),u=this.legendItem||{},p=this.options,o=p.ranges,c=p.connectorDistance;let l;if(!o||!o.length||!e(o[0].value))return void(r.options.bubbleLegend.autoRanges=!0);x(o,function(y,C){return C.value-y.value}),this.ranges=o,this.setOptions(),this.render();const f=this.getMaxLabelSize(),m=this.ranges[0].radius,M=2*m;l=c-m+f.width,l=l>0?l:0,this.maxLabel=f,this.movementX="left"===p.labels.align?l:0,u.labelWidth=M+l+s,u.labelHeight=M+f.height/2}setOptions(){const r=this.ranges,s=this.options,u=this.chart.series[s.seriesIndex],p=this.legend.baseline,o={zIndex:s.zIndex,"stroke-width":s.borderWidth},c={zIndex:s.zIndex,"stroke-width":s.connectorWidth},l={align:this.legend.options.rtl||"left"===s.labels.align?"right":"left",zIndex:s.zIndex},f=u.options.marker.fillOpacity,m=this.chart.styledMode;r.forEach(function(M,y){m||(o.stroke=A(M.borderColor,s.borderColor,u.color),o.fill=A(M.color,s.color,1!==f?U(u.color).setOpacity(f).get("rgba"):u.color),c.stroke=A(M.connectorColor,s.connectorColor,u.color)),r[y].radius=this.getRangeRadius(M.value),r[y]=w(r[y],{center:r[0].radius-r[y].radius+p}),m||w(!0,r[y],{bubbleAttribs:w(o),connectorAttribs:w(c),labelAttribs:l})},this)}getRangeRadius(r){const s=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,s.ranges[s.ranges.length-1].value,s.ranges[0].value,s.minSize,s.maxSize,r)}render(){const r=this.legendItem||{},s=this.chart.renderer,u=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),r.symbol=s.g("bubble-legend"),r.label=s.g("bubble-legend-item").css(this.legend.itemStyle||{}),r.symbol.translateX=0,r.symbol.translateY=0,r.symbol.add(r.label),r.label.add(r.group);for(const p of this.ranges)p.value>=u&&this.renderRange(p);this.hideOverlappingLabels()}renderRange(r){const s=this.ranges[0],u=this.legend,p=this.options,o=p.labels,c=this.chart,l=c.series[p.seriesIndex],f=c.renderer,m=this.symbols,M=m.labels,y=r.center,C=Math.abs(r.radius),h=p.connectorDistance||0,a=o.align,n=p.connectorWidth,b=s.radius||0,g=y-C-p.borderWidth/2+n/2,P=(g%1?1:.5)-(n%2?0:.5),E=f.styledMode;let D=u.options.rtl||"left"===a?-h:h;"center"===a&&(D=0,p.connectorDistance=0,r.labelAttribs.align="center"),m.bubbleItems.push(f.circle(b,y+P,C).attr(E?{}:r.bubbleAttribs).addClass((E?"highcharts-color-"+l.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(p.className||"")).add(this.legendItem.symbol)),m.connectors.push(f.path(f.crispLine([["M",b,g],["L",b+D,g]],p.connectorWidth)).attr(E?{}:r.connectorAttribs).addClass((E?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(p.connectorClassName||"")).add(this.legendItem.symbol));const O=f.text(this.formatLabel(r)).attr(E?{}:r.labelAttribs).css(E?{}:o.style).addClass("highcharts-bubble-legend-labels "+(p.labels.className||"")).add(this.legendItem.symbol),S={x:b+D+p.labels.x,y:g+p.labels.y+.4*O.getBBox().height};O.attr(S),M.push(O),O.placed=!0,O.alignAttr=S}getMaxLabelSize(){let s,u;return this.symbols.labels.forEach(function(p){u=p.getBBox(!0),s=s?u.width>s.width?u:s:u}),s||{}}formatLabel(r){const s=this.options,u=s.labels.formatter,p=s.labels.format,{numberFormatter:o}=this.chart;return p?G.format(p,r):u?u.call(r):o(r.value,1)}hideOverlappingLabels(){const u=this.symbols;!this.options.labels.allowOverlap&&u&&(this.chart.hideOverlappingLabels(u.labels),u.labels.forEach(function(p,o){p.newOpacity?p.newOpacity!==p.oldOpacity&&u.connectors[o].show():u.connectors[o].hide()}))}getRanges(){const r=this.legend.bubbleLegend,u=r.options.ranges;let p,o,c=Number.MAX_VALUE,l=-Number.MAX_VALUE;return r.chart.series.forEach(function(f){f.isBubble&&!f.ignoreSeries&&(o=f.zData.filter(e),o.length&&(c=A(f.options.zMin,Math.min(c,Math.max(T(o),!1===f.options.displayNegative?f.options.zThreshold:-Number.MAX_VALUE))),l=A(f.options.zMax,Math.max(l,I(o)))))}),p=c===l?[{value:l}]:[{value:c},{value:(c+l)/2},{value:l,autoRanges:!0}],u.length&&u[0].radius&&p.reverse(),p.forEach(function(f,m){u&&u[m]&&(p[m]=w(u[m],f))}),p}predictBubbleSizes(){const r=this.chart,s=r.legend.options,u=s.floating,p="horizontal"===s.layout,o=p?r.legend.lastLineHeight:0,c=r.plotSizeX,l=r.plotSizeY,f=r.series[this.options.seriesIndex],m=f.getPxExtremes(),M=Math.ceil(m.minPxSize),y=Math.ceil(m.maxPxSize),C=Math.min(l,c);let h,a=f.options.maxSize;return u||!/%$/.test(a)?h=y:(a=parseFloat(a),h=(C+o)*a/100/(a/100+1),(p&&l-h>=c||!p&&c-h>=l)&&(h=y)),[M,Math.ceil(h)]}updateRanges(r,s){const u=this.legend.options.bubbleLegend;u.minSize=r,u.maxSize=s,u.ranges=this.getRanges()}correctSizes(){const r=this.legend,p=this.chart.series[this.options.seriesIndex].getPxExtremes(),c=this.options.maxSize;Math.abs(Math.ceil(p.maxPxSize)-c)>1&&(this.updateRanges(this.options.minSize,p.maxPxSize),r.render())}}}),$(v,"Series/Bubble/BubbleLegendComposition.js",[v["Series/Bubble/BubbleLegendDefaults.js"],v["Series/Bubble/BubbleLegendItem.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{setOptions:R}=X,{composed:I}=F,{addEvent:T,objectEach:e,pushUnique:w,wrap:A}=U;function x(c,l,f){const m=this,M=m.legend,y=k(m)>=0;let C,h,a;M&&M.options.enabled&&M.bubbleLegend&&M.options.bubbleLegend.autoRanges&&y?(C=M.bubbleLegend.options,h=M.bubbleLegend.predictBubbleSizes(),M.bubbleLegend.updateRanges(h[0],h[1]),C.placed||(M.group.placed=!1,M.allItems.forEach(t=>{a=t.legendItem||{},a.group&&(a.group.translateY=void 0)})),M.render(),C.placed||(m.getMargins(),m.axes.forEach(function(t){t.visible&&t.render(),C.placed||(t.setScale(),t.updateNames(),e(t.ticks,function(i){i.isNew=!0,i.isNewLabel=!0}))}),m.getMargins()),C.placed=!0,c.call(m,l,f),M.bubbleLegend.correctSizes(),p(M,r(M))):(c.call(m,l,f),M&&M.options.enabled&&M.bubbleLegend&&(M.render(),p(M,r(M))))}function k(c){const l=c.series;let f=0;for(;f<l.length;){if(l[f]&&l[f].isBubble&&l[f].visible&&l[f].zData.length)return f;f++}return-1}function r(c){const l=c.allItems,f=[],m=l.length;let M,y,C,h=0,a=0;for(h=0;h<m;h++)if(y=l[h].legendItem||{},C=(l[h+1]||{}).legendItem||{},y.labelHeight&&(l[h].itemHeight=y.labelHeight),l[h]===l[m-1]||y.y!==C.y){for(f.push({height:0}),M=f[f.length-1];a<=h;a++)l[a].itemHeight>M.height&&(M.height=l[a].itemHeight);M.step=h}return f}function s(c){const l=this,f=l.bubbleLegend,m=l.options,M=m.bubbleLegend,y=k(l.chart);f&&f.ranges&&f.ranges.length&&(M.ranges.length&&(M.autoRanges=!!M.ranges[0].autoRanges),l.destroyItem(f)),y>=0&&m.enabled&&M.enabled&&(M.seriesIndex=y,l.bubbleLegend=new G(M,l),l.bubbleLegend.addToLegend(c.allItems))}function u(c){if(c.defaultPrevented)return!1;const l=this,f=l.chart,m=l.visible,M=l.chart.legend;let y;M&&M.bubbleLegend&&(l.visible=!m,l.ignoreSeries=m,y=k(f)>=0,M.bubbleLegend.visible!==y&&(M.update({bubbleLegend:{enabled:y}}),M.bubbleLegend.visible=y),l.visible=m)}function p(c,l){const m=c.options.rtl;let M,y,C,h,a=0;c.allItems.forEach((t,i)=>{h=t.legendItem||{},h.group&&(M=h.group.translateX||0,y=h.y||0,C=t.movementX,(C||m&&t.ranges)&&(C=m?M-t.options.maxSize/2:M+C,h.group.attr({translateX:C})),i>l[a].step&&a++,h.group.attr({translateY:Math.round(y+l[a].height/2)}),h.y=y+l[a].height/2)})}return{compose:function d(c,l,f){w(I,"Series.BubbleLegend")&&(R({legend:{bubbleLegend:j}}),A(c.prototype,"drawChartBox",x),T(l,"afterGetAllItems",s),T(f,"legendItemClick",u))}}}),$(v,"Series/Bubble/BubblePoint.js",[v["Core/Series/Point.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X){const{seriesTypes:{scatter:{prototype:{pointClass:F}}}}=G,{extend:U}=X;class R extends F{haloPath(T){return j.prototype.haloPath.call(this,0===T?0:(this.marker&&this.marker.radius||0)+T)}}return U(R.prototype,{ttBelow:!1}),R}),$(v,"Series/Bubble/BubbleSeries.js",[v["Series/Bubble/BubbleLegendComposition.js"],v["Series/Bubble/BubblePoint.js"],v["Core/Color/Color.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{parse:I}=X,{composed:T,noop:e}=F,{series:w,seriesTypes:{column:{prototype:A},scatter:x}}=U,{addEvent:d,arrayMax:k,arrayMin:r,clamp:s,extend:u,isNumber:p,merge:o,pick:c,pushUnique:l}=R;function f(){const M=this.len,{coll:y,isXAxis:C,min:h}=this,a=C?"xData":"yData",t=(this.max||0)-(h||0);let g,i=0,n=M,b=M/t;"xAxis"!==y&&"yAxis"!==y||(this.series.forEach(P=>{if(P.bubblePadding&&P.reserveSpace()){this.allowZoomOutside=!0,g=!0;const E=P[a];if(C&&((P.onPoint||P).getRadii(0,0,P),P.onPoint&&(P.radii=P.onPoint.radii)),t>0){let D=E.length;for(;D--;)if(p(E[D])&&this.dataMin<=E[D]&&E[D]<=this.max){const O=P.radii&&P.radii[D]||0;i=Math.min((E[D]-h)*b-O,i),n=Math.max((E[D]-h)*b+O,n)}}}}),g&&t>0&&!this.logarithmic&&(n-=M,b*=(M+Math.max(0,i)-Math.min(n,M))/M,[["min","userMin",i],["max","userMax",n]].forEach(P=>{typeof c(this.options[P[0]],this[P[1]])>"u"&&(this[P[0]]+=P[2]/b)})))}class m extends x{static compose(y,C,h,a){j.compose(C,h,a),l(T,"Series.Bubble")&&d(y,"foundExtremes",f)}animate(y){!y&&this.points.length<this.options.animationLimit&&this.points.forEach(function(C){const{graphic:h,plotX:a=0,plotY:t=0}=C;h&&h.width&&(this.hasRendered||h.attr({x:a,y:t,width:1,height:1}),h.animate(this.markerAttribs(C),this.options.animation))},this)}getRadii(){const y=this.zData,C=this.yData,h=[];let a,t,i,n=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:g}=this.getPxExtremes();if(!n){let D,P=Number.MAX_VALUE,E=-Number.MAX_VALUE;this.chart.series.forEach(O=>{if(O.bubblePadding&&O.reserveSpace()){const S=(O.onPoint||O).getZExtremes();S&&(P=Math.min(c(P,S.zMin),S.zMin),E=Math.max(c(E,S.zMax),S.zMax),D=!0)}}),D?(n={zMin:P,zMax:E},this.chart.bubbleZExtremes=n):n={zMin:0,zMax:0}}for(t=0,a=y.length;t<a;t++)i=y[t],h.push(this.getRadius(n.zMin,n.zMax,b,g,i,C&&C[t]));this.radii=h}getRadius(y,C,h,a,t,i){const n=this.options,b="width"!==n.sizeBy,g=n.zThreshold;let P=C-y,E=.5;if(null===i||null===t)return null;if(p(t)){if(n.sizeByAbsoluteValue&&(t=Math.abs(t-g),C=P=Math.max(C-g,Math.abs(y-g)),y=0),t<y)return h/2-1;P>0&&(E=(t-y)/P)}return b&&E>=0&&(E=Math.sqrt(E)),Math.ceil(h+E*(a-h))/2}hasData(){return!!this.processedXData.length}markerAttribs(y,C){const h=super.markerAttribs(y,C),{height:a=0,width:t=0}=h;return this.chart.inverted?u(h,{x:(y.plotX||0)-t/2,y:(y.plotY||0)-a/2}):h}pointAttribs(y,C){const a=this.options.marker.fillOpacity,t=w.prototype.pointAttribs.call(this,y,C);return 1!==a&&(t.fill=I(t.fill).setOpacity(a).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:y,options:C,radii:h}=this,{minPxSize:a}=this.getPxExtremes();let t=y.length;for(;t--;){const i=y[t],n=h?h[t]:0;"z"===this.zoneAxis&&(i.negative=(i.z||0)<(C.zThreshold||0)),p(n)&&n>=a/2?(i.marker=u(i.marker,{radius:n,width:2*n,height:2*n}),i.dlBox={x:i.plotX-n,y:i.plotY-n,width:2*n,height:2*n}):(i.shapeArgs=i.plotY=i.dlBox=void 0,i.isInside=!1)}}getPxExtremes(){const y=Math.min(this.chart.plotWidth,this.chart.plotHeight),C=t=>{let i;return"string"==typeof t&&(i=/%$/.test(t),t=parseInt(t,10)),i?y*t/100:t},h=C(c(this.options.minSize,8));return{minPxSize:h,maxPxSize:Math.max(C(c(this.options.maxSize,"20%")),h)}}getZExtremes(){const y=this.options,C=(this.zData||[]).filter(p);if(C.length){const h=c(y.zMin,s(r(C),!1===y.displayNegative?y.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),a=c(y.zMax,k(C));if(p(h)&&p(a))return{zMin:h,zMax:a}}}}return m.defaultOptions=o(x.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:M}=this.series.chart,{z:y}=this.point;return p(y)?M(y,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),u(m.prototype,{alignDataLabel:A.alignDataLabel,applyZones:e,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:G,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(m,"updatedData",M=>{delete M.target.chart.bubbleZExtremes}),d(m,"remove",M=>{delete M.target.chart.bubbleZExtremes}),U.registerSeriesType("bubble",m),m}),$(v,"Series/ColumnRange/ColumnRangePoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G){const{seriesTypes:{column:{prototype:{pointClass:{prototype:X}}},arearange:{prototype:{pointClass:F}}}}=j,{extend:U,isNumber:R}=G;class I extends F{isValid(){return R(this.low)}}return U(I.prototype,{setState:X.setState}),I}),$(v,"Series/ColumnRange/ColumnRangeSeries.js",[v["Series/ColumnRange/ColumnRangePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{noop:U}=G,{seriesTypes:{arearange:R,column:I,column:{prototype:T}}}=X,{addEvent:e,clamp:w,extend:A,isNumber:x,merge:d,pick:k}=F;class s extends R{setOptions(){return d(!0,arguments[0],{stacking:void 0}),R.prototype.setOptions.apply(this,arguments)}translate(){return T.translate.apply(this)}pointAttribs(){return T.pointAttribs.apply(this,arguments)}translate3dPoints(){return T.translate3dPoints.apply(this,arguments)}translate3dShapes(){return T.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){const p=this.yAxis,o=this.xAxis,c=o.startAngleRad,l=this.chart,f=this.xAxis.isRadial,m=Math.max(l.chartWidth,l.chartHeight)+999;let M,y,C,h;function a(t){return w(t,-m,m)}this.points.forEach(t=>{const i=t.shapeArgs||{},n=this.options.minPointLength,b=t.plotY,g=p.translate(t.high,0,1,0,1);if(x(g)&&x(b))if(t.plotHigh=a(g),t.plotLow=a(b),h=t.plotHigh,M=k(t.rectPlotY,t.plotY)-t.plotHigh,Math.abs(M)<n?(y=n-M,M+=y,h-=y/2):M<0&&(M*=-1,h-=M),f&&this.polar)C=t.barX+c,t.shapeType="arc",t.shapeArgs=this.polar.arc(h+M,h,C,C+t.pointWidth);else{i.height=M,i.y=h;const{x:P=0,width:E=0}=i;t.shapeArgs=d(t.shapeArgs,this.crispCol(P,h,E,M)),t.tooltipPos=l.inverted?[p.len+p.pos-l.plotLeft-h-M/2,o.len+o.pos-l.plotTop-P-E/2,M]:[o.left-l.plotLeft+P+E/2,p.pos-l.plotTop+h+M/2,M]}})}}return s.defaultOptions=d(I.defaultOptions,R.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),e(s,"afterColumnTranslate",function(){s.prototype.afterColumnTranslate.apply(this)},{order:5}),A(s.prototype,{directTouch:!0,pointClass:j,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:T.adjustForMissingColumns,animate:T.animate,crispCol:T.crispCol,drawGraph:U,drawPoints:T.drawPoints,getSymbol:U,drawTracker:T.drawTracker,getColumnMetrics:T.getColumnMetrics}),X.registerSeriesType("columnrange",s),s}),$(v,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),$(v,"Series/ColumnPyramid/ColumnPyramidSeries.js",[v["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X){const{column:F}=G.seriesTypes,{clamp:U,merge:R,pick:I}=X;class T extends F{translate(){const w=this,A=w.chart,x=w.options,d=w.dense=w.closestPointRange*w.xAxis.transA<2,k=w.borderWidth=I(x.borderWidth,d?0:1),r=w.yAxis,s=x.threshold,u=I(x.minPointLength,5),p=w.getColumnMetrics(),o=p.width,c=w.pointXOffset=p.offset;let l=w.translatedThreshold=r.getThreshold(s),f=w.barW=Math.max(o,1+2*k);A.inverted&&(l-=.5),x.pointPadding&&(f=Math.ceil(f)),super.translate();for(const m of w.points){const M=I(m.yBottom,l),y=999+Math.abs(M),C=U(m.plotY,-y,r.len+y),h=f/2,a=Math.min(C,M),t=Math.max(C,M)-a;let n,b,g,P,E,D,O,S,L,B,_,i=m.plotX+c;x.centerInCategory&&(i=w.adjustForMissingColumns(i,o,m,p)),m.barX=i,m.pointWidth=o,m.tooltipPos=A.inverted?[r.len+r.pos-A.plotLeft-C,w.xAxis.len-i-h,t]:[i+h,C+r.pos-A.plotTop,t],n=s+(m.total||m.y),"percent"===x.stacking&&(n=s+(m.y<0)?-100:100);const Y=r.toPixels(n,!0);b=A.plotHeight-Y-(A.plotHeight-l),g=b?h*(a-Y)/b:0,P=b?h*(a+t-Y)/b:0,D=i-g+h,O=i+g+h,S=i+P+h,L=i-P+h,B=a-u,_=a+t,m.y<0&&(B=a,_=a+t+u),A.inverted&&(E=r.width-a,b=Y-(r.width-l),g=h*(Y-E)/b,P=h*(Y-(E-t))/b,D=i+h+g,O=D-2*g,S=i-P+h,L=i+P+h,B=a,_=a+t-u,m.y<0&&(_=a+t+u)),m.shapeType="path",m.shapeArgs={x:D,y:B,width:O-D,height:t,d:[["M",D,B],["L",O,B],["L",S,_],["L",L,_],["Z"]]}}}}return T.defaultOptions=R(F.defaultOptions,j),G.registerSeriesType("columnpyramid",T),T}),$(v,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),$(v,"Series/ErrorBar/ErrorBarSeries.js",[v["Series/BoxPlot/BoxPlotSeries.js"],v["Series/Column/ColumnSeries.js"],v["Series/ErrorBar/ErrorBarSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{arearange:R}=F.seriesTypes,{addEvent:I,merge:T,extend:e}=U;class w extends j{getColumnMetrics(){const x=this;return x.linkedParent&&x.linkedParent.columnMetrics||G.prototype.getColumnMetrics.call(x)}drawDataLabels(){const x=this,d=x.pointValKey;if(R){R.prototype.drawDataLabels.call(x);for(const k of x.points)k.y=k[d]}}toYData(x){return[x.low,x.high]}}return w.defaultOptions=T(j.defaultOptions,X),I(w,"afterTranslate",function(){for(const A of this.points)A.plotLow=A.plotY},{order:0}),e(w.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),F.registerSeriesType("errorbar",w),w}),$(v,"Series/Gauge/GaugePoint.js",[v["Core/Series/SeriesRegistry.js"]],function(j){const{series:{prototype:{pointClass:G}}}=j;return class X extends G{setState(U){this.state=U}}}),$(v,"Series/Gauge/GaugeSeries.js",[v["Series/Gauge/GaugePoint.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{noop:U}=G,{series:R,seriesTypes:{column:I}}=X,{clamp:T,isNumber:e,extend:w,merge:A,pick:x,pInt:d,defined:k}=F;class r extends R{translate(){const u=this,p=u.yAxis,o=u.options,c=p.center;u.generatePoints(),u.points.forEach(l=>{const f=A(o.dial,l.dial),m=d(f.radius)*c[2]/200,M=d(f.baseLength)*m/100,y=d(f.rearLength)*m/100,C=f.baseWidth,h=f.topWidth;let a=o.overshoot,t=p.startAngleRad+p.translate(l.y,void 0,void 0,void 0,!0);(e(a)||!1===o.wrap)&&(a=e(a)?a/180*Math.PI:0,t=T(t,p.startAngleRad-a,p.endAngleRad+a)),t=180*t/Math.PI,l.shapeType="path",l.shapeArgs={d:f.path||[["M",-y,-C/2],["L",M,-C/2],["L",m,-h/2],["L",m,h/2],["L",M,C/2],["L",-y,C/2],["Z"]],translateX:c[0],translateY:c[1],rotation:t},l.plotX=c[0],l.plotY=c[1],k(l.y)&&p.max-p.min&&(l.percentage=(l.y-p.min)/(p.max-p.min)*100)})}drawPoints(){const u=this,p=u.chart,o=u.yAxis.center,c=u.pivot,l=u.options,f=l.pivot,m=p.renderer;u.points.forEach(M=>{const y=M.graphic,C=M.shapeArgs,h=C.d,a=A(l.dial,M.dial);y?(y.animate(C),C.d=h):M.graphic=m[M.shapeType](C).addClass("highcharts-dial").add(u.group),p.styledMode||M.graphic[y?"animate":"attr"]({stroke:a.borderColor,"stroke-width":a.borderWidth,fill:a.backgroundColor})}),c?c.animate({translateX:o[0],translateY:o[1]}):f&&(u.pivot=m.circle(0,0,f.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(o[0],o[1]).add(u.group),p.styledMode||u.pivot.attr({fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth}))}animate(u){const p=this;u||p.points.forEach(o=>{const c=o.graphic;c&&(c.attr({rotation:180*p.yAxis.startAngleRad/Math.PI}),c.animate({rotation:o.shapeArgs.rotation},p.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),R.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(u,p){R.prototype.setData.call(this,u,!1),this.processData(),this.generatePoints(),x(p,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return r.defaultOptions=A(R.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),w(r.prototype,{angular:!0,directTouch:!0,drawGraph:U,drawTracker:I.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:j,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("gauge",r),r}),$(v,"Series/DragNodesComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{composed:X}=j,{addEvent:F,pushUnique:U}=G;function I(){const d=this;let k,r,s;d.container&&(k=F(d.container,"mousedown",u=>{const p=d.hoverPoint;p&&p.series&&p.series.hasDraggableNodes&&p.series.options.draggable&&(p.series.onMouseDown(p,u),r=F(d.container,"mousemove",o=>p&&p.series&&p.series.onMouseMove(p,o)),s=F(d.container.ownerDocument,"mouseup",o=>(r(),s(),p&&p.series&&p.series.onMouseUp(p,o))))})),F(d,"destroy",function(){k()})}return{compose:function R(d){U(X,"DragNodes")&&F(d,"load",I)},onMouseDown:function T(d,k){const r=this.chart.pointer?.normalize(k)||k;d.fixedPosition={chartX:r.chartX,chartY:r.chartY,plotX:d.plotX,plotY:d.plotY},d.inDragMode=!0},onMouseMove:function e(d,k){if(d.fixedPosition&&d.inDragMode){const s=this.chart,u=s.pointer?.normalize(k)||k,p=d.fixedPosition.chartX-u.chartX,o=d.fixedPosition.chartY-u.chartY,c=s.graphLayoutsLookup;let l,f;(Math.abs(p)>5||Math.abs(o)>5)&&(l=d.fixedPosition.plotX-p,f=d.fixedPosition.plotY-o,s.isInsidePlot(l,f)&&(d.plotX=l,d.plotY=f,d.hasDragged=!0,this.redrawHalo(d),c.forEach(m=>{m.restartSimulation()})))}},onMouseUp:function w(d){d.fixedPosition&&(d.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),d.inDragMode=d.hasDragged=!1,this.options.fixedDraggable||delete d.fixedPosition)},redrawHalo:function A(d){d&&this.halo&&this.halo.attr({d:d.haloPath(this.options.states.hover.halo.size)})}}}),$(v,"Series/GraphLayoutComposition.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X){const{setAnimation:F}=j,{composed:U}=G,{addEvent:R,pushUnique:I}=X;function A(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation()}),this.redraw())}function x(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(s=>{s.updateSimulation(!1)}),this.redraw())}function d(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(s=>{s.stop()})}function k(){let s,u=!1;const p=o=>{o.maxIterations--&&isFinite(o.temperature)&&!o.isStable()&&!o.enableSimulation&&(o.beforeStep&&o.beforeStep(),o.step(),s=!1,u=!0)};if(this.graphLayoutsLookup){for(F(!1,this),this.graphLayoutsLookup.forEach(o=>o.start());!s;)s=!0,this.graphLayoutsLookup.forEach(p);u&&this.series.forEach(o=>{o&&o.layout&&o.render()})}}return{compose:function w(s){I(U,"GraphLayout")&&(R(s,"afterPrint",A),R(s,"beforePrint",x),R(s,"predraw",d),R(s,"render",k))},integrations:{},layouts:{}}}),$(v,"Series/PackedBubble/PackedBubblePoint.js",[v["Core/Chart/Chart.js"],v["Core/Series/Point.js"],v["Core/Series/SeriesRegistry.js"]],function(j,G,X){const{seriesTypes:{bubble:{prototype:{pointClass:F}}}}=X;return class U extends F{destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),G.prototype.destroy.apply(this,arguments)}firePointEvent(){const T=this.series.options;if(this.isParentNode&&T.parentNode){const e=T.allowPointSelect;T.allowPointSelect=T.parentNode.allowPointSelect,G.prototype.firePointEvent.apply(this,arguments),T.allowPointSelect=e}else G.prototype.firePointEvent.apply(this,arguments)}select(){const e=this.series.chart;this.isParentNode?(e.getSelectedPoints=e.getSelectedParentNodes,G.prototype.select.apply(this,arguments),e.getSelectedPoints=j.prototype.getSelectedPoints):G.prototype.select.apply(this,arguments)}}}),$(v,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[v["Core/Utilities.js"]],function(j){const{isNumber:G}=j;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:F}=this.series.chart,{value:U}=this.point;return G(U)?F(U,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),$(v,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function j(e,w,A){const x=e.getMass(),d=-A.x*w*this.diffTemperature,k=-A.y*w*this.diffTemperature;e.fromNode.fixedPosition||(e.fromNode.plotX-=d*x.fromNode/e.fromNode.degree,e.fromNode.plotY-=k*x.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.plotX+=d*x.toNode/e.toNode.degree,e.toNode.plotY+=k*x.toNode/e.toNode.degree)},attractiveForceFunction:function G(e,w){return(w-e)/e},barycenter:function X(){const e=this.options.gravitationalConstant||0,w=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*e,A=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*e;this.nodes.forEach(function(x){x.fixedPosition||(x.plotX-=w/x.mass/x.degree,x.plotY-=A/x.mass/x.degree)})},getK:function F(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.5)},integrate:function U(e,w){const A=-e.options.friction,x=e.options.maxSpeed,r=(w.plotX+w.dispX-w.prevX)*A,s=(w.plotY+w.dispY-w.prevY)*A,u=Math.abs,p=u(r)/(r||1),o=u(s)/(s||1),c=p*Math.min(x,Math.abs(r)),l=o*Math.min(x,Math.abs(s));w.prevX=w.plotX+w.dispX,w.prevY=w.plotY+w.dispY,w.plotX+=c,w.plotY+=l,w.temperature=e.vectorLength({x:c,y:l})},repulsive:function R(e,w,A){const x=w*this.diffTemperature/e.mass/e.degree;e.fixedPosition||(e.plotX+=A.x*x,e.plotY+=A.y*x)},repulsiveForceFunction:function I(e,w){return(w-e)/e*(w>e?1:0)}}}),$(v,"Series/PackedBubble/PackedBubbleIntegration.js",[v["Core/Globals.js"],v["Series/Networkgraph/VerletIntegration.js"]],function(j,G){const{noop:X}=j;return{barycenter:function F(){const T=this,e=T.options.gravitationalConstant,w=T.box,A=T.nodes;let x,d;for(const k of A)T.options.splitSeries&&!k.isParentNode?(x=k.series.parentNode.plotX,d=k.series.parentNode.plotY):(x=w.width/2,d=w.height/2),k.fixedPosition||(k.plotX-=(k.plotX-x)*e/(k.mass*Math.sqrt(A.length)),k.plotY-=(k.plotY-d)*e/(k.mass*Math.sqrt(A.length)))},getK:X,integrate:G.integrate,repulsive:function U(T,e,w,A){const x=e*this.diffTemperature/T.mass/T.degree,d=w.x*x,k=w.y*x;T.fixedPosition||(T.plotX+=d,T.plotY+=k),A.fixedPosition||(A.plotX-=d,A.plotY-=k)},repulsiveForceFunction:function R(T,e,w,A){return Math.min(T,(w.marker.radius+A.marker.radius)/2)}}}),$(v,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function j(e,w,A,x){const d=e.getMass(),k=A.x/x*w,r=A.y/x*w;e.fromNode.fixedPosition||(e.fromNode.dispX-=k*d.fromNode/e.fromNode.degree,e.fromNode.dispY-=r*d.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.dispX+=k*d.toNode/e.toNode.degree,e.toNode.dispY+=r*d.toNode/e.toNode.degree)},attractiveForceFunction:function G(e,w){return e*e/w},barycenter:function X(){const e=this.options.gravitationalConstant,w=this.barycenter.xFactor,A=this.barycenter.yFactor;this.nodes.forEach(function(x){if(!x.fixedPosition){const d=x.getDegree(),k=d*(1+d/2);x.dispX+=(w-x.plotX)*e*k/x.degree,x.dispY+=(A-x.plotY)*e*k/x.degree}})},getK:function F(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.3)},integrate:function U(e,w){w.dispX+=w.dispX*e.options.friction,w.dispY+=w.dispY*e.options.friction;const A=w.temperature=e.vectorLength({x:w.dispX,y:w.dispY});0!==A&&(w.plotX+=w.dispX/A*Math.min(Math.abs(w.dispX),e.temperature),w.plotY+=w.dispY/A*Math.min(Math.abs(w.dispY),e.temperature))},repulsive:function R(e,w,A,x){e.dispX+=A.x/x*w/e.degree,e.dispY+=A.y/x*w/e.degree},repulsiveForceFunction:function I(e,w){return w*w/e}}}),$(v,"Series/Networkgraph/QuadTreeNode.js",[],function(){class j{constructor(X){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=X,this.boxSize=Math.min(X.width,X.height)}divideBox(){const X=this.box.width/2,F=this.box.height/2;this.nodes[0]=new j({left:this.box.left,top:this.box.top,width:X,height:F}),this.nodes[1]=new j({left:this.box.left+X,top:this.box.top,width:X,height:F}),this.nodes[2]=new j({left:this.box.left+X,top:this.box.top+F,width:X,height:F}),this.nodes[3]=new j({left:this.box.left,top:this.box.top+F,width:X,height:F})}getBoxPosition(X){const U=X.plotY<this.box.top+this.box.height/2;let R;return R=X.plotX<this.box.left+this.box.width/2?U?0:3:U?1:2,R}insert(X,F){let U;this.isInternal?this.nodes[this.getBoxPosition(X)].insert(X,F-1):(this.isEmpty=!1,this.body?F?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,F-1),this.body=!0),this.nodes[this.getBoxPosition(X)].insert(X,F-1)):(U=new j({top:X.plotX||NaN,left:X.plotY||NaN,width:.1,height:.1}),U.body=X,U.isInternal=!1,this.nodes.push(U)):(this.isInternal=!1,this.body=X))}updateMassAndCenter(){let X=0,F=0,U=0;if(this.isInternal){for(const R of this.nodes)R.isEmpty||(X+=R.mass,F+=R.plotX*R.mass,U+=R.plotY*R.mass);F/=X,U/=X}else this.body&&(X=this.body.mass,F=this.body.plotX,U=this.body.plotY);this.mass=X,this.plotX=F,this.plotY=U}}return j}),$(v,"Series/Networkgraph/QuadTree.js",[v["Series/Networkgraph/QuadTreeNode.js"]],function(j){return class G{constructor(F,U,R,I){this.box={left:F,top:U,width:R,height:I},this.maxDepth=25,this.root=new j(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(F){F.updateMassAndCenter()})}insertNodes(F){for(const U of F)this.root.insert(U,this.maxDepth)}visitNodeRecursive(F,U,R){let I;if(F||(F=this.root),F===this.root&&U&&(I=U(F)),!1!==I){for(const T of F.nodes){if(T.isInternal){if(U&&(I=U(T)),!1===I)continue;this.visitNodeRecursive(T,U,R)}else T.body&&U&&U(T.body);R&&R(T)}F===this.root&&R&&R(F)}}}}),$(v,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[v["Series/Networkgraph/EulerIntegration.js"],v["Core/Globals.js"],v["Series/GraphLayoutComposition.js"],v["Series/Networkgraph/QuadTree.js"],v["Core/Utilities.js"],v["Series/Networkgraph/VerletIntegration.js"]],function(j,G,X,F,U,R){const{win:I}=G,{clamp:T,defined:e,isFunction:w,fireEvent:A,pick:x}=U;class d{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(r){X.compose(r),X.integrations.euler=j,X.integrations.verlet=R,X.layouts["reingold-fruchterman"]=d}init(r){this.options=r,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=X.integrations[r.integration],this.enableSimulation=r.enableSimulation,this.attractiveForce=x(r.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=x(r.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=r.approximation}updateSimulation(r){this.enableSimulation=x(r,this.options.enableSimulation)}start(){const r=this,s=this.series,u=this.options;r.currentStep=0,r.forces=s[0]&&s[0].forces||[],r.chart=s[0]&&s[0].chart,r.initialRendering&&(r.initPositions(),s.forEach(function(p){p.finishedAnimating=!0,p.render()})),r.setK(),r.resetSimulation(u),r.enableSimulation&&r.step()}step(){const r=this,s=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const u of this.forces||[])r[u+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const u of s)u.chart&&u.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&I.cancelAnimationFrame(this.simulation),this.simulation=I.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(u=>{A(u,"afterSimulation")}))}}stop(){this.simulation&&I.cancelAnimationFrame(this.simulation)}setArea(r,s,u,p){this.box={left:r,top:s,width:u,height:p}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(r,s){for(const u of r)-1===s.indexOf(u)&&s.push(u)}removeElementFromCollection(r,s){const u=s.indexOf(r);-1!==u&&s.splice(u,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(r){this.maxIterations=x(r,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(r){this.initialRendering=r}createQuadTree(){this.quadTree=new F(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const r=this.options.initialPositions;if(w(r)){r.call(this);for(const s of this.nodes)e(s.prevX)||(s.prevX=s.plotX),e(s.prevY)||(s.prevY=s.plotY),s.dispX=0,s.dispY=0}else"circle"===r?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const r=this.box,s=this.nodes,p=2*Math.PI/(s.length+1),o=s.filter(function(y){return 0===y.linksTo.length}),c={},l=this.options.initialPositionRadius,f=y=>{for(const C of y.linksFrom||[])c[C.toNode.id]||(c[C.toNode.id]=!0,m.push(C.toNode),f(C.toNode))};let M,m=[];for(const y of o)m.push(y),f(y);if(m.length)for(const y of s)-1===m.indexOf(y)&&m.push(y);else m=s;for(let y=0,C=m.length;y<C;++y)M=m[y],M.plotX=M.prevX=x(M.plotX,r.width/2+l*Math.cos(y*p)),M.plotY=M.prevY=x(M.plotY,r.height/2+l*Math.sin(y*p)),M.dispX=0,M.dispY=0}setRandomPositions(){const r=this.box,s=this.nodes,u=s.length+1,p=c=>{let l=c*c/Math.PI;return l-=Math.floor(l),l};let o;for(let c=0,l=s.length;c<l;++c)o=s[c],o.plotX=o.prevX=x(o.plotX,r.width*p(c)),o.plotY=o.prevY=x(o.plotY,r.height*p(u+c)),o.dispX=0,o.dispY=0}force(r,...s){this.integration[r].apply(this,s)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let r=0,s=0,u=0;for(const p of this.nodes)s+=p.plotX*p.mass,u+=p.plotY*p.mass,r+=p.mass;return this.barycenter={x:s,y:u,xFactor:s/r,yFactor:u/r},this.barycenter}barnesHutApproximation(r,s){const u=this.getDistXY(r,s),p=this.vectorLength(u);let o,c;return r!==s&&0!==p&&(s.isInternal?s.boxSize/p<this.options.theta&&0!==p?(c=this.repulsiveForce(p,this.k),this.force("repulsive",r,c*s.mass,u,p),o=!1):o=!0:(c=this.repulsiveForce(p,this.k),this.force("repulsive",r,c*s.mass,u,p))),o}repulsiveForces(){if("barnes-hut"===this.approximation)for(const r of this.nodes)this.quadTree.visitNodeRecursive(null,s=>this.barnesHutApproximation(r,s));else{let r,s,u;for(const p of this.nodes)for(const o of this.nodes)p!==o&&!p.fixedPosition&&(u=this.getDistXY(p,o),s=this.vectorLength(u),0!==s&&(r=this.repulsiveForce(s,this.k),this.force("repulsive",p,r*o.mass,u,s)))}}attractiveForces(){let r,s,u;for(const p of this.links)p.fromNode&&p.toNode&&(r=this.getDistXY(p.fromNode,p.toNode),s=this.vectorLength(r),0!==s&&(u=this.attractiveForce(s,this.k),this.force("attractive",p,u,r,s)))}applyLimits(){const r=this.nodes;for(const s of r)s.fixedPosition||(this.integration.integrate(this,s),this.applyLimitBox(s,this.box),s.dispX=0,s.dispY=0)}applyLimitBox(r,s){const u=r.radius;r.plotX=T(r.plotX,s.left+u,s.width-u),r.plotY=T(r.plotY,s.top+u,s.height-u)}coolDown(r,s,u){return r-s*u}isStable(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0}getSystemTemperature(){let r=0;for(const s of this.nodes)r+=s.temperature;return r}vectorLength(r){return Math.sqrt(r.x*r.x+r.y*r.y)}getDistR(r,s){const u=this.getDistXY(r,s);return this.vectorLength(u)}getDistXY(r,s){const u=r.plotX-s.plotX,p=r.plotY-s.plotY;return{x:u,y:p,absX:Math.abs(u),absY:Math.abs(p)}}}return d}),$(v,"Series/PackedBubble/PackedBubbleLayout.js",[v["Series/GraphLayoutComposition.js"],v["Series/PackedBubble/PackedBubbleIntegration.js"],v["Series/Networkgraph/ReingoldFruchtermanLayout.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{addEvent:U,pick:R}=F;function I(){const A=[];return this.series.forEach(x=>{x.parentNode&&x.parentNode.selected&&A.push(x.parentNode)}),A}function T(){this.allDataPoints&&delete this.allDataPoints}class e extends X{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(A){X.compose(A),j.integrations.packedbubble=G,j.layouts.packedbubble=e;const x=A.prototype;x.getSelectedParentNodes||(U(A,"beforeRedraw",T),x.getSelectedParentNodes=I)}beforeStep(){this.options.marker&&this.series.forEach(A=>{A&&A.calculateParentRadius()})}isStable(){const A=Math.abs(this.prevSystemTemperature-this.systemTemperature),x=10*this.systemTemperature/Math.sqrt(this.nodes.length);return Math.abs(x)<1&&A<1e-5||this.temperature<=0}setCircularPositions(){const A=this,x=A.box,d=A.nodes,r=2*Math.PI/(d.length+1),s=A.options.initialPositionRadius;let u,p,o=0;for(const c of d)A.options.splitSeries&&!c.isParentNode?(u=c.series.parentNode.plotX,p=c.series.parentNode.plotY):(u=x.width/2,p=x.height/2),c.plotX=c.prevX=R(c.plotX,u+s*Math.cos(c.index||o*r)),c.plotY=c.prevY=R(c.plotY,p+s*Math.sin(c.index||o*r)),c.dispX=0,c.dispY=0,o++}repulsiveForces(){const A=this,x=A.options.bubblePadding,d=A.nodes;let k,r,s;d.forEach(u=>{u.degree=u.mass,u.neighbours=0,d.forEach(p=>{k=0,u!==p&&!u.fixedPosition&&(A.options.seriesInteraction||u.series===p.series)&&(s=A.getDistXY(u,p),r=A.vectorLength(s)-(u.marker.radius+p.marker.radius+x),r<0&&(u.degree+=.01,u.neighbours++,k=A.repulsiveForce(-r/Math.sqrt(u.neighbours),A.k,u,p)),A.force("repulsive",u,k*p.mass,s,p,r))})})}applyLimitBox(A,x){const d=this;let r,s;d.options.splitSeries&&!A.isParentNode&&d.options.parentNodeLimit&&(r=d.getDistXY(A,A.series.parentNode),s=A.series.parentNodeRadius-A.marker.radius-d.vectorLength(r),s<0&&s>-2*A.marker.radius&&(A.plotX-=.01*r.x,A.plotY-=.01*r.y)),super.applyLimitBox(A,x)}}return j.layouts.packedbubble=e,e}),$(v,"Series/SimulationSeriesUtilities.js",[v["Core/Utilities.js"],v["Core/Animation/AnimationUtilities.js"]],function(j,G){const{merge:X,syncTimeout:F}=j,{animObject:U}=G;return{initDataLabels:function I(){const e=this,w=e.options.dataLabels;if(!e.dataLabelsGroup){const A=this.initDataLabelsGroup();return!e.chart.styledMode&&w?.style&&A.css(w.style),A.attr({opacity:0}),e.visible&&A.show(),A}return e.dataLabelsGroup.attr(X({opacity:1},this.getPlotBox("data-labels"))),e.dataLabelsGroup},initDataLabelsDefer:function R(){const e=this.options.dataLabels;e?.defer&&this.options.layoutAlgorithm?.enableSimulation?F(()=>{this.deferDataLabels=!1},e?U(e.animation).defer:0):this.deferDataLabels=!1}}}),$(v,"Series/PackedBubble/PackedBubbleSeries.js",[v["Core/Color/Color.js"],v["Series/DragNodesComposition.js"],v["Series/GraphLayoutComposition.js"],v["Core/Globals.js"],v["Series/PackedBubble/PackedBubblePoint.js"],v["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],v["Series/PackedBubble/PackedBubbleLayout.js"],v["Core/Series/SeriesRegistry.js"],v["Series/SimulationSeriesUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T,e,w){const{parse:A}=j,{noop:x}=F,{series:{prototype:d},seriesTypes:{bubble:k}}=T,{initDataLabels:r,initDataLabelsDefer:s}=e,{addEvent:u,clamp:p,defined:o,extend:c,fireEvent:l,isArray:f,isNumber:m,merge:M,pick:y}=w;class C extends k{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(a,t,i,n){k.compose(a,t,i,n),G.compose(t),I.compose(t)}accumulateAllPoints(){const a=this.chart,t=[];let i;for(const n of a.series)if(n.is("packedbubble")&&n.reserveSpace()){i=n.yData||[];for(let b=0;b<i.length;b++)t.push([null,null,i[b],n.index,b,{id:b,marker:{radius:0}}])}return t}addLayout(){const a=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},t=a.type||"packedbubble",i=this.chart.options.chart;let g,n=this.chart.graphLayoutsStorage,b=this.chart.graphLayoutsLookup;n||(this.chart.graphLayoutsStorage=n={},this.chart.graphLayoutsLookup=b=[]),g=n[t],g||(a.enableSimulation=o(i.forExport)?!i.forExport:a.enableSimulation,n[t]=g=new X.layouts[t],g.init(a),b.splice(g.index,0,g)),this.layout=g,this.points.forEach(P=>{P.mass=2,P.degree=1,P.collisionNmb=1}),g.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),g.addElementsToCollection([this],g.series),g.addElementsToCollection(this.points,g.nodes)}addSeriesLayout(){const a=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},t=a.type||"packedbubble",i=this.chart.graphLayoutsStorage,n=this.chart.graphLayoutsLookup,b=M(a,a.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let g=i[t+"-series"];g||(i[t+"-series"]=g=new X.layouts[t],g.init(b),n.splice(g.index,0,g)),this.parentNodeLayout=g,this.createParentNodes()}calculateParentRadius(){const a=this.seriesBox();this.parentNodeRadius=p(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,a?Math.max(Math.sqrt(Math.pow(a.width,2)+Math.pow(a.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let i=this.options.zMin,n=this.options.zMax,b=1/0,g=-1/0;return i&&n||(this.chart.series.forEach(P=>{P.yData.forEach(E=>{o(E)&&(E>g&&(g=E),E<b&&(b=E))})}),i=y(i,b),n=y(n,g)),[i,n]}checkOverlap(a,t){const i=a[0]-t[0],n=a[1]-t[1],b=a[2]+t[2];return Math.sqrt(i*i+n*n)-Math.abs(b)<-.001}createParentNodes(){const a=this.pointClass,t=this.chart,i=this.parentNodeLayout,n=this.layout.options;let b,g=this.parentNode,P={radius:this.parentNodeRadius,lineColor:this.color,fillColor:A(this.color).brighten(.4).get()};n.parentNodeOptions&&(P=M(n.parentNodeOptions.marker||{},P)),this.parentNodeMass=0,this.points.forEach(E=>{this.parentNodeMass+=Math.PI*Math.pow(E.marker.radius,2)}),this.calculateParentRadius(),i.nodes.forEach(E=>{E.seriesIndex===this.index&&(b=!0)}),i.setArea(0,0,t.plotWidth,t.plotHeight),b||(g||(g=new a(this,{mass:this.parentNodeRadius/2,marker:P,dataLabels:{inside:!1},states:{normal:{marker:P},hover:{marker:P}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(g.plotX=this.parentNode.plotX,g.plotY=this.parentNode.plotY),this.parentNode=g,i.addElementsToCollection([this],i.series),i.addElementsToCollection([g],i.nodes))}deferLayout(){const a=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),a.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(a=>{a.removeElementFromCollection(this,a.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),d.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(d.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",d.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;const a=this.chart,t=this.layout.options.parentNodeOptions.marker,i={fill:t.fillColor||A(this.color).brighten(.4).get(),opacity:t.fillOpacity,stroke:t.lineColor||this.color,"stroke-width":y(t.lineWidth,this.options.lineWidth)};let n={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,a.seriesGroup),this.group?.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&o(this.parentNode.plotX)&&o(this.parentNode.plotY)&&o(this.parentNodeRadius)&&(n=M({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},i),this.parentNode.graphic||(this.graph=this.parentNode.graphic=a.renderer.symbol(i.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(n))}drawTracker(){const a=this.parentNode;let t;super.drawTracker(),a&&(t=f(a.dataLabels)?a.dataLabels:a.dataLabel?[a.dataLabel]:[],a.graphic&&(a.graphic.element.point=a),t.forEach(i=>{(i.div||i.element).point=a}))}getPointRadius(){const a=this.chart,n=this.options,b=n.useSimulation,g=Math.min(a.plotWidth,a.plotHeight),P={},E=[],D=a.allDataPoints||[],O=D.length;let S,L,B,_;["minSize","maxSize"].forEach(z=>{const N=parseInt(n[z],10),H=/%$/.test(n[z]);P[z]=H?g*N/100:N*Math.sqrt(O)}),a.minRadius=S=P.minSize/Math.sqrt(O),a.maxRadius=L=P.maxSize/Math.sqrt(O);const Y=b?this.calculateZExtremes():[S,L];D.forEach((z,N)=>{B=b?p(z[2],Y[0],Y[1]):z[2],_=this.getRadius(Y[0],Y[1],S,L,B),0===_&&(_=null),D[N][2]=_,E.push(_)}),this.radii=E}init(){return d.init.apply(this,arguments),s.call(this),this.eventsToUnbind.push(u(this,"updatedData",function(){this.chart.series.forEach(a=>{a.type===this.type&&(a.isDirty=!0)},this)})),this}onMouseUp(a){const t=a;if(t.fixedPosition&&!t.removed){const i=this.layout,n=this.parentNodeLayout;let b,g;n&&i.options.dragBetweenSeries&&n.nodes.forEach(P=>{t&&t.marker&&P!==t.series.parentNode&&(b=i.getDistXY(t,P),g=i.vectorLength(b)-P.marker.radius-t.marker.radius,g<0&&(P.series.addPoint(M(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),i.removeElementFromCollection(t,i.nodes),t.remove()))}),G.onMouseUp.apply(this,arguments)}}placeBubbles(a){const t=this.checkOverlap,i=this.positionBubble,n=[];let E,O,b=1,g=0,P=0,D=[];const S=a.sort((L,B)=>B[2]-L[2]);if(S.length){if(n.push([[0,0,S[0][2],S[0][3],S[0][4]]]),S.length>1)for(n.push([[0,0-S[1][2]-S[0][2],S[1][2],S[1][3],S[1][4]]]),O=2;O<S.length;O++)S[O][2]=S[O][2]||1,E=i(n[b][g],n[b-1][P],S[O]),t(E,n[b][0])?(n.push([]),P=0,n[b+1].push(i(n[b][g],n[b][0],S[O])),b++,g=0):b>1&&n[b-1][P+1]&&t(E,n[b-1][P+1])?(P++,n[b].push(i(n[b][g],n[b-1][P],S[O])),g++):(g++,n[b].push(E));this.chart.stages=n,this.chart.rawPositions=[].concat.apply([],n),this.resizeRadius(),D=this.chart.rawPositions}return D}pointAttribs(a,t){const i=this.options;let b=i.marker;a&&a.isParentNode&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions&&(b=i.layoutAlgorithm.parentNodeOptions.marker);const g=b.fillOpacity,P=d.pointAttribs.call(this,a,t);return 1!==g&&(P["fill-opacity"]=g),P}positionBubble(a,t,i){const n=Math.sqrt,b=Math.asin,g=Math.acos,P=Math.pow,E=Math.abs,D=n(P(a[0]-t[0],2)+P(a[1]-t[1],2)),O=g((P(D,2)+P(i[2]+t[2],2)-P(i[2]+a[2],2))/(2*(i[2]+t[2])*D)),S=b(E(a[0]-t[0])/D),_=(a[1]-t[1]<0?0:Math.PI)+O+S*((a[0]-t[0])*(a[1]-t[1])<0?1:-1),Y=Math.cos(_),z=Math.sin(_);return[t[0]+(t[2]+i[2])*z,t[1]-(t[2]+i[2])*Y,i[2],i[3],i[4]]}render(){const a=[];d.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(t=>{f(t.dataLabels)&&t.dataLabels.forEach(i=>{a.push(i)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(a))}resizeRadius(){const a=this.chart,t=a.rawPositions,i=Math.min,n=Math.max,b=a.plotLeft,g=a.plotTop,P=a.plotHeight,E=a.plotWidth;let D,O,S,L,B;D=S=Number.POSITIVE_INFINITY,O=L=Number.NEGATIVE_INFINITY;for(const N of t)B=N[2],D=i(D,N[0]-B),O=n(O,N[0]+B),S=i(S,N[1]-B),L=n(L,N[1]+B);const _=[O-D,L-S],z=i.apply([],[(E-b)/_[0],(P-g)/_[1]]);if(Math.abs(z-1)>1e-10){for(const N of t)N[2]*=z;this.placeBubbles(t)}else a.diffY=P/2+g-S-(L-S)/2,a.diffX=E/2+b-D-(O-D)/2}seriesBox(){const a=this.chart,i=Math.max,n=Math.min,b=[a.plotLeft,a.plotLeft+a.plotWidth,a.plotTop,a.plotTop+a.plotHeight];let g;return this.data.forEach(P=>{o(P.plotX)&&o(P.plotY)&&P.marker.radius&&(g=P.marker.radius,b[0]=n(b[0],P.plotX-g),b[1]=i(b[1],P.plotX+g),b[2]=n(b[2],P.plotY-g),b[3]=i(b[3],P.plotY+g))}),m(b.width/b.height)?b:null}setVisible(){const a=this;d.setVisible.apply(a,arguments),a.parentNodeLayout&&a.graph?a.visible?(a.graph.show(),a.parentNode.dataLabel&&a.parentNode.dataLabel.show()):(a.graph.hide(),a.parentNodeLayout.removeElementFromCollection(a.parentNode,a.parentNodeLayout.nodes),a.parentNode.dataLabel&&a.parentNode.dataLabel.hide()):a.layout&&(a.visible?a.layout.addElementsToCollection(a.points,a.layout.nodes):a.points.forEach(t=>{a.layout.removeElementFromCollection(t,a.layout.nodes)}))}translate(){const a=this.chart,t=this.data,i=this.index,n=this.options.useSimulation;let b,g,P;this.processedXData=this.xData,this.generatePoints(),o(a.allDataPoints)||(a.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),n?P=a.allDataPoints:(P=this.placeBubbles(a.allDataPoints),this.options.draggable=!1);for(const E of P)E[3]===i&&(b=t[E[4]],g=y(E[2],void 0),n||(b.plotX=E[0]-a.plotLeft+a.diffX,b.plotY=E[1]-a.plotTop+a.diffY),m(g)&&(b.marker=c(b.marker,{radius:g,width:2*g,height:2*g}),b.radius=g));n&&this.deferLayout(),l(this,"afterTranslate")}}return C.defaultOptions=M(k.defaultOptions,R),c(C.prototype,{pointClass:U,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:r,alignDataLabel:d.alignDataLabel,indexateNodes:x,onMouseDown:G.onMouseDown,onMouseMove:G.onMouseMove,redrawHalo:G.redrawHalo,searchPoint:x}),T.registerSeriesType("packedbubble",C),C}),$(v,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),$(v,"Series/Polygon/PolygonSeries.js",[v["Core/Globals.js"],v["Series/Polygon/PolygonSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{noop:U}=j,{area:R,line:I,scatter:T}=X.seriesTypes,{extend:e,merge:w}=F;class A extends T{getGraphPath(){const d=I.prototype.getGraphPath.call(this);let k=d.length+1;for(;k--;)(k===d.length||"M"===d[k][0])&&k>0&&d.splice(k,0,["Z"]);return this.areaPath=d,d}drawGraph(){this.options.fillColor=this.color,R.prototype.drawGraph.call(this)}}return A.defaultOptions=w(T.defaultOptions,G),e(A.prototype,{type:"polygon",drawTracker:I.prototype.drawTracker,setStackedPoints:U}),X.registerSeriesType("polygon",A),A}),$(v,"Core/Axis/RadialAxisDefaults.js",[],function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}}),$(v,"Core/Axis/RadialAxis.js",[v["Core/Axis/RadialAxisDefaults.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{defaultOptions:U}=G,{composed:R,noop:I}=X,{addEvent:T,correctFloat:e,defined:w,extend:A,fireEvent:x,isObject:d,merge:k,pick:r,pushUnique:s,relativeLength:u,wrap:p}=F;var o;return function(c){function l(){this.autoConnect=this.isCircular&&typeof r(this.userMax,this.options.max)>"u"&&e(this.endAngleRad-this.startAngleRad)===e(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function m(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(W=>this.ticks[W]&&this.ticks[W].label).filter(W=>Boolean(W))}}function M(){return I}function y(W,q,K){const J=this.pane.center;let st,ot,lt,nt,et=W.value;return this.isCircular?(w(et)?W.point&&(st=W.point.shapeArgs||{},st.start&&(et=this.chart.inverted?this.translate(W.point.rectPlotY,!0):W.point.x)):(lt=W.chartX||0,nt=W.chartY||0,et=this.translate(Math.atan2(nt-K,lt-q)-this.startAngleRad,!0)),ot=this.getPosition(et),lt=ot.x,nt=ot.y):(w(et)||(lt=W.chartX,nt=W.chartY),w(lt)&&w(nt)&&(K=J[1]+this.chart.plotTop,et=this.translate(Math.min(Math.sqrt(Math.pow(lt-q,2)+Math.pow(nt-K,2)),J[2]/2)-J[3]/2,!0))),[et,lt||0,nt||0]}function C(W,q,K){const J=this.pane.center,et=this.chart,st=this.left||0,ot=this.top||0;let lt,at,nt=r(q,J[2]/2-this.offset);return typeof K>"u"&&(K=this.horiz?0:this.center&&-this.center[3]/2),K&&(nt+=K),this.isCircular||typeof q<"u"?(at=this.chart.renderer.symbols.arc(st+J[0],ot+J[1],nt,nt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),at.xBounds=[st+J[0]],at.yBounds=[ot+J[1]-nt]):(lt=this.postTranslate(this.angleRad,nt),at=[["M",this.center[0]+et.plotLeft,this.center[1]+et.plotTop],["L",lt.x,lt.y]]),at}function h(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function a(W,q,K){const J=this.chart,et=Dt=>{if("string"==typeof Dt){let Bt=parseInt(Dt,10);return bt.test(Dt)&&(Bt=Bt*lt/100),Bt}return Dt},st=this.center,ot=this.startAngleRad,lt=st[2]/2,nt=Math.min(this.offset,0),at=this.left||0,pt=this.top||0,bt=/%$/,ht=this.isCircular;let ct,xt,ft,yt,St,wt,Mt=r(et(K.outerRadius),lt),Et=et(K.innerRadius),Lt=r(et(K.thickness),10);if("polygon"===this.options.gridLineInterpolation)wt=this.getPlotLinePath({value:W}).concat(this.getPlotLinePath({value:q,reverse:!0}));else{W=Math.max(W,this.min),q=Math.min(q,this.max);const Dt=this.translate(W),Bt=this.translate(q);ht||(Mt=Dt||0,Et=Bt||0),"circle"!==K.shape&&ht?(ct=ot+(Dt||0),xt=ot+(Bt||0)):(ct=-Math.PI/2,xt=1.5*Math.PI,St=!0),Mt-=nt,Lt-=nt,wt=J.renderer.symbols.arc(at+st[0],pt+st[1],Mt,Mt,{start:Math.min(ct,xt),end:Math.max(ct,xt),innerR:r(Et,Mt-Lt),open:St,borderRadius:K.borderRadius}),ht&&(ft=(xt+ct)/2,yt=at+st[0]+st[2]/2*Math.cos(ft),wt.xBounds=ft>-Math.PI/2&&ft<Math.PI/2?[yt,J.plotWidth]:[0,yt],wt.yBounds=[pt+st[1]+st[2]/2*Math.sin(ft)],wt.yBounds[0]+=ft>-Math.PI&&ft<0||ft>Math.PI?-10:10)}return wt}function t(W){const q=this.pane.center,K=this.chart,J=K.inverted,et=W.reverse,st=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},ot=st.innerRadius||"0%",lt=st.outerRadius||"100%",nt=q[0]+K.plotLeft,at=q[1]+K.plotTop,pt=this.height,bt=W.isCrosshair,ht=q[3]/2;let xt,ft,yt,St,wt,Mt,Et,Lt,Dt,ct=W.value;const Bt=this.getPosition(ct);let It=Bt.x,jt=Bt.y;if(bt&&(Lt=this.getCrosshairPosition(W,nt,at),ct=Lt[0],It=Lt[1],jt=Lt[2]),this.isCircular)ft=Math.sqrt(Math.pow(It-nt,2)+Math.pow(jt-at,2)),yt="string"==typeof ot?u(ot,1):ot/ft,St="string"==typeof lt?u(lt,1):lt/ft,q&&ht&&(xt=ht/ft,yt<xt&&(yt=xt),St<xt&&(St=xt)),Dt=[["M",nt+yt*(It-nt),at-yt*(at-jt)],["L",It-(1-St)*(It-nt),jt+(1-St)*(at-jt)]];else if(ct=this.translate(ct),ct&&(ct<0||ct>pt)&&(ct=0),"circle"===this.options.gridLineInterpolation)Dt=this.getLinePath(0,ct,ht);else if(Dt=[],K[J?"yAxis":"xAxis"].forEach(Rt=>{Rt.pane===this.pane&&(wt=Rt)}),wt){Et=wt.tickPositions,wt.autoConnect&&(Et=Et.concat([Et[0]])),et&&(Et=Et.slice().reverse()),ct&&(ct+=ht);for(let Rt=0;Rt<Et.length;Rt++)Mt=wt.getPosition(Et[Rt],ct),Dt.push(Rt?["L",Mt.x,Mt.y]:["M",Mt.x,Mt.y])}return Dt}function i(W,q){const K=this.translate(W);return this.postTranslate(this.isCircular?K:this.angleRad,r(this.isCircular?q:K<0?0:K,this.center[2]/2)-this.offset)}function n(){const W=this.center,q=this.chart,K=this.options.title;return{x:q.plotLeft+W[0]+(K.x||0),y:q.plotTop+W[1]-{high:.5,middle:.25,low:0}[K.align]*W[2]+(K.y||0)}}function b(W){W.beforeSetTickPositions=l,W.createLabelCollector=m,W.getCrosshairPosition=y,W.getLinePath=C,W.getOffset=h,W.getPlotBandPath=a,W.getPlotLinePath=t,W.getPosition=i,W.getTitlePosition=n,W.postTranslate=Y,W.setAxisSize=N,W.setAxisTranslation=H,W.setOptions=V}function P(){const W=this.chart,q=this.options,J=this.pane,et=J&&J.options;if((!W.angular||!this.isXAxis)&&J&&(W.angular||W.polar)){const st=2*Math.PI,ot=(r(et.startAngle,0)-90)*Math.PI/180,lt=(r(et.endAngle,r(et.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(q.angle||0)*Math.PI/180,this.startAngleRad=ot,this.endAngleRad=lt,this.offset=q.offset||0;let nt=(ot%st+st)%st,at=(lt%st+st)%st;nt>Math.PI&&(nt-=st),at>Math.PI&&(at-=st),this.normalizedStartAngleRad=nt,this.normalizedEndAngleRad=at}}function E(W){this.isRadial&&(W.align=void 0,W.preventDefault())}function D(){if(this.chart&&this.chart.labelCollectors){const W=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;W>=0&&this.chart.labelCollectors.splice(W,1)}}function O(W){const q=this.chart,K=q.angular,J=q.polar,et=this.isXAxis,st=this.coll,ot=K&&et,nt=this.pane=q.pane&&q.pane[W.userOptions.pane||0];let at;"colorAxis"!==st?(K?(ot?function g(W){W.isHidden=!0,W.createLabelCollector=M,W.getOffset=I,W.redraw=z,W.render=z,W.setScale=I,W.setCategories=I,W.setTitle=I}(this):b(this),at=!et):J&&(b(this),at=this.horiz),K||J?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&q.labelCollectors.push(this.labelCollector)):this.isRadial=!1,nt&&at&&(nt.axis=this),this.isCircular=at):this.isRadial=!1}function S(){this.isRadial&&this.beforeSetTickPositions()}function L(W){const q=this.label;if(!q)return;const K=this.axis,J=q.getBBox(),et=K.options.labels,st=(K.translate(this.pos)+K.startAngleRad+Math.PI/2)/Math.PI*180%360,ot=Math.round(st),lt=w(et.y)?0:.3*-J.height;let at,nt=et.y,pt=20,bt=et.align,ht="end",ct=ot<0?ot+360:ot,xt=ct,ft=0,yt=0;K.isRadial&&(at=K.getPosition(this.pos,K.center[2]/2+u(r(et.distance,-25),K.center[2]/2,-K.center[2]/2)),"auto"===et.rotation?q.attr({rotation:st}):w(nt)||(nt=K.chart.renderer.fontMetrics(q).b-J.height/2),w(bt)||(K.isCircular?(J.width>K.len*K.tickInterval/(K.max-K.min)&&(pt=0),bt=st>pt&&st<180-pt?"left":st>180+pt&&st<360-pt?"right":"center"):bt="center",q.attr({align:bt})),"auto"===bt&&2===K.tickPositions.length&&K.isCircular&&(ct>90&&ct<180?ct=180-ct:ct>270&&ct<=360&&(ct=540-ct),xt>180&&xt<=360&&(xt=360-xt),(K.pane.options.startAngle===ot||K.pane.options.startAngle===ot+360||K.pane.options.startAngle===ot-360)&&(ht="start"),bt=ot>=-90&&ot<=90||ot>=-360&&ot<=-270||ot>=270&&ot<=360?"start"===ht?"right":"left":"start"===ht?"left":"right",xt>70&&xt<110&&(bt="center"),ct<15||ct>=180&&ct<195?ft=.3*J.height:ct>=15&&ct<=35?ft="start"===ht?0:.75*J.height:ct>=195&&ct<=215?ft="start"===ht?.75*J.height:0:ct>35&&ct<=90?ft="start"===ht?.25*-J.height:J.height:ct>215&&ct<=270&&(ft="start"===ht?J.height:.25*-J.height),xt<15?yt="start"===ht?.15*-J.height:.15*J.height:xt>165&&xt<=180&&(yt="start"===ht?.15*J.height:.15*-J.height),q.attr({align:bt}),q.translate(yt,ft+lt)),W.pos.x=at.x+(et.x||0),W.pos.y=at.y+(nt||0))}function B(W){this.axis.getPosition&&A(W.pos,this.axis.getPosition(this.pos))}function _({options:W}){W.xAxis&&k(!0,c.radialDefaultOptions.circular,W.xAxis),W.yAxis&&k(!0,c.radialDefaultOptions.radialGauge,W.yAxis)}function Y(W,q){const K=this.chart,J=this.center;return W=this.startAngleRad+W,{x:K.plotLeft+J[0]+Math.cos(W)*q,y:K.plotTop+J[1]+Math.sin(W)*q}}function z(){this.isDirty=!1}function N(){let q,K;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),q=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(K=this.postTranslate(this.angleRad,q[3]/2),q[0]=K.x-this.chart.plotLeft,q[1]=K.y-this.chart.plotTop),this.len=this.width=this.height=(q[2]-q[3])*r(this.sector,1)/2)}function H(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function V(W){const{coll:q}=this,{angular:K,inverted:J,polar:et}=this.chart;let st={};K?this.isXAxis||(st=k(U.yAxis,c.radialDefaultOptions.radialGauge)):et&&(st=this.horiz?k(U.xAxis,c.radialDefaultOptions.circular):k("xAxis"===q?U.xAxis:U.yAxis,c.radialDefaultOptions.radial)),J&&"yAxis"===q&&(st.stackLabels=d(U.yAxis,!0)?U.yAxis.stackLabels:{},st.reversedStacks=!0);const ot=this.options=k(st,W);ot.plotBands||(ot.plotBands=[]),x(this,"afterSetOptions")}function Z(W,q,K,J,et,st,ot){const lt=this.axis;let nt,at;return lt.isRadial?(nt=lt.getPosition(this.pos,lt.center[2]/2+J),at=["M",q,K,"L",nt.x,nt.y]):at=W.call(this,q,K,J,et,st,ot),at}c.radialDefaultOptions=k(j),c.compose=function f(W,q){return s(R,"Axis.Radial")&&(T(W,"afterInit",P),T(W,"autoLabelAlign",E),T(W,"destroy",D),T(W,"init",O),T(W,"initialAxisTranslation",S),T(q,"afterGetLabelPosition",L),T(q,"afterGetPosition",B),T(X,"setOptions",_),p(q.prototype,"getMarkPath",Z)),W}}(o||(o={})),o}),$(v,"Series/PolarComposition.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Globals.js"],v["Core/Series/Series.js"],v["Extensions/Pane/Pane.js"],v["Core/Axis/RadialAxis.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{animObject:I}=j,{composed:T}=G,{addEvent:e,defined:w,find:A,isNumber:x,merge:d,pick:k,pushUnique:r,relativeLength:s,splat:u,uniqueKey:p,wrap:o}=R;function f(Y,z,N,H){const W=H?1:0;let q,K,J,et,st,ot;q=z>=0&&z<=Y.length-1?z:z<0?Y.length-1+z:0;const lt=q-1<0?Y.length-(1+W):q-1,at=Y[lt],pt=Y[q+1>Y.length-1?W:q+1],ft=Y[q].plotX,yt=Y[q].plotY;K=(1.5*ft+at.plotX)/2.5,J=(1.5*yt+at.plotY)/2.5,et=(1.5*ft+pt.plotX)/2.5,st=(1.5*yt+pt.plotY)/2.5;const St=Math.sqrt(Math.pow(K-ft,2)+Math.pow(J-yt,2)),wt=Math.sqrt(Math.pow(et-ft,2)+Math.pow(st-yt,2)),Mt=Math.atan2(J-yt,K-ft),Et=Math.atan2(st-yt,et-ft);ot=Math.PI/2+(Mt+Et)/2,Math.abs(Mt-ot)>Math.PI/2&&(ot-=Math.PI),K=ft+Math.cos(ot)*St,J=yt+Math.sin(ot)*St,et=ft+Math.cos(Math.PI+ot)*wt,st=yt+Math.sin(Math.PI+ot)*wt;const Lt={rightContX:et,rightContY:st,leftContX:K,leftContY:J,plotX:ft,plotY:yt};return N&&(Lt.prevPointCont=f(Y,lt,!1,H)),Lt}function m(){(this.pane||[]).forEach(Y=>{Y.render()})}function M(Y){const z=Y.args[0].xAxis,N=Y.args[0].yAxis,H=Y.args[0].chart;z&&N&&("polygon"===N.gridLineInterpolation?(z.startOnTick=!0,z.endOnTick=!0):"polygon"===z.gridLineInterpolation&&H.inverted&&(N.startOnTick=!0,N.endOnTick=!0))}function y(){this.pane||(this.pane=[]),this.options.pane=u(this.options.pane),this.options.pane.forEach(Y=>{new F(Y,this)},this)}function C(Y){const z=Y.args.marker,N=this.chart.xAxis[0],H=this.chart.yAxis[0],V=this.chart.inverted,Z=V?H:N,W=V?N:H;if(this.chart.polar){Y.preventDefault();const q=(z.attr?z.attr("start"):z.start)-Z.startAngleRad,K=z.attr?z.attr("r"):z.r,J=(z.attr?z.attr("end"):z.end)-Z.startAngleRad,et=z.attr?z.attr("innerR"):z.innerR;Y.result.x=q+Z.pos,Y.result.width=J-q,Y.result.y=W.len+W.pos-K,Y.result.height=K-et}}function h(Y){const z=this.chart;if(z.polar&&z.hoverPane&&z.hoverPane.axis){Y.preventDefault();const N=z.hoverPane.center,H=z.mouseDownX||0,V=z.mouseDownY||0,Z=Y.args.chartY,W=Y.args.chartX,q=2*Math.PI,K=z.hoverPane.axis.startAngleRad,J=z.hoverPane.axis.endAngleRad,et=z.inverted?z.xAxis[0]:z.yAxis[0],st={};let ot="arc";if(st.x=N[0]+z.plotLeft,st.y=N[1]+z.plotTop,this.zoomHor){const lt=K>0?J-K:Math.abs(K)+Math.abs(J);let nt=Math.atan2(V-z.plotTop-N[1],H-z.plotLeft-N[0])-K,at=Math.atan2(Z-z.plotTop-N[1],W-z.plotLeft-N[0])-K;st.r=N[2]/2,st.innerR=N[3]/2,nt<=0&&(nt+=q),at<=0&&(at+=q),at<nt&&(at=[nt,nt=at][0]),lt<q&&K+at>J+(q-lt)/2&&(at=nt,nt=K<=0?K:0);const pt=st.start=Math.max(nt+K,K),bt=st.end=Math.min(at+K,J);if("polygon"===et.options.gridLineInterpolation){const ht=z.hoverPane.axis,ct=pt-ht.startAngleRad+ht.pos,xt=bt-pt;let ft=et.getPlotLinePath({value:et.max}),yt=ht.toValue(ct),St=ht.toValue(ct+xt);if(yt<ht.getExtremes().min){const{min:wt,max:Mt}=ht.getExtremes();yt=Mt-(wt-yt)}if(St<ht.getExtremes().min){const{min:wt,max:Mt}=ht.getExtremes();St=Mt-(wt-St)}St<yt&&(St=[yt,yt=St][0]),ft=n(ft,yt,St,ht),ft.push(["L",N[0]+z.plotLeft,z.plotTop+N[1]]),st.d=ft,ot="path"}}if(this.zoomVert){const lt=z.inverted?z.xAxis[0]:z.yAxis[0];let nt=Math.sqrt(Math.pow(H-z.plotLeft-N[0],2)+Math.pow(V-z.plotTop-N[1],2)),at=Math.sqrt(Math.pow(W-z.plotLeft-N[0],2)+Math.pow(Z-z.plotTop-N[1],2));if(at<nt&&(nt=[at,at=nt][0]),at>N[2]/2&&(at=N[2]/2),nt<N[3]/2&&(nt=N[3]/2),this.zoomHor||(st.start=K,st.end=J),st.r=at,st.innerR=nt,"polygon"===lt.options.gridLineInterpolation){const pt=lt.toValue(lt.len+lt.pos-nt),bt=lt.toValue(lt.len+lt.pos-at),ht=lt.getPlotLinePath({value:bt}).concat(lt.getPlotLinePath({value:pt,reverse:!0}));st.d=ht,ot="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===et.options.gridLineInterpolation){const lt=z.hoverPane.axis,nt=st.start||0,pt=nt-lt.startAngleRad+lt.pos,bt=(st.end||0)-nt,ht=lt.toValue(pt),ct=lt.toValue(pt+bt);if(st.d instanceof Array){let xt=st.d.slice(0,st.d.length/2),ft=st.d.slice(st.d.length/2,st.d.length);ft=[...ft].reverse();const yt=z.hoverPane.axis;xt=n(xt,ht,ct,yt),ft=n(ft,ht,ct,yt),ft&&(ft[0][0]="L"),ft=[...ft].reverse(),st.d=xt.concat(ft),ot="path"}}Y.attrs=st,Y.shapeType=ot}}function a(){const Y=this.chart;Y.polar&&(this.polar=new _(this),Y.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function t(){if(this.chart.polar&&this.xAxis){const Y=this,{xAxis:z,yAxis:N}=Y,H=Y.chart;Y.kdByAngle=H.tooltip&&H.tooltip.shared,Y.kdByAngle||H.inverted?Y.searchPoint=i:Y.options.findNearestPointBy="xy";const V=Y.points;let Z=V.length;for(;Z--;)!Y.is("column")&&!Y.is("columnrange")&&Y.polar.toXY(V[Z]),!H.hasParallelCoordinates&&!Y.yAxis.reversed&&(k(V[Z].y,Number.MIN_VALUE)<N.min||V[Z].x<z.min||V[Z].x>z.max?(V[Z].isNull=!0,V[Z].plotY=NaN):V[Z].isNull=V[Z].isValid&&!V[Z].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!Y.eventsToUnbind.push(e(Y,"afterRender",function(){let W;H.polar&&!1!==this.options.clip&&(W=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:W[0],y:W[1],r:W[2]/2,innerR:W[3]/2}):this.clipCircle=function c(Y,z,N,H,V){const Z=p(),W=Y.createElement("clipPath").attr({id:Z}).add(Y.defs),q=V?Y.arc(z,N,H,V,0,2*Math.PI).add(W):Y.circle(z,N,H).add(W);return q.id=Z,q.clipPath=W,q}(H.renderer,W[0],W[1],W[2]/2,W[3]/2),this.group.clip(this.clipCircle),this.setClip=G.noop)})))}}function i(Y){const z=this,N=z.chart,H=z.xAxis,Z=H.pane&&H.pane.center,K=N.inverted?{clientX:Y.chartX-z.yAxis.pos,plotY:Y.chartY-H.pos}:{clientX:180+Math.atan2(Y.chartX-(Z&&Z[0]||0)-N.plotLeft,Y.chartY-(Z&&Z[1]||0)-N.plotTop)*(-180/Math.PI)};return z.searchKDTree(K)}function n(Y,z,N,H){const V=H.tickInterval,Z=H.tickPositions;let W=A(Z,K=>K>=N),q=A([...Z].reverse(),K=>K<=z);return w(W)||(W=Z[Z.length-1]),w(q)||(q=Z[0],W+=V,Y[0][0]="L",Y.unshift(Y[Y.length-3])),(Y=Y.slice(Z.indexOf(q),Z.indexOf(W)+1))[0][0]="M",Y}function b(Y,z){return A(this.pane||[],N=>N.options.id===z)||Y.call(this,z)}function g(Y,z,N,H,V,Z){const W=this.chart,q=k(H.inside,!!this.options.stacking);let K,J,et;W.polar?(K=z.rectPlotX/Math.PI*180,W.inverted?(this.forceDL=W.isInsidePlot(z.plotX,z.plotY),q&&z.shapeArgs?(J=z.shapeArgs,et=this.yAxis.postTranslate(((J.start||0)+(J.end||0))/2-this.xAxis.startAngleRad,z.barX+z.pointWidth/2),V=d(V,{x:et.x-W.plotLeft,y:et.y-W.plotTop})):z.tooltipPos&&(V=d(V,{x:z.tooltipPos[0],y:z.tooltipPos[1]})),H.align=k(H.align,"center"),H.verticalAlign=k(H.verticalAlign,"middle")):H=function l(Y,z){let N,H;return null===z.align&&(N=Y>20&&Y<160?"left":Y>200&&Y<340?"right":"center",z.align=N),null===z.verticalAlign&&(H=Y<45||Y>315?"bottom":Y>135&&Y<225?"top":"middle",z.verticalAlign=H),z}(K,H),X.prototype.alignDataLabel.call(this,z,N,H,V,Z),this.isRadialBar&&z.shapeArgs&&z.shapeArgs.start===z.shapeArgs.end?N.hide():N.show()):Y.call(this,z,N,H,V,Z)}function P(){const Y=this,z=Y.options,N=z.stacking,H=Y.chart,V=Y.xAxis,Z=Y.yAxis,W=Z.reversed,q=Z.center,K=V.startAngleRad,et=V.endAngleRad-K;let lt,nt,at,pt,bt,xt,ft,yt,St,wt,Mt,Et,Lt,st=z.threshold,ot=0,ht=0,ct=0;if(V.isRadial)for(lt=Y.points,at=lt.length,pt=Z.translate(Z.min),bt=Z.translate(Z.max),st=z.threshold||0,H.inverted&&x(st)&&(ot=Z.translate(st),w(ot)&&(ot<0?ot=0:ot>et&&(ot=et),Y.translatedThreshold=ot+K));at--;){if(nt=lt[at],Mt=nt.barX,ft=nt.x,yt=nt.y,nt.shapeType="arc",H.inverted){nt.plotY=Z.translate(yt),N&&Z.stacking?(wt=Z.stacking.stacks[(yt<0?"-":"")+Y.stackKey],Y.visible&&wt&&wt[ft]&&(nt.isNull||(St=wt[ft].points[Y.getStackIndicator(void 0,ft,Y.index).key],ht=Z.translate(St[0]),ct=Z.translate(St[1]),w(ht)&&(ht=R.clamp(ht,0,et))))):(ht=ot,ct=nt.plotY),ht>ct&&(ct=[ht,ht=ct][0]),W?ct>pt?ct=pt:ht<bt?ht=bt:(ht>pt||ct<bt)&&(ht=ct=et):ht<pt?ht=pt:ct>bt?ct=bt:(ct<pt||ht>bt)&&(ht=ct=0),Z.min>Z.max&&(ht=ct=W?et:0),ht+=K,ct+=K,q&&(nt.barX=Mt+=q[3]/2),Et=Math.max(Mt,0),Lt=Math.max(Mt+nt.pointWidth,0);const Dt=z.borderRadius,It=s(("object"==typeof Dt?Dt.radius:Dt)||0,Lt-Et);nt.shapeArgs={x:q[0],y:q[1],r:Lt,innerR:Et,start:ht,end:ct,borderRadius:It},nt.opacity=ht===ct?0:void 0,nt.plotY=(w(Y.translatedThreshold)&&(ht<Y.translatedThreshold?ht:ct))-K}else ht=Mt+K,nt.shapeArgs=Y.polar.arc(nt.yBottom,nt.plotY,ht,ht+nt.pointWidth),nt.shapeArgs.borderRadius=0;Y.polar.toXY(nt),H.inverted?(xt=Z.postTranslate(nt.rectPlotY,Mt+nt.pointWidth/2),nt.tooltipPos=[xt.x-H.plotLeft,xt.y-H.plotTop]):nt.tooltipPos=[nt.plotX,nt.plotY],q&&(nt.ttBelow=nt.plotY>q[1])}}function E(Y,z){const N=this;let H,V;if(this.chart.polar){z=z||this.points;for(let W=0;W<z.length;W++)if(!z[W].isNull){H=W;break}!1!==this.options.connectEnds&&typeof H<"u"&&(this.connectEnds=!0,z.splice(z.length,0,z[H]),V=!0),z.forEach(W=>{typeof W.polarPlotY>"u"&&N.polar.toXY(W)})}const Z=Y.apply(this,[].slice.call(arguments,1));return V&&z.pop(),Z}function D(Y,z){const N=this.chart;let H={xAxis:[],yAxis:[]};return N.polar?N.axes.forEach(V=>{if("colorAxis"===V.coll)return;const Z=V.isXAxis,W=V.center,q=z.chartX-W[0]-N.plotLeft,K=z.chartY-W[1]-N.plotTop;H[Z?"xAxis":"yAxis"].push({axis:V,value:V.translate(Z?Math.PI-Math.atan2(q,K):Math.sqrt(Math.pow(q,2)+Math.pow(K,2)),!0)})}):H=Y.call(this,z),H}function O(Y,z){this.chart.polar||Y.call(this,z)}function S(Y,z){const N=this,H=this.chart,V=this.group,Z=this.markerGroup,W=this.xAxis&&this.xAxis.center,q=H.plotLeft,K=H.plotTop;let et,st,ot,lt,nt,at,J=this.options.animation;H.polar?N.isRadialBar?z||(N.startAngleRad=k(N.translatedThreshold,N.xAxis.startAngleRad),G.seriesTypes.pie.prototype.animate.call(N,z)):(J=I(J),N.is("column")?z||(st=W[3]/2,N.points.forEach(pt=>{ot=pt.graphic,lt=pt.shapeArgs,nt=lt&&lt.r,at=lt&&lt.innerR,ot&&lt&&(ot.attr({r:st,innerR:st}),ot.animate({r:nt,innerR:at},N.options.animation))})):z?(et={translateX:W[0]+q,translateY:W[1]+K,scaleX:.001,scaleY:.001},V.attr(et),Z&&Z.attr(et)):(et={translateX:q,translateY:K,scaleX:1,scaleY:1},V.animate(et,J),Z&&Z.animate(et,J))):Y.call(this,z)}function L(Y,z,N,H){let V,Z;if(this.chart.polar)if(H){Z=f(z,H,!0,this.connectEnds);const W=Z.prevPointCont&&Z.prevPointCont.rightContX,q=Z.prevPointCont&&Z.prevPointCont.rightContY;V=["C",x(W)?W:Z.plotX,x(q)?q:Z.plotY,x(Z.leftContX)?Z.leftContX:Z.plotX,x(Z.leftContY)?Z.leftContY:Z.plotY,Z.plotX,Z.plotY]}else V=["M",N.plotX,N.plotY];else V=Y.call(this,z,N,H);return V}function B(Y,z,N=this.plotY){if(!this.destroyed){const{plotX:H,series:V}=this,{chart:Z}=V;return Z.polar&&x(H)&&x(N)?[H+(z?Z.plotLeft:0),N+(z?Z.plotTop:0)]:Y.call(this,z,N)}}class _{static compose(z,N,H,V,Z,W,q,K,J,et){if(F.compose(N,H),U.compose(z,Z),r(T,"Polar")){const st=N.prototype,ot=W.prototype,lt=H.prototype,nt=V.prototype;if(e(N,"afterDrawChartBox",m),e(N,"getAxes",y),e(N,"init",M),o(st,"get",b),o(lt,"getCoordinates",D),o(lt,"pinch",O),e(H,"getSelectionMarkerAttrs",h),e(H,"getSelectionBox",C),e(V,"afterInit",a),e(V,"afterTranslate",t,{order:2}),e(V,"afterColumnTranslate",P,{order:4}),o(nt,"animate",S),o(ot,"pos",B),K){const at=K.prototype;o(at,"alignDataLabel",g),o(at,"animate",S)}if(J&&o(J.prototype,"getGraphPath",E),et){const at=et.prototype;o(at,"getPointSpline",L),q&&(q.prototype.getPointSpline=at.getPointSpline)}}}constructor(z){this.series=z}arc(z,N,H,V){const Z=this.series,W=Z.xAxis.center,q=Z.yAxis.len,K=W[3]/2;let J=q-N+K,et=q-k(z,q)+K;return Z.yAxis.reversed&&(J<0&&(J=K),et<0&&(et=K)),{x:W[0],y:W[1],r:J,innerR:et,start:H,end:V}}toXY(z){const N=this.series,H=N.chart,V=N.xAxis,Z=N.yAxis,W=z.plotX,q=H.inverted,K=z.y;let st,J=z.plotY,et=q?W:Z.len-J;if(q&&N&&!N.isRadialBar&&(z.plotY=J=x(K)?Z.translate(K):0),z.rectPlotX=W,z.rectPlotY=J,Z.center&&(et+=Z.center[3]/2),x(J)){const ot=q?Z.postTranslate(J,et):V.postTranslate(W,et);z.plotX=z.polarPlotX=ot.x-H.plotLeft,z.plotY=z.polarPlotY=ot.y-H.plotTop}N.kdByAngle?(st=(W/Math.PI*180+V.pane.options.startAngle)%360,st<0&&(st+=360),z.clientX=st):z.clientX=z.plotX}}return _}),$(v,"Core/Axis/WaterfallAxis.js",[v["Core/Globals.js"],v["Core/Axis/Stacking/StackItem.js"],v["Core/Utilities.js"]],function(j,G,X){const{composed:F}=j,{addEvent:U,objectEach:R,pushUnique:I}=X;var T;return function(e){function A(){const u=this.waterfall.stacks;u&&(u.changed=!1,delete u.alreadyChanged)}function x(){const s=this,u=s.options.stackLabels;u&&u.enabled&&s.waterfall.stacks&&s.waterfall.renderStackTotals()}function d(){const s=this;s.waterfall||(s.waterfall=new r(s))}function k(){const s=this.axes,u=this.series;for(const p of u)if(p.options.stacking){for(const o of s)o.isXAxis||(o.waterfall.stacks.changed=!0);break}}e.compose=function w(s,u){I(F,"Axis.Waterfall")&&(U(s,"init",d),U(s,"afterBuildStacks",A),U(s,"afterRender",x),U(u,"beforeRedraw",k))};class r{constructor(u){this.axis=u,this.stacks={changed:!1}}renderStackTotals(){const u=this.axis,p=u.waterfall.stacks,o=u.stacking&&u.stacking.stackTotalGroup,c=new G(u,u.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=c,o&&R(p,l=>{R(l,(f,m)=>{c.total=f.stackTotal,c.x=+m,f.label&&(c.label=f.label),G.prototype.render.call(c,o),f.label=c.label,delete c.label})}),c.total=null}}e.Composition=r}(T||(T={})),T}),$(v,"Series/Waterfall/WaterfallPoint.js",[v["Series/Column/ColumnSeries.js"],v["Core/Series/Point.js"],v["Core/Utilities.js"]],function(j,G,X){const{isNumber:F}=X;return class U extends j.prototype.pointClass{getClassName(){let I=G.prototype.getClassName.call(this);return this.isSum?I+=" highcharts-sum":this.isIntermediateSum&&(I+=" highcharts-intermediate-sum"),I}isValid(){return F(this.y)||this.isSum||Boolean(this.isIntermediateSum)}}}),$(v,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),$(v,"Series/Waterfall/WaterfallSeries.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"],v["Core/Axis/WaterfallAxis.js"],v["Series/Waterfall/WaterfallPoint.js"],v["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(j,G,X,F,U){const{column:R,line:I}=j.seriesTypes,{addEvent:T,arrayMax:e,arrayMin:w,correctFloat:A,crisp:x,extend:d,isNumber:k,merge:r,objectEach:s,pick:u}=G;function p(c,l){return Object.hasOwnProperty.call(c,l)}class o extends R{generatePoints(){R.prototype.generatePoints.apply(this);for(let l=0,f=this.points.length;l<f;l++){const m=this.points[l],M=this.processedYData[l];k(M)&&(m.isIntermediateSum||m.isSum)&&(m.y=A(M))}}processData(l){const f=this,m=f.options,M=f.yData,y=m.data,C=M.length,h=m.threshold||0;let a,t,i,n,b,g;i=t=n=b=0;for(let P=0;P<C;P++)g=M[P],a=y&&y[P]?y[P]:{},"sum"===g||a.isSum?M[P]=A(i):"intermediateSum"===g||a.isIntermediateSum?(M[P]=A(t),t=0):(i+=g,t+=g),n=Math.min(i,n),b=Math.max(i,b);super.processData.call(this,l),m.stacking||(f.dataMin=n+h,f.dataMax=b)}toYData(l){return l.isSum?"sum":l.isIntermediateSum?"intermediateSum":l.y}updateParallelArrays(l,f){super.updateParallelArrays.call(this,l,f),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(l,f){const m=this.options.upColor;m&&!l.options.color&&k(l.y)&&(l.color=l.y>0?m:void 0);const M=R.prototype.pointAttribs.call(this,l,f);return delete M.dashstyle,M}getGraphPath(){return[["M",0,0]]}getCrispPath(){const l=this.data.filter(t=>k(t.y)),f=this.yAxis,m=l.length,M=this.graph?.strokeWidth()||0,y=this.xAxis.reversed,C=this.yAxis.reversed,h=this.options.stacking,a=[];for(let t=1;t<m;t++){if(!this.options.connectNulls&&!k(this.data[l[t].index-1].y))continue;const i=l[t].box,n=l[t-1],b=n.y||0,g=l[t-1].box;if(!i||!g)continue;const P=f.waterfall.stacks[this.stackKey],E=b>0?-g.height:0;if(P&&g&&i){let O;O=x(h?f.translate(P[t-1].connectorThreshold,!1,!0,!1,!0)+(C?E:0):g.y+(n.minPointLengthOffset||0),M),a.push(["M",(g.x||0)+(y?0:g.width||0),O],["L",(i.x||0)+(y&&i.width||0),O])}if(g&&a.length&&(!h&&b<0&&!C||b>0&&C)){const D=a[a.length-2];D&&"number"==typeof D[2]&&(D[2]+=g.height||0);const O=a[a.length-1];O&&"number"==typeof O[2]&&(O[2]+=g.height||0)}}return a}drawGraph(){I.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(l){const f=this,m=f.options,M=l.waterfall?.stacks,y=m.threshold||0,C=f.stackKey,h=f.xData,a=h.length;let n,E,D,O,S,L,B,_,Y,t=y,i=t,b=0,g=0,P=0;const z=(N,H,V,Z)=>{if(n){if(E)for(;V<E;V++)n.stackState[V]+=Z;else n.stackState[0]=N,E=n.stackState.length;n.stackState.push(n.stackState[E-1]+H)}};if(l.stacking&&M&&f.reserveSpace()){Y=M.changed,_=M.alreadyChanged,_&&_.indexOf(C)<0&&(Y=!0),M[C]||(M[C]={});const N=M[C];if(N)for(let H=0;H<a;H++)B=h[H],(!N[B]||Y)&&(N[B]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Y&&N[B]?N[B].label:void 0}),n=N[B],L=f.yData[H],L>=0?n.posTotal+=L:n.negTotal+=L,S=m.data[H],D=n.absolutePos=n.posTotal,O=n.absoluteNeg=n.negTotal,n.stackTotal=D+O,E=n.stackState.length,S&&S.isIntermediateSum?(z(P,g,0,P),P=g,g=y,t^=i,i^=t,t^=i):S&&S.isSum?(z(y,b,E,0),t=y):(z(t,L,0,b),S&&(b+=L,g+=L)),n.stateIndex++,n.threshold=t,t+=n.stackTotal;M.changed=!1,M.alreadyChanged||(M.alreadyChanged=[]),M.alreadyChanged.push(C)}}getExtremes(){const l=this.options.stacking;let f,m,M,y;return l?(f=this.yAxis,m=f.waterfall.stacks,M=this.stackedYNeg=[],y=this.stackedYPos=[],s(m[this.stackKey],"overlap"===l?function(C){M.push(w(C.stackState)),y.push(e(C.stackState))}:function(C){M.push(C.negTotal+C.threshold),y.push(C.posTotal+C.threshold)}),{dataMin:w(M),dataMax:e(y)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return o.defaultOptions=r(R.defaultOptions,U),o.compose=X.compose,d(o.prototype,{pointValKey:"y",showLine:!0,pointClass:F}),T(o,"afterColumnTranslate",function(){const c=this,{options:l,points:f,yAxis:m}=c,M=u(l.minPointLength,5),y=M/2,C=l.threshold||0,h=l.stacking,a=m.waterfall.stacks[c.stackKey];let n,b,g,P,t=C,i=C;for(let E=0;E<f.length;E++){const D=f[E],O=c.processedYData[E],L=d({x:0,y:0,width:0,height:0},D.shapeArgs||{});D.box=L;const B=[0,O],_=D.y||0;if(h){if(a){const N=a[E];"overlap"===h?(b=N.stackState[N.stateIndex--],n=_>=0?b:b-_,p(N,"absolutePos")&&delete N.absolutePos,p(N,"absoluteNeg")&&delete N.absoluteNeg):(_>=0?(b=N.threshold+N.posTotal,N.posTotal-=_,n=b):(b=N.threshold+N.negTotal,N.negTotal-=_,n=b-_),N.posTotal||k(N.absolutePos)&&p(N,"absolutePos")&&(N.posTotal=N.absolutePos,delete N.absolutePos),N.negTotal||k(N.absoluteNeg)&&p(N,"absoluteNeg")&&(N.negTotal=N.absoluteNeg,delete N.absoluteNeg)),D.isSum||(N.connectorThreshold=N.threshold+N.stackTotal),m.reversed?(g=_>=0?n-_:n+_,P=n):(g=n,P=n-_),D.below=g<=C,L.y=m.translate(g,!1,!0,!1,!0),L.height=Math.abs(L.y-m.translate(P,!1,!0,!1,!0));const H=m.waterfall.dummyStackItem;H&&(H.x=E,H.label=a[E].label,H.setOffset(c.pointXOffset||0,c.barW||0,c.stackedYNeg[E],c.stackedYPos[E],void 0,this.xAxis))}}else n=Math.max(i,i+_)+B[0],L.y=m.translate(n,!1,!0,!1,!0),D.isSum?(L.y=m.translate(B[1],!1,!0,!1,!0),L.height=Math.min(m.translate(B[0],!1,!0,!1,!0),m.len)-L.y,D.below=B[1]<=C):D.isIntermediateSum?(_>=0?(g=B[1]+t,P=t):(g=t,P=B[1]+t),m.reversed&&(g^=P,P^=g,g^=P),L.y=m.translate(g,!1,!0,!1,!0),L.height=Math.abs(L.y-Math.min(m.translate(P,!1,!0,!1,!0),m.len)),t+=B[1],D.below=g<=C):(L.height=O>0?m.translate(i,!1,!0,!1,!0)-L.y:m.translate(i,!1,!0,!1,!0)-m.translate(i-O,!1,!0,!1,!0),i+=O,D.below=i<C),L.height<0&&(L.y+=L.height,L.height*=-1);D.plotY=L.y,D.yBottom=L.y+L.height,L.height<=M&&!D.isNull?(L.height=M,L.y-=y,D.yBottom=L.y+L.height,D.plotY=L.y,D.minPointLengthOffset=_<0?-y:y):(D.isNull&&(L.width=0),D.minPointLengthOffset=0);const Y=D.plotY+(D.negative?L.height:0);D.below&&(D.plotY+=L.height),D.tooltipPos&&(c.chart.inverted?D.tooltipPos[0]=m.len-Y:D.tooltipPos[1]=Y),D.isInside=this.isPointInside(D);const z=x(D.yBottom,c.borderWidth);L.y=x(L.y,c.borderWidth),L.height=z-L.y,r(!0,D.shapeArgs,L)}},{order:2}),j.registerSeriesType("waterfall",o),o}),$(v,"masters/highcharts-more.src.js",[v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Extensions/Pane/Pane.js"],v["Series/Bubble/BubbleSeries.js"],v["Series/PackedBubble/PackedBubbleSeries.js"],v["Series/PolarComposition.js"],v["Core/Axis/RadialAxis.js"],v["Series/Waterfall/WaterfallSeries.js"]],function(j,G,X,F,U,R,I,T){const e=j;return e.RadialAxis=I,F.compose(e.Axis,e.Chart,e.Legend,e.Series),U.compose(e.Axis,e.Chart,e.Legend,e.Series),X.compose(e.Chart,e.Pointer),R.compose(e.Axis,e.Chart,e.Pointer,e.Series,e.Tick,e.Point,G.seriesTypes.areasplinerange,G.seriesTypes.column,G.seriesTypes.line,G.seriesTypes.spline),T.compose(e.Axis,e.Chart),e})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},5002:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Accessibility/Utils/HTMLUtilities.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{doc:X,win:F}=j,{css:U}=G,R=F.EventTarget&&new F.EventTarget||"none";function e(l){if("function"==typeof F.MouseEvent)return new F.MouseEvent(l.type,l);if(X.createEvent){const f=X.createEvent("MouseEvent");if(f.initMouseEvent)return f.initMouseEvent(l.type,l.bubbles,l.cancelable,l.view||F,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget),f}return d(l.type)}function d(l,f,m){const M=f||{x:0,y:0};if("function"==typeof F.MouseEvent)return new F.MouseEvent(l,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:m||R,view:F,detail:"click"===l?1:0,screenX:M.x,screenY:M.y,clientX:M.x,clientY:M.y});if(X.createEvent){const y=X.createEvent("MouseEvent");if(y.initMouseEvent)return y.initMouseEvent(l,!0,!0,F,"click"===l?1:0,M.x,M.y,M.x,M.y,!1,!1,!1,!1,0,null),y}return{type:l}}return{addClass:function I(l,f){l.classList?l.classList.add(f):l.className.indexOf(f)<0&&(l.className+=" "+f)},cloneMouseEvent:e,cloneTouchEvent:function w(l){const f=M=>{const y=[];for(let C=0;C<M.length;++C){const h=M.item(C);h&&y.push(h)}return y};if("function"==typeof F.TouchEvent){const M=new F.TouchEvent(l.type,{touches:f(l.touches),targetTouches:f(l.targetTouches),changedTouches:f(l.changedTouches),ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,altKey:l.altKey,metaKey:l.metaKey,bubbles:l.bubbles,cancelable:l.cancelable,composed:l.composed,detail:l.detail,view:l.view});return l.defaultPrevented&&M.preventDefault(),M}const m=e(l);return m.touches=l.touches,m.changedTouches=l.changedTouches,m.targetTouches=l.targetTouches,m},escapeStringForHTML:function A(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function x(l){return X.getElementById(l)},getFakeMouseEvent:d,getHeadingTagNameForElement:function k(l){const f=C=>{const h=parseInt(C.slice(1),10);return"h"+Math.min(6,h+1)},m=C=>/H[1-6]/.test(C),y=C=>{const h=(C=>{let h=C;for(;h=h.previousSibling;){const a=h.tagName||"";if(m(a))return a}return""})(C);if(h)return f(h);const a=C.parentElement;if(!a)return"p";const t=a.tagName;return m(t)?f(t):y(a)};return y(l)},removeChildNodes:function s(l){for(;l.lastChild;)l.removeChild(l.lastChild)},removeClass:function T(l,f){l.classList?l.classList.remove(f):l.className=l.className.replace(new RegExp(f,"g"),"")},removeElement:function r(l){l&&l.parentNode&&l.parentNode.removeChild(l)},reverseChildNodes:function u(l){let f=l.childNodes.length;for(;f--;)l.appendChild(l.childNodes[f])},simulatedEventTarget:R,stripHTMLTagsFromString:function p(l,f=!1){return"string"==typeof l?l.replace(f?/<\/?[^>]+(>|$)/g:/<\/?(?!\s)[^>]+(>|$)/g,""):l},visuallyHideElement:function o(l){U(l,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),$(v,"Accessibility/A11yI18n.js",[v["Core/Templating.js"],v["Core/Utilities.js"]],function(j,G){const{format:X}=j,{getNestedProperty:F,pick:U}=G;var R;return function(I){function w(d,k,r){const s=(l,f)=>{const m=l.slice(f||0),M=m.indexOf("{"),y=m.indexOf("}");if(M>-1&&y>M)return{statement:m.substring(M+1,y),begin:f+M+1,end:f+y}},u=[];let p,o,c=0;do{p=s(d,c),o=d.substring(c,p&&p.begin-1),o.length&&u.push({value:o,type:"constant"}),p&&u.push({value:p.statement,type:"statement"}),c=p?p.end+1:c+1}while(p);return u.forEach(l=>{"statement"===l.type&&(l.value=function e(d,k){const r=d.indexOf("#each("),s=d.indexOf("#plural("),u=d.indexOf("["),p=d.indexOf("]");let o,c;if(r>-1){const l=d.slice(r).indexOf(")")+r,f=d.substring(0,r),m=d.substring(l+1),y=d.substring(r+6,l).split(",");let h,C=Number(y[1]);if(c="",o=F(y[0],k),o){C=isNaN(C)?o.length:C,h=C<0?o.length+C:Math.min(C,o.length);for(let a=0;a<h;++a)c+=f+o[a]+m}return c.length?c:""}if(s>-1){const l=d.slice(s).indexOf(")")+s,m=d.substring(s+8,l).split(",");switch(Number(F(m[0],k))){case 0:c=U(m[4],m[1]);break;case 1:c=U(m[2],m[1]);break;case 2:c=U(m[3],m[1]);break;default:c=m[1]}return c?function x(d){return d.trim&&d.trim()||d.replace(/^\s+|\s+$/g,"")}(c):""}if(u>-1){const l=d.substring(0,u),f=Number(d.substring(u+1,p));let m;return o=F(l,k),!isNaN(f)&&o&&(f<0?(m=o[o.length+f],typeof m>"u"&&(m=o[0])):(m=o[f],typeof m>"u"&&(m=o[o.length-1]))),typeof m<"u"?m:""}return"{"+d+"}"}(l.value,k))}),X(u.reduce((l,f)=>l+f.value,""),k,r)}function A(d,k){const r=d.split(".");let s=this.options.lang,u=0;for(;u<r.length;++u)s=s&&s[r[u]];return"string"==typeof s?w(s,k,this):""}I.compose=function T(d){const k=d.prototype;k.langFormat||(k.langFormat=A)},I.i18nFormat=w}(R||(R={})),R}),$(v,"Accessibility/Utils/ChartUtilities.js",[v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(j,G,X){const{doc:F}=j,{stripHTMLTagsFromString:U}=G,{defined:R,find:I,fireEvent:T}=X;function s(y){if(y.points&&y.points.length){const C=I(y.points,h=>!!h.graphic);return C&&C.graphic&&C.graphic.element}}function u(y){const C=s(y);return C&&C.parentNode||y.graph&&y.graph.element||y.group&&y.group.element}return{fireEventOnWrappedOrUnwrappedElement:function e(y,C){const h=C.type,a=y.hcEvents;F.createEvent&&(y.dispatchEvent||y.fireEvent)?y.dispatchEvent?y.dispatchEvent(C):y.fireEvent(h,C):a&&a[h]?T(y,h,C):y.element&&e(y.element,C)},getChartTitle:function w(y){return U(y.options.title.text||y.langFormat("accessibility.defaultChartTitle",{chart:y}),y.renderer.forExport)},getAxisDescription:function A(y){return y&&(y.options.accessibility?.description||y.axisTitle?.textStr||y.options.id||y.categories&&"categories"||y.dateTime&&"Time"||"values")},getAxisRangeDescription:function x(y){const C=y.options||{};return C.accessibility&&typeof C.accessibility.rangeDescription<"u"?C.accessibility.rangeDescription:y.categories?function d(y){const C=y.chart;return y.dataMax&&y.dataMin?C.langFormat("accessibility.axis.rangeCategories",{chart:C,axis:y,numCategories:y.dataMax-y.dataMin+1}):""}(y):!y.dateTime||0!==y.min&&0!==y.dataMin?function r(y){const C=y.chart,h=C.options,a=h&&h.accessibility&&h.accessibility.screenReaderSection.axisRangeDateFormat||"",t={min:y.dataMin||y.min||0,max:y.dataMax||y.max||0},i=function(n){return y.dateTime?C.time.dateFormat(a,t[n]):t[n].toString()};return C.langFormat("accessibility.axis.rangeFromTo",{chart:C,axis:y,rangeFrom:i("min"),rangeTo:i("max")})}(y):function k(y){const C=y.chart,h={};let i="Seconds";h.Seconds=((y.dataMax||y.max||0)-(y.dataMin||y.min||0))/1e3,h.Minutes=h.Seconds/60,h.Hours=h.Minutes/60,h.Days=h.Hours/24,["Minutes","Hours","Days"].forEach(function(b){h[b]>2&&(i=b)});const n=h[i].toFixed("Seconds"!==i&&"Minutes"!==i?1:0);return C.langFormat("accessibility.axis.timeRange"+i,{chart:C,axis:y,range:n.replace(".0","")})}(y)},getPointFromXY:function l(y,C,h){let t,a=y.length;for(;a--;)if(t=I(y[a].points||[],function(i){return i.x===C&&i.y===h}),t)return t},getSeriesFirstPointElement:s,getSeriesFromName:function c(y,C){return C?(y.series||[]).filter(function(h){return h.name===C}):y.series},getSeriesA11yElement:u,unhideChartElementFromAT:function p(y,C){C.setAttribute("aria-hidden",!1),C!==y.renderTo&&C.parentNode&&C.parentNode!==F.body&&(Array.prototype.forEach.call(C.parentNode.childNodes,function(h){h.hasAttribute("aria-hidden")||h.setAttribute("aria-hidden",!0)}),p(y,C.parentNode))},hideSeriesFromAT:function o(y){const C=u(y);C&&C.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function m(y){const C=y.series.xAxis,a=C&&C.scrollbar?C:y.series.yAxis,t=a&&a.scrollbar;if(t&&R(t.to)&&R(t.from)){const i=t.to-t.from,n=function f(y,C){if(!R(y.dataMin)||!R(y.dataMax))return 0;const h=y.toPixels(y.dataMin),a=y.toPixels(y.dataMax);return(y.toPixels(C["xAxis"===y.coll?"x":"y"]||0)-h)/(a-h)}(a,y);t.updatePosition(n-i/2,n+i/2),T(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:null})}}}}),$(v,"Accessibility/Utils/DOMElementProvider.js",[v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G){const{doc:X}=j,{removeElement:F}=G;return class U{constructor(){this.elements=[]}createElement(){const I=X.createElement.apply(X,arguments);return this.elements.push(I),I}removeElement(I){F(I),this.elements.splice(this.elements.indexOf(I),1)}destroyCreatedElements(){this.elements.forEach(function(I){F(I)}),this.elements=[]}}}),$(v,"Accessibility/Utils/EventProvider.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{addEvent:X}=G;return class F{constructor(){this.eventRemovers=[]}addEvent(){const R=X.apply(j,arguments);return this.eventRemovers.push({element:arguments[0],remover:R}),R}removeEvent(R){const I=this.eventRemovers.map(T=>T.remover).indexOf(R);this.eventRemovers[I].remover(),this.eventRemovers.splice(I,1)}removeAddedEvents(){this.eventRemovers.map(R=>R.remover).forEach(R=>R()),this.eventRemovers=[]}}}),$(v,"Accessibility/AccessibilityComponent.js",[v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{fireEventOnWrappedOrUnwrappedElement:R}=j,{getFakeMouseEvent:I}=F,{extend:T}=U;class e{initBase(A,x){this.chart=A,this.eventProvider=new X,this.domElementProvider=new G,this.proxyProvider=x,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(A,x,d,k){return this.eventProvider.addEvent(A,x,d,k)}createElement(A,x){return this.domElementProvider.createElement(A,x)}fakeClickEvent(A){const x=I("click");R(A,x)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return T(e.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),e}),$(v,"Accessibility/KeyboardNavigationHandler.js",[v["Core/Utilities.js"]],function(j){const{find:G}=j;return class X{constructor(U,R){this.chart=U,this.keyCodeMap=R.keyCodeMap||[],this.validate=R.validate,this.init=R.init,this.terminate=R.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(U){const R=U.which||U.keyCode;let I=this.response.noHandler;const T=G(this.keyCodeMap,function(e){return e[0].indexOf(R)>-1});return T?I=T[1].call(this,R,U):9===R&&(I=this.response[U.shiftKey?"prev":"next"]),I}}}),$(v,"Accessibility/Components/ContainerComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G,X,F,U){const{unhideChartElementFromAT:R,getChartTitle:I}=X,{doc:T}=F,{stripHTMLTagsFromString:e}=U;return class w extends j{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const x=this.chart,d="highcharts-title-"+x.index,k=e(x.langFormat("accessibility.svgContainerTitle",{chartTitle:I(x)}));if(k.length){const r=this.svgTitleElement=this.svgTitleElement||T.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=k,r.id=d,x.renderTo.insertBefore(r,x.renderTo.firstChild)}}setSVGContainerLabel(){const x=this.chart,d=x.langFormat("accessibility.svgContainerLabel",{chartTitle:I(x)});x.renderer.box&&d.length&&x.renderer.box.setAttribute("aria-label",d)}setGraphicContainerAttrs(){const x=this.chart,d=x.langFormat("accessibility.graphicContainerLabel",{chartTitle:I(x)});d.length&&x.container.setAttribute("aria-label",d)}setRenderToAttrs(){const x=this.chart,d="disabled"!==x.options.accessibility.landmarkVerbosity,k=x.langFormat("accessibility.chartContainerLabel",{title:I(x),chart:x});k&&(x.renderTo.setAttribute("role",d?"region":"group"),x.renderTo.setAttribute("aria-label",k))}makeCreditsAccessible(){const x=this.chart,d=x.credits;d&&(d.textStr&&d.element.setAttribute("aria-label",x.langFormat("accessibility.credits",{creditsStr:e(d.textStr,x.renderer.forExport)})),R(x,d.element))}getKeyboardNavigation(){const x=this.chart;return new G(x,{keyCodeMap:[],validate:function(){return!0},init:function(){const d=x.accessibility;d&&d.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),$(v,"Accessibility/FocusBorder.js",[v["Core/Utilities.js"]],function(j){const{addEvent:G,pick:X}=j;var F;return function(U){const R=["x","y","transform","width","height","r","d","stroke-width"];function T(){const s=this.focusElement,u=this.options.accessibility.keyboardNavigation.focusBorder;s&&(s.removeFocusBorder(),u.enabled&&s.addFocusBorder(u.margin,{stroke:u.style.color,strokeWidth:u.style.lineWidth,r:u.style.borderRadius}))}function e(s,u){const p=this.options.accessibility.keyboardNavigation.focusBorder,o=u||s.element;o&&o.focus&&(o.hcEvents&&o.hcEvents.focusin||G(o,"focusin",function(){}),o.focus(),p.hideBrowserFocusOutline&&(o.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=s,this.renderFocusBorder()}function A(s,u){this.focusBorder&&this.removeFocusBorder();const p=this.getBBox(),o=X(s,3),c=this.parentGroup,l=this.scaleX||c&&c.scaleX,f=this.scaleY||c&&c.scaleY,M=(l?!f:f)?Math.abs(l||f||1):(Math.abs(l||1)+Math.abs(f||1))/2;p.x+=this.translateX?this.translateX:0,p.y+=this.translateY?this.translateY:0;let y=p.x-o,C=p.y-o,h=p.width+2*o,a=p.height+2*o;const i=!!this.text;if("text"===this.element.nodeName||i){const n=!!this.rotation,b=i?{x:n?1:0,y:0}:function t(n){let b=0,g=0;return"middle"===n.attr("text-anchor")?b=g=.5:n.rotation?b=.25:g=.75,{x:b,y:g}}(this),g=+this.attr("x"),P=+this.attr("y");if(isNaN(g)||(y=g-p.width*b.x-o),isNaN(P)||(C=P-p.height*b.y-o),i&&n){const E=h;h=a,a=E,isNaN(g)||(y=g-p.height*b.x-o),isNaN(P)||(C=P-p.width*b.y-o)}}this.focusBorder=this.renderer.rect(y,C,h,a,parseInt((u&&u.r||0).toString(),10)/M).addClass("highcharts-focus-border").attr({zIndex:99}).add(c),this.renderer.styledMode||this.focusBorder.attr({stroke:u&&u.stroke,"stroke-width":(u&&u.strokeWidth||0)/M}),function x(s,...u){s.focusBorderUpdateHooks||(s.focusBorderUpdateHooks={},R.forEach(p=>{const o=p+"Setter",c=s[o]||s._defaultSetter;s.focusBorderUpdateHooks[o]=c,s[o]=function(){const l=c.apply(s,arguments);return s.addFocusBorder.apply(s,u),l}}))}(this,s,u),function w(s){if(s.focusBorderDestroyHook)return;const u=s.destroy;s.destroy=function(){return s.focusBorder&&s.focusBorder.destroy&&s.focusBorder.destroy(),u.apply(s,arguments)},s.focusBorderDestroyHook=u}(this)}function k(){(function r(s){s.focusBorderUpdateHooks&&(Object.keys(s.focusBorderUpdateHooks).forEach(u=>{const p=s.focusBorderUpdateHooks[u];p===s._defaultSetter?delete s[u]:s[u]=p}),delete s.focusBorderUpdateHooks)})(this),function d(s){s.focusBorderDestroyHook&&(s.destroy=s.focusBorderDestroyHook,delete s.focusBorderDestroyHook)}(this),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}U.compose=function I(s,u){const p=s.prototype,o=u.prototype;p.renderFocusBorder||(p.renderFocusBorder=T,p.setFocusToElement=e),o.addFocusBorder||(o.addFocusBorder=A,o.removeFocusBorder=k)}}(F||(F={})),F}),$(v,"Accessibility/Utils/Announcer.js",[v["Core/Renderer/HTML/AST.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{doc:R}=X,{addClass:I,visuallyHideElement:T}=F,{attr:e}=U;return class w{constructor(x,d){this.chart=x,this.domElementProvider=new G,this.announceRegion=this.addAnnounceRegion(d)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(x){j.setElementHTML(this.announceRegion,x),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=j.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(x){const d=this.chart.announcerContainer||this.createAnnouncerContainer(),k=this.domElementProvider.createElement("div");return e(k,{"aria-hidden":!1,"aria-live":x,"aria-atomic":!0}),this.chart.styledMode?I(k,"highcharts-visually-hidden"):T(k),d.appendChild(k),k}createAnnouncerContainer(){const x=this.chart,d=R.createElement("div");return e(d,{"aria-hidden":!1,class:"highcharts-announcer-container"}),d.style.position="relative",x.renderTo.insertBefore(d,x.renderTo.firstChild),x.announcerContainer=d,d}}}),$(v,"Accessibility/Components/AnnotationsA11y.js",[v["Accessibility/Utils/HTMLUtilities.js"]],function(j){const{escapeStringForHTML:G,stripHTMLTagsFromString:X}=j;function F(A){return(A.annotations||[]).reduce((d,k)=>(k.options&&!1!==k.options.visible&&(d=d.concat(k.labels)),d),[])}function U(A){return A.options&&A.options.accessibility&&A.options.accessibility.description||A.graphic&&A.graphic.text&&A.graphic.text.textStr||""}function R(A){const x=A.options&&A.options.accessibility&&A.options.accessibility.description;if(x)return x;const d=A.chart,k=U(A),p=A.points.filter(m=>!!m.graphic).map(m=>{const M=m.accessibility&&m.accessibility.valueDescription||(m=>m.graphic&&m.graphic.element&&m.graphic.element.getAttribute("aria-label")||"")(m),y=m&&m.series.name||"";return(y?y+", ":"")+"data point "+M}).filter(m=>!!m),o=p.length,l="accessibility.screenReaderSection.annotations.description"+(o>1?"MultiplePoints":o?"SinglePoint":"NoPoints"),f={annotationText:k,annotation:A,numPoints:o,annotationPoint:p[0],additionalAnnotationPoints:p.slice(1)};return d.langFormat(l,f)}function I(A){return F(A).map(d=>{const k=G(X(R(d),A.renderer.forExport));return k?`<li>${k}</li>`:""})}return{getAnnotationsInfoHTML:function T(A){const x=A.annotations;return x&&x.length?`<ul style="list-style-type: none">${I(A).join(" ")}</ul>`:""},getAnnotationLabelDescription:R,getAnnotationListItems:I,getPointAnnotationTexts:function e(A){const d=F(A.series.chart).filter(k=>k.points.indexOf(A)>-1);return d.length?d.map(k=>`${U(k)}`):[]}}}),$(v,"Accessibility/Components/InfoRegionsComponent.js",[v["Accessibility/A11yI18n.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/Components/AnnotationsA11y.js"],v["Core/Renderer/HTML/AST.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T,e,w){const{getAnnotationsInfoHTML:A}=F,{getAxisDescription:x,getAxisRangeDescription:d,getChartTitle:k,unhideChartElementFromAT:r}=R,{format:s}=I,{doc:u}=T,{addClass:p,getElement:o,getHeadingTagNameForElement:c,stripHTMLTagsFromString:l,visuallyHideElement:f}=e,{attr:m,pick:M,replaceNested:y}=w;function b(P){return y(P,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}return class g extends G{constructor(){super(...arguments),this.screenReaderSections={}}init(){const E=this.chart,D=this;this.initRegionsDefinitions(),this.addEvent(E,"aftergetTableAST",function(O){D.onDataTableCreated(O)}),this.addEvent(E,"afterViewData",function(O){O.wasHidden&&(D.dataTableDiv=O.element,setTimeout(function(){D.focusDataTable()},300))}),this.addEvent(E,"afterHideData",function(){D.viewDataTableButton&&D.viewDataTableButton.setAttribute("aria-expanded","false")}),this.announcer=new X(E,"assertive")}initRegionsDefinitions(){const E=this,D=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(O){const S=D.screenReaderSection.beforeChartFormatter;return S?S(O):E.defaultBeforeChartFormatter(O)},insertIntoDOM:function(O,S){S.renderTo.insertBefore(O,S.renderTo.firstChild)},afterInserted:function(){typeof E.sonifyButtonId<"u"&&E.initSonifyButton(E.sonifyButtonId),typeof E.dataTableButtonId<"u"&&E.initDataTableButton(E.dataTableButtonId)}},after:{element:null,buildContent:function(O){const S=D.screenReaderSection.afterChartFormatter;return S?S(O):E.defaultAfterChartFormatter()},insertIntoDOM:function(O,S){S.renderTo.insertBefore(O,S.container.nextSibling)},afterInserted:function(){E.chart.accessibility&&D.keyboardNavigation.enabled&&E.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const E=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(D){E.updateScreenReaderSection(D)})}getLinkedDescriptionElement(){const D=this.chart.options.accessibility.linkedDescription;if(!D)return;if("string"!=typeof D)return D;const O=s(D,this.chart),S=u.querySelectorAll(O);return 1===S.length?S[0]:void 0}setLinkedDescriptionAttrs(){const E=this.linkedDescriptionElement;E&&(E.setAttribute("aria-hidden","true"),p(E,"highcharts-linked-description"))}updateScreenReaderSection(E){const D=this.chart,O=this.screenReaderSections[E],S=O.buildContent(D),L=O.element=O.element||this.createElement("div"),B=L.firstChild||this.createElement("div");S?(this.setScreenReaderSectionAttribs(L,E),U.setElementHTML(B,S),L.appendChild(B),O.insertIntoDOM(L,D),D.styledMode?p(B,"highcharts-visually-hidden"):f(B),r(D,B),O.afterInserted&&O.afterInserted()):(L.parentNode&&L.parentNode.removeChild(L),O.element=null)}setScreenReaderSectionAttribs(E,D){const O=this.chart,S=O.langFormat("accessibility.screenReaderSection."+D+"RegionLabel",{chart:O,chartTitle:k(O)});m(E,{id:`highcharts-screen-reader-region-${D}-${O.index}`,"aria-label":S||void 0}),E.style.position="relative",S&&E.setAttribute("role","all"===O.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){const E=this.chart,D=E.options.accessibility.screenReaderSection.beforeChartFormat;if(!D)return"";const O=this.getAxesDescription(),S=E.sonify&&E.options.sonification&&E.options.sonification.enabled,L="highcharts-a11y-sonify-data-btn-"+E.index,B="hc-linkto-highcharts-data-table-"+E.index,_=A(E),Y=E.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:E}),z={headingTagName:c(E.renderTo),chartTitle:k(E),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:O.xAxis,yAxisDescription:O.yAxis,playAsSoundButton:S?this.getSonifyButtonText(L):"",viewTableButton:E.getCSV?this.getDataTableButtonText(B):"",annotationsTitle:_?Y:"",annotationsList:_},N=j.i18nFormat(D,z,E);return this.dataTableButtonId=B,this.sonifyButtonId=L,b(N)}defaultAfterChartFormatter(){const E=this.chart,D=E.options.accessibility.screenReaderSection.afterChartFormat;if(!D)return"";const O={endOfChartMarker:this.getEndOfChartMarkerText()};return b(j.i18nFormat(D,O,E))}getLinkedDescription(){const E=this.linkedDescriptionElement;return l(E&&E.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){const E=this.chart.options,D=E.caption,O=D&&D.text,S=this.getLinkedDescription();return E.accessibility.description||S||O||""}getTypeDescriptionText(){const E=this.chart;return E.types?E.options.accessibility.typeDescription||function n(P,E){const D=E[0],O=P.series&&P.series[0]||{},L={numSeries:P.series.length,numPoints:O.points&&O.points.length,chart:P,mapTitle:P.mapView&&P.mapView.geoMap&&P.mapView.geoMap.title};return D?"map"===D||"tiledwebmap"===D?function h(P,E){return P.langFormat(E.mapTitle?"accessibility.chartTypes.mapTypeDescription":"accessibility.chartTypes.unknownMap",E)}(P,L):P.types.length>1?function a(P,E){return P.langFormat("accessibility.chartTypes.combinationChart",E)}(P,L):function i(P,E,D){const O=E[0],S=P.langFormat("accessibility.seriesTypeDescriptions."+O,D),L=P.series&&P.series.length<2?"Single":"Multiple";return(P.langFormat("accessibility.chartTypes."+O+L,D)||P.langFormat("accessibility.chartTypes.default"+L,D))+(S?" "+S:"")}(P,E,L):function t(P,E){return P.langFormat("accessibility.chartTypes.emptyChart",E)}(P,L)}(E,E.types):""}getDataTableButtonText(E){const D=this.chart;return'<button id="'+E+'">'+D.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:D,chartTitle:k(D)})+"</button>"}getSonifyButtonText(E){const D=this.chart;return D.options.sonification&&!1===D.options.sonification.enabled?"":'<button id="'+E+'">'+D.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:D,chartTitle:k(D)})+"</button>"}getSubtitleText(){const E=this.chart.options.subtitle;return l(E&&E.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){const D=o(`highcharts-end-of-chart-marker-${this.chart.index}`);if(D)return D.outerHTML;const O=this.chart,S=O.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:O});return'<div id="highcharts-end-of-chart-marker-'+O.index+'">'+S+"</div>"}onDataTableCreated(E){const D=this.chart;if(D.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const O=E.tree.attributes||{};O.tabindex=-1,O.summary=function C(P){return P.langFormat("accessibility.table.tableSummary",{chart:P})}(D),E.tree.attributes=O}}focusDataTable(){const E=this.dataTableDiv,D=E&&E.getElementsByTagName("table")[0];D&&D.focus&&D.focus()}initSonifyButton(E){const D=this.sonifyButton=o(E),O=this.chart,S=L=>{D&&(D.setAttribute("aria-hidden","true"),D.setAttribute("aria-label","")),L.preventDefault(),L.stopPropagation();const B=O.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:O});this.announcer.announce(B),setTimeout(()=>{D&&(D.removeAttribute("aria-hidden"),D.removeAttribute("aria-label")),O.sonify&&O.sonify()},1e3)};D&&O&&(D.setAttribute("tabindex",-1),D.onclick=function(L){(O.options.accessibility&&O.options.accessibility.screenReaderSection.onPlayAsSoundClick||S).call(this,L,O)})}initDataTableButton(E){const D=this.viewDataTableButton=o(E),O=this.chart,S=E.replace("hc-linkto-","");D&&(m(D,{tabindex:-1,"aria-expanded":!!o(S)}),D.onclick=O.options.accessibility.screenReaderSection.onViewDataTableClick||function(){O.viewData()})}getAxesDescription(){const E=this.chart,D=function(Y,z){const N=E[Y];return N.length>1||N[0]&&M(N[0].options.accessibility&&N[0].options.accessibility.enabled,z)},O=!!E.types&&E.types.indexOf("map")<0&&E.types.indexOf("treemap")<0&&E.types.indexOf("tilemap")<0,S=!!E.hasCartesianSeries,L=D("xAxis",!E.angular&&S&&O),B=D("yAxis",S&&O),_={};return L&&(_.xAxis=this.getAxisDescriptionText("xAxis")),B&&(_.yAxis=this.getAxisDescriptionText("yAxis")),_}getAxisDescriptionText(E){const D=this.chart,O=D[E];return D.langFormat("accessibility.axis."+E+"Description"+(O.length>1?"Plural":"Singular"),{chart:D,names:O.map(function(S){return x(S)}),ranges:O.map(function(S){return d(S)}),numAxes:O.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),$(v,"Accessibility/Components/MenuComponent.js",[v["Core/Utilities.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G,X,F,U){const{attr:R}=j,{getChartTitle:I,unhideChartElementFromAT:T}=F,{getFakeMouseEvent:e}=U;function w(d){return d.exportSVGElements&&d.exportSVGElements[0]}class x extends G{init(){const k=this.chart,r=this;this.addEvent(k,"exportMenuShown",function(){r.onMenuShown()}),this.addEvent(k,"exportMenuHidden",function(){r.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const k=this.chart.exportContextMenu;k&&k.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const k=this.chart,r=k.exportContextMenu;r&&(this.addAccessibleContextMenuAttribs(),T(k,r)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(k){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",k)}onChartRender(){const k=this.chart,r=k.focusElement,s=k.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&r&&r===k.exportingGroup&&(r.focusBorder?k.setFocusToElement(r,this.exportButtonProxy.innerElement):s&&s.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const k=this.chart,r=this.proxyProvider,s=w(k);(function A(d){const k=d.options.exporting,r=w(d);return!!(k&&!1!==k.enabled&&k.accessibility&&k.accessibility.enabled&&r&&r.element)})(k)&&s&&(this.exportButtonProxy=r.addProxyElement("chartMenu",{click:s},"button",{"aria-label":k.langFormat("accessibility.exporting.menuButtonLabel",{chart:k,chartTitle:I(k)}),"aria-expanded":!1,title:k.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){const k=this.chart,r=k.exportDivElements;if(r&&r.length){r.forEach(u=>{u&&("LI"!==u.tagName||u.children&&u.children.length?u.setAttribute("aria-hidden","true"):u.setAttribute("tabindex",-1))});const s=r[0]&&r[0].parentNode;s&&R(s,{"aria-hidden":void 0,"aria-label":k.langFormat("accessibility.exporting.chartMenuLabel",{chart:k}),role:"list"})}}getKeyboardNavigation(){const k=this.keyCodes,r=this.chart,s=this;return new X(r,{keyCodeMap:[[[k.left,k.up],function(){return s.onKbdPrevious(this)}],[[k.right,k.down],function(){return s.onKbdNext(this)}],[[k.enter,k.space],function(){return s.onKbdClick(this)}]],validate:function(){return!!r.exporting&&!1!==r.options.exporting.enabled&&!1!==r.options.exporting.accessibility.enabled},init:function(){const u=s.exportButtonProxy,p=s.chart.exportingGroup;u&&p&&r.setFocusToElement(p,u.innerElement)},terminate:function(){r.hideExportMenu()}})}onKbdPrevious(k){const r=this.chart,s=r.options.accessibility,u=k.response;let p=r.highlightedExportItemIx||0;for(;p--;)if(r.highlightExportItem(p))return u.success;return s.keyboardNavigation.wrapAround?(r.highlightLastExportItem(),u.success):u.prev}onKbdNext(k){const r=this.chart,s=r.options.accessibility,u=k.response;for(let p=(r.highlightedExportItemIx||0)+1;p<r.exportDivElements.length;++p)if(r.highlightExportItem(p))return u.success;return s.keyboardNavigation.wrapAround?(r.highlightExportItem(0),u.success):u.next}onKbdClick(k){const r=this.chart,s=r.exportDivElements[r.highlightedExportItemIx],u=w(r).element;return r.openMenu?this.fakeClickEvent(s):(this.fakeClickEvent(u),r.highlightExportItem(0)),k.response.success}}return function(d){function r(){const o=w(this);if(o){const c=o.element;c.onclick&&c.onclick(e("click"))}}function s(){const o=this,c=o.exportDivElements;c&&o.exportContextMenu&&o.openMenu&&(c.forEach(l=>{l&&"highcharts-menu-item"===l.className&&l.onmouseout&&l.onmouseout(e("mouseout"))}),o.highlightedExportItemIx=0,o.exportContextMenu.hideMenu(),o.container.focus())}function u(o){const c=this.exportDivElements&&this.exportDivElements[o],l=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(c&&"LI"===c.tagName&&(!c.children||!c.children.length)){const f=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return c.focus&&f&&c.focus(),l&&l.onmouseout&&l.onmouseout(e("mouseout")),c.onmouseover&&c.onmouseover(e("mouseover")),this.highlightedExportItemIx=o,!0}return!1}function p(){const o=this;if(o.exportDivElements){let c=o.exportDivElements.length;for(;c--;)if(o.highlightExportItem(c))return!0}return!1}d.compose=function k(o){const c=o.prototype;c.hideExportMenu||(c.hideExportMenu=s,c.highlightExportItem=u,c.highlightLastExportItem=p,c.showExportMenu=r)}}(x||(x={})),x}),$(v,"Accessibility/KeyboardNavigation.js",[v["Core/Globals.js"],v["Accessibility/Components/MenuComponent.js"],v["Core/Utilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G,X,F,U){const{doc:R,win:I}=j,{addEvent:T,defined:e,fireEvent:w}=X,{getElement:A,simulatedEventTarget:x}=U;class d{constructor(r,s){this.currentModuleIx=NaN,this.modules=[],this.init(r,s)}init(r,s){const u=this.eventProvider=new F;this.chart=r,this.components=s,this.modules=[],this.currentModuleIx=0,this.update(),u.addEvent(this.tabindexContainer,"keydown",p=>this.onKeydown(p)),u.addEvent(this.tabindexContainer,"focus",p=>this.onFocus(p)),["mouseup","touchend"].forEach(p=>u.addEvent(R,p,o=>this.onMouseUp(o))),["mousedown","touchstart"].forEach(p=>u.addEvent(r.renderTo,p,()=>{this.isClickingChart=!0}))}update(r){const s=this.chart.options.accessibility,u=s&&s.keyboardNavigation,p=this.components;this.updateContainerTabindex(),u&&u.enabled&&r&&r.length?(this.modules=r.reduce(function(o,c){const l=p[c].getKeyboardNavigation();return o.concat(l)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const s=A(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),s?(this.makeElementAnExitAnchor(s),this.exitAnchor=s):this.createExitAnchor()}move(r){const s=this.modules&&this.modules[this.currentModuleIx];s&&s.terminate&&s.terminate(r),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=r;const u=this.modules&&this.modules[this.currentModuleIx];if(u){if(u.validate&&!u.validate())return this.move(r);if(u.init)return u.init(r),!0}return this.currentModuleIx=0,this.exiting=!0,r>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(r){const s=this.chart,u=r.relatedTarget&&s.container.contains(r.relatedTarget),p=s.options.accessibility,o=p&&p.keyboardNavigation;if(o&&o.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!u){const l=this.getFirstValidModuleIx();null!==l&&(this.currentModuleIx=l,this.modules[l].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(r){if(delete this.isClickingChart,!this.keyboardReset&&r.relatedTarget!==x){const s=this.chart;if(!r.target||!s.container.contains(r.target)){const u=this.modules&&this.modules[this.currentModuleIx||0];u&&u.terminate&&u.terminate(),this.currentModuleIx=0}s.focusElement&&(s.focusElement.removeFocusBorder(),delete s.focusElement),this.keyboardReset=!0}}onKeydown(r){const s=r||I.event,u=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let p;const o=s.target;if((!o||"INPUT"!==o.nodeName||o.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,u)){const c=u.run(s);c===u.response.success?p=!0:c===u.response.prev?p=this.move(-1):c===u.response.next&&(p=this.move(1)),p&&(s.preventDefault(),s.stopPropagation())}}updateContainerTabindex(){const r=this.chart.options.accessibility,s=r&&r.keyboardNavigation,u=!(s&&!1===s.enabled),p=this.chart,o=p.container;let c;p.renderTo.hasAttribute("tabindex")?(o.removeAttribute("tabindex"),c=p.renderTo):c=o,this.tabindexContainer=c;const l=c.getAttribute("tabindex");u&&!l?c.setAttribute("tabindex","0"):u||p.container.removeAttribute("tabindex")}createExitAnchor(){const r=this.chart,s=this.exitAnchor=R.createElement("div");r.renderTo.appendChild(s),this.makeElementAnExitAnchor(s)}makeElementAnExitAnchor(r){const s=this.tabindexContainer.getAttribute("tabindex")||0;r.setAttribute("class","highcharts-exit-anchor"),r.setAttribute("tabindex",s),r.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(r)}removeExitAnchor(){if(this.exitAnchor){const r=this.eventProvider.eventRemovers.find(s=>s.element===this.exitAnchor);r&&e(r.remover)&&this.eventProvider.removeEvent(r.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(r){const s=this.chart,u=this;this.eventProvider.addEvent(r,"focus",function(p){const o=p||I.event,l=!(o.relatedTarget&&s.container.contains(o.relatedTarget)||u.exiting);if(s.focusElement&&delete s.focusElement,l){if(u.tabbingInBackwards=!0,u.tabindexContainer.focus(),delete u.tabbingInBackwards,o.preventDefault(),u.modules&&u.modules.length){u.currentModuleIx=u.modules.length-1;const f=u.modules[u.currentModuleIx];f&&f.validate&&!f.validate()?u.move(-1):f&&f.init(-1)}}else u.exiting=!1})}getFirstValidModuleIx(){const r=this.modules.length;for(let s=0;s<r;++s){const u=this.modules[s];if(!u.validate||u.validate())return s}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(k){function s(){const p=this;w(this,"dismissPopupContent",{},function(){p.tooltip&&p.tooltip.hide(0),p.hideExportMenu()})}function u(p){27===(p.which||p.keyCode)&&j.charts&&j.charts.forEach(l=>{l&&l.dismissPopupContent&&l.dismissPopupContent()})}k.compose=function r(p){G.compose(p);const o=p.prototype;return o.dismissPopupContent||(o.dismissPopupContent=s,T(R,"keydown",u)),p}}(d||(d={})),d}),$(v,"Accessibility/Components/LegendComponent.js",[v["Core/Animation/AnimationUtilities.js"],v["Core/Globals.js"],v["Core/Legend/Legend.js"],v["Core/Utilities.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G,X,F,U,R,I,T){const{animObject:e}=j,{doc:w}=G,{addEvent:A,fireEvent:x,isNumber:d,pick:k,syncTimeout:r}=F,{getChartTitle:s}=I,{stripHTMLTagsFromString:u,addClass:p,removeClass:o}=T;function l(M){const y=M.legend&&M.legend.allItems,C=M.options.legend.accessibility||{},h=M.colorAxis&&M.colorAxis.some(a=>!a.dataClasses||!a.dataClasses.length);return!(!y||!y.length||h||!1===C.enabled)}function f(M,y){const C=y.legendItem||{};y.setState(M?"hover":"",!0);for(const h of["group","label","symbol"]){const a=C[h],t=a&&a.element||a;t&&x(t,M?"mouseover":"mouseout")}}class m extends U{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const y=this;this.recreateProxies(),this.addEvent(X,"afterScroll",function(){this.chart===y.chart&&(y.proxyProvider.updateGroupProxyElementPositions("legend"),y.updateLegendItemProxyVisibility(),y.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(y.highlightedLegendItemIx))}),this.addEvent(X,"afterPositionItem",function(C){this.chart===y.chart&&this.chart.renderer&&y.updateProxyPositionForItem(C.item)}),this.addEvent(X,"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&y.recreateProxies()&&r(()=>y.proxyProvider.updateGroupProxyElementPositions("legend"),e(k(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const y=this.chart,C=y.legend,a=C.currentPage||1,t=C.clipHeight||0;let i;(C.allItems||[]).forEach(n=>{if(n.a11yProxyElement){const g=n.a11yProxyElement.element;let P=!1;if(i=n.legendItem||{},C.pages&&C.pages.length){const E=i.pageIx||0;P=(i.y||0)+(i.label?Math.round(i.label.getBBox().height):0)-C.pages[E]>t||E!==a-1}P?y.styledMode?p(g,"highcharts-a11y-invisible"):g.style.visibility="hidden":(o(g,"highcharts-a11y-invisible"),g.style.visibility="")}})}onChartRender(){l(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(y){const C=this.chart,h=C.legend,t=(h.currentPage||1)+y;if(t>0&&t<=(h.pages||[]).length){let b,n=0;for(const g of h.allItems)((g.legendItem||{}).pageIx||0)+1===t&&(b=C.highlightLegendItem(n),b&&(this.highlightedLegendItemIx=n)),++n}}updateProxyPositionForItem(y){y.a11yProxyElement&&y.a11yProxyElement.refreshPosition()}recreateProxies(){const y=w.activeElement,C=this.proxyGroup,h=y&&C&&C.contains(y);return this.removeProxies(),!!l(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),h&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){const y=this.chart,C=u((y.legend&&y.legend.options.title&&y.legend.options.title.text||"").replace(/<br ?\/?>/g," "),y.renderer.forExport),h=y.langFormat("accessibility.legend.legendLabel"+(C?"":"NoTitle"),{chart:y,legendTitle:C,chartTitle:s(y)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":h})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})}proxyLegendItems(){const y=this;let h;((this.chart.legend||{}).allItems||[]).forEach(a=>{h=a.legendItem||{},h.label&&h.label.element&&y.proxyLegendItem(a)})}proxyLegendItem(y){const C=y.legendItem||{};if(!C.label||!C.group)return;const h=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:u(y.name,this.chart.renderer.forExport),item:y});y.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:C.label,visual:(C.group.div?C.label:C.group).element},"button",{tabindex:-1,"aria-pressed":y.visible,"aria-label":h})}getKeyboardNavigation(){const y=this.keyCodes,C=this,h=this.chart;return new R(h,{keyCodeMap:[[[y.left,y.right,y.up,y.down],function(a){return C.onKbdArrowKey(this,a)}],[[y.enter,y.space],function(){return C.onKbdClick(this)}],[[y.pageDown,y.pageUp],function(a){return C.highlightAdjacentLegendPage(a===y.pageDown?1:-1),this.response.success}]],validate:function(){return C.shouldHaveLegendNavigation()},init:function(){h.highlightLegendItem(0),C.highlightedLegendItemIx=0},terminate:function(){C.highlightedLegendItemIx=-1,h.legend.allItems.forEach(a=>f(!1,a))}})}onKbdArrowKey(y,C){const{keyCodes:{left:h,up:a},highlightedLegendItemIx:t,chart:i}=this,n=i.legend.allItems.length,b=i.options.accessibility.keyboardNavigation.wrapAround,g=C===h||C===a?-1:1;return i.highlightLegendItem(t+g)?this.highlightedLegendItemIx+=g:b&&n>1&&(this.highlightedLegendItemIx=g>0?0:n-1,i.highlightLegendItem(this.highlightedLegendItemIx)),y.response.success}onKbdClick(y){const C=this.chart.legend.allItems[this.highlightedLegendItemIx];return C&&C.a11yProxyElement&&C.a11yProxyElement.click(),y.response.success}shouldHaveLegendNavigation(){if(!l(this.chart))return!1;const y=this.chart,h=(y.options.legend||{}).accessibility||{};return!!(y.legend.display&&h.keyboardNavigation&&h.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}return function(M){function y(a){const t=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,n=t[a],b=n?.legendItem||{};if(n){d(i)&&t[i]&&f(!1,t[i]),function c(M,y){const C=(M.allItems[y].legendItem||{}).pageIx,h=M.currentPage;typeof C<"u"&&C+1!==h&&M.scroll(1+C-h)}(this.legend,a);const g=b.label,P=n.a11yProxyElement&&n.a11yProxyElement.innerElement;return g&&g.element&&P&&this.setFocusToElement(g,P),f(!0,n),!0}return!1}function h(a){const n=a.item;this.chart.options.accessibility.enabled&&n&&n.a11yProxyElement&&n.a11yProxyElement.innerElement.setAttribute("aria-pressed",a.visible?"true":"false")}M.compose=function C(a,t){const i=a.prototype;i.highlightLegendItem||(i.highlightLegendItem=y,A(t,"afterColorizeItem",h))}}(m||(m={})),m}),$(v,"Stock/Navigator/ChartNavigatorComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{isTouchDevice:X}=j,{addEvent:F,merge:U,pick:R}=G,I=[];let T;function w(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function A(){const p=this.legend,o=this.navigator;let c,l,f;if(o){c=p&&p.options,l=o.xAxis,f=o.yAxis;const{scrollbarHeight:m,scrollButtonSize:M}=o;this.inverted?(o.left=o.opposite?this.chartWidth-m-o.height:this.spacing[3]+m,o.top=this.plotTop+M):(o.left=R(l.left,this.plotLeft+M),o.top=o.navigatorOptions.top||this.chartHeight-o.height-m-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(c&&"bottom"===c.verticalAlign&&"proximate"!==c.layout&&c.enabled&&!c.floating?p.legendHeight+R(c.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),l&&f&&(this.inverted?l.options.left=f.options.left=o.left:l.options.top=f.options.top=o.top,l.setAxisSize(),f.setAxisSize())}}function x(p){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new T(this),R(p.redraw,!0)&&this.redraw(p.animation))}function d(){const p=this.options;(p.navigator.enabled||p.scrollbar.enabled)&&(this.scroller=this.navigator=new T(this))}function k(){const p=this.options,o=p.navigator,c=p.rangeSelector;if((o&&o.enabled||c&&c.enabled)&&(!X&&"x"===this.zooming.type||X&&"x"===this.zooming.pinchType))return!1}function r(p){const o=p.navigator;if(o&&p.xAxis[0]){const c=p.xAxis[0].getExtremes();o.render(c.min,c.max)}}function s(p){const o=p.options.navigator||{},c=p.options.scrollbar||{};!this.navigator&&!this.scroller&&(o.enabled||c.enabled)&&(U(!0,this.options.navigator,o),U(!0,this.options.scrollbar,c),delete p.options.navigator,delete p.options.scrollbar)}return{compose:function e(p,o){G.pushUnique(I,p)&&(T=o,p.prototype.callbacks.push(r),F(p,"afterAddSeries",w),F(p,"afterSetChartSize",A),F(p,"afterUpdate",x),F(p,"beforeRender",d),F(p,"beforeShowResetZoom",k),F(p,"update",s))}}}),$(v,"Core/Axis/NavigatorAxisComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{isTouchDevice:X}=j,{addEvent:F,correctFloat:U,defined:R,isNumber:I,pick:T}=G;function e(){const x=this;x.navigatorAxis||(x.navigatorAxis=new A(x))}function w(x){const d=this,k=d.chart,r=k.options,u=d.navigatorAxis,c=k.zooming.type;let l;if(d.isXAxis&&(r.navigator?.enabled||r.rangeSelector?.enabled))if("y"===c&&"zoom"===x.trigger)l=!1;else if(("zoom"===x.trigger&&"xy"===c||X&&"xy"===k.zooming.pinchType)&&d.options.range){const f=u.previousZoom;R(x.min)?u.previousZoom=[d.min,d.max]:f&&(x.min=f[0],x.max=f[1],u.previousZoom=void 0)}typeof l<"u"&&x.preventDefault()}class A{static compose(d){d.keepProps.includes("navigatorAxis")||(d.keepProps.push("navigatorAxis"),F(d,"init",e),F(d,"setExtremes",w))}constructor(d){this.axis=d}destroy(){this.axis=void 0}toFixedRange(d,k,r,s){const u=this.axis,p=(u.pointRange||0)/2;let o=T(r,u.translate(d,!0,!u.horiz)),c=T(s,u.translate(k,!0,!u.horiz));return R(r)||(o=U(o+p)),R(s)||(c=U(c-p)),(!I(o)||!I(c))&&(o=c=void 0),{min:o,max:c}}}return A}),$(v,"Stock/Navigator/NavigatorDefaults.js",[v["Core/Color/Color.js"],v["Core/Series/SeriesRegistry.js"]],function(j,G){const{parse:X}=j,{seriesTypes:F}=G;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:X("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof F.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),$(v,"Stock/Navigator/NavigatorSymbols.js",[v["Core/Renderer/SVG/Symbols.js"],v["Core/Utilities.js"]],function(j,G){const{relativeLength:X}=G;return{"navigator-handle":function F(R,I,T,e,w={}){const A=w.width?w.width/2:T,d=X(w.borderRadius||0,Math.min(2*A,e));return[["M",-1.5,(e=w.height||e)/2-3.5],["L",-1.5,e/2+4.5],["M",.5,e/2-3.5],["L",.5,e/2+4.5],...j.rect(-A-1,.5,2*A+1,e,{r:d})]}}}),$(v,"Stock/Utilities/StockUtilities.js",[v["Core/Utilities.js"]],function(j){const{defined:G}=j;return{setFixedRange:function X(U){const R=this.xAxis[0];this.fixedRange=G(R.dataMax)&&G(R.dataMin)&&U?Math.min(U,R.dataMax-R.dataMin):U}}}),$(v,"Stock/Navigator/NavigatorComposition.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorDefaults.js"],v["Stock/Navigator/NavigatorSymbols.js"],v["Core/Renderer/RendererRegistry.js"],v["Stock/Utilities/StockUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){const{setOptions:e}=j,{composed:w}=G,{getRendererType:A}=R,{setFixedRange:x}=I,{addEvent:d,extend:k,pushUnique:r}=T;function u(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function s(o,c,l){X.compose(c),r(w,"Navigator")&&(o.prototype.setFixedRange=x,k(A().prototype.symbols,U),d(l,"afterUpdate",u),e({navigator:F}))}}}),$(v,"Core/Axis/ScrollbarAxis.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{composed:X}=j,{addEvent:F,defined:U,pick:R,pushUnique:I}=G;var T;return function(e){let w;function x(s){const u=R(s.options&&s.options.min,s.min),p=R(s.options&&s.options.max,s.max);return{axisMin:u,axisMax:p,scrollMin:U(s.dataMin)?Math.min(u,s.min,s.dataMin,R(s.threshold,1/0)):u,scrollMax:U(s.dataMax)?Math.max(p,s.max,s.dataMax,R(s.threshold,-1/0)):p}}function d(){const s=this,u=s.scrollbar,o=s.horiz?2:u&&!u.options.opposite?3:1;u&&(s.chart.scrollbarsOffsets=[0,0],s.chart.axisOffset[o]+=u.size+(u.options.margin||0))}function k(){const s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new w(s.chart.renderer,s.options.scrollbar,s.chart),F(s.scrollbar,"changed",function(u){const{axisMin:p,axisMax:o,scrollMin:c,scrollMax:l}=x(s),f=l-c;let m,M;U(p)&&U(o)&&(s.horiz&&!s.reversed||!s.horiz&&s.reversed?(m=c+f*this.to,M=c+f*this.from):(m=c+f*(1-this.from),M=c+f*(1-this.to)),this.shouldUpdateExtremes(u.DOMType)?s.setExtremes(M,m,!0,"mousemove"!==u.DOMType&&"touchmove"!==u.DOMType&&void 0,u):this.setRange(this.from,this.to))}))}function r(){const s=this,{scrollMin:u,scrollMax:p}=x(s),o=s.scrollbar,c=s.axisTitleMargin+(s.titleOffset||0),l=s.chart.scrollbarsOffsets,f=s.options.margin||0;let m,M,y;if(o&&l){if(s.horiz)s.opposite||(l[1]+=c),o.position(s.left,s.top+s.height+2+l[1]-(s.opposite?f:0),s.width,s.height),s.opposite||(l[1]+=f),m=1;else{let C;s.opposite&&(l[0]+=c),C=o.options.opposite?s.left+s.width+2+l[0]-(s.opposite?0:f):s.opposite?0:f,o.position(C,s.top,s.width,s.height),s.opposite&&(l[0]+=f),m=0}l[m]+=o.size+(o.options.margin||0),isNaN(u)||isNaN(p)||!U(s.min)||!U(s.max)||s.min===s.max?o.setRange(0,1):(M=(s.min-u)/(p-u),y=(s.max-u)/(p-u),s.horiz&&!s.reversed||!s.horiz&&s.reversed?o.setRange(M,y):o.setRange(1-y,1-M))}}e.compose=function A(s,u){I(X,"Axis.Scrollbar")&&(w=u,F(s,"afterGetOffset",d),F(s,"afterInit",k),F(s,"afterRender",r))}}(T||(T={})),T}),$(v,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),$(v,"Stock/Scrollbar/Scrollbar.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/ScrollbarAxis.js"],v["Stock/Scrollbar/ScrollbarDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{defaultOptions:R}=j,{addEvent:I,correctFloat:T,crisp:e,defined:w,destroyObjectProperties:A,fireEvent:x,merge:d,pick:k,removeEvent:r}=U;let s=(()=>{class u{static compose(o){X.compose(o,u)}static swapXY(o,c){return c&&o.forEach(l=>{const f=l.length;let m;for(let M=0;M<f;M+=2)m=l[M+1],"number"==typeof m&&(l[M+1]=l[M+2],l[M+2]=m)}),o}constructor(o,c,l){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(o,c,l)}addEvents(){const o=this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,l=this.scrollbarGroup.element,f=this.track.element,m=this.mouseDownHandler.bind(this),M=this.mouseMoveHandler.bind(this),y=this.mouseUpHandler.bind(this),C=[[c[o[0]].element,"click",this.buttonToMinClick.bind(this)],[c[o[1]].element,"click",this.buttonToMaxClick.bind(this)],[f,"click",this.trackClick.bind(this)],[l,"mousedown",m],[l.ownerDocument,"mousemove",M],[l.ownerDocument,"mouseup",y],[l,"touchstart",m],[l.ownerDocument,"touchmove",M],[l.ownerDocument,"touchend",y]];C.forEach(function(h){I.apply(null,h)}),this._events=C}buttonToMaxClick(o){const c=this,l=(c.to-c.from)*k(c.options.step,.2);c.updatePosition(c.from+l,c.to+l),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}buttonToMinClick(o){const c=this,l=T(c.to-c.from)*k(c.options.step,.2);c.updatePosition(T(c.from-l),T(c.to-l)),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}cursorToScrollbarPosition(o){const c=this,l=c.options,f=l.minWidth>c.calculatedWidth?l.minWidth:0;return{chartX:(o.chartX-c.x-c.xOffset)/(c.barWidth-f),chartY:(o.chartY-c.y-c.yOffset)/(c.barWidth-f)}}destroy(){const o=this,c=o.chart.scroller;o.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(l){o[l]&&o[l].destroy&&(o[l]=o[l].destroy())}),c&&o===c.scrollbar&&(c.scrollbar=null,A(c.scrollbarButtons))}drawScrollbarButton(o){const c=this,l=c.renderer,f=c.scrollbarButtons,m=c.options,M=c.size,y=l.g().add(c.group);if(f.push(y),m.buttonsEnabled){const C=l.rect().addClass("highcharts-scrollbar-button").add(y);c.chart.styledMode||C.attr({stroke:m.buttonBorderColor,"stroke-width":m.buttonBorderWidth,fill:m.buttonBackgroundColor}),C.attr(C.crisp({x:-.5,y:-.5,width:M,height:M,r:m.buttonBorderRadius},C.strokeWidth()));const h=l.path(u.swapXY([["M",M/2+(o?-1:1),M/2-3],["L",M/2+(o?-1:1),M/2+3],["L",M/2+(o?2:-2),M/2]],m.vertical)).addClass("highcharts-scrollbar-arrow").add(f[o]);c.chart.styledMode||h.attr({fill:m.buttonArrowColor})}}init(o,c,l){const f=this;f.scrollbarButtons=[],f.renderer=o,f.userOptions=c,f.options=d(F,R.scrollbar,c),f.options.margin=k(f.options.margin,10),f.chart=l,f.size=k(f.options.size,f.options.height),c.enabled&&(f.render(),f.addEvents())}mouseDownHandler(o){const c=this,l=c.chart.pointer?.normalize(o)||o,f=c.cursorToScrollbarPosition(l);c.chartX=f.chartX,c.chartY=f.chartY,c.initPositions=[c.from,c.to],c.grabbedCenter=!0}mouseMoveHandler(o){const c=this,l=c.chart.pointer?.normalize(o)||o,m=c.options.vertical?"chartY":"chartX",M=c.initPositions||[];let y,C,h;c.grabbedCenter&&(!o.touches||0!==o.touches[0][m])&&(C=c.cursorToScrollbarPosition(l)[m],y=c[m],h=C-y,c.hasDragged=!0,c.updatePosition(M[0]+h,M[1]+h),c.hasDragged&&x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMType:o.type,DOMEvent:o}))}mouseUpHandler(o){const c=this;c.hasDragged&&x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMType:o.type,DOMEvent:o}),c.grabbedCenter=c.hasDragged=c.chartX=c.chartY=null}position(o,c,l,f){const m=this,M=m.options,{buttonsEnabled:y,margin:C=0,vertical:h}=M,a=m.rendered?"animate":"attr";let t=f,i=0;m.group.show(),m.x=o,m.y=c+this.trackBorderWidth,m.width=l,m.height=f,m.xOffset=t,m.yOffset=i,h?(m.width=m.yOffset=l=i=m.size,m.xOffset=t=0,m.yOffset=i=y?m.size:0,m.barWidth=f-(y?2*l:0),m.x=o+=C):(m.height=f=m.size,m.xOffset=t=y?m.size:0,m.barWidth=l-(y?2*f:0),m.y=m.y+C),m.group[a]({translateX:o,translateY:m.y}),m.track[a]({width:l,height:f}),m.scrollbarButtons[1][a]({translateX:h?0:l-t,translateY:h?f-i:0})}removeEvents(){this._events.forEach(function(o){r.apply(null,o)}),this._events.length=0}render(){const o=this,c=o.renderer,l=o.options,f=o.size,m=o.chart.styledMode,M=c.g("scrollbar").attr({zIndex:l.zIndex}).hide().add();o.group=M,o.track=c.rect().addClass("highcharts-scrollbar-track").attr({r:l.trackBorderRadius||0,height:f,width:f}).add(M),m||o.track.attr({fill:l.trackBackgroundColor,stroke:l.trackBorderColor,"stroke-width":l.trackBorderWidth});const y=o.trackBorderWidth=o.track.strokeWidth();o.track.attr({x:-e(0,y),y:-e(0,y)}),o.scrollbarGroup=c.g().add(M),o.scrollbar=c.rect().addClass("highcharts-scrollbar-thumb").attr({height:f-y,width:f-y,r:l.barBorderRadius||0}).add(o.scrollbarGroup),o.scrollbarRifles=c.path(u.swapXY([["M",-3,f/4],["L",-3,2*f/3],["M",0,f/4],["L",0,2*f/3],["M",3,f/4],["L",3,2*f/3]],l.vertical)).addClass("highcharts-scrollbar-rifles").add(o.scrollbarGroup),m||(o.scrollbar.attr({fill:l.barBackgroundColor,stroke:l.barBorderColor,"stroke-width":l.barBorderWidth}),o.scrollbarRifles.attr({stroke:l.rifleColor,"stroke-width":1})),o.scrollbarStrokeWidth=o.scrollbar.strokeWidth(),o.scrollbarGroup.translate(-e(0,o.scrollbarStrokeWidth),-e(0,o.scrollbarStrokeWidth)),o.drawScrollbarButton(0),o.drawScrollbarButton(1)}setRange(o,c){const l=this,f=l.options,m=f.vertical,M=f.minWidth,y=l.barWidth,C=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!w(y))return;const h=y*Math.min(c,1);let a,t;o=Math.max(o,0),a=Math.ceil(y*o),l.calculatedWidth=t=T(h-a),t<M&&(a=(y-M+t)*o,t=M);const i=Math.floor(a+l.xOffset+l.yOffset),n=t/2-.5;l.from=o,l.to=c,m?(l.scrollbarGroup[C]({translateY:i}),l.scrollbar[C]({height:t}),l.scrollbarRifles[C]({translateY:n}),l.scrollbarTop=i,l.scrollbarLeft=0):(l.scrollbarGroup[C]({translateX:i}),l.scrollbar[C]({width:t}),l.scrollbarRifles[C]({translateX:n}),l.scrollbarLeft=i,l.scrollbarTop=0),t<=12?l.scrollbarRifles.hide():l.scrollbarRifles.show(),!1===f.showFull&&(o<=0&&c>=1?l.group.hide():l.group.show()),l.rendered=!0}shouldUpdateExtremes(o){return k(this.options.liveRedraw,G.svg&&!G.isTouchDevice&&!this.chart.boosted)||"mouseup"===o||"touchend"===o||!w(o)}trackClick(o){const c=this,l=c.chart.pointer?.normalize(o)||o,f=c.to-c.from;c.options.vertical&&l.chartY>c.y+c.scrollbarTop||!c.options.vertical&&l.chartX>c.x+c.scrollbarLeft?c.updatePosition(c.from+f,c.to+f):c.updatePosition(c.from-f,c.to-f),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}update(o){this.destroy(),this.init(this.chart.renderer,d(!0,this.options,o),this.chart)}updatePosition(o,c){c>1&&(o=T(1-T(c-o)),c=1),o<0&&(c=T(c-o),o=0),this.from=o,this.to=c}}return u.defaultOptions=F,u})();return R.scrollbar=d(!0,s.defaultOptions,R.scrollbar),s}),$(v,"Stock/Navigator/Navigator.js",[v["Core/Axis/Axis.js"],v["Stock/Navigator/ChartNavigatorComposition.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorComposition.js"],v["Stock/Scrollbar/Scrollbar.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){const{defaultOptions:e}=X,{isTouchDevice:w}=F,{addEvent:A,clamp:x,correctFloat:d,defined:k,destroyObjectProperties:r,erase:s,extend:u,find:p,fireEvent:o,isArray:c,isNumber:l,merge:f,pick:m,removeEvent:M,splat:y}=T;function C(a,...t){const i=[].filter.call(t,l);if(i.length)return Math[a].apply(0,i)}class h{static compose(t,i,n){G.compose(t,h),R.compose(t,i,n)}constructor(t){this.scrollbarHeight=0,this.init(t)}drawHandle(t,i,n,b){const g=this,P=g.navigatorOptions.handles.height;g.handles[i][b](n?{translateX:Math.round(g.left+g.height/2),translateY:Math.round(g.top+parseInt(t,10)+.5-P)}:{translateX:Math.round(g.left+parseInt(t,10)),translateY:Math.round(g.top+g.height/2-P/2-1)})}drawOutline(t,i,n,b){const g=this,P=g.navigatorOptions.maskInside,E=g.outline.strokeWidth(),D=E/2,O=E%2/2,S=g.scrollButtonSize,L=g.size,B=g.top,_=g.height,Y=B-D,z=B+_;let H,V,N=g.left;n?(H=B+i+O,V=[["M",N+_,B-S-O],["L",N+_,H],["L",N,H],["M",N,i=B+t+O],["L",N+_,i],["L",N+_,B+L+S]],P&&V.push(["M",N+_,H-D],["L",N+_,i+D])):(N-=S,V=[["M",N,Y],["L",t+=N+S-O,Y],["L",t,z],["M",i+=N+S-O,z],["L",i,Y],["L",N+L+2*S,B+D]],P&&V.push(["M",t-D,Y],["L",i+D,Y])),g.outline[b]({d:V})}drawMasks(t,i,n,b){const g=this,P=g.left,E=g.top,D=g.height;let O,S,L,B;n?(L=[P,P,P],B=[E,E+t,E+i],S=[D,D,D],O=[t,i-t,g.size-i]):(L=[P,P+t,P+i],B=[E,E,E],S=[t,i-t,g.size-i],O=[D,D,D]),g.shades.forEach((_,Y)=>{_[b]({x:L[Y],y:B[Y],width:S[Y],height:O[Y]})})}renderElements(){const t=this,i=t.navigatorOptions,n=i.maskInside,b=t.chart,P=b.renderer,E={cursor:b.inverted?"ns-resize":"ew-resize"},D=t.navigatorGroup=P.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach((O,S)=>{const L=P.rect().addClass("highcharts-navigator-mask"+(1===S?"-inside":"-outside")).add(D);b.styledMode||(L.attr({fill:O?i.maskFill:"rgba(0,0,0,0)"}),1===S&&L.css(E)),t.shades[S]=L}),t.outline=P.path().addClass("highcharts-navigator-outline").add(D),b.styledMode||t.outline.attr({"stroke-width":i.outlineWidth,stroke:i.outlineColor}),i.handles&&i.handles.enabled){const O=i.handles,{height:S,width:L}=O;[0,1].forEach(B=>{t.handles[B]=P.symbol(O.symbols[B],-L/2-1,0,L,S,O),b.inverted&&t.handles[B].attr({rotation:90,rotationOriginX:Math.floor(-L/2),rotationOriginY:(S+L)/2}),t.handles[B].attr({zIndex:7-B}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][B]).add(D),b.styledMode||t.handles[B].attr({fill:O.backgroundColor,stroke:O.borderColor,"stroke-width":O.lineWidth}).css(E)})}}update(t){(this.series||[]).forEach(n=>{n.baseSeries&&delete n.baseSeries.navigatorSeries}),this.destroy(),f(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,i,n,b){const g=this,P=g.chart,E=g.xAxis,D=E.pointRange||0,O=E.navigatorAxis.fake?P.xAxis[0]:E,S=g.navigatorEnabled,L=g.rendered,B=P.inverted,_=P.xAxis[0].minRange,Y=P.xAxis[0].options.maxRange,z=g.scrollButtonSize;let N,H,V,W,q,Z=g.scrollbarHeight;if(this.hasDragged&&!k(n))return;if(t=d(t-D/2),i=d(i+D/2),!l(t)||!l(i)){if(!L)return;n=0,b=m(E.width,O.width)}g.left=m(E.left,P.plotLeft+z+(B?P.plotWidth:0));let K=g.size=W=m(E.len,(B?P.plotHeight:P.plotWidth)-2*z);N=B?Z:W+2*z,n=m(n,E.toPixels(t,!0)),b=m(b,E.toPixels(i,!0)),(!l(n)||Math.abs(n)===1/0)&&(n=0,b=N);const J=E.toValue(n,!0),et=E.toValue(b,!0),st=Math.abs(d(et-J));st<_?this.grabbedLeft?n=E.toPixels(et-_-D,!0):this.grabbedRight&&(b=E.toPixels(J+_+D,!0)):k(Y)&&d(st-D)>Y&&(this.grabbedLeft?n=E.toPixels(et-Y-D,!0):this.grabbedRight&&(b=E.toPixels(J+Y+D,!0))),g.zoomedMax=x(Math.max(n,b),0,K),g.zoomedMin=x(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(n,b),0,K),g.range=g.zoomedMax-g.zoomedMin,K=Math.round(g.zoomedMax);const ot=Math.round(g.zoomedMin);S&&(g.navigatorGroup.attr({visibility:"inherit"}),q=L&&!g.hasDragged?"animate":"attr",g.drawMasks(ot,K,B,q),g.drawOutline(ot,K,B,q),g.navigatorOptions.handles.enabled&&(g.drawHandle(ot,0,B,q),g.drawHandle(K,1,B,q))),g.scrollbar&&(B?(V=g.top-z,H=g.left-Z+(S||!O.opposite?0:(O.titleOffset||0)+O.axisTitleMargin),Z=W+2*z):(V=g.top+(S?g.height:-Z),H=g.left-z),g.scrollbar.position(H,V,N,Z),g.scrollbar.setRange(g.zoomedMin/(W||1),g.zoomedMax/(W||1))),g.rendered=!0,o(this,"afterRender")}addMouseEvents(){const t=this,i=t.chart,n=i.container;let g,P,b=[];t.mouseMoveHandler=g=function(E){t.onMouseMove(E)},t.mouseUpHandler=P=function(E){t.onMouseUp(E)},b=t.getPartsEvents("mousedown"),b.push(A(i.renderTo,"mousemove",g),A(n.ownerDocument,"mouseup",P),A(i.renderTo,"touchmove",g),A(n.ownerDocument,"touchend",P)),b.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=b,t.series&&t.series[0]&&b.push(A(t.series[0].xAxis,"foundExtremes",function(){i.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){const i=this,n=[];return["shades","handles"].forEach(function(b){i[b].forEach(function(g,P){n.push(A(g.element,t,function(E){i[b+"Mousedown"](E,P)}))})}),n}shadesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;const n=this,g=n.xAxis,P=n.zoomedMin,E=n.size,D=n.range;let L,B,_,Y,O=n.left,S=t.chartX;n.chart.inverted&&(S=t.chartY,O=n.top),1===i?(n.grabbedCenter=S,n.fixedWidth=D,n.dragOffset=S-P):(Y=S-O-D/2,0===i?Y=Math.max(0,Y):2===i&&Y+D>=E&&(Y=E-D,n.reversedExtremes?(Y-=D,B=n.getUnionExtremes().dataMin):L=n.getUnionExtremes().dataMax),Y!==P&&(n.fixedWidth=D,_=g.navigatorAxis.toFixedRange(Y,Y+D,B,L),k(_.min)&&o(this,"setRange",{min:Math.min(_.min,_.max),max:Math.max(_.min,_.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;const n=this,b=n.chart,g=b.xAxis[0],P=n.reversedExtremes;0===i?(n.grabbedLeft=!0,n.otherHandlePos=n.zoomedMax,n.fixedExtreme=P?g.min:g.max):(n.grabbedRight=!0,n.otherHandlePos=n.zoomedMin,n.fixedExtreme=P?g.max:g.min),b.setFixedRange(void 0)}onMouseMove(t){const i=this,n=i.chart,b=i.navigatorSize,g=i.range,P=i.dragOffset,E=n.inverted;let O,D=i.left;(!t.touches||0!==t.touches[0].pageX)&&(O=(t=n.pointer?.normalize(t)||t).chartX,E&&(D=i.top,O=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,O-D,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,O-D)):i.grabbedCenter&&(i.hasDragged=!0,O<P?O=P:O>b+P-g&&(O=b+P-g),i.render(0,0,O-P,O-P+g)),i.hasDragged&&i.scrollbar&&m(i.scrollbar.options.liveRedraw,!w&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))}onMouseUp(t){const i=this,b=i.xAxis,g=i.scrollbar,P=t.DOMEvent||t,E=i.chart.inverted,D=i.rendered&&!i.hasDragged?"animate":"attr";let O,S,L,B,_,Y;(i.hasDragged&&(!g||!g.hasDragged)||"scrollbar"===t.trigger)&&(L=i.getUnionExtremes(),i.zoomedMin===i.otherHandlePos?B=i.fixedExtreme:i.zoomedMax===i.otherHandlePos&&(_=i.fixedExtreme),i.zoomedMax===i.size&&(_=i.reversedExtremes?L.dataMin:L.dataMax),0===i.zoomedMin&&(B=i.reversedExtremes?L.dataMax:L.dataMin),Y=b.navigatorAxis.toFixedRange(i.zoomedMin,i.zoomedMax,B,_),k(Y.min)&&o(this,"setRange",{min:Math.min(Y.min,Y.max),max:Math.max(Y.min,Y.max),redraw:!0,animation:!i.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:P}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(i.grabbedLeft=i.grabbedRight=i.grabbedCenter=i.fixedWidth=i.fixedExtreme=i.otherHandlePos=i.hasDragged=i.dragOffset=null),i.navigatorEnabled&&l(i.zoomedMin)&&l(i.zoomedMax)&&(S=Math.round(i.zoomedMin),O=Math.round(i.zoomedMax),i.shades&&i.drawMasks(S,O,E,D),i.outline&&i.drawOutline(S,O,E,D),i.navigatorOptions.handles.enabled&&Object.keys(i.handles).length===i.handles.length&&(i.drawHandle(S,0,E,D),i.drawHandle(O,1,E,D)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(i){M(i,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&M(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(t){const i=t.options,n=i.navigator||{},b=n.enabled,g=i.scrollbar||{},P=g.enabled,E=b&&n.height||0,D=P&&g.height||0,O=g.buttonsEnabled&&D||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=E,this.scrollbarHeight=D,this.scrollButtonSize=O,this.scrollbarEnabled=P,this.navigatorEnabled=b,this.navigatorOptions=n,this.scrollbarOptions=g,this.opposite=m(n.opposite,Boolean(!b&&t.inverted));const S=this,L=S.baseSeries,B=t.xAxis.length,_=t.yAxis.length,Y=L&&L[0]&&L[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,S.navigatorEnabled?(S.xAxis=new j(t,f({breaks:Y.options.breaks,ordinal:Y.options.ordinal,overscroll:Y.options.overscroll},n.xAxis,{type:"datetime",index:B,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[O,0,-O,0],width:E}:{offsets:[0,-O,0,O],height:E}),"xAxis"),S.yAxis=new j(t,f(n.yAxis,{alignTicks:!1,offset:0,index:_,isInternal:!0,reversed:m(n.yAxis&&n.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:E}:{height:E}),"yAxis"),L||n.series.data?S.updateNavigatorSeries(!1):0===t.series.length&&(S.unbindRedraw=A(t,"beforeRedraw",function(){t.series.length>0&&!S.series&&(S.setBaseSeries(),S.unbindRedraw())})),S.reversedExtremes=t.inverted&&!S.xAxis.reversed||!t.inverted&&S.xAxis.reversed,S.renderElements(),S.addMouseEvents()):(S.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(z,N){const H=t.xAxis[0],V=H.getExtremes(),Z=H.len-2*O,W=C("min",H.options.min,V.dataMin),q=C("max",H.options.max,V.dataMax)-W;return N?z*q/Z+W:Z*(z-W)/q},toPixels:function(z){return this.translate(z)},toValue:function(z){return this.translate(z,!0)}},S.xAxis.navigatorAxis.axis=S.xAxis,S.xAxis.navigatorAxis.toFixedRange=U.prototype.toFixedRange.bind(S.xAxis.navigatorAxis)),t.options.scrollbar.enabled){const z=f(t.options.scrollbar,{vertical:t.inverted});!l(z.margin)&&S.navigatorEnabled&&(z.margin=t.inverted?-3:3),t.scrollbar=S.scrollbar=new I(t.renderer,z,t),A(S.scrollbar,"changed",function(N){const H=S.size,V=H*this.to,Z=H*this.from;S.hasDragged=S.scrollbar.hasDragged,S.render(0,0,Z,V),this.shouldUpdateExtremes(N.DOMType)&&setTimeout(function(){S.onMouseUp(N)})})}S.addBaseSeriesEvents(),S.addChartEvents()}getUnionExtremes(t){const i=this.chart.xAxis[0],n=this.xAxis,b=n.options,g=i.options;let P;return(!t||null!==i.dataMin)&&(P={dataMin:m(b&&b.min,C("min",g.min,i.dataMin,n.dataMin,n.min)),dataMax:m(b&&b.max,C("max",g.max,i.dataMax,n.dataMax,n.max))}),P}setBaseSeries(t,i){const n=this.chart,b=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?p(n.series,g=>!g.options.isInternal).index:0),(n.series||[]).forEach((g,P)=>{!g.options.isInternal&&(g.options.showInNavigator||(P===t||g.options.id===t)&&!1!==g.options.showInNavigator)&&b.push(g)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,i)}updateNavigatorSeries(t,i){const n=this,b=n.chart,g=n.baseSeries,P={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},E=n.series=(n.series||[]).filter(B=>{const _=B.baseSeries;return!(g.indexOf(_)<0&&(_&&(M(_,"updatedData",n.updatedDataHandler),delete _.navigatorSeries),B.chart&&B.destroy(),1))});let D,O,L,S=n.navigatorOptions.series;g&&g.length&&g.forEach(B=>{const _=B.navigatorSeries,Y=u({color:B.color,visible:B.visible},c(S)?e.navigator.series:S);if(_&&!1===n.navigatorOptions.adaptToUpdatedData)return;P.name="Navigator "+g.length,D=B.options||{},L=D.navigatorOptions||{},Y.dataLabels=y(Y.dataLabels),O=f(D,P,Y,L),O.pointRange=m(Y.pointRange,L.pointRange,e.plotOptions[O.type||"line"].pointRange);const z=L.data||Y.data;n.hasNavigatorData=n.hasNavigatorData||!!z,O.data=z||D.data&&D.data.slice(0),_&&_.options?_.update(O,i):(B.navigatorSeries=b.initSeries(O),b.setSortedData(),B.navigatorSeries.baseSeries=B,E.push(B.navigatorSeries))}),(S.data&&!(g&&g.length)||c(S))&&(n.hasNavigatorData=!1,S=y(S),S.forEach((B,_)=>{P.name="Navigator "+(E.length+1),O=f(e.navigator.series,{color:b.series[_]&&!b.series[_].options.isInternal&&b.series[_].color||b.options.colors[_]||b.options.colors[0]},P,B),O.data=B.data,O.data&&(n.hasNavigatorData=!0,E.push(b.initSeries(O)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,i=t.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(A(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(n=>{n.eventsToUnbind.push(A(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),n.eventsToUnbind.push(A(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&n.eventsToUnbind.push(A(n,"updatedData",this.updatedDataHandler)),n.eventsToUnbind.push(A(n,"remove",function(){this.navigatorSeries&&(s(t.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(i,n){return Math.min(i,n.xData&&n.xData.length?n.xData[0]:i)},t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(typeof t.getExtremes<"u"){const i=this.getUnionExtremes(!0);i&&(i.dataMin!==t.min||i.dataMax!==t.max)&&(t.min=i.dataMin,t.max=i.dataMax)}}modifyBaseAxisExtremes(){const t=this,i=t.chart.navigator,n=t.getExtremes(),P=n.dataMin,E=n.dataMax,D=n.max-n.min,O=i.stickToMin,S=i.stickToMax,L=m(t.ordinal?.convertOverscroll(t.options.overscroll),0),B=i.series&&i.series[0],_=!!t.setExtremes;let z,N;t.eventArgs&&"rangeSelectorButton"===t.eventArgs.trigger||(O&&(N=P,z=N+D),S&&(z=E+L,O||(N=Math.max(P,z-D,i.getBaseSeriesMin(B&&B.xData?B.xData[0]:-Number.MAX_VALUE)))),_&&(O||S)&&l(N)&&(t.min=t.userMin=N,t.max=t.userMax=z)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,i=this,n=this.navigatorSeries,b=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=m(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,b),t.stickToMin=t.shouldStickToMin(i,t),n&&!t.hasNavigatorData&&(n.options.pointStart=i.xData[0],n.setData(i.options.data,!1,null,!1))}shouldStickToMin(t,i){const n=i.getBaseSeriesMin(t.xData[0]),b=t.xAxis,g=b.max,P=b.min,E=b.options.range;let D=!0;return D=!(!l(g)||!l(P))&&(E&&g-n>0?g-n<E:P<=n),D}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(A(this.chart,"redraw",function(){const t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);i&&t.render(i.min,i.max)}),A(this.chart,"getMargins",function(){const t=this,i=t.navigator;let n=i.opposite?"plotTop":"marginBottom";t.inverted&&(n=i.opposite?"marginRight":"plotLeft"),t[n]=(t[n]||0)+(i.navigatorEnabled||!t.inverted?i.height+i.scrollbarHeight:0)+i.navigatorOptions.margin}),A(h,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{r(t)})}}return h}),$(v,"Accessibility/Components/NavigatorComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Stock/Navigator/Navigator.js"],v["Core/Animation/AnimationUtilities.js"],v["Core/Templating.js"],v["Core/Utilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/Utils/ChartUtilities.js"]],function(j,G,X,F,U,R,I,T,e){const{animObject:w}=U,{format:A}=R,{clamp:x,pick:d,syncTimeout:k}=I,{getFakeMouseEvent:r}=T,{getAxisRangeDescription:s,fireEventOnWrappedOrUnwrappedElement:u}=e;return class p extends j{init(){const l=this;this.announcer=new G(this.chart,"polite"),this.addEvent(F,"afterRender",function(){this.chart===l.chart&&this.chart.renderer&&k(()=>{l.proxyProvider.updateGroupProxyElementPositions("navigator"),l.updateHandleValues()},w(d(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){const c=this.chart,l=c.options;if(l.navigator.accessibility?.enabled){const f=l.accessibility.landmarkVerbosity,m=l.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:"all"===f?"region":"group","aria-label":A(m,{chart:c},c)});const M=l.lang.accessibility?.navigator.handleLabel;[0,1].forEach(y=>{const C=this.getHandleByIx(y);if(C){const h=this.proxyProvider.addProxyElement("navigator",{click:C},"input",{type:"range","aria-label":A(M,{handleIx:y,chart:c},c)});this[y?"maxHandleProxy":"minHandleProxy"]=h.innerElement,h.innerElement.style.pointerEvents="none",h.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(c){const l=this,f=this.chart,m=c?this.maxHandleProxy:this.minHandleProxy,M=this.keyCodes;return new X(f,{keyCodeMap:[[[M.left,M.right,M.up,M.down],function(y){if(m){const C=y===M.left||y===M.up?-1:1;m.value=""+x(parseFloat(m.value)+C,0,100),l.updateNavigator(()=>{const h=l.getHandleByIx(c);h&&f.setFocusToElement(h,m)})}return this.response.success}]],init:()=>{f.setFocusToElement(this.getHandleByIx(c),m)},validate:()=>!!(this.getHandleByIx(c)&&m&&f.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){const c=this.chart.navigator;if(c&&this.minHandleProxy&&this.maxHandleProxy){const l=c.size;this.minHandleProxy.value=""+Math.round(c.zoomedMin/l*100),this.maxHandleProxy.value=""+Math.round(c.zoomedMax/l*100)}}getHandleByIx(c){const l=this.chart.navigator;return l&&l.handles&&l.handles[c]}updateNavigator(c){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((f=>{const m=this.chart,{navigator:M,pointer:y}=m;if(M&&y&&this.minHandleProxy&&this.maxHandleProxy){const C=y.getChartPosition(),h=parseFloat(this.minHandleProxy.value)/100*M.size,a=parseFloat(this.maxHandleProxy.value)/100*M.size;[[0,"mousedown",M.zoomedMin],[0,"mousemove",h],[0,"mouseup",h],[1,"mousedown",M.zoomedMax],[1,"mousemove",a],[1,"mouseup",a]].forEach(([n,b,g])=>{const P=this.getHandleByIx(n)?.element;P&&u(P,r(b,{x:C.left+M.left+g,y:C.top+M.top},P))}),f&&f();const t=m.options.lang.accessibility?.navigator.changeAnnouncement,i=s(m.xAxis[0]);this.announcer.announce(A(t,{axisRangeDescription:i,chart:m},m))}}).bind(this,c),20)}}}),$(v,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[v["Accessibility/Components/AnnotationsA11y.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Core/Templating.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{getPointAnnotationTexts:R}=j,{getAxisDescription:I,getSeriesFirstPointElement:T,getSeriesA11yElement:e,unhideChartElementFromAT:w}=G,{format:A,numberFormat:x}=X,{reverseChildNodes:d,stripHTMLTagsFromString:k}=F,{find:r,isNumber:s,isString:u,pick:p,defined:o}=U;function M(N){const V=N.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==V&&N.points&&N.points.length>=+V)}function a(N,H){const V=N.series,Z=V.chart,W=Z.options.accessibility.point||{},q=V.options.accessibility&&V.options.accessibility.point||{},K=V.tooltipOptions||{},J=Z.options.lang;return s(H)?x(H,q.valueDecimals||W.valueDecimals||K.valueDecimals||-1,J.decimalPoint,J.accessibility.thousandsSep||J.thousandsSep):H}function i(N,H){return N.chart.langFormat("accessibility.series."+H+"Description",{name:I(N[H]),series:N})}function P(N){const H=N.series,V=H.chart.options.accessibility.point||{},Z=H.chart.options.accessibility&&H.chart.options.accessibility.point||{},W=H.tooltipOptions||{},q=Z.valuePrefix||V.valuePrefix||W.valuePrefix||"",K=Z.valueSuffix||V.valueSuffix||W.valueSuffix||"",et=a(N,N[typeof N.value<"u"?"value":"y"]);return N.isNull?H.chart.langFormat("accessibility.series.nullPointValue",{point:N}):H.pointArrayMap?function g(N,H,V){const Z=H||"",W=V||"";return N.series.pointArrayMap.reduce(function(J,et){const st=function(J){const et=a(N,p(N[J],N.options[J]));return void 0!==et?J+": "+Z+et+W:et}(et);return st?J+(J.length?", ":"")+st:J},"")}(N,q,K):q+et+K}function O(N){const H=N.series,V=H.chart.series.length>1||H.options.name,Z=function D(N){const H=N.series,V=H.chart,Z=H.options.accessibility,q=Z&&Z.point&&Z.point.valueDescriptionFormat||V.options.accessibility.point.valueDescriptionFormat,K=p(H.xAxis&&H.xAxis.options.accessibility&&H.xAxis.options.accessibility.enabled,!V.angular&&"flowmap"!==H.type),J=K?function b(N){const H=function n(N){const H=N.series,V=H.chart,Z=H.options.accessibility&&H.options.accessibility.point||{},W=V.options.accessibility.point||{},q=H.xAxis&&H.xAxis.dateTime;if(q){const K=q.getXDateFormat(N.x||0,V.options.tooltip.dateTimeLabelFormats),J=Z.dateFormatter&&Z.dateFormatter(N)||W.dateFormatter&&W.dateFormatter(N)||Z.dateFormat||W.dateFormat||K;return V.time.dateFormat(J,N.x||0,void 0)}}(N),Z=(N.series.xAxis||{}).categories&&o(N.category)&&(""+N.category).replace("<br/>"," "),W=o(N.id)&&(""+N.id).indexOf("highcharts-")<0;return N.name||H||Z||(W?N.id:"x, "+N.x)}(N):"",et={point:N,index:o(N.index)?N.index+1:"",xDescription:J,value:P(N),separator:K?", ":""};return A(q,et,V)}(N),W=N.options&&N.options.accessibility&&N.options.accessibility.description,q=W?" "+W:"",K=V?" "+H.name+".":"",J=function E(N){const H=N.series.chart,Z=R(N);return Z.length?H.langFormat("accessibility.series.pointAnnotationsDescription",{point:N,annotations:Z}):""}(N),et=J?" "+J:"";return N.accessibility=N.accessibility||{},N.accessibility.valueDescription=Z,Z+q+K+et}function L(N){const H=function y(N){const H=N.options.accessibility||{};return!M(N)&&!H.exposeAsGroupOnly}(N),V=function C(N){const V=N.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!N.points||!(N.points.length<+V.pointNavigationEnabledThreshold||!1===V.pointNavigationEnabledThreshold))}(N),Z=N.chart.options.accessibility.point.describeNull;(H||V)&&N.points.forEach(W=>{const q=W.graphic&&W.graphic.element||function l(N){const H=N.series,V=H&&H.chart,Z=H&&H.is("sunburst");return N.isNull&&!Z&&V&&V.options.accessibility.point.describeNull}(W)&&function m(N){const H=N.series,V=function c(N){const H=N.index;return N.series&&N.series.data&&o(H)&&r(N.series.data,function(V){return!!(V&&typeof V.index<"u"&&V.index>H&&V.graphic&&V.graphic.element)})||null}(N),Z=V&&V.graphic,W=Z?Z.parentGroup:H.graph||H.group,K=function f(N,H){const Z=N.series.chart.renderer.rect(H.x,H.y,1,1);return Z.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),Z}(N,V?{x:p(N.plotX,V.plotX,0),y:p(N.plotY,V.plotY,0)}:{x:p(N.plotX,0),y:p(N.plotY,0)});if(W&&W.element)return N.graphic=K,N.hasMockGraphic=!0,K.add(W),W.element.insertBefore(K.element,Z?Z.element:null),K.element}(W),K=W.options&&W.options.accessibility&&!1===W.options.accessibility.enabled;if(q){if(W.isNull&&!Z)return void q.setAttribute("aria-hidden",!0);q.setAttribute("tabindex","-1"),N.chart.styledMode||(q.style.outline="none"),H&&!K?function S(N,H){const V=N.series,Z=V.options.accessibility?.point||{},W=V.chart.options.accessibility.point||{},q=k(u(Z.descriptionFormat)&&A(Z.descriptionFormat,N,V.chart)||Z.descriptionFormatter?.(N)||u(W.descriptionFormat)&&A(W.descriptionFormat,N,V.chart)||W.descriptionFormatter?.(N)||O(N),V.chart.renderer.forExport);H.setAttribute("role","img"),H.setAttribute("aria-label",q)}(W,q):q.setAttribute("aria-hidden",!0)}})}function B(N){const H=N.chart,V=H.types||[],Z=function t(N){const V=(N.options.accessibility||{}).description;return V&&N.chart.langFormat("accessibility.series.description",{description:V,series:N})||""}(N),W=function(at){return H[at]&&H[at].length>1&&N[at]},q=N.index+1,K=i(N,"xAxis"),J=i(N,"yAxis"),et={seriesNumber:q,series:N,chart:H},st=V.length>1?"Combination":"",ot=H.langFormat("accessibility.series.summary."+N.type+st,et)||H.langFormat("accessibility.series.summary.default"+st,et),lt=(W("yAxis")?" "+J+".":"")+(W("xAxis")?" "+K+".":""),nt=p(N.options.accessibility&&N.options.accessibility.descriptionFormat,H.options.accessibility.series.descriptionFormat,"");return A(nt,{seriesDescription:ot,authorDescription:Z?" "+Z:"",axisDescription:lt,series:N,chart:H,seriesNumber:q},void 0)}return{defaultPointDescriptionFormatter:O,defaultSeriesDescriptionFormatter:B,describeSeries:function Y(N){const H=N.chart,V=T(N),Z=e(N),W=H.is3d&&H.is3d();Z&&(Z.lastChild===V&&!W&&d(Z),L(N),w(H,Z),function h(N){const H=N.chart,V=H.options.chart,W=H.series.length>1;return!(V.options3d&&V.options3d.enabled&&W)&&(W||H.options.accessibility.series.describeSingleSeries||(N.options.accessibility||{}).exposeAsGroupOnly||M(N))}(N)?function _(N,H){const Z=N.chart.options.accessibility;H.setAttribute("role",(N.options.accessibility||{}).exposeAsGroupOnly?"img":"all"===Z.landmarkVerbosity?"region":"group"),H.setAttribute("tabindex","-1"),N.chart.styledMode||(H.style.outline="none"),H.setAttribute("aria-label",k(Z.series.descriptionFormatter&&Z.series.descriptionFormatter(N)||B(N),N.chart.renderer.forExport))}(N,Z):Z.removeAttribute("aria-label"))}}}),$(v,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(j,G,X,F,U,R){const{composed:I}=j,{addEvent:T,defined:e,pushUnique:w}=G,{getChartTitle:A}=F,{defaultPointDescriptionFormatter:x,defaultSeriesDescriptionFormatter:d}=R;function k(p){return!!p.options.accessibility.announceNewData.enabled}class u{constructor(o){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=o}init(){const o=this.chart,l=o.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new U,this.announcer=new X(o,l),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const o=this,c=this.chart,l=this.eventProvider;l.addEvent(c,"afterApplyDrilldown",function(){o.lastAnnouncementTime=0}),l.addEvent(c,"afterAddSeries",function(f){o.onSeriesAdded(f.series)}),l.addEvent(c,"redraw",function(){o.announceDirtyData()})}onSeriesAdded(o){k(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[o.name+o.index]=o,this.dirty.newSeries=e(this.dirty.newSeries)?void 0:o)}announceDirtyData(){const c=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let l=this.dirty.newPoint;l&&(l=function r(p){const o=p.series.data.filter(c=>p.x===c.x&&p.y===c.y);return 1===o.length?o[0]:p}(l)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(f=>c.dirty.allSeries[f]),this.dirty.newSeries,l),this.dirty={allSeries:{}}}}queueAnnouncement(o,c,l){const m=this.chart.options.accessibility.announceNewData;if(m.enabled){const M=+new Date,C=Math.max(0,m.minAnnounceInterval-(M-this.lastAnnouncementTime)),h=function s(p,o){const c=(p||[]).concat(o||[]).reduce((l,f)=>(l[f.name+f.index]=f,l),{});return Object.keys(c).map(l=>c[l])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,o),a=this.buildAnnouncementMessage(h,c,l);a&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:M,message:a,series:h},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},C))}}buildAnnouncementMessage(o,c,l){const f=this.chart,m=f.options.accessibility.announceNewData;if(m.announcementFormatter){const h=m.announcementFormatter(o,c,l);if(!1!==h)return h.length?h:null}const M=j.charts&&j.charts.length>1?"Multiple":"Single",y=c?"newSeriesAnnounce"+M:l?"newPointAnnounce"+M:"newDataAnnounce",C=A(f);return f.langFormat("accessibility.announceNewData."+y,{chartTitle:C,seriesDesc:c?d(c):null,pointDesc:l?x(l):null,point:l,series:c})}}return function(p){function c(f){const m=this.chart,M=m.accessibility?.components.series.newDataAnnouncer;M&&M.chart===m&&k(m)&&(M.dirty.newPoint=e(M.dirty.newPoint)?void 0:f.point)}function l(){const f=this.chart,m=f.accessibility?.components.series.newDataAnnouncer;m&&m.chart===f&&k(f)&&(m.dirty.hasDirty=!0,m.dirty.allSeries[this.name+this.index]=this)}p.compose=function o(f){w(I,"A11y.NDA")&&(T(f,"addPoint",c),T(f,"updatedData",l))}}(u||(u={})),u}),$(v,"Accessibility/ProxyElement.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"]],function(j,G,X,F,U){const{doc:R}=j,{attr:I,css:T,merge:e}=G,{fireEventOnWrappedOrUnwrappedElement:w}=F,{cloneMouseEvent:A,cloneTouchEvent:x,getFakeMouseEvent:d,removeElement:k}=U;return class r{constructor(u,p,o="button",c,l){this.chart=u,this.target=p,this.eventProvider=new X;const f=this.innerElement=R.createElement(o),m=this.element=c?R.createElement(c):f;u.styledMode||this.hideElementVisually(f),c&&("li"===c&&!u.styledMode&&(m.style.listStyle="none"),m.appendChild(f),this.element=m),this.updateTarget(p,l)}click(){const u=this.getTargetPosition();u.x+=u.width/2,u.y+=u.height/2;const p=d("click",u);w(this.target.click,p)}updateTarget(u,p){this.target=u,this.updateCSSClassName();const o=p||{};Object.keys(o).forEach(l=>{null===o[l]&&delete o[l]});const c=this.getTargetAttr(u.click,"aria-label");I(this.innerElement,e(c?{"aria-label":c}:{},o)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,u.click),this.refreshPosition()}refreshPosition(){const u=this.getTargetPosition();T(this.innerElement,{width:(u.width||1)+"px",height:(u.height||1)+"px",left:(Math.round(u.x)||0)+"px",top:(Math.round(u.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),k(this.element)}updateCSSClassName(){const u=m=>m.indexOf("highcharts-no-tooltip")>-1,p=this.chart.legend,o=p.group&&p.group.div,c=u(o&&o.className||""),f=u(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=c||f?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(u,p){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(o=>{const c=0===o.indexOf("touch");this.eventProvider.addEvent(u,o,l=>{const f=c?x(l):A(l);p&&w(p,f),l.stopPropagation(),c||l.preventDefault()},{passive:!1})})}hideElementVisually(u){T(u,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){const u=this.target.click,o=this.target.visual||(u.element?u.element:u),l=this.chart.pointer;if(this.chart.renderTo&&o?.getBoundingClientRect&&l){const f=o.getBoundingClientRect(),m=l.getChartPosition();return{x:(f.left-m.left)/m.scaleX,y:(f.top-m.top)/m.scaleY,width:f.right/m.scaleX-f.left/m.scaleX,height:f.bottom/m.scaleY-f.top/m.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(u,p){return u.element?u.element.getAttribute(p):u.getAttribute(p)}}}),$(v,"Accessibility/ProxyProvider.js",[v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/DOMElementProvider.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/ProxyElement.js"]],function(j,G,X,F,U,R){const{doc:I}=j,{attr:T,css:e}=G,{unhideChartElementFromAT:w}=X,{removeChildNodes:A}=U;return class x{constructor(k){this.chart=k,this.domElementProvider=new F,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(k,r,s="button",u){const p=this.groups[k];if(!p)throw new Error("ProxyProvider.addProxyElement: Invalid group key "+k);const c=new R(this.chart,r,s,"ul"===p.type||"ol"===p.type?"li":void 0,u);return p.proxyContainerElement.appendChild(c.element),p.proxyElements.push(c),c}addGroup(k,r="div",s){const u=this.groups[k];if(u)return u.groupElement;const p=this.domElementProvider.createElement(r);let o;return s&&s.role&&"div"!==r?(o=this.domElementProvider.createElement("div"),o.appendChild(p)):o=p,o.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+k.replace(/\W/g,"-"),this.groups[k]={proxyContainerElement:p,groupElement:o,type:r,proxyElements:[]},T(o,s||{}),"ul"===r&&p.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(o),this.updateGroupOrder(this.groupOrder),o}updateGroupAttrs(k,r){const s=this.groups[k];if(!s)throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+k);T(s.groupElement,r)}updateGroupOrder(k){if(this.groupOrder=k.slice(),this.isDOMOrderGroupOrder())return;const r=k.indexOf("series"),s=r>-1?k.slice(0,r):k,u=r>-1?k.slice(r+1):[],p=I.activeElement;["before","after"].forEach(o=>{const c=this["before"===o?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"],l="before"===o?s:u;A(c),l.forEach(f=>{const m=this.groups[f];m&&c.appendChild(m.groupElement)})}),(this.beforeChartProxyPosContainer.contains(p)||this.afterChartProxyPosContainer.contains(p))&&p&&p.focus&&p.focus()}clearGroup(k){const r=this.groups[k];if(!r)throw new Error("ProxyProvider.clearGroup: Invalid group key "+k);A(r.proxyContainerElement)}removeGroup(k){const r=this.groups[k];r&&(this.domElementProvider.removeElement(r.groupElement),r.groupElement!==r.proxyContainerElement&&this.domElementProvider.removeElement(r.proxyContainerElement),delete this.groups[k])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(k){const r=this.groups[k];r&&r.proxyElements.forEach(s=>s.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(k){const r=this.domElementProvider.createElement("div");return r.setAttribute("aria-hidden","false"),r.className="highcharts-a11y-proxy-container"+(k?"-"+k:""),e(r,{top:"0",left:"0"}),this.chart.styledMode||(r.style.whiteSpace="nowrap",r.style.position="absolute"),r}getCurrentGroupOrderInDOM(){const k=p=>{const o=Object.keys(this.groups);let c=o.length;for(;c--;){const l=o[c],f=this.groups[l];if(f&&p===f.groupElement)return l}},r=p=>{const o=[],c=p.children;for(let l=0;l<c.length;++l){const f=k(c[l]);f&&o.push(f)}return o},s=r(this.beforeChartProxyPosContainer),u=r(this.afterChartProxyPosContainer);return s.push("series"),s.concat(u)}isDOMOrderGroupOrder(){const k=this.getCurrentGroupOrderInDOM(),r=this.groupOrder.filter(u=>"series"===u||!!this.groups[u]);let s=k.length;if(s!==r.length)return!1;for(;s--;)if(k[s]!==r[s])return!1;return!0}updatePosContainerPositions(){const k=this.chart;if(k.renderer.forExport)return;const r=k.renderer.box;k.container.insertBefore(this.afterChartProxyPosContainer,r.nextSibling),k.container.insertBefore(this.beforeChartProxyPosContainer,r),w(this.chart,this.afterChartProxyPosContainer),w(this.chart,this.beforeChartProxyPosContainer)}}}),$(v,"Accessibility/Components/RangeSelectorComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/Announcer.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{unhideChartElementFromAT:R,getAxisRangeDescription:I}=X,{addEvent:T,attr:e}=U;class A extends j{init(){this.announcer=new G(this.chart,"polite")}onChartUpdate(){const d=this.chart,k=this,r=d.rangeSelector;r&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),r.buttons&&r.buttons.length&&r.buttons.forEach(s=>{k.setRangeButtonAttrs(s)}),r.maxInput&&r.minInput&&["minInput","maxInput"].forEach(function(s,u){const p=r[s];p&&(R(d,p),k.setRangeInputAttrs(p,"accessibility.rangeSelector."+(u?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const d=this.chart,k=d.rangeSelector,r=k&&k.dropdown,s=k&&k.buttons||[],u=p=>p.setAttribute("aria-hidden",!0);k&&k.hasVisibleDropdown&&r?(R(d,r),s.forEach(p=>u(p.element))):(r&&u(r),s.forEach(p=>R(d,p.element)))}setDropdownAttrs(){const d=this.chart,k=d.rangeSelector&&d.rangeSelector.dropdown;if(k){const r=d.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:d.options.lang.rangeSelectorZoom});k.setAttribute("aria-label",r),k.setAttribute("tabindex",-1)}}setRangeButtonAttrs(d){e(d.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(d,k){const r=this.chart;e(d,{tabindex:-1,"aria-label":r.langFormat(k,{chart:r})})}onButtonNavKbdArrowKey(d,k){const r=d.response,s=this.keyCodes,u=this.chart,p=u.options.accessibility.keyboardNavigation.wrapAround,o=k===s.left||k===s.up?-1:1;return u.highlightRangeSelectorButton(u.highlightedRangeSelectorItemIx+o)?r.success:p?(d.init(o),r.success):r[o>0?"next":"prev"]}onButtonNavKbdClick(d){const k=d.response,r=this.chart;return 3===r.oldRangeSelectorItemState||this.fakeClickEvent(r.rangeSelector.buttons[r.highlightedRangeSelectorItemIx].element),k.success}onAfterBtnClick(){const d=this.chart,k=I(d.xAxis[0]),r=d.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:d,axisRangeDescription:k});r&&this.announcer.announce(r)}onInputKbdMove(d){const k=this.chart,r=k.rangeSelector,s=k.highlightedInputRangeIx=(k.highlightedInputRangeIx||0)+d;if(s>1||s<0){if(k.accessibility)return k.accessibility.keyboardNavigation.exiting=!0,k.accessibility.keyboardNavigation.tabindexContainer.focus(),k.accessibility.keyboardNavigation.move(d)}else if(r){const p=r[s?"maxDateBox":"minDateBox"],o=r[s?"maxInput":"minInput"];p&&o&&k.setFocusToElement(p,o)}return!0}onInputNavInit(d){const k=this,r=this.chart,s=d>0?0:1,u=r.rangeSelector,p=u&&u[s?"maxDateBox":"minDateBox"],o=u&&u.minInput,c=u&&u.maxInput,l=s?c:o;if(r.highlightedInputRangeIx=s,p&&o&&c){r.setFocusToElement(p,l),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();const f=y=>{(y.which||y.keyCode)===this.keyCodes.tab&&k.onInputKbdMove(y.shiftKey?-1:1)&&(y.preventDefault(),y.stopPropagation())},m=T(o,"keydown",f),M=T(c,"keydown",f);this.removeInputKeydownHandler=()=>{m(),M()}}}onInputNavTerminate(){const d=this.chart.rangeSelector||{};d.maxInput&&d.hideInput("max"),d.minInput&&d.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const d=this.chart,k=d.rangeSelector,r=k&&k.dropdown;k&&r&&(d.setFocusToElement(k.buttonGroup,r),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=T(r,"keydown",s=>{const p=d.accessibility;(s.which||s.keyCode)===this.keyCodes.tab&&(s.preventDefault(),s.stopPropagation(),p&&(p.keyboardNavigation.tabindexContainer.focus(),p.keyboardNavigation.move(s.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const d=this.chart,k=this.keyCodes,r=this;return new F(d,{keyCodeMap:[[[k.left,k.right,k.up,k.down],function(s){return r.onButtonNavKbdArrowKey(this,s)}],[[k.enter,k.space],function(){return r.onButtonNavKbdClick(this)}]],validate:function(){return!!(d.rangeSelector&&d.rangeSelector.buttons&&d.rangeSelector.buttons.length)},init:function(s){const u=d.rangeSelector;u&&u.hasVisibleDropdown?r.initDropdownNav():u&&d.highlightRangeSelectorButton(s>0?0:u.buttons.length-1)},terminate:function(){r.removeDropdownKeydownHandler&&(r.removeDropdownKeydownHandler(),delete r.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const d=this.chart,k=this;return new F(d,{keyCodeMap:[],validate:function(){return function w(x){return Boolean(x.rangeSelector&&x.rangeSelector.inputGroup&&"hidden"!==x.rangeSelector.inputGroup.element.style.visibility&&!1!==x.options.rangeSelector.inputEnabled&&x.rangeSelector.minInput&&x.rangeSelector.maxInput)}(d)},init:function(r){k.onInputNavInit(r)},terminate:function(){k.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(x){function d(s){const u=this.rangeSelector&&this.rangeSelector.buttons||[],p=this.highlightedRangeSelectorItemIx,o=this.rangeSelector&&this.rangeSelector.selected;return typeof p<"u"&&u[p]&&p!==o&&u[p].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=s,!!u[s]&&(this.setFocusToElement(u[s].box,u[s].element),s!==o&&(this.oldRangeSelectorItemState=u[s].state,u[s].setState(1)),!0)}function r(){const s=this.chart.accessibility;if(s&&s.components.rangeSelector)return s.components.rangeSelector.onAfterBtnClick()}x.compose=function k(s,u){const p=s.prototype;p.highlightRangeSelectorButton||(p.highlightRangeSelectorButton=d,T(u,"afterBtnClick",r))}}(A||(A={})),A}),$(v,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{composed:X}=j,{addEvent:F,merge:U,pushUnique:R}=G;var I;return function(T){function w(f){U(!0,f,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function A(f){return f.marker.states&&f.marker.states.normal&&f.marker.states.normal.opacity}function d(f){return!!(f._hasPointMarkers&&f.points&&f.points.length)}function r(){const f=this;f.chart.styledMode&&(f.markerGroup&&f.markerGroup[f.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),d(f)&&f.points.forEach(m=>{m.graphic&&(m.graphic[m.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),m.graphic[!1===m.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function s(f){this.resetA11yMarkerOptions=U(f.options.marker||{},this.userOptions.marker||{})}function u(){const f=this,m=f.options;!function p(f){return f.chart.options.accessibility.enabled&&!1!==(f.options.accessibility&&f.options.accessibility.enabled)&&function k(f){const m=f.chart.options.accessibility;return f.points.length<m.series.pointDescriptionEnabledThreshold||!1===m.series.pointDescriptionEnabledThreshold}(f)}(f)?f.a11yMarkersForced&&(delete f.a11yMarkersForced,function c(f){const m=f.resetA11yMarkerOptions;if(m){const M=m.states&&m.states.normal&&m.states.normal.opacity;f.userOptions&&f.userOptions.marker&&(f.userOptions.marker.enabled=!0),f.update({marker:{enabled:m.enabled,states:{normal:{opacity:M}}}})}}(f),delete f.resetA11yMarkerOptions):(m.marker&&!1===m.marker.enabled&&(f.a11yMarkersForced=!0,w(f.options)),d(f)&&function x(f){let m=f.points.length;for(;m--;){const M=f.points[m],y=M.options,C=M.hasForcedA11yMarker;if(delete M.hasForcedA11yMarker,y.marker){const h=C&&0===A(y);y.marker.enabled&&!h?(o(y),M.hasForcedA11yMarker=!1):!1===y.marker.enabled&&(w(y),M.hasForcedA11yMarker=!0)}}}(f))}function o(f){U(!0,f.marker,{states:{normal:{opacity:A(f)||1}}})}function l(){this.boosted&&this.a11yMarkersForced&&(U(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}T.compose=function e(f){R(X,"A11y.FM")&&(F(f,"afterSetOptions",s),F(f,"render",u),F(f,"afterRender",r),F(f,"renderCanvas",l))}}(I||(I={})),I}),$(v,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[v["Core/Series/Point.js"],v["Core/Series/Series.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Utils/EventProvider.js"],v["Accessibility/Utils/ChartUtilities.js"]],function(j,G,X,F,U,R,I,T){const{seriesTypes:e}=X,{doc:w}=F,{defined:A,fireEvent:x}=U,{getPointFromXY:d,getSeriesFromName:k,scrollAxisToPoint:r}=T;function s(y){const C=y.index,h=y.series.points;let a=h.length;if(h[C]===y)return C;for(;a--;)if(h[a]===y)return a}function u(y){const h=y.chart.options.accessibility.keyboardNavigation.seriesNavigation,a=y.options.accessibility||{},t=a.keyboardNavigation;return t&&!1===t.enabled||!1===a.enabled||!1===y.options.enableMouseTracking||!y.visible||h.pointNavigationEnabledThreshold&&+h.pointNavigationEnabledThreshold<=y.points.length}function p(y){return y.isNull&&y.series.chart.options.accessibility.keyboardNavigation.seriesNavigation.skipNullPoints||!1===y.visible||!1===y.isInside||y.options.accessibility&&!1===y.options.accessibility.enabled||u(y.series)}function o(y){const C=y.points||[],h=C.length;for(let a=0;a<h;++a)if(!p(C[a]))return C[a];return null}function c(y){const C=y.series||[],h=C.length;for(let a=0;a<h;++a)if(!u(C[a])){const t=o(C[a]);if(t)return t}return null}function l(y){let h=y.series.length,a=!1;for(;h--&&(y.highlightedPoint=y.series[h].points[y.series[h].points.length-1],a=y.series[h].highlightNextValidPoint(),!a););return a}function m(y){delete y.highlightedPoint;const C=c(y);return!!C&&C.highlight()}class M{constructor(C,h){this.keyCodes=h,this.chart=C}init(){const C=this,h=this.chart,a=this.eventProvider=new I;a.addEvent(G,"destroy",function(){return C.onSeriesDestroy(this)}),a.addEvent(h,"afterApplyDrilldown",function(){!function f(y){const C=c(y);C&&C.highlight(!1)}(this)}),a.addEvent(h,"drilldown",function(t){const i=t.point,n=i.series;C.lastDrilledDownPoint={x:i.x,y:i.y,seriesName:n?n.name:""}}),a.addEvent(h,"drillupall",function(){setTimeout(function(){C.onDrillupAll()},10)}),a.addEvent(j,"afterSetState",function(){const t=this,i=t.graphic&&t.graphic.element,n=w.activeElement,b=n&&n.getAttribute("class"),g=b&&b.indexOf("highcharts-a11y-proxy-element")>-1;h.highlightedPoint===t&&n!==i&&!g&&i&&i.focus&&i.focus()})}onDrillupAll(){const C=this.lastDrilledDownPoint,h=this.chart,a=C&&k(h,C.seriesName);let t;C&&a&&A(C.x)&&A(C.y)&&(t=d(a,C.x,C.y)),t=t||c(h),h.container&&h.container.focus(),t&&t.highlight&&t.highlight(!1)}getKeyboardNavigationHandler(){const C=this,h=this.keyCodes,a=this.chart,t=a.inverted;return new R(a,{keyCodeMap:[[t?[h.up,h.down]:[h.left,h.right],function(i){return C.onKbdSideways(this,i)}],[t?[h.left,h.right]:[h.up,h.down],function(i){return C.onKbdVertical(this,i)}],[[h.enter,h.space],function(i,n){const b=a.highlightedPoint;if(b){const{plotLeft:g,plotTop:P}=this.chart,{plotX:E=0,plotY:D=0}=b;n={...n,chartX:g+E,chartY:P+D,point:b,target:b.graphic?.element||n.target},x(b.series,"click",n),b.firePointEvent("click",n)}return this.response.success}],[[h.home],function(){return m(a),this.response.success}],[[h.end],function(){return l(a),this.response.success}],[[h.pageDown,h.pageUp],function(i){return a.highlightAdjacentSeries(i===h.pageDown),this.response.success}]],init:function(){return C.onHandlerInit(this)},validate:function(){return!!c(a)},terminate:function(){return C.onHandlerTerminate()}})}onKbdSideways(C,h){const a=this.keyCodes;return this.attemptHighlightAdjacentPoint(C,h===a.right||h===a.down)}onHandlerInit(C){const h=this.chart;return h.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&h.highlightedPoint?h.highlightedPoint.highlight():m(h),C.response.success}onKbdVertical(C,h){const a=this.chart,t=this.keyCodes,i=h===t.down||h===t.right,n=a.options.accessibility.keyboardNavigation.seriesNavigation;return n.mode&&"serialize"===n.mode?this.attemptHighlightAdjacentPoint(C,i):(a[a.highlightedPoint&&a.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](i),C.response.success)}onHandlerTerminate(){const C=this.chart,h=C.options.accessibility.keyboardNavigation;C.tooltip&&C.tooltip.hide(0);const a=C.highlightedPoint&&C.highlightedPoint.series;a&&a.onMouseOut&&a.onMouseOut(),C.highlightedPoint&&C.highlightedPoint.onMouseOut&&C.highlightedPoint.onMouseOut(),h.seriesNavigation.rememberPointFocus||delete C.highlightedPoint}attemptHighlightAdjacentPoint(C,h){const a=this.chart,t=a.options.accessibility.keyboardNavigation.wrapAround;return a.highlightAdjacentPoint(h)||t&&(h?m(a):l(a))?C.response.success:C.response[h?"next":"prev"]}onSeriesDestroy(C){const h=this.chart;h.highlightedPoint&&h.highlightedPoint.series===C&&(delete h.highlightedPoint,h.focusElement&&h.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(y){function C(g){const P=this,E=P.series,D=P.highlightedPoint,O=D&&s(D)||0,L=P.series&&P.series[P.series.length-1];let _,Y;if(!E[0]||!E[0].points)return!1;if(D){if(_=E[D.series.index+(g?1:-1)],Y=(D&&D.series.points||[])[O+(g?1:-1)],!Y&&_&&(Y=_.points[g?0:_.points.length-1]),!Y)return!1}else Y=g?E[0].points[0]:L&&L.points&&L.points[L.points.length-1];return p(Y)?(_=Y.series,P.highlightedPoint=u(_)?g?_.points[_.points.length-1]:_.points[0]:Y,P.highlightAdjacentPoint(g)):Y.highlight()}function h(g){const P=this.highlightedPoint;let D,E=1/0;return!(!A(P.plotX)||!A(P.plotY))&&(this.series.forEach(O=>{u(O)||O.points.forEach(S=>{if(!A(S.plotY)||!A(S.plotX)||S===P)return;let L=S.plotY-P.plotY;const B=Math.abs(S.plotX-P.plotX),_=Math.abs(L)*Math.abs(L)+B*B*4;O.yAxis&&O.yAxis.reversed&&(L*=-1),!(L<=0&&g||L>=0&&!g||_<5||p(S))&&_<E&&(E=_,D=S)})}),!!D&&D.highlight())}function a(g){const P=this,E=P.highlightedPoint,D=P.series&&P.series[P.series.length-1],O=D&&D.points&&D.points[D.points.length-1];let S,L,B;return P.highlightedPoint?(S=P.series[E.series.index+(g?-1:1)],!(!S||(L=function i(g,P,E,D){let S,L,B,O=1/0,_=P.points.length;const Y=z=>!(A(z.plotX)&&A(z.plotY));if(!Y(g)){for(;_--;)S=P.points[_],!Y(S)&&(B=(g.plotX-S.plotX)*(g.plotX-S.plotX)*(E||1)+(g.plotY-S.plotY)*(g.plotY-S.plotY)*(D||1),B<O&&(O=B,L=_));return A(L)?P.points[L]:void 0}}(E,S,4),!L))&&(u(S)?(L.highlight(),B=P.highlightAdjacentSeries(g),B||(E.highlight(),!1)):(L.highlight(),L.series.highlightNextValidPoint()))):(S=g?P.series&&P.series[0]:D,L=g?S&&S.points&&S.points[0]:O,!!L&&L.highlight())}function n(g=!0){const P=this.series.chart,E=P.tooltip?.label?.element;!this.isNull&&g?this.onMouseOver():P.tooltip&&P.tooltip.hide(0),r(this),this.graphic&&(P.setFocusToElement(this.graphic),!g&&P.focusElement&&P.focusElement.removeFocusBorder()),P.highlightedPoint=this;const D=E?.getBoundingClientRect().top;if(E&&D&&D<0){const O=window.scrollY;window.scrollTo({behavior:"smooth",top:O+D})}return this}function b(){const g=this.chart.highlightedPoint,P=(g&&g.series)===this?s(g):0,E=this.points,D=E.length;if(E&&D){for(let O=P;O<D;++O)if(!p(E[O]))return E[O].highlight();for(let O=P;O>=0;--O)if(!p(E[O]))return E[O].highlight()}return!1}y.compose=function t(g,P,E){const D=g.prototype,O=P.prototype,S=E.prototype;D.highlightAdjacentPoint||(D.highlightAdjacentPoint=C,D.highlightAdjacentPointVertical=h,D.highlightAdjacentSeries=a,O.highlight=n,S.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(L=>{e[L]&&(e[L].prototype.keyboardMoveVertical=!1)}),S.highlightNextValidPoint=b)}}(M||(M={})),M}),$(v,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],v["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],v["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(j,G,X,F,U,R){const{hideSeriesFromAT:I}=G,{describeSeries:T}=U;return class e extends j{static compose(A,x,d){F.compose(d),X.compose(d),R.compose(A,x,d)}init(){this.newDataAnnouncer=new F(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new R(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const A=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===A.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(A){A.labelBySeries&&A.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(x){!1!==(x.options.accessibility&&x.options.accessibility.enabled)&&x.visible&&0!==x.getPointsCollection().length?T(x):I(x)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),$(v,"Accessibility/Components/ZoomComponent.js",[v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{unhideChartElementFromAT:R}=G,{getFakeMouseEvent:I}=X,{attr:T,pick:e}=U;return class A extends j{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const d=this,k=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(r=>{d.addEvent(k,r,function(){d.updateProxyOverlays()})})}onChartUpdate(){const d=this.chart,k=this;d.mapNavigation&&d.mapNavigation.navButtons.forEach((r,s)=>{R(d,r.element),k.setMapNavButtonAttrs(r.element,"accessibility.zoom.mapZoom"+(s?"Out":"In"))})}setMapNavButtonAttrs(d,k){const r=this.chart,s=r.langFormat(k,{chart:r});T(d,{tabindex:-1,role:"button","aria-label":s})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const d=this.chart;this.proxyProvider.clearGroup("zoom"),d.resetZoomButton&&this.createZoomProxyButton(d.resetZoomButton,"resetZoomProxyButton",d.langFormat("accessibility.zoom.resetZoomButton",{chart:d})),d.drillUpButton&&d.breadcrumbs&&d.breadcrumbs.list&&this.createZoomProxyButton(d.drillUpButton,"drillUpProxyButton",d.langFormat("accessibility.drillUpButton",{chart:d,buttonText:d.breadcrumbs.getButtonText(d.breadcrumbs.list[d.breadcrumbs.list.length-1])}))}createZoomProxyButton(d,k,r){this[k]=this.proxyProvider.addProxyElement("zoom",{click:d},"button",{"aria-label":r,tabindex:-1})}getMapZoomNavigation(){const d=this.keyCodes,k=this.chart,r=this;return new F(k,{keyCodeMap:[[[d.up,d.down,d.left,d.right],function(s){return r.onMapKbdArrow(this,s)}],[[d.tab],function(s,u){return r.onMapKbdTab(this,u)}],[[d.space,d.enter],function(){return r.onMapKbdClick(this)}]],validate:function(){return function w(x){return!!(x.mapView&&x.mapNavigation&&x.mapNavigation.navButtons.length)}(k)},init:function(s){return r.onMapNavInit(s)}})}onMapKbdArrow(d,k){const r=this.chart,s=this.keyCodes,u=r.container,p=k===s.up||k===s.down,l=(p?r.plotHeight:r.plotWidth)/10*(k===s.left||k===s.up?1:-1),f=10*Math.random(),m={x:u.offsetLeft+r.plotLeft+r.plotWidth/2+f,y:u.offsetTop+r.plotTop+r.plotHeight/2+f},M=p?{x:m.x,y:m.y+l}:{x:m.x+l,y:m.y};return[I("mousedown",m),I("mousemove",M),I("mouseup",M)].forEach(y=>u.dispatchEvent(y)),d.response.success}onMapKbdTab(d,k){const r=this.chart,s=d.response,u=k.shiftKey,p=u&&!this.focusedMapNavButtonIx||!u&&this.focusedMapNavButtonIx;if(r.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),p)return r.mapView&&r.mapView.zoomBy(),s[u?"prev":"next"];this.focusedMapNavButtonIx+=u?-1:1;const o=r.mapNavigation.navButtons[this.focusedMapNavButtonIx];return r.setFocusToElement(o.box,o.element),o.setState(2),s.success}onMapKbdClick(d){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),d.response.success}onMapNavInit(d){const k=this.chart,u=d>0?k.mapNavigation.navButtons[0]:k.mapNavigation.navButtons[1];k.setFocusToElement(u.box,u.element),u.setState(2),this.focusedMapNavButtonIx=d>0?0:1}simpleButtonNavigation(d,k,r){const s=this.keyCodes,u=this,p=this.chart;return new F(p,{keyCodeMap:[[[s.tab,s.up,s.down,s.left,s.right],function(o,c){return this.response[o===s.tab&&c.shiftKey||o===s.left||o===s.up?"prev":"next"]}],[[s.space,s.enter],function(){const o=r(this,p);return e(o,this.response.success)}]],validate:function(){return p[d]&&p[d].box&&u[k].innerElement},init:function(){p.setFocusToElement(p[d].box,u[k].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(d,k){k.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(d,k){return k.drillUp(),d.response.prev}),this.getMapZoomNavigation()]}}}),$(v,"Accessibility/HighContrastMode.js",[v["Core/Globals.js"]],function(j){const{doc:G,isMS:X,win:F}=j;return{isHighContrastModeActive:function U(){const T=/(Edg)/.test(F.navigator.userAgent);if(F.matchMedia&&T)return F.matchMedia("(-ms-high-contrast: active)").matches;if(X&&F.getComputedStyle){const e=G.createElement("div");e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",G.body.appendChild(e);const A=(e.currentStyle||F.getComputedStyle(e)).backgroundImage;return G.body.removeChild(e),"none"===A}return F.matchMedia&&F.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function R(T){T.highContrastModeActive=!0;const e=T.options.accessibility.highContrastTheme;T.update(e,!1);const w=e.colors?.length>1;T.series.forEach(function(A){const x=e.plotOptions[A.type]||{};A.update({color:x.color||"windowText",colors:w?e.colors:[x.color||"windowText"],borderColor:x.borderColor||"window",fillColor:w&&void 0!==A.colorIndex?e.colors[A.colorIndex]:x.color||"window"},!1),A.points&&A.points.forEach(function(r){r.options&&r.options.color&&r.update({color:x.color||"windowText",borderColor:x.borderColor||"window"},!1)})}),T.redraw()}}}),$(v,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),$(v,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),$(v,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),$(v,"Accessibility/Options/DeprecatedOptions.js",[v["Core/Utilities.js"]],function(j){const{error:G,pick:X}=j;function F(d,k,r){let u,s=d,p=0;for(;p<k.length-1;++p)u=k[p],s=s[u]=X(s[u],{});s[k[k.length-1]]=r}function U(d,k,r,s){function u(c,l){return l.reduce(function(f,m){return f[m]},c)}const p=u(d.options,k),o=u(d.options,r);Object.keys(s).forEach(function(c){const l=p[c];typeof l<"u"&&(F(o,s[c],l),G(32,!1,d,{[k.join(".")+"."+c]:r.join(".")+"."+s[c].join(".")}))})}return function x(d){(function R(d){const k=d.options.chart,r=d.options.accessibility||{};["description","typeDescription"].forEach(function(s){k[s]&&(r[s]=k[s],G(32,!1,d,{[`chart.${s}`]:`use accessibility.${s}`}))})})(d),function I(d){d.axes.forEach(function(k){const r=k.options;r&&r.description&&(r.accessibility=r.accessibility||{},r.accessibility.description=r.description,G(32,!1,d,{"axis.description":"use axis.accessibility.description"}))})}(d),d.series&&function T(d){const k={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};d.series.forEach(function(r){Object.keys(k).forEach(function(s){let u=r.options[s];"accessibility.pointDescriptionFormatter"===s&&(u=r.options.accessibility&&r.options.accessibility.pointDescriptionFormatter),typeof u<"u"&&(F(r.options,k[s],"skipKeyboardNavigation"===s?!u:u),G(32,!1,d,{[`series.${s}`]:"series."+k[s].join(".")}))})})}(d),function e(d){U(d,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}(d),function w(d){U(d,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}(d),function A(d){U(d,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}(d)}}),$(v,"Accessibility/Accessibility.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/A11yI18n.js"],v["Accessibility/Components/ContainerComponent.js"],v["Accessibility/FocusBorder.js"],v["Accessibility/Components/InfoRegionsComponent.js"],v["Accessibility/KeyboardNavigation.js"],v["Accessibility/Components/LegendComponent.js"],v["Accessibility/Components/MenuComponent.js"],v["Accessibility/Components/NavigatorComponent.js"],v["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],v["Accessibility/ProxyProvider.js"],v["Accessibility/Components/RangeSelectorComponent.js"],v["Accessibility/Components/SeriesComponent/SeriesComponent.js"],v["Accessibility/Components/ZoomComponent.js"],v["Accessibility/HighContrastMode.js"],v["Accessibility/HighContrastTheme.js"],v["Accessibility/Options/A11yDefaults.js"],v["Accessibility/Options/LangDefaults.js"],v["Accessibility/Options/DeprecatedOptions.js"]],function(j,G,X,F,U,R,I,T,e,w,A,x,d,k,r,s,u,p,o,c,l,f){const{defaultOptions:m}=j,{doc:M}=G,{addEvent:y,extend:C,fireEvent:h,merge:a}=X,{removeElement:t}=F;class i{constructor(b){this.init(b)}init(b){if(this.chart=b,!M.addEventListener)return this.zombie=!0,this.components={},void b.renderTo.setAttribute("aria-hidden",!0);f(b),this.proxyProvider=new k(this.chart),this.initComponents(),this.keyboardNavigation=new e(b,this.components)}initComponents(){const b=this.chart,g=this.proxyProvider,P=b.options.accessibility;this.components={container:new R,infoRegions:new T,legend:new w,chartMenu:new A,rangeSelector:new r,series:new s,zoom:new u,navigator:new x},P.customComponents&&C(this.components,P.customComponents);const E=this.components;this.getComponentOrder().forEach(function(D){E[D].initBase(b,g),E[D].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(g=>"series"!==g);return["series"].concat(b)}update(){const b=this.components,g=this.chart,P=g.options.accessibility;h(g,"beforeA11yUpdate"),g.types=this.getChartTypes();const E=P.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(E),this.getComponentOrder().forEach(function(D){b[D].onChartUpdate(),h(g,"afterA11yComponentUpdate",{name:D,component:b[D]})}),this.keyboardNavigation.update(E),!g.highContrastModeActive&&!1!==P.highContrastMode&&(p.isHighContrastModeActive()||!0===P.highContrastMode)&&p.setHighContrastTheme(g),h(g,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},g=this.components;Object.keys(g).forEach(function(P){g[P].destroy(),g[P].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&t(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(g){b[g.type]=1}),Object.keys(b)}}return function(n){function b(){this.accessibility&&this.accessibility.destroy()}function g(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const S=this.accessibility;S&&!S.zombie&&(S.proxyProvider.updateProxyElementPositions(),S.getComponentOrder().forEach(function(L){S.components[L].onChartRender()}))}function P(S){const L=S.options.accessibility;L&&(L.customComponents&&(this.options.accessibility.customComponents=L.customComponents,delete L.customComponents),a(!0,this.options.accessibility,L),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function E(){let S=this.accessibility;const L=this.options.accessibility;L&&L.enabled?S&&!S.zombie?S.update():(this.accessibility=S=new n(this),S&&!S.zombie&&S.update()):S?(S.destroy&&S.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function O(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}n.i18nFormat=U.i18nFormat,n.compose=function D(S,L,B,_,Y,z){e.compose(S),d.compose(_),w.compose(S,L),A.compose(S),s.compose(S,B,_),U.compose(S),I.compose(S,Y),z&&r.compose(S,z);const N=S.prototype;N.updateA11yEnabled||(N.updateA11yEnabled=E,y(S,"destroy",b),y(S,"render",g),y(S,"update",P),["addSeries","init"].forEach(H=>{y(S,H,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(H=>{y(S,H,function(){const Z=this.accessibility;Z&&!Z.zombie&&Z.update()})}),y(B,"update",O),["update","updatedData","remove"].forEach(H=>{y(_,H,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}(i||(i={})),a(!0,m,c,{accessibility:{highContrastTheme:o},lang:l}),i}),$(v,"masters/modules/accessibility.src.js",[v["Core/Globals.js"],v["Accessibility/Accessibility.js"],v["Accessibility/AccessibilityComponent.js"],v["Accessibility/Utils/ChartUtilities.js"],v["Accessibility/Utils/HTMLUtilities.js"],v["Accessibility/KeyboardNavigationHandler.js"],v["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(j,G,X,F,U,R,I){const T=j;return T.i18nFormat=G.i18nFormat,T.A11yChartUtilities=F,T.A11yHTMLUtilities=U,T.AccessibilityComponent=X,T.KeyboardNavigationHandler=R,T.SeriesAccessibilityDescriber=I,G.compose(T.Chart,T.Legend,T.Point,T.Series,T.SVGElement,T.RangeSelector),j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},4949:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Extensions/Annotations/AnnotationChart.js",[v["Core/Utilities.js"]],function(j){const{addEvent:G,erase:X,find:F,fireEvent:U,pick:R,wrap:I}=j;function T(r,s){const u=this.initAnnotation(r);return this.options.annotations.push(u.options),R(s,!0)&&(u.redraw(),u.graphic.attr({opacity:1})),u}function e(){const r=this;r.plotBoxClip=this.renderer.clipRect(this.plotBox),r.controlPointsGroup=r.renderer.g("control-points").attr({zIndex:99}).clip(r.plotBoxClip).add(),r.options.annotations.forEach((s,u)=>{if(!r.annotations.some(p=>p.options===s)){const p=r.initAnnotation(s);r.options.annotations[u]=p.options}}),r.drawAnnotations(),G(r,"redraw",r.drawAnnotations),G(r,"destroy",function(){r.plotBoxClip.destroy(),r.controlPointsGroup.destroy()}),G(r,"exportData",function(s){const p=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,o=!s.dataRows[1].xValues,c=r.options.lang&&r.options.lang.exportData&&r.options.lang.exportData.annotationHeader,l=function(h){let a;return p&&(a=p(h),!1!==a)?a:(a=c+" "+h,o?{columnTitle:a,topLevelColumnTitle:a}:a)},f=s.dataRows[0].length,m=r.options.exporting&&r.options.exporting.csv&&r.options.exporting.csv.annotations&&r.options.exporting.csv.annotations.itemDelimiter,M=r.options.exporting&&r.options.exporting.csv&&r.options.exporting.csv.annotations&&r.options.exporting.csv.annotations.join;r.annotations.forEach(h=>{h.options.labelOptions&&h.options.labelOptions.includeInDataExport&&h.labels.forEach(a=>{if(a.options.text){const t=a.options.text;a.points.forEach(i=>{const n=i.x,b=i.series.xAxis?i.series.xAxis.index:-1;let g=!1;if(-1===b){const P=s.dataRows[0].length,E=new Array(P);for(let D=0;D<P;++D)E[D]="";E.push(t),E.xValues=[],E.xValues[b]=n,s.dataRows.push(E),g=!0}if(g||s.dataRows.forEach(P=>{!g&&P.xValues&&void 0!==b&&n===P.xValues[b]&&(M&&P.length>f?P[P.length-1]+=m+t:P.push(t),g=!0)}),!g){const P=s.dataRows[0].length,E=new Array(P);for(let D=0;D<P;++D)E[D]="";E[0]=n,E.push(t),E.xValues=[],void 0!==b&&(E.xValues[b]=n),s.dataRows.push(E)}})}})});let y=0;s.dataRows.forEach(h=>{y=Math.max(y,h.length)});const C=y-s.dataRows[0].length;for(let h=0;h<C;h++){const a=l(h+1);o?(s.dataRows[0].push(a.topLevelColumnTitle),s.dataRows[1].push(a.columnTitle)):s.dataRows[0].push(a)}})}function w(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(r=>{r.redraw(),r.graphic.animate({opacity:1},r.animationConfig)})}function A(r){const s=this.annotations,u="annotations"===r.coll?r:F(s,function(p){return p.options.id===r});u&&(U(u,"remove"),X(this.options.annotations,u.options),X(s,u),u.destroy())}function x(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function d(r){this.chart.hasDraggedAnnotation||r.apply(this,Array.prototype.slice.call(arguments,1))}var k;return(k||(k={})).compose=function s(u,p,o){const c=p.prototype;if(!c.addAnnotation){const l=o.prototype;G(p,"afterInit",x),c.addAnnotation=T,c.callbacks.push(e),c.collectionsWithInit.annotations=[T],c.collectionsWithUpdate.push("annotations"),c.drawAnnotations=w,c.removeAnnotation=A,c.initAnnotation=function(m){const y=new(u.types[m.type]||u)(this,m);return this.annotations.push(y),y},I(l,"onContainerMouseDown",d)}},k}),$(v,"Extensions/Annotations/AnnotationDefaults.js",[v["Core/Utilities.js"]],function(j){const{defined:G}=j;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return G(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}}),$(v,"Extensions/Annotations/EventEmitter.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{doc:X,isTouchDevice:F}=j,{addEvent:U,fireEvent:R,objectEach:I,pick:T,removeEvent:e}=G;return class w{addEvents(){const x=this,d=function(k){U(k,F?"touchstart":"mousedown",r=>{x.onMouseDown(r)},{passive:!1})};if(d(this.graphic.element),(x.labels||[]).forEach(k=>{k.options.useHTML&&k.graphic.text&&d(k.graphic.text.element)}),I(x.options.events,(k,r)=>{const s=function(u){("click"!==r||!x.cancelClick)&&k.call(x,x.chart.pointer?.normalize(u),x.target)};-1===(x.nonDOMEvents||[]).indexOf(r)?(U(x.graphic.element,r,s,{passive:!1}),x.graphic.div&&U(x.graphic.div,r,s,{passive:!1})):U(x,r,s,{passive:!1})}),x.options.draggable&&(U(x,"drag",x.onDrag),!x.graphic.renderer.styledMode)){const k={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[x.options.draggable]};x.graphic.css(k),(x.labels||[]).forEach(r=>{r.options.useHTML&&r.graphic.text&&r.graphic.text.css(k)})}x.isUpdating||R(x,"add")}destroy(){this.removeDocEvents(),e(this),this.hcEvents=null}mouseMoveToRadians(x,d,k){let o,r=x.prevChartY-k,s=x.prevChartX-d,u=x.chartY-k,p=x.chartX-d;return this.chart.inverted&&(o=s,s=r,r=o,o=p,p=u,u=o),Math.atan2(u,p)-Math.atan2(r,s)}mouseMoveToScale(x,d,k){let o=(x.chartX-d||1)/(x.prevChartX-d||1),c=(x.chartY-k||1)/(x.prevChartY-k||1);if(this.chart.inverted){const l=c;c=o,o=l}return{x:o,y:c}}mouseMoveToTranslation(x){let r,d=x.chartX-x.prevChartX,k=x.chartY-x.prevChartY;return this.chart.inverted&&(r=k,k=d,d=r),{x:d,y:k}}onDrag(x){if(this.chart.isInsidePlot(x.chartX-this.chart.plotLeft,x.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){const d=this.mouseMoveToTranslation(x);"x"===this.options.draggable&&(d.y=0),"y"===this.options.draggable&&(d.x=0);const k=this;k.points.length?k.translate(d.x,d.y):(k.shapes.forEach(r=>r.translate(d.x,d.y)),k.labels.forEach(r=>r.translate(d.x,d.y))),this.redraw(!1)}}onMouseDown(x){if(x.preventDefault&&x.preventDefault(),2===x.button)return;const d=this,k=d.chart.pointer,r=x?.sourceCapabilities?.firesTouchEvents||!1;let s=(x=k?.normalize(x)||x).chartX,u=x.chartY;d.cancelClick=!1,d.chart.hasDraggedAnnotation=!0,d.removeDrag=U(X,F||r?"touchmove":"mousemove",function(p){d.hasDragged=!0,(p=k?.normalize(p)||p).prevChartX=s,p.prevChartY=u,R(d,"drag",p),s=p.chartX,u=p.chartY},F||r?{passive:!1}:void 0),d.removeMouseUp=U(X,F||r?"touchend":"mouseup",function(){const p=T(d.target&&d.target.annotation,d.target);p&&(p.cancelClick=d.hasDragged),d.cancelClick=d.hasDragged,d.chart.hasDraggedAnnotation=!1,d.hasDragged&&R(T(p,d),"afterUpdate"),d.hasDragged=!1,d.onMouseUp()},F||r?{passive:!1}:void 0)}onMouseUp(){this.removeDocEvents()}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}}),$(v,"Extensions/Annotations/ControlPoint.js",[v["Extensions/Annotations/EventEmitter.js"],v["Core/Utilities.js"]],function(j,G){const{merge:X,pick:F}=G;return class U extends j{constructor(I,T,e,w){super(),this.nonDOMEvents=["drag"],this.chart=I,this.target=T,this.options=e,this.index=F(e.index,w)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null}redraw(I){this.graphic[I?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const I=this.chart,T=this.options;this.graphic=I.renderer.symbol(T.symbol,0,0,T.width,T.height).add(I.controlPointsGroup).css(T.style),this.setVisibility(T.visible),this.addEvents()}setVisibility(I){this.graphic[I?"show":"hide"](),this.options.visible=I}update(I){const T=this.chart,e=this.target,w=this.index,A=X(!0,this.options,I);this.destroy(),this.constructor(T,e,A,w),this.render(T.controlPointsGroup),this.redraw()}}}),$(v,"Extensions/Annotations/MockPoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G){const{series:{prototype:X}}=j,{defined:F,fireEvent:U}=G;class R{static fromPoint(T){return new R(T.series.chart,null,{x:T.x,y:T.y,xAxis:T.series.xAxis,yAxis:T.series.yAxis})}static pointToPixels(T,e){const w=T.series,A=w.chart;let k,x=T.plotX||0,d=T.plotY||0;return A.inverted&&(T.mock?(x=T.plotY,d=T.plotX):(x=A.plotWidth-(T.plotY||0),d=A.plotHeight-(T.plotX||0))),w&&!e&&(k=w.getPlotBox(),x+=k.translateX,d+=k.translateY),{x,y:d}}static pointToOptions(T){return{x:T.x,y:T.y,xAxis:T.series.xAxis,yAxis:T.series.yAxis}}constructor(T,e,w){this.mock=!0,this.series={visible:!0,chart:T,getPlotBox:X.getPlotBox},this.target=e||null,this.options=w,this.applyOptions(this.getOptions())}applyOptions(T){this.command=T.command,this.setAxis(T,"x"),this.setAxis(T,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"==typeof this.options}isInsidePlot(){const T=this.plotX,e=this.plotY,w=this.series.xAxis,A=this.series.yAxis,x={x:T,y:e,isInsidePlot:!0,options:{}};return w&&(x.isInsidePlot=F(T)&&T>=0&&T<=w.len),A&&(x.isInsidePlot=x.isInsidePlot&&F(e)&&e>=0&&e<=A.len),U(this.series.chart,"afterIsInsidePlot",x),x.isInsidePlot}refresh(){const T=this.series,e=T.xAxis,w=T.yAxis,A=this.getOptions();e?(this.x=A.x,this.plotX=e.toPixels(A.x,!0)):(this.x=void 0,this.plotX=A.x),w?(this.y=A.y,this.plotY=w.toPixels(A.y,!0)):(this.y=null,this.plotY=A.y),this.isInside=this.isInsidePlot()}refreshOptions(){const T=this.series,e=T.xAxis,w=T.yAxis;this.x=this.options.x=e?this.options.x=e.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=w?w.toValue(this.plotY,!0):this.plotY}rotate(T,e,w){if(!this.hasDynamicOptions()){const A=Math.cos(w),x=Math.sin(w),d=this.plotX-T,k=this.plotY-e,s=d*x+k*A;this.plotX=d*A-k*x+T,this.plotY=s+e,this.refreshOptions()}}scale(T,e,w,A){if(!this.hasDynamicOptions()){const d=this.plotY*A,r=(1-A)*e;this.plotX=(1-w)*T+this.plotX*w,this.plotY=r+d,this.refreshOptions()}}setAxis(T,e){const w=e+"Axis",A=T[w],x=this.series.chart;this.series[w]="object"==typeof A?A:F(A)?x[w][A]||x.get(A):null}toAnchor(){const T=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(T[0]=this.plotY,T[1]=this.plotX),T}translate(T,e,w,A){this.hasDynamicOptions()||(this.plotX+=w,this.plotY+=A,this.refreshOptions())}}return R}),$(v,"Extensions/Annotations/ControlTarget.js",[v["Extensions/Annotations/ControlPoint.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X){var F;return function(U){function R(){const o=this.controlPoints,c=this.options.controlPoints||[];c.forEach((l,f)=>{const m=X.merge(this.options.controlPointOptions,l);m.index||(m.index=f),c[f]=m,o.push(new j(this.chart,this,m))})}function I(o){const c=o.series.getPlotBox(),l=o.series.chart,f=o.mock?o.toAnchor():l.tooltip&&l.tooltip.getAnchor.call({chart:o.series.chart},o)||[0,0,0,0],m={x:f[0]+(this.options.x||0),y:f[1]+(this.options.y||0),height:f[2]||0,width:f[3]||0};return{relativePosition:m,absolutePosition:X.merge(m,{x:m.x+(o.mock?c.translateX:l.plotLeft),y:m.y+(o.mock?c.translateY:l.plotTop)})}}function e(){this.controlPoints.forEach(o=>o.destroy()),this.chart=null,this.controlPoints=null,this.points=null,this.options=null,this.annotation&&(this.annotation=null)}function w(){const o=this.options;return o.points||o.point&&X.splat(o.point)}function A(){const o=this.getPointsOptions(),c=this.points,l=o&&o.length||0;let f,m;for(f=0;f<l;f++){if(m=this.point(o[f],c[f]),!m)return void(c.length=0);m.mock&&m.refresh(),c[f]=m}return c}function x(o,c){if(o&&o.series)return o;if(!c||null===c.series)if(X.isObject(o))c=new G(this.chart,this,o);else if(X.isString(o))c=this.chart.get(o)||null;else if("function"==typeof o){const l=o.call(c,this);c=l.series?l:new G(this.chart,this,o)}return c}function d(o){this.controlPoints.forEach(c=>c.redraw(o))}function k(){this.controlPoints.forEach(o=>o.render())}function r(o,c,l,f,m){if(this.chart.inverted){const M=c;c=l,l=M}this.points.forEach((M,y)=>this.transformPoint(o,c,l,f,m,y),this)}function s(o,c,l,f,m,M){let y=this.points[M];y.mock||(y=this.points[M]=G.fromPoint(y)),y[o](c,l,f,m)}function u(o,c){this.transform("translate",null,null,o,c)}function p(o,c,l){this.transformPoint("translate",null,null,o,c,l)}U.compose=function T(o){const c=o.prototype;c.addControlPoints||X.merge(!0,c,{addControlPoints:R,anchor:I,destroyControlTarget:e,getPointsOptions:w,linkPoints:A,point:x,redrawControlPoints:d,renderControlPoints:k,transform:r,transformPoint:s,translate:u,translatePoint:p})}}(F||(F={})),F}),$(v,"Extensions/Annotations/Controllables/Controllable.js",[v["Extensions/Annotations/ControlTarget.js"],v["Core/Utilities.js"]],function(j,G){const{merge:X}=G;class F{constructor(R,I,T,e){this.annotation=R,this.chart=R.chart,this.collection="label"===e?"labels":"shapes",this.controlPoints=[],this.options=I,this.points=[],this.index=T,this.itemType=e,this.init(R,I,T)}attr(...R){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(R){const I=this.constructor.attrsMap,T={},e=this.chart.styledMode;let w,A;for(w in R)A=I[w],typeof I[w]<"u"&&(!e||-1===["fill","stroke","stroke-width"].indexOf(A))&&(T[A]=R[w]);return T}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(R,I,T){this.annotation=R,this.chart=R.chart,this.options=I,this.points=[],this.controlPoints=[],this.index=T,this.linkPoints(),this.addControlPoints()}redraw(R){this.redrawControlPoints(R)}render(R){this.options.className&&this.graphic&&this.graphic.addClass(this.options.className),this.renderControlPoints()}rotate(R,I,T){this.transform("rotate",R,I,T)}scale(R,I,T,e){this.transform("scale",R,I,T,e)}setControlPointsVisibility(R){this.controlPoints.forEach(I=>{I.setVisibility(R)})}shouldBeDrawn(){return!!this.points.length}translateShape(R,I,T){const e=this.annotation.chart,w=this.annotation.userOptions,A=e.annotations.indexOf(this.annotation),x=e.options.annotations[A];this.translatePoint(R,I,0),T&&this.translatePoint(R,I,1),x[this.collection][this.index].point=this.options.point,w[this.collection][this.index].point=this.options.point}update(R){const I=this.annotation,T=X(!0,this.options,R),e=this.graphic.parentGroup,w=this.constructor;this.destroy();const A=new w(I,T,this.index,this.itemType);X(!0,this,A),this.render(e),this.redraw()}}return j.compose(F),F}),$(v,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}}),$(v,"Extensions/Annotations/Controllables/ControllablePath.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Extensions/Annotations/Controllables/ControllableDefaults.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{defaultMarkers:U}=G,{addEvent:R,defined:I,extend:T,merge:e,uniqueKey:w}=F,A=k("marker-end"),x=k("marker-start"),d="rgba(192,192,192,"+(X.svg?1e-4:.002)+")";function k(p){return function(o){this.attr(p,"url(#"+o+")")}}function r(){this.options.defs=e(U,this.options.defs||{})}function s(p,o){const c={attributes:{id:p}},l={stroke:o.color||"none",fill:o.color||"rgba(0, 0, 0, 0.75)"};c.children=o.children&&o.children.map(function(M){return e(l,M)});const f=e(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},o,c),m=this.definition(f);return m.id=p,m}return(()=>{class p extends j{static compose(c,l){const f=l.prototype;f.addMarker||(R(c,"afterGetContainer",r),f.addMarker=s)}constructor(c,l,f){super(c,l,f,"shape"),this.type="path"}toD(){const c=this.options.d;if(c)return"function"==typeof c?c.call(this):c;const l=this.points,f=l.length,m=[];let a,M=f,y=l[0],C=M&&this.anchor(y).absolutePosition,h=0;if(C)for(m.push(["M",C.x,C.y]);++h<f&&M;)y=l[h],a=y.command||"L",C=this.anchor(y).absolutePosition,"M"===a||"L"===a?m.push([a,C.x,C.y]):"Z"===a&&m.push([a]),M=y.series.visible;return M&&this.graphic?this.chart.renderer.crispLine(m,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(c){const l=this.options,f=this.attrsFromOptions(l);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(f).add(c),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(c),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:d,fill:d,"stroke-width":this.graphic.strokeWidth()+2*l.snap}),super.render(),T(this.graphic,{markerStartSetter:x,markerEndSetter:A}),this.setMarkers(this)}redraw(c){if(this.graphic){const l=this.toD(),f=c?"animate":"attr";l?(this.graphic[f]({d:l}),this.tracker[f]({d:l})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!l}super.redraw(c)}setMarkers(c){const l=c.options,f=c.chart,m=f.options.defs,M=l.fill,y=I(M)&&"none"!==M?M:l.stroke;["markerStart","markerEnd"].forEach(function(h){const a=l[h];let t,i,n,b;if(a){for(n in m)if(t=m[n],(a===(t.attributes&&t.attributes.id)||a===t.id)&&"marker"===t.tagName){i=t;break}i&&(b=c[h]=f.renderer.addMarker((l.id||w())+"-"+a,e(i,{color:y})),c.attr(h,b.getAttribute("id")))}})}}return p.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},p})()}),$(v,"Extensions/Annotations/Controllables/ControllableRect.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Extensions/Annotations/Controllables/ControllablePath.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F}=X;class U extends j{constructor(I,T,e){super(I,T,e,"shape"),this.type="rect",this.translate=super.translateShape}render(I){const T=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(T).add(I),super.render()}redraw(I){if(this.graphic){const T=this.anchor(this.points[0]).absolutePosition;T?this.graphic[I?"animate":"attr"]({x:T.x,y:T.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(T)}super.redraw(I)}}return U.attrsMap=F(G.attrsMap,{width:"width",height:"height"}),U}),$(v,"Extensions/Annotations/Controllables/ControllableCircle.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Extensions/Annotations/Controllables/ControllablePath.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F}=X;class U extends j{constructor(I,T,e){super(I,T,e,"shape"),this.type="circle",this.translate=super.translateShape}redraw(I){if(this.graphic){const T=this.anchor(this.points[0]).absolutePosition;T?this.graphic[I?"animate":"attr"]({x:T.x,y:T.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!T}super.redraw.call(this,I)}render(I){const T=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(T).add(I),super.render()}setRadius(I){this.options.r=I}}return U.attrsMap=F(G.attrsMap,{r:"r"}),U}),$(v,"Extensions/Annotations/Controllables/ControllableEllipse.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Extensions/Annotations/Controllables/ControllablePath.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F,defined:U}=X;class R extends j{constructor(T,e,w){super(T,e,w,"shape"),this.type="ellipse"}init(T,e,w){U(e.yAxis)&&e.points.forEach(A=>{A.yAxis=e.yAxis}),U(e.xAxis)&&e.points.forEach(A=>{A.xAxis=e.xAxis}),super.init(T,e,w)}render(T){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(T),super.render()}translate(T,e){super.translateShape(T,e,!0)}getDistanceFromLine(T,e,w,A){return Math.abs((e.y-T.y)*w-(e.x-T.x)*A+e.x*T.y-e.y*T.x)/Math.sqrt((e.y-T.y)*(e.y-T.y)+(e.x-T.x)*(e.x-T.x))}getAttrs(T,e){const w=T.x,A=T.y,x=e.x,d=e.y,k=(w+x)/2,r=(A+d)/2,s=Math.sqrt((w-x)*(w-x)/4+(A-d)*(A-d)/4);let p=180*Math.atan((d-A)/(x-w))/Math.PI;return k<w&&(p+=180),{cx:k,cy:r,rx:s,ry:this.getRY(),angle:p}}getRY(){const T=this.getYAxis();return U(T)?Math.abs(T.toPixels(this.options.ry)-T.toPixels(0)):this.options.ry}getYAxis(){return this.chart.yAxis[this.options.yAxis]}getAbsolutePosition(T){return this.anchor(T).absolutePosition}redraw(T){if(this.graphic){const e=this.getAbsolutePosition(this.points[0]),w=this.getAbsolutePosition(this.points[1]),A=this.getAttrs(e,w);e?this.graphic[T?"animate":"attr"]({cx:A.cx,cy:A.cy,rx:A.rx,ry:A.ry,rotation:A.angle,rotationOriginX:A.cx,rotationOriginY:A.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(e)}super.redraw(T)}setYRadius(T){const e=this.annotation.userOptions.shapes;this.options.ry=T,e&&e[0]&&(e[0].ry=T,e[0].ry=T)}}return R.attrsMap=F(G.attrsMap,{ry:"ry"}),R}),$(v,"Extensions/Annotations/Controllables/ControllableLabel.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Core/Templating.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{format:U}=G,{extend:R,isNumber:I,pick:T}=F;function e(A,x,d,k,r){const s=r&&r.anchorX,u=r&&r.anchorY;let p,o,c=d/2;return I(s)&&I(u)&&(p=[["M",s,u]],o=x-u,o<0&&(o=-k-o),o<d&&(c=s<A+d/2?o:d-o),u>x+k?p.push(["L",A+c,x+k]):u<x?p.push(["L",A+c,x]):s<A?p.push(["L",A,x+k/2]):s>A+d&&p.push(["L",A+d,x+k/2])),p||[]}return(()=>{class A extends j{static alignedPosition(d,k){const r=d.align,s=d.verticalAlign;let o,c,u=(k.x||0)+(d.x||0),p=(k.y||0)+(d.y||0);return"right"===r?o=1:"center"===r&&(o=2),o&&(u+=(k.width-(d.width||0))/o),"bottom"===s?c=1:"middle"===s&&(c=2),c&&(p+=(k.height-(d.height||0))/c),{x:Math.round(u),y:Math.round(p)}}static compose(d){d.prototype.symbols.connector=e}static justifiedOptions(d,k,r,s){const u=r.align,p=r.verticalAlign,o=k.box?0:k.padding||0,c=k.getBBox(),l={align:u,verticalAlign:p,x:r.x,y:r.y,width:k.width,height:k.height},f=(s.x||0)-d.plotLeft,m=(s.y||0)-d.plotTop;let M;return M=f+o,M<0&&("right"===u?l.align="left":l.x=(l.x||0)-M),M=f+c.width-o,M>d.plotWidth&&("left"===u?l.align="right":l.x=(l.x||0)+d.plotWidth-M),M=m+o,M<0&&("bottom"===p?l.verticalAlign="top":l.y=(l.y||0)-M),M=m+c.height-o,M>d.plotHeight&&("top"===p?l.verticalAlign="bottom":l.y=(l.y||0)+d.plotHeight-M),l}constructor(d,k,r){super(d,k,r,"label")}translatePoint(d,k){super.translatePoint(d,k,0)}translate(d,k){const r=this.annotation.chart,s=this.annotation.userOptions,u=r.annotations.indexOf(this.annotation),o=r.options.annotations[u];if(r.inverted){const c=d;d=k,k=c}this.options.x+=d,this.options.y+=k,o[this.collection][this.index].x=this.options.x,o[this.collection][this.index].y=this.options.y,s[this.collection][this.index].x=this.options.x,s[this.collection][this.index].y=this.options.y}render(d){const k=this.options,r=this.attrsFromOptions(k),s=k.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,k.shape,null,null,k.useHTML,null,"annotation-label").attr(r).add(d),this.annotation.chart.styledMode||("contrast"===s.color&&(s.color=this.annotation.chart.renderer.getContrast(A.shapesWithoutBackground.indexOf(k.shape)>-1?"#FFFFFF":k.backgroundColor)),this.graphic.css(k.style).shadow(k.shadow)),this.graphic.labelrank=k.labelrank,super.render()}redraw(d){const k=this.options,r=this.text||k.format||k.text,s=this.graphic,u=this.points[0];if(!s)return void this.redraw(d);s.attr({text:r?U(String(r),u.getLabelConfig(),this.annotation.chart):k.formatter.call(u,this)});const p=this.anchor(u),o=this.position(p);o?(s.alignAttr=o,o.anchorX=p.absolutePosition.x,o.anchorY=p.absolutePosition.y,s[d?"animate":"attr"](o)):s.attr({x:0,y:-9999}),s.placed=!!o,super.redraw(d)}anchor(d){const k=super.anchor.apply(this,arguments),r=this.options.x||0,s=this.options.y||0;return k.absolutePosition.x-=r,k.absolutePosition.y-=s,k.relativePosition.x-=r,k.relativePosition.y-=s,k}position(d){const k=this.graphic,r=this.annotation.chart,s=r.tooltip,u=this.points[0],p=this.options,o=d.absolutePosition,c=d.relativePosition;let l,f,m,M,y=u.series.visible&&X.prototype.isInsidePlot.call(u);if(k&&y){const{width:C=0,height:h=0}=k;p.distance&&s?l=s.getPosition.call({chart:r,distance:T(p.distance,16),getPlayingField:s.getPlayingField,pointer:s.pointer},C,h,{plotX:c.x,plotY:c.y,negative:u.negative,ttBelow:u.ttBelow,h:c.height||c.width}):p.positioner?l=p.positioner.call(this):(f={x:o.x,y:o.y,width:0,height:0},l=A.alignedPosition(R(p,{width:C,height:h}),f),"justify"===this.options.overflow&&(l=A.alignedPosition(A.justifiedOptions(r,k,p,l),f))),p.crop&&(m=l.x-r.plotLeft,M=l.y-r.plotTop,y=r.isInsidePlot(m,M)&&r.isInsidePlot(m+C,M+h))}return y?l:null}}return A.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},A.shapesWithoutBackground=["connector"],A})()}),$(v,"Extensions/Annotations/Controllables/ControllableImage.js",[v["Extensions/Annotations/Controllables/Controllable.js"],v["Extensions/Annotations/Controllables/ControllableLabel.js"]],function(j,G){return(()=>{class F extends j{constructor(R,I,T){super(R,I,T,"shape"),this.type="image",this.translate=super.translateShape}render(R){const I=this.attrsFromOptions(this.options),T=this.options;this.graphic=this.annotation.chart.renderer.image(T.src,0,-9e9,T.width,T.height).attr(I).add(R),this.graphic.width=T.width,this.graphic.height=T.height,super.render()}redraw(R){if(this.graphic){const I=this.anchor(this.points[0]),T=G.prototype.position.call(this,I);T?this.graphic[R?"animate":"attr"]({x:T.x,y:T.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=Boolean(T)}super.redraw(R)}}return F.attrsMap={width:"width",height:"height",zIndex:"zIndex"},F})()}),$(v,"Shared/BaseForm.js",[v["Core/Renderer/HTML/AST.js"],v["Core/Utilities.js"]],function(j,G){const{addEvent:X,createElement:F}=G;return class U{constructor(I,T){this.iconsURL=T,this.container=this.createPopupContainer(I),this.closeButton=this.addCloseButton()}createPopupContainer(I,T="highcharts-popup highcharts-no-tooltip"){return F("div",{className:T},void 0,I)}addCloseButton(I="highcharts-popup-close"){const T=this,e=this.iconsURL,w=F("button",{className:I},void 0,this.container);return w.style["background-image"]="url("+(e.match(/png|svg|jpeg|jpg|gif/gi)?e:e+"close.svg")+")",["click","touchstart"].forEach(A=>{X(w,A,T.closeButtonEvents.bind(T))}),X(document,"keydown",function(A){"Escape"===A.code&&T.closeButtonEvents()}),w}closeButtonEvents(){this.closePopup()}showPopup(I="highcharts-annotation-toolbar"){const T=this.container,e=this.closeButton;this.type=void 0,T.innerHTML=j.emptyHTML,T.className.indexOf(I)>=0&&(T.classList.remove(I),T.removeAttribute("style")),T.appendChild(e),T.style.display="block",T.style.height=""}closePopup(){this.container.style.display="none"}}}),$(v,"Extensions/Annotations/Popup/PopupAnnotations.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{doc:X,isFirefox:F}=j,{createElement:U,isArray:R,isObject:I,objectEach:T,pick:e,stableSort:w}=G;function d(r,s,u,p,o,c){if(!s)return;const l=this.addInput,f=this.lang;let m,M;T(p,(y,C)=>{m=""!==u?u+"."+C:C,I(y)&&(!R(y)||R(y)&&I(y[0])?(M=f[C]||C,M.match(/\d/g)||o.push([!0,M,r]),d.call(this,r,s,m,y,o,!1)):o.push([this,m,"annotation",r,y]))}),c&&(w(o,y=>y[1].match(/format/g)?-1:1),F&&o.reverse(),o.forEach(y=>{!0===y[0]?U("span",{className:"highcharts-annotation-title"},void 0,y[2]).appendChild(X.createTextNode(y[1])):(y[4]={value:y[4][0],type:y[4][1]},l.apply(y[0],y.splice(1)))}))}return{addForm:function A(r,s,u,p){if(!r)return;const o=this.container,c=this.lang;let l=U("h2",{className:"highcharts-popup-main-title"},void 0,o);l.appendChild(X.createTextNode(c[s.langKey]||s.langKey||"")),l=U("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,o);const f=U("div",{className:"highcharts-popup-bottom-row"},void 0,o);d.call(this,l,r,"",s,[],!0),this.addButton(f,p?c.addButton||"Add":c.saveButton||"Save",p?"add":"save",o,u)},addToolbar:function x(r,s,u){const p=this.lang,o=this.container,c=this.showForm,l="highcharts-annotation-toolbar";-1===o.className.indexOf(l)&&(o.className+=" "+l+" highcharts-no-mousewheel"),r&&(o.style.top=r.plotTop+10+"px");const f=U("p",{className:"highcharts-annotation-label"},void 0,o);f.setAttribute("aria-label","Annotation type"),f.appendChild(X.createTextNode(e(p[s.langKey]||s.langKey,s.shapes&&s.shapes[0].type,"")));let m=this.addButton(o,p.editButton||"Edit","edit",o,()=>{c.call(this,"annotation-edit",r,s,u)});m.className+=" highcharts-annotation-edit-button",m.style["background-image"]="url("+this.iconsURL+"edit.svg)",m=this.addButton(o,p.removeButton||"Remove","remove",o,u),m.className+=" highcharts-annotation-remove-button",m.style["background-image"]="url("+this.iconsURL+"destroy.svg)"}}}),$(v,"Extensions/Annotations/Popup/PopupIndicators.js",[v["Core/Renderer/HTML/AST.js"],v["Core/Globals.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{doc:U}=G,{seriesTypes:R}=X,{addEvent:I,createElement:T,defined:e,isArray:w,isObject:A,objectEach:x,stableSort:d}=F;var k=(()=>{return(i=k||(k={}))[i["params.algorithm"]=0]="params.algorithm",i[i["params.average"]=1]="params.average",k;var i})();const r={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function s(i){const n=T("div",{className:"highcharts-popup-lhs-col"},void 0,i),b=T("div",{className:"highcharts-popup-rhs-col"},void 0,i);return T("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,b),{lhsCol:n,rhsCol:b}}function p(i,n,b,g){const P=n.params||n.options.params;g.innerHTML=j.emptyHTML,T("h3",{className:"highcharts-indicator-title"},void 0,g).appendChild(U.createTextNode(h(n,b).indicatorFullName)),T("input",{type:"hidden",name:"highcharts-type-"+b,value:b},void 0,g),a.call(this,b,"series",i,g,n,n.linkedParent&&n.linkedParent.options.id),P.volumeSeriesID&&a.call(this,b,"volume",i,g,n,n.linkedParent&&P.volumeSeriesID),c.call(this,i,"params",P,b,g)}function o(i,n,b,g){function P(H,V){const Z=N.parentNode.children[1];p.call(E,i,H,V,N),Z&&(Z.style.display="block"),L&&H.options&&T("input",{type:"hidden",name:"highcharts-id-"+V,value:H.options.id},void 0,N).setAttribute("highcharts-data-series-id",H.options.id)}const E=this,D=E.lang,O=n.querySelectorAll(".highcharts-popup-lhs-col")[0],S=n.querySelectorAll(".highcharts-popup-rhs-col")[0],L="edit"===b,B=L?i.series:i.options.plotOptions||{};if(!i&&B)return;let _,Y=[];L||w(B)?w(B)&&(Y=y.call(this,B)):Y=M.call(this,B,g),d(Y,(H,V)=>{const Z=H.indicatorFullName.toLowerCase(),W=V.indicatorFullName.toLowerCase();return Z<W?-1:Z>W?1:0}),O.children[1]&&O.children[1].remove();const z=T("ul",{className:"highcharts-indicator-list"},void 0,O),N=S.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];if(Y.forEach(H=>{const{indicatorFullName:V,indicatorType:Z,series:W}=H;_=T("li",{className:"highcharts-indicator-list"},void 0,z);const q=T("button",{className:"highcharts-indicator-list-item",textContent:V},void 0,_);["click","touchstart"].forEach(K=>{I(q,K,function(){P(W,Z)})})}),Y.length>0){const{series:H,indicatorType:V}=Y[0];P(H,V)}else L||(j.setElementHTML(N.parentNode.children[0],D.noFilterMatch||""),N.parentNode.children[1].style.display="none")}function c(i,n,b,g,P){if(!i)return;const E=this.addInput;x(b,(D,O)=>{const S=n+"."+O;if(e(D)&&S)if(A(D)&&(E.call(this,S,g,P,{}),c.call(this,i,S,D,g,P)),S in k){const L=f.call(this,g,S,P);m.call(this,i,n,L,g,O,D)}else"params.volumeSeriesID"!==S&&!w(D)&&E.call(this,S,g,P,{value:D,type:"number"})})}function l(i,n){const b=this,g=n.querySelectorAll(".highcharts-popup-lhs-col")[0],D=this.lang.clearFilter,O=T("div",{className:"highcharts-input-wrapper"},void 0,g),S=function(_){o.call(b,i,b.container,"add",_)},L=this.addInput("searchIndicators","input",O,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),B=T("a",{textContent:D},void 0,O);L.classList.add("highcharts-input-search-indicators"),B.classList.add("clear-filter-button"),I(L,"input",function(){S(this.value),B.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(_=>{I(B,_,function(){L.value="",S(""),B.style.display="none"})})}function f(i,n,b){const g=n.split("."),P=g[g.length-1],E="highcharts-"+n+"-type-"+i,D=this.lang;T("label",{htmlFor:E},null,b).appendChild(U.createTextNode(D[P]||n));const O=T("select",{name:E,className:"highcharts-popup-field",id:"highcharts-select-"+n},null,b);return O.setAttribute("id","highcharts-select-"+n),O}function m(i,n,b,g,P,E,D){"series"===n||"volume"===n?i.series.forEach(O=>{const S=O.options,L=S.name||S.params?O.name:S.id||"";"highcharts-navigator-series"!==S.id&&S.id!==(D&&D.options&&D.options.id)&&(!e(E)&&"volume"===n&&"column"===O.type&&(E=S.id),T("option",{value:S.id},void 0,b).appendChild(U.createTextNode(L)))}):g&&P&&r[P+"-"+g].forEach(L=>{T("option",{value:L},void 0,b).appendChild(U.createTextNode(L))}),e(E)&&(b.value=E)}function M(i,n){const g=this.chart&&this.chart.options.lang,P=g&&g.navigation&&g.navigation.popup&&g.navigation.popup.indicatorAliases,E=[];let D;return x(i,(O,S)=>{const L=O&&O.options;if(O.params||L&&L.params){const{indicatorFullName:B,indicatorType:_}=h(O,S);if(n){const Y=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),z=new RegExp(Y,"i"),N=P&&P[_]&&P[_].join(" ")||"";(B.match(z)||N.match(z))&&(D={indicatorFullName:B,indicatorType:_,series:O},E.push(D))}else D={indicatorFullName:B,indicatorType:_,series:O},E.push(D)}}),E}function y(i){const n=[];return i.forEach(b=>{b.is("sma")&&n.push({indicatorFullName:b.name,indicatorType:b.type,series:b})}),n}function h(i,n){const b=i.options;let g=R[n]&&R[n].prototype.nameBase||n.toUpperCase(),P=n;return b&&b.type&&(P=i.options.type,g=i.name),{indicatorFullName:g,indicatorType:P}}function a(i,n,b,g,P,E){if(!b)return;const O=f.call(this,i,n,g);m.call(this,b,n,O,void 0,void 0,void 0,P),e(E)&&(O.value=E)}return{addForm:function u(i,n,b){const g=this.lang;let P;if(!i)return;this.tabs.init.call(this,i);const E=this.container.querySelectorAll(".highcharts-tab-item-content");s(E[0]),l.call(this,i,E[0]),o.call(this,i,E[0],"add"),P=E[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(P,g.addButton||"add","add",P,b),s(E[1]),o.call(this,i,E[1],"edit"),P=E[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(P,g.saveButton||"save","edit",P,b),this.addButton(P,g.removeButton||"remove","remove",P,b)},getAmount:function C(){let i=0;return this.series.forEach(n=>{(n.params||n.options.params)&&i++}),i}}}),$(v,"Extensions/Annotations/Popup/PopupTabs.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{doc:X}=j,{addEvent:F,createElement:U}=G;function R(){return U("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function I(d,k){const s=this.lang;let u="highcharts-tab-item";0===k&&(u+=" highcharts-tab-disabled");const p=U("button",{className:u},void 0,this.container);return p.appendChild(X.createTextNode(s[d+"Button"]||d)),p.setAttribute("highcharts-data-tab-type",d),p}function T(){const d=this.container,k=d.querySelectorAll(".highcharts-tab-item"),r=d.querySelectorAll(".highcharts-tab-item-content");for(let s=0;s<k.length;s++)k[s].classList.remove("highcharts-tab-item-active"),r[s].classList.remove("highcharts-tab-item-show")}function w(d,k){const r=this.container.querySelectorAll(".highcharts-tab-item-content");d.className+=" highcharts-tab-item-active",r[k].className+=" highcharts-tab-item-show"}function A(d){const k=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((u,p)=>{0===d&&"edit"===u.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach(o=>{F(u,o,function(){T.call(k),w.call(k,this,p)})})})}return{init:function e(d){if(!d)return;const k=this.indicators.getAmount.call(d),r=I.call(this,"add");I.call(this,"edit",k),R.call(this),R.call(this),A.call(this,k),w.call(this,r,0)}}}),$(v,"Extensions/Annotations/Popup/Popup.js",[v["Shared/BaseForm.js"],v["Core/Globals.js"],v["Core/Defaults.js"],v["Extensions/Annotations/Popup/PopupAnnotations.js"],v["Extensions/Annotations/Popup/PopupIndicators.js"],v["Extensions/Annotations/Popup/PopupTabs.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I){const{doc:T}=G,{getOptions:e}=X,{addEvent:w,createElement:A,extend:x,fireEvent:d,pick:k}=I;class s extends j{constructor(p,o,c){super(p,o),this.chart=c,this.lang=(e().lang.navigation||{}).popup||{},w(this.container,"mousedown",()=>{const l=c&&c.navigationBindings&&c.navigationBindings.activeAnnotation;if(l){l.cancelClick=!0;const f=w(T,"click",()=>{setTimeout(()=>{l.cancelClick=!1},0),f()})}})}addInput(p,o,c,l){const f=p.split("."),m=f[f.length-1],M=this.lang,y="highcharts-"+o+"-"+k(l.htmlFor,m);m.match(/^\d+$/)||A("label",{htmlFor:y,className:l.labelClassName},void 0,c).appendChild(T.createTextNode(M[m]||m));const C=A("input",{name:y,value:l.value,type:l.type,className:"highcharts-popup-field"},void 0,c);return C.setAttribute("highcharts-data-name",p),C}closeButtonEvents(){if(this.chart){const p=this.chart.navigationBindings;d(p,"closePopup"),p&&p.selectedButtonElement&&d(p,"deselectButton",{button:p.selectedButtonElement})}else super.closeButtonEvents()}addButton(p,o,c,l,f){const m=A("button",void 0,void 0,p);return m.appendChild(T.createTextNode(o)),f&&["click","touchstart"].forEach(M=>{w(m,M,()=>(this.closePopup(),f(function r(u,p){const o=Array.prototype.slice.call(u.querySelectorAll("input")),c=Array.prototype.slice.call(u.querySelectorAll("select")),m=u.querySelectorAll("#highcharts-select-series > option:checked")[0],M=u.querySelectorAll("#highcharts-select-volume > option:checked")[0],y={actionType:p,linkedTo:m&&m.getAttribute("value")||"",fields:{}};return o.forEach(C=>{const h=C.getAttribute("highcharts-data-name");C.getAttribute("highcharts-data-series-id")?y.seriesId=C.value:h?y.fields[h]=C.value:y.type=C.value}),c.forEach(C=>{const h=C.id;if("highcharts-select-series"!==h&&"highcharts-select-volume"!==h){const a=h.split("highcharts-select-")[1];y.fields[a]=C.value}}),M&&(y.fields["params.volumeSeriesID"]=M.getAttribute("value")||""),y}(l,c))))}),m}showForm(p,o,c,l){o&&(this.showPopup(),"indicators"===p&&this.indicators.addForm.call(this,o,c,l),"annotation-toolbar"===p&&this.annotations.addToolbar.call(this,o,c,l),"annotation-edit"===p&&this.annotations.addForm.call(this,o,c,l),"flag"===p&&this.annotations.addForm.call(this,o,c,l,!0),this.type=p,this.container.style.height=this.container.offsetHeight+"px")}}return x(s.prototype,{annotations:F,indicators:U,tabs:R}),s}),$(v,"Extensions/Annotations/Popup/PopupComposition.js",[v["Core/Globals.js"],v["Extensions/Annotations/Popup/Popup.js"],v["Core/Utilities.js"]],function(j,G,X){const{composed:F}=j,{addEvent:U,pushUnique:R,wrap:I}=X;function e(){this.popup&&this.popup.closePopup()}function w(d){this.popup||(this.popup=new G(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.4.3/gfx/stock-icons/",this.chart)),this.popup.showForm(d.formType,this.chart,d.options,d.onSubmit)}function A(d,k){this.inClass(k.target,"highcharts-popup")||d.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function T(d,k){R(F,"Popup")&&(U(d,"closePopup",e),U(d,"showPopup",w),I(k.prototype,"onContainerMouseDown",A))}}}),$(v,"Extensions/Annotations/Annotation.js",[v["Core/Animation/AnimationUtilities.js"],v["Extensions/Annotations/AnnotationChart.js"],v["Extensions/Annotations/AnnotationDefaults.js"],v["Extensions/Annotations/Controllables/ControllableRect.js"],v["Extensions/Annotations/Controllables/ControllableCircle.js"],v["Extensions/Annotations/Controllables/ControllableEllipse.js"],v["Extensions/Annotations/Controllables/ControllablePath.js"],v["Extensions/Annotations/Controllables/ControllableImage.js"],v["Extensions/Annotations/Controllables/ControllableLabel.js"],v["Extensions/Annotations/ControlPoint.js"],v["Extensions/Annotations/ControlTarget.js"],v["Extensions/Annotations/EventEmitter.js"],v["Extensions/Annotations/MockPoint.js"],v["Extensions/Annotations/Popup/PopupComposition.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T,e,w,A,x,d,k,r){const{getDeferredAnimation:s}=j,{destroyObjectProperties:u,erase:p,fireEvent:o,merge:c,pick:l,splat:f}=r;function M(C,h){const a={};return["labels","shapes"].forEach(t=>{const i=C[t];i&&(a[t]=h[t]?f(h[t]).map(function(n,b){return c(i[b],n)}):C[t])}),a}let y=(()=>{class C extends x{static compose(a,t,i,n){G.compose(C,a,i),e.compose(n),I.compose(a,n),t.compose(C,a),k.compose(t,i)}constructor(a,t){super(),this.coll="annotations",this.chart=a,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=c(this.defaultOptions,t),this.userOptions=t;const i=M(this.options,t);this.options.labels=i.labels,this.options.shapes=i.shapes,this.init(a,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){const a=this.options.labels||[];a.forEach((t,i)=>{const n=this.initLabel(t,i);c(!0,a[i],n.options)})}addShapes(){const a=this.options.shapes||[];a.forEach((t,i)=>{const n=this.initShape(t,i);c(!0,a[i],n.options)})}destroy(){const a=this.chart,t=function(i){i.destroy()};this.labels.forEach(t),this.shapes.forEach(t),this.clipXAxis=null,this.clipYAxis=null,p(a.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),u(this,a)}destroyItem(a){p(this[a.itemType+"s"],a),a.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(a,t){this.setOptions(t);const i=M(this.options,t);this.options.labels=i.labels,this.options.shapes=i.shapes,this.chart=a,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=t,this.labels=[],this.shapes=[]}init(a,t,i=this.index){const n=this.chart,b=this.options.animation;this.index=i,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=s(n,b)}initLabel(a,t){const i=c(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},a),n=new e(this,i,t);return n.itemType="label",this.labels.push(n),n}initShape(a,t){const i=c(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},a),n=new C.shapesMap[i.type](this,i,t);return n.itemType="shape",this.shapes.push(n),n}redraw(a){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,a),this.redrawItems(this.labels,a),this.redrawControlPoints(a)}redrawItem(a,t){a.linkPoints(),a.shouldBeDrawn()?(a.graphic||this.renderItem(a),a.redraw(l(t,!0)&&a.graphic.placed),a.points.length&&function m(C){const h=C.graphic,a=C.points.some(t=>!1!==t.series.visible&&!1!==t.visible);h&&(a?"hidden"===h.visibility&&h.show():h.hide())}(a)):this.destroyItem(a)}redrawItems(a,t){let i=a.length;for(;i--;)this.redrawItem(a[i],t)}remove(){return this.chart.removeAnnotation(this)}render(){const a=this.chart.renderer;this.graphic=a.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=a.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=a.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(a){a.render("label"===a.itemType?this.labelsGroup:this.shapesGroup)}renderItems(a){let t=a.length;for(;t--;)this.renderItem(a[t])}setClipAxes(){const a=this.chart.xAxis,t=this.chart.yAxis,i=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((n,b)=>{const g=b&&(b.point||b.points&&b.points[0]);return[a[g&&g.xAxis]||n[0],t[g&&g.yAxis]||n[1]]},[]);this.clipXAxis=i[0],this.clipYAxis=i[1]}setControlPointsVisibility(a){const t=function(i){i.setControlPointsVisibility(a)};this.controlPoints.forEach(i=>{i.setVisibility(a)}),this.shapes.forEach(t),this.labels.forEach(t)}setLabelCollector(){const a=this;a.labelCollector=function(){return a.labels.reduce(function(t,i){return i.options.allowOverlap||t.push(i.graphic),t},[])},a.chart.labelCollectors.push(a.labelCollector)}setOptions(a){this.options=c(this.defaultOptions,a)}setVisibility(a){const t=this.options,i=this.chart.navigationBindings,n=l(a,!t.visible);if(this.graphic.attr("visibility",n?"inherit":"hidden"),!n){const b=function(g){g.setControlPointsVisibility(n)};this.shapes.forEach(b),this.labels.forEach(b),i.activeAnnotation===this&&i.popup&&"annotation-toolbar"===i.popup.type&&o(i,"closePopup")}t.visible=n}update(a,t){const i=this.chart,n=M(this.userOptions,a),b=i.annotations.indexOf(this),g=c(!0,this.userOptions,a);g.labels=n.labels,g.shapes=n.shapes,this.destroy(),this.initProperties(i,g),this.init(i,g),i.options.annotations[b]=g,this.isUpdating=!0,l(t,!0)&&i.drawAnnotations(),o(this,"afterUpdate"),this.isUpdating=!1}}return C.ControlPoint=w,C.MockPoint=d,C.shapesMap={rect:F,circle:U,ellipse:R,path:I,image:T},C.types={},C})();return y.prototype.defaultOptions=X,y.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],A.compose(y),y}),$(v,"Core/Chart/ChartNavigationComposition.js",[],function(){var j;return function(G){G.compose=function X(U){return U.navigation||(U.navigation=new F(U)),U};class F{constructor(R){this.updates=[],this.chart=R}addUpdate(R){this.chart.navigation.updates.push(R)}update(R,I){this.updates.forEach(T=>{T.call(this.chart,R,I)})}}G.Additions=F}(j||(j={})),j}),$(v,"Extensions/Annotations/NavigationBindingsUtilities.js",[v["Core/Utilities.js"]],function(j){const{defined:G,isNumber:X,pick:F}=j,U={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:U,getAssignedAxis:function R(e){return e.filter(w=>{const A=w.axis.getExtremes(),x=A.min,d=A.max,k=F(w.axis.minPointOffset,0);return X(x)&&X(d)&&w.value>=x-k&&w.value<=d+k&&!w.axis.options.isInternal})[0]},getFieldType:function I(e,w){const A=U[e];let x=typeof w;return G(A)&&(x=A),{string:"text",number:"number",boolean:"checkbox"}[x]}}}),$(v,"Extensions/Annotations/NavigationBindingsDefaults.js",[v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Core/Utilities.js"]],function(j,G){const{getAssignedAxis:X}=j,{isNumber:F,merge:U}=G;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:A.value,y:x.value,xAxis:A.axis.index,yAxis:x.axis.index},r:5}]},d.annotationsOptions,d.bindings.circleAnnotation.annotationsOptions))},steps:[function(e,w){const A=w.options.shapes,x=A&&A[0]&&A[0].point||{};let d;if(F(x.xAxis)&&F(x.yAxis)){const k=this.chart.inverted,r=this.chart.xAxis[x.xAxis].toPixels(x.x),s=this.chart.yAxis[x.yAxis].toPixels(x.y);d=Math.max(Math.sqrt(Math.pow(k?s-e.chartX:r-e.chartX,2)+Math.pow(k?r-e.chartY:s-e.chartY,2)),5)}w.update({shapes:[{r:d}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:A.axis.index,yAxis:x.axis.index,points:[{x:A.value,y:x.value},{x:A.value,y:x.value}],ry:1}]},d.annotationsOptions,d.bindings.ellipseAnnotation.annotationOptions))},steps:[function(e,w){const A=w.shapes[0],x=A.getAbsolutePosition(A.points[1]);A.translatePoint(e.chartX-x.x,e.chartY-x.y,1),A.redraw(!1)},function(e,w){const A=w.shapes[0],x=A.getAbsolutePosition(A.points[0]),d=A.getAbsolutePosition(A.points[1]),k=A.getDistanceFromLine(x,d,e.chartX,e.chartY),r=A.getYAxis(),s=Math.abs(r.toValue(0)-r.toValue(k));A.setYRadius(s),A.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis);if(!A||!x)return;const d=A.value,k=x.value,r=A.axis.index,s=x.axis.index,u=this.chart.options.navigation;return this.chart.addAnnotation(U({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{command:"Z"}]}]},u.annotationsOptions,u.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(e,w){const A=w.options.shapes,x=A&&A[0]&&A[0].points||[],d=this.chart.pointer?.getCoordinates(e),k=d&&X(d.xAxis),r=d&&X(d.yAxis);if(k&&r){const s=k.value,u=r.value;x[1].x=s,x[2].x=s,x[2].y=u,x[3].y=u,w.update({shapes:[{points:x}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}",overflow:"none",crop:!0},labels:[{point:{xAxis:A.axis.index,yAxis:x.axis.index,x:A.value,y:x.value}}]},d.annotationsOptions,d.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),$(v,"Extensions/Annotations/NavigationBindings.js",[v["Core/Chart/ChartNavigationComposition.js"],v["Core/Defaults.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Extensions/Annotations/NavigationBindingsDefaults.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I){const{setOptions:T}=G,{format:e}=X,{composed:w,doc:A,win:x}=F,{getAssignedAxis:d,getFieldType:k}=R,{addEvent:r,attr:s,defined:u,fireEvent:p,isArray:o,isFunction:c,isNumber:l,isObject:f,merge:m,objectEach:M,pick:y,pushUnique:C}=I;function a(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function t(){this.navigationBindings&&this.navigationBindings.destroy()}function i(){const D=this.options;D&&D.navigation&&D.navigation.bindings&&(this.navigationBindings=new E(this,D.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function n(){const D=this.navigationBindings,O="highcharts-disabled-btn";if(this&&D){let S=!1;if(this.series.forEach(L=>{!L.options.isInternal&&L.visible&&(S=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const L=this.navigationBindings.container[0];M(D.boundClassNames,(B,_)=>{const Y=L.querySelectorAll("."+_);if(Y)for(let z=0;z<Y.length;z++){const N=Y[z],H=N.className;"normal"===B.noDataState||S?-1!==H.indexOf(O)&&N.classList.remove(O):-1===H.indexOf(O)&&(N.className+=" "+O)}})}}}function b(){this.deselectAnnotation()}function g(){this.selectedButtonElement=null}function P(D){const O=D.prototype.defaultOptions.events&&D.prototype.defaultOptions.events.click;function S(z){const N=this,H=N.chart.navigationBindings,V=H.activeAnnotation;O&&O.call(N,z),V!==N?(H.deselectAnnotation(),H.activeAnnotation=N,N.setControlPointsVisibility(!0),p(H,"showPopup",{annotation:N,formType:"annotation-toolbar",options:H.annotationToFields(N),onSubmit:function(Z){if("remove"===Z.actionType)H.activeAnnotation=!1,H.chart.removeAnnotation(N);else{const W={};H.fieldsToOptions(Z.fields,W),H.deselectAnnotation();const q=W.typeOptions;"measure"===N.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),N.update(W)}}})):p(H,"closePopup"),z.activeAnnotation=!0}let L,B;m(!0,D.prototype.defaultOptions.events,{click:S,touchstart:function _(z){L=z.touches[0].clientX,B=z.touches[0].clientY},touchend:function Y(z){L&&Math.sqrt(Math.pow(L-z.changedTouches[0].clientX,2)+Math.pow(B-z.changedTouches[0].clientY,2))>=4||S.call(this,z)}})}let E=(()=>{class D{static compose(S,L){C(w,"NavigationBindings")&&(r(S,"remove",a),P(S),M(S.types,B=>{P(B)}),r(L,"destroy",t),r(L,"load",i),r(L,"render",n),r(D,"closePopup",b),r(D,"deselectButton",g),T(U))}constructor(S,L){this.boundClassNames=void 0,this.chart=S,this.options=L,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=A.getElementsByClassName(this.options.bindingsClassName||""))}getCoords(S){const L=this.chart.pointer?.getCoordinates(S);return[L&&d(L.xAxis),L&&d(L.yAxis)]}initEvents(){const S=this,L=S.chart,B=S.container,_=S.options;S.boundClassNames={},M(_.bindings||{},Y=>{S.boundClassNames[Y.className]=Y}),[].forEach.call(B,Y=>{S.eventsToUnbind.push(r(Y,"click",z=>{const N=S.getButtonEvents(Y,z);N&&!N.button.classList.contains("highcharts-disabled-btn")&&S.bindingsButtonClick(N.button,N.events,z)}))}),M(_.events||{},(Y,z)=>{c(Y)&&S.eventsToUnbind.push(r(S,z,Y,{passive:!1}))}),S.eventsToUnbind.push(r(L.container,"click",function(Y){!L.cancelClick&&L.isInsidePlot(Y.chartX-L.plotLeft,Y.chartY-L.plotTop,{visiblePlotOnly:!0})&&S.bindingsChartClick(this,Y)})),S.eventsToUnbind.push(r(L.container,F.isTouchDevice?"touchmove":"mousemove",function(Y){S.bindingsContainerMouseMove(this,Y)},F.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const S=this;j.compose(this.chart).navigation.addUpdate(L=>{S.update(L)})}bindingsButtonClick(S,L,B){const _=this,Y=_.chart,z=Y.renderer.boxWrapper;let N=!0;_.selectedButtonElement&&(_.selectedButtonElement.classList===S.classList&&(N=!1),p(_,"deselectButton",{button:_.selectedButtonElement}),_.nextEvent&&(_.currentUserDetails&&"annotations"===_.currentUserDetails.coll&&Y.removeAnnotation(_.currentUserDetails),_.mouseMoveEvent=_.nextEvent=!1)),N?(_.selectedButton=L,_.selectedButtonElement=S,p(_,"selectButton",{button:S}),L.init&&L.init.call(_,S,B),(L.start||L.steps)&&Y.renderer.boxWrapper.addClass("highcharts-draw-mode")):(Y.stockTools&&Y.stockTools.toggleButtonActiveClass(S),z.removeClass("highcharts-draw-mode"),_.nextEvent=!1,_.mouseMoveEvent=!1,_.selectedButton=null)}bindingsChartClick(S,L){const B=this,_=B.activeAnnotation,Y=B.selectedButton,z=this.chart.renderer.boxWrapper;_&&(_.cancelClick||L.activeAnnotation||!L.target.parentNode||function h(D,O){const S=x.Element.prototype,L=S.matches||S.msMatchesSelector||S.webkitMatchesSelector;let B=null;if(S.closest)B=S.closest.call(D,O);else do{if(L.call(D,O))return D;D=D.parentElement||D.parentNode}while(null!==D&&1===D.nodeType);return B}(L.target,".highcharts-popup")?_.cancelClick&&setTimeout(()=>{_.cancelClick=!1},0):p(B,"closePopup")),Y&&Y.start&&(B.nextEvent?(B.nextEvent(L,B.currentUserDetails),B.steps&&(B.stepIndex++,Y.steps[B.stepIndex]?B.mouseMoveEvent=B.nextEvent=Y.steps[B.stepIndex]:(p(B,"deselectButton",{button:B.selectedButtonElement}),z.removeClass("highcharts-draw-mode"),Y.end&&Y.end.call(B,L,B.currentUserDetails),B.nextEvent=!1,B.mouseMoveEvent=!1,B.selectedButton=null))):(B.currentUserDetails=Y.start.call(B,L),B.currentUserDetails&&Y.steps?(B.stepIndex=0,B.steps=!0,B.mouseMoveEvent=B.nextEvent=Y.steps[B.stepIndex]):(p(B,"deselectButton",{button:B.selectedButtonElement}),z.removeClass("highcharts-draw-mode"),B.steps=!1,B.selectedButton=null,Y.end&&Y.end.call(B,L,B.currentUserDetails))))}bindingsContainerMouseMove(S,L){this.mouseMoveEvent&&this.mouseMoveEvent(L,this.currentUserDetails)}fieldsToOptions(S,L){return M(S,(B,_)=>{const Y=parseFloat(B),z=_.split("."),N=z.length-1;if(l(Y)&&!B.match(/px|em/g)&&!_.match(/format/g)&&(B=Y),"undefined"!==B){let H=L;z.forEach((V,Z)=>{if("__proto__"!==V&&"constructor"!==V){const W=y(z[Z+1],"");N===Z?H[V]=B:(H[V]||(H[V]=W.match(/\d/g)?[]:{}),H=H[V])}})}}),L}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(S){const L=S.options,B=D.annotationsEditable,_=B.nestedOptions,Y=y(L.type,L.shapes&&L.shapes[0]&&L.shapes[0].type,L.labels&&L.labels[0]&&L.labels[0].type,"label"),z=D.annotationsNonEditable[L.langKey]||[],N={langKey:L.langKey,type:Y};function H(V,Z,W,q,K){let J;W&&u(V)&&-1===z.indexOf(Z)&&((W.indexOf&&W.indexOf(Z))>=0||W[Z]||!0===W)&&(o(V)?(q[Z]=[],V.forEach((et,st)=>{f(et)?(q[Z][st]={},M(et,(ot,lt)=>{H(ot,lt,_[Z],q[Z][st],Z)})):H(et,0,_[Z],q[Z],Z)})):f(V)?(J={},o(q)?(q.push(J),J[Z]={},J=J[Z]):q[Z]=J,M(V,(et,st)=>{H(et,st,0===Z?W:_[Z],J,Z)})):"format"===Z?q[Z]=[e(V,S.labels[0].points[0]).toString(),"text"]:o(q)?q.push([V,k(K,V)]):q[Z]=[V,k(Z,V)])}return M(L,(V,Z)=>{"typeOptions"===Z?(N[Z]={},M(L[Z],(W,q)=>{H(W,q,_,N[Z],q)})):H(V,Z,B[Y],N,Z)}),N}getClickedClassNames(S,L){let Y,B=L.target,_=[];for(;B&&B.tagName;)if(Y=s(B,"class"),Y&&(_=_.concat(Y.split(" ").map(z=>[z,B]))),B=B.parentNode,B===S)return _;return _}getButtonEvents(S,L){const B=this;let Y;return this.getClickedClassNames(S,L).forEach(z=>{B.boundClassNames[z[0]]&&!Y&&(Y={events:B.boundClassNames[z[0]],button:z[1]})}),Y}update(S){this.options=m(!0,this.options,S),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(S=>S())}destroy(){this.removeEvents()}}return D.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},D.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},D})();return E}),$(v,"masters/modules/annotations.src.js",[v["Core/Globals.js"],v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/NavigationBindings.js"]],function(j,G,X){const F=j;return F.Annotation=F.Annotation||G,F.NavigationBindings=F.NavigationBindings||X,F.Annotation.compose(F.Chart,F.NavigationBindings,F.Pointer,F.SVGRenderer),j}),$(v,"Extensions/Annotations/Types/BasicAnnotation.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F}=X;let U=(()=>{class R extends j{addControlPoints(){const T=this.options,e=R.basicControlPoints,w=this.basicType;(T.labels||T.shapes||[]).forEach(x=>{x.controlPoints=e[w]})}init(){const T=this.options;if(T.shapes){delete T.labelOptions;const e=T.shapes[0].type;T.shapes[0].className=(T.shapes[0].className||"")+" highcharts-basic-shape",this.basicType=e&&"path"!==e?e:"rectangle"}else delete T.shapes,this.basicType="label";super.init.apply(this,arguments)}}return R.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(I){if(!I.graphic.placed)return{x:0,y:-9e7};const T=G.pointToPixels(I.points[0]);return{x:T.x-(this.graphic.width||0)/2,y:T.y-(this.graphic.height||0)/2}},events:{drag:function(I,T){const e=this.mouseMoveToTranslation(I);T.translatePoint(e.x,e.y),T.annotation.userOptions.labels[0].point=T.options.point,T.redraw(!1)}}},{symbol:"square",positioner:function(I){return I.graphic.placed?{x:I.graphic.alignAttr.x-(this.graphic.width||0)/2,y:I.graphic.alignAttr.y-(this.graphic.height||0)/2}:{x:0,y:-9e7}},events:{drag:function(I,T){const e=this.mouseMoveToTranslation(I);T.translate(e.x,e.y),T.annotation.userOptions.labels[0].point=T.options.point,T.redraw(!1)}}}],rectangle:[{positioner:function(I){const T=G.pointToPixels(I.points[2]);return{x:T.x-4,y:T.y-4}},events:{drag:function(I,T){const e=T.annotation,w=this.chart.pointer?.getCoordinates(I),A=T.options.points,x=e.userOptions.shapes;if(w){const r=w.xAxis[e.clipXAxis?.index||0].value,s=w.yAxis[e.clipYAxis?.index||0].value;A[1].x=r,A[2].x=r,A[2].y=s,A[3].y=s,x&&x[0]&&(x[0].points=T.options.points)}e.redraw(!1)}}}],circle:[{positioner:function(I){const T=G.pointToPixels(I.points[0]),e=I.options.r;return{x:T.x+e*Math.cos(Math.PI/4)-(this.graphic.width||0)/2,y:T.y+e*Math.sin(Math.PI/4)-(this.graphic.height||0)/2}},events:{drag:function(I,T){const e=T.annotation,w=this.mouseMoveToTranslation(I),A=e.userOptions.shapes;T.setRadius(Math.max(T.options.r+w.y/Math.sin(Math.PI/4),5)),A&&A[0]&&(A[0].r=T.options.r,A[0].point=T.options.point),T.redraw(!1)}}}],ellipse:[{positioner:function(I){const T=I.getAbsolutePosition(I.points[0]);return{x:T.x-(this.graphic.width||0)/2,y:T.y-(this.graphic.height||0)/2}},events:{drag:function(I,T){const e=T.getAbsolutePosition(T.points[0]);T.translatePoint(I.chartX-e.x,I.chartY-e.y,0),T.redraw(!1)}}},{positioner:function(I){const T=I.getAbsolutePosition(I.points[1]);return{x:T.x-(this.graphic.width||0)/2,y:T.y-(this.graphic.height||0)/2}},events:{drag:function(I,T){const e=T.getAbsolutePosition(T.points[1]);T.translatePoint(I.chartX-e.x,I.chartY-e.y,1),T.redraw(!1)}}},{positioner:function(I){const T=I.getAbsolutePosition(I.points[0]),e=I.getAbsolutePosition(I.points[1]),w=I.getAttrs(T,e);return{x:w.cx-(this.graphic.width||0)/2+w.ry*Math.sin(w.angle*Math.PI/180),y:w.cy-(this.graphic.height||0)/2-w.ry*Math.cos(w.angle*Math.PI/180)}},events:{drag:function(I,T){const e=T.getAbsolutePosition(T.points[0]),w=T.getAbsolutePosition(T.points[1]),A=T.getDistanceFromLine(e,w,I.chartX,I.chartY),x=T.getYAxis(),d=Math.abs(x.toValue(0)-x.toValue(A));T.setYRadius(d),T.redraw(!1)}}}]},R})();return U.prototype.defaultOptions=F(j.prototype.defaultOptions,{}),j.types.basicAnnotation=U,U}),$(v,"Extensions/Annotations/Types/CrookedLine.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/ControlPoint.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{merge:U}=F;class R extends j{setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}getPointsOptions(){const T=this.options.typeOptions;return(T.points||[]).map(e=>(e.xAxis=T.xAxis,e.yAxis=T.yAxis,e))}getControlPointsOptions(){return this.getPointsOptions()}addControlPoints(){this.getControlPointsOptions().forEach(function(T,e){const w=new G(this.chart,this,U(this.options.controlPointOptions,T.controlPoint),e);this.controlPoints.push(w),T.controlPoint=w.options},this)}addShapes(){const T=this.options.typeOptions,e=this.initShape(U(T.line,{type:"path",className:"highcharts-crooked-lines",points:this.points.map((w,A)=>function(x){return x.annotation.points[A]})}),0);T.line=e.options}}return R.prototype.defaultOptions=U(j.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(I){const T=this.graphic,e=X.pointToPixels(I.points[this.index]);return{x:e.x-(T.width||0)/2,y:e.y-(T.height||0)/2}},events:{drag:function(I,T){if(T.chart.isInsidePlot(I.chartX-T.chart.plotLeft,I.chartY-T.chart.plotTop,{visiblePlotOnly:!0})){const e=this.mouseMoveToTranslation(I),w=T.options.typeOptions;T.translatePoint(e.x,e.y,this.index),w.points[this.index].x=T.points[this.index].x,w.points[this.index].y=T.points[this.index].y,T.redraw(!1)}}}}}),j.types.crookedLine=R,R}),$(v,"Extensions/Annotations/Types/ElliottWave.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/Types/CrookedLine.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F}=X;class U extends G{addLabels(){this.getPointsOptions().forEach((I,T)=>{const w=this.initLabel(F(I.label,{text:this.options.typeOptions.labels[T],point:function(A){return A.annotation.points[T]}}),!1);I.label=w.options})}}return U.prototype.defaultOptions=F(G.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),j.types.elliottWave=U,U}),$(v,"Extensions/Annotations/Types/Tunnel.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/ControlPoint.js"],v["Extensions/Annotations/Types/CrookedLine.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{merge:R}=U;function I(e,w,A){return(w.y-e.y)/(w.x-e.x)*(A-e.x)+e.y}class T extends X{getPointsOptions(){const w=X.prototype.getPointsOptions.call(this),x=this.chart.yAxis[this.options.typeOptions.yAxis||0];if(w[2]=this.heightPointOptions(w[1]),w[3]=this.heightPointOptions(w[0]),x&&x.logarithmic){const d=x.toPixels(w[2].y)-x.toPixels(w[1].y),k=x.toPixels(w[0].y)+d;w[3].y=x.toValue(k)}return w}getControlPointsOptions(){return this.getPointsOptions().slice(0,2)}heightPointOptions(w){const A=R(w);return A.y+=this.options.typeOptions.height,A}addControlPoints(){X.prototype.addControlPoints.call(this);const w=this.options,A=w.typeOptions,x=new G(this.chart,this,R(w.controlPointOptions,A.heightControlPoint),2);this.controlPoints.push(x),A.heightControlPoint=x.options}addShapes(){this.addLine(),this.addBackground()}addLine(){const w=this.initShape(R(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(A){const x=F.pointToOptions(A.annotation.points[2]);return x.command="M",x},this.points[3]],className:"highcharts-tunnel-lines"}),0);this.options.typeOptions.line=w.options}addBackground(){const w=this.initShape(R(this.options.typeOptions.background,{type:"path",points:this.points.slice(),className:"highcharts-tunnel-background"}),1);this.options.typeOptions.background=w.options}translateSide(w,A,x){const d=Number(x),k=0===d?3:2;this.translatePoint(w,A,d),this.translatePoint(w,A,k)}translateHeight(w){this.translatePoint(0,w,2),this.translatePoint(0,w,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height}}return T.prototype.defaultOptions=R(X.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(e){const w=F.pointToPixels(e.points[2]),A=F.pointToPixels(e.points[3]),x=(w.x+A.x)/2;return{x:x-(this.graphic.width||0)/2,y:I(w,A,x)-(this.graphic.height||0)/2}},events:{drag:function(e,w){w.chart.isInsidePlot(e.chartX-w.chart.plotLeft,e.chartY-w.chart.plotTop,{visiblePlotOnly:!0})&&(w.translateHeight(this.mouseMoveToTranslation(e).y),w.redraw(!1))}}}},controlPointOptions:{events:{drag:function(e,w){if(w.chart.isInsidePlot(e.chartX-w.chart.plotLeft,e.chartY-w.chart.plotTop,{visiblePlotOnly:!0})){const A=this.mouseMoveToTranslation(e);w.translateSide(A.x,A.y,!!this.index),w.redraw(!1)}}}}}),j.types.tunnel=T,T}),$(v,"Extensions/Annotations/Types/InfinityLine.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/Types/CrookedLine.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{merge:U}=F;class R extends G{static edgePoint(T,e){return function(w){const A=w.annotation,x=A.options.typeOptions.type;let d=A.points;return("horizontalLine"===x||"verticalLine"===x)&&(d=[d[0],new X(A.chart,d[0].target,{x:d[0].x+ +("horizontalLine"===x),y:d[0].y+ +("verticalLine"===x),xAxis:d[0].options.xAxis,yAxis:d[0].options.yAxis})]),R.findEdgePoint(d[T],d[e])}}static findEdgeCoordinate(T,e,w,A){const x="x"===w?"y":"x";return(e[w]-T[w])*(A-T[x])/(e[x]-T[x])+T[w]}static findEdgePoint(T,e){const w=T.series.chart,A=T.series.xAxis,x=e.series.yAxis,d=X.pointToPixels(T),k=X.pointToPixels(e),r=k.x-d.x,s=k.y-d.y,u=A.left,o=x.top,c=o+x.height,l=r<0?u:u+A.width,f=s<0?o:c,m={x:0===r?d.x:l,y:0===s?d.y:f};let M,y,C;return 0!==r&&0!==s&&(y=R.findEdgeCoordinate(d,k,"y",l),M=R.findEdgeCoordinate(d,k,"x",f),y>=o&&y<=c?(m.x=l,m.y=y):(m.x=M,m.y=f)),m.x-=w.plotLeft,m.y-=w.plotTop,T.series.chart.inverted&&(C=m.x,m.x=m.y,m.y=C),m}addShapes(){const T=this.options.typeOptions,e=[this.points[0],R.endEdgePoint];T.type.match(/line/gi)&&(e[0]=R.startEdgePoint);const w=this.initShape(U(T.line,{type:"path",points:e,className:"highcharts-infinity-lines"}),0);T.line=w.options}}return R.endEdgePoint=R.edgePoint(0,1),R.startEdgePoint=R.edgePoint(1,0),R.prototype.defaultOptions=U(G.prototype.defaultOptions,{}),j.types.infinityLine=R,R}),$(v,"Extensions/Annotations/Types/TimeCycles.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/Types/CrookedLine.js"],v["Extensions/Annotations/ControlPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{merge:U,isNumber:R,defined:I}=F;class w extends G{init(x,d,k){I(d.yAxis)&&d.points.forEach(r=>{r.yAxis=d.yAxis}),I(d.xAxis)&&d.points.forEach(r=>{r.xAxis=d.xAxis}),super.init(x,d,k)}setPath(){this.shapes[0].options.d=this.getPath()}getPath(){return[(A=this.startX,x=this.y,["M",A,x])].concat(function e(A,x,d,k){const r=[];for(let s=1;s<=x;s++)r.push(["A",A/2,A/2,0,1,1,d+s*A,k]);return r}(this.pixelInterval,this.numberOfCircles,this.startX,this.y));var A,x}addShapes(){const x=this.options.typeOptions;this.setPathProperties();const d=this.initShape(U(x.line,{type:"path",d:this.getPath(),points:this.options.points,className:"highcharts-timecycles-lines"}),0);x.line=d.options}addControlPoints(){const x=this.options,d=x.typeOptions;x.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",d.controlPointOptions.forEach(k=>{const r=U(x.controlPointOptions,k),s=new X(this.chart,this,r,0);this.controlPoints.push(s)})}setPathProperties(){const x=this.options.typeOptions,d=x.points;if(!d)return;const k=d[0],p=this.chart.xAxis[x.xAxis||0],o=this.chart.yAxis[x.yAxis||0],c=k.x,l=k.y,f=d[1].x;if(!c||!f)return;const m=R(l)?o.toPixels(l):o.top+o.height,M=R(c)?p.toPixels(c):p.left,y=R(f)?p.toPixels(f):p.left+30,C=p.len,h=Math.round(Math.max(Math.abs(y-M),2)),a=Math.floor(C/h)+2,t=(Math.floor((M-p.left)/h)+1)*h;this.startX=M-t,this.y=m,this.pixelInterval=h,this.numberOfCircles=a}redraw(x){this.setPathProperties(),this.setPath(),super.redraw(x)}}return w.prototype.defaultOptions=U(G.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(A){return{x:A.anchor(A.points[0]).absolutePosition.x-(this.graphic.width||0)/2,y:A.y-(this.graphic.height||0)}},events:{drag:function(A,x){const d=x.anchor(x.points[0]).absolutePosition;x.translatePoint(A.chartX-d.x,0,0),x.redraw(!1)}}},{positioner:function(A){return{x:A.anchor(A.points[1]).absolutePosition.x-(this.graphic.width||0)/2,y:A.y-(this.graphic.height||0)}},events:{drag:function(A,x){const d=x.anchor(x.points[1]).absolutePosition;x.translatePoint(A.chartX-d.x,0,1),x.redraw(!1)}}}]}}),j.types.timeCycles=w,w}),$(v,"Extensions/Annotations/Types/Fibonacci.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/MockPoint.js"],v["Extensions/Annotations/Types/Tunnel.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{merge:U}=F;function R(T,e){return function(){const w=this.annotation;if(!w.startRetracements||!w.endRetracements)return[];const A=this.anchor(w.startRetracements[T]).absolutePosition,x=this.anchor(w.endRetracements[T]).absolutePosition,d=[["M",Math.round(A.x),Math.round(A.y)],["L",Math.round(x.x),Math.round(x.y)]];if(e){const k=this.anchor(w.endRetracements[T-1]).absolutePosition,r=this.anchor(w.startRetracements[T-1]).absolutePosition;d.push(["L",Math.round(k.x),Math.round(k.y)],["L",Math.round(r.x),Math.round(r.y)])}return d}}let I=(()=>{class T extends X{linkPoints(){super.linkPoints(),this.linkRetracementsPoints()}linkRetracementsPoints(){const w=this.points,A=w[0].y-w[3].y,x=w[1].y-w[2].y,d=w[0].x,k=w[1].x;T.levels.forEach((r,s)=>{const u=w[0].y-A*r,p=w[1].y-x*r,o=this.options.typeOptions.reversed?T.levels.length-s-1:s;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(o,d,u,this.startRetracements),this.linkRetracementPoint(o,k,p,this.endRetracements)})}linkRetracementPoint(w,A,x,d){const k=d[w],r=this.options.typeOptions;k?(k.options.x=A,k.options.y=x,k.refresh()):d[w]=new G(this.chart,this,{x:A,y:x,xAxis:r.xAxis,yAxis:r.yAxis})}addShapes(){T.levels.forEach(function(w,A){const{backgroundColors:x,lineColor:d,lineColors:k}=this.options.typeOptions;this.initShape({type:"path",d:R(A),stroke:k[A]||d,className:"highcharts-fibonacci-line"},A),A>0&&this.initShape({type:"path",fill:x[A-1],strokeWidth:0,d:R(A,!0),className:"highcharts-fibonacci-background-"+(A-1)})},this)}addLabels(){T.levels.forEach(function(w,A){const x=this.options.typeOptions,d=this.initLabel(U(x.labels[A],{point:function(k){return G.pointToOptions(k.annotation.startRetracements[A])},text:w.toString()}));x.labels[A]=d.options},this)}}return T.levels=[0,.236,.382,.5,.618,.786,1],T})();return I.prototype.defaultOptions=U(X.prototype.defaultOptions,{typeOptions:{reversed:!1,height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),j.types.fibonacci=I,I}),$(v,"Extensions/Annotations/Types/FibonacciTimeZones.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/ControlPoint.js"],v["Extensions/Annotations/Types/CrookedLine.js"],v["Extensions/Annotations/Types/InfinityLine.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{merge:I}=R;function T(w,A,x){return function(d){const k=d.annotation.chart;let s=d.annotation.points;const o=s[0].series.xAxis.toValue(s[0].plotX+(k.inverted?k.plotTop:k.plotLeft)+x*(s.length>1?s[1].plotX-s[0].plotX:0));return s=[new U(k,s[0].target,{x:o,y:0,xAxis:s[0].options.xAxis,yAxis:s[0].options.yAxis}),new U(k,s[0].target,{x:o,y:1,xAxis:s[0].options.xAxis,yAxis:s[0].options.yAxis})],F.findEdgePoint(s[w],s[A])}}class e extends X{addShapes(){let x=1,d=1;for(let k=0;k<11;k++){const r=k?x:0,s=[T(1,0,r),T(0,1,r)];d=x+d,x=d-x,1===k&&(this.secondLineEdgePoints=[s[0],s[1]]),this.initShape(I(this.options.typeOptions.line,{type:"path",points:s,className:"highcharts-fibonacci-timezones-lines"}),k)}}addControlPoints(){const A=this.options,x=A.typeOptions,d=new G(this.chart,this,I(A.controlPointOptions,x.controlPointOptions),0);this.controlPoints.push(d),x.controlPointOptions=d.options}}return e.prototype.defaultOptions=I(X.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){const w=this.target,A=this.graphic,x=w.secondLineEdgePoints,d={annotation:w},k=x[0](d).y,r=x[1](d).y,s=this.chart.plotLeft,u=this.chart.plotTop;let p=x[0](d).x,o=(k+r)/2;return this.chart.inverted&&([p,o]=[o,p]),{x:s+p-(A.width||0)/2,y:u+o-(A.height||0)/2}},events:{drag:function(w,A){if(A.chart.isInsidePlot(w.chartX-A.chart.plotLeft,w.chartY-A.chart.plotTop,{visiblePlotOnly:!0})){const d=this.mouseMoveToTranslation(w);A.translatePoint(d.x,0,1),A.redraw(!1)}}}}}}),j.types.fibonacciTimeZones=e,e}),$(v,"Extensions/Annotations/Types/Pitchfork.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/Types/InfinityLine.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{merge:U}=F;class R extends G{static outerLineEdgePoint(T){return function(e){const w=e.annotation,A=w.points;return R.findEdgePoint(A[T],A[0],new X(w.chart,e,w.midPointOptions()))}}static findEdgePoint(T,e,w){const A=Math.atan2(w.plotY-e.plotY,w.plotX-e.plotX),x=1e7;return{x:T.plotX+x*Math.cos(A),y:T.plotY+x*Math.sin(A)}}static middleLineEdgePoint(T){const e=T.annotation;return G.findEdgePoint(e.points[0],new X(e.chart,T,e.midPointOptions()))}midPointOptions(){const T=this.points;return{x:(T[1].x+T[2].x)/2,y:(T[1].y+T[2].y)/2,xAxis:T[0].series.xAxis,yAxis:T[0].series.yAxis}}addShapes(){this.addLines(),this.addBackgrounds()}addLines(){const T="highcharts-pitchfork-lines";this.initShape({type:"path",points:[this.points[0],R.middleLineEdgePoint],className:T},0),this.initShape({type:"path",points:[this.points[1],R.topLineEdgePoint],className:T},1),this.initShape({type:"path",points:[this.points[2],R.bottomLineEdgePoint],className:T},2)}addBackgrounds(){const T=this.shapes,e=this.options.typeOptions,w=this.initShape(U(e.innerBackground,{type:"path",points:[function(x){const d=x.annotation,k=d.points,r=d.midPointOptions();return{x:(k[1].x+r.x)/2,y:(k[1].y+r.y)/2,xAxis:r.xAxis,yAxis:r.yAxis}},T[1].points[1],T[2].points[1],function(x){const d=x.annotation,k=d.points,r=d.midPointOptions();return{x:(r.x+k[2].x)/2,y:(r.y+k[2].y)/2,xAxis:r.xAxis,yAxis:r.yAxis}}],className:"highcharts-pitchfork-inner-background"}),3),A=this.initShape(U(e.outerBackground,{type:"path",points:[this.points[1],T[1].points[1],T[2].points[1],this.points[2]],className:"highcharts-pitchfork-outer-background"}),4);e.innerBackground=w.options,e.outerBackground=A.options}}return R.topLineEdgePoint=R.outerLineEdgePoint(1),R.bottomLineEdgePoint=R.outerLineEdgePoint(0),R.prototype.defaultOptions=U(G.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),j.types.pitchfork=R,R}),$(v,"Extensions/Annotations/Types/VerticalLine.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/MockPoint.js"],v["Core/Utilities.js"]],function(j,G,X){const{merge:F,pick:U}=X;class R extends j{static connectorFirstPoint(T){const e=T.annotation,w=e.chart,A=w.inverted,x=e.points[0],d=U(x.series.yAxis&&x.series.yAxis.left,0),k=U(x.series.yAxis&&x.series.yAxis.top,0),r=e.options.typeOptions.label.offset,s=G.pointToPixels(x,!0)[A?"x":"y"];return{x:x.x,xAxis:x.series.xAxis,y:s+r+(A?d-w.plotLeft:k-w.plotTop)}}static connectorSecondPoint(T){const e=T.annotation,w=e.chart,A=w.inverted,x=e.options.typeOptions,d=e.points[0],k=U(d.series.yAxis&&d.series.yAxis.left,0),r=U(d.series.yAxis&&d.series.yAxis.top,0),s=G.pointToPixels(d,!0)[A?"x":"y"];let u=x.yOffset;return x.label.offset<0&&(u*=-1),{x:d.x,xAxis:d.series.xAxis,y:s+u+(A?k-w.plotLeft:r-w.plotTop)}}getPointsOptions(){return[this.options.typeOptions.point]}addShapes(){const T=this.options.typeOptions,e=this.initShape(F(T.connector,{type:"path",points:[R.connectorFirstPoint,R.connectorSecondPoint],className:"highcharts-vertical-line"}),0);T.connector=e.options,this.userOptions.typeOptions.point=T.point}addLabels(){const T=this.options.typeOptions,e=T.label;let w=0,A=e.offset,x=e.offset<0?"bottom":"top",d="center";this.chart.inverted&&(w=e.offset,A=0,x="middle",d=e.offset<0?"right":"left");const k=this.initLabel(F(e,{verticalAlign:x,align:d,x:w,y:A}));T.label=k.options}}return R.prototype.defaultOptions=F(j.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(I){return I.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),j.types.verticalLine=R,R}),$(v,"Extensions/Annotations/Types/Measure.js",[v["Extensions/Annotations/Annotation.js"],v["Extensions/Annotations/ControlPoint.js"],v["Core/Utilities.js"]],function(j,G,X){const{defined:F,extend:U,isNumber:R,merge:I,pick:T}=X;function e(){let c="";return""!==this.max&&""!==this.min&&(c=(this.max+this.min)/2),c}function w(){const c=this.chart.series,l=x(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let f=0,m=!1;return c.forEach(M=>{M.visible&&"highcharts-navigator-series"!==M.options.id&&M.points.forEach(y=>{!y.isNull&&y.x>l.xAxisMin&&y.x<=l.xAxisMax&&y.y>l.yAxisMin&&y.y<=l.yAxisMax&&(f++,m=!0)})}),m||(f=""),f}function A(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function x(c,l,f,m){return{xAxisMin:Math.min(l,c),xAxisMax:Math.max(l,c),yAxisMin:Math.min(m,f),yAxisMax:Math.max(m,f)}}function d(c,l,f){return c.toValue(c.toPixels(l)+f)}function k(){const c=this.options.typeOptions,l=this.chart,f=l.inverted,m=l.xAxis[c.xAxis],M=l.yAxis[c.yAxis],y=c.background,C=f?y.height:y.width,h=f?y.width:y.height,a=c.selectType,t=f?m.left:M.top,i=f?M.top:m.left;this.startXMin=c.point.x,this.startYMin=c.point.y,this.startXMax=R(C)?this.startXMin+C:d(m,this.startXMin,parseFloat(C)),this.startYMax=R(h)?this.startYMin-h:d(M,this.startYMin,parseFloat(h)),"x"===a?(this.startYMin=M.toValue(t),this.startYMax=M.toValue(t+M.len)):"y"===a&&(this.startXMin=m.toValue(i),this.startXMax=m.toValue(i+m.len))}function r(){const c=this.chart.series,l=x(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let f=-1/0,m=!1;return c.forEach(M=>{M.visible&&"highcharts-navigator-series"!==M.options.id&&M.points.forEach(y=>{!y.isNull&&y.y>f&&y.x>l.xAxisMin&&y.x<=l.xAxisMax&&y.y>l.yAxisMin&&y.y<=l.yAxisMax&&(f=y.y,m=!0)})}),m||(f=""),f}function s(){const c=this.chart.series,l=x(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax);let f=1/0,m=!1;return c.forEach(M=>{M.visible&&"highcharts-navigator-series"!==M.options.id&&M.points.forEach(y=>{!y.isNull&&y.y<f&&y.x>l.xAxisMin&&y.x<=l.xAxisMax&&y.y>l.yAxisMin&&y.y<=l.yAxisMax&&(f=y.y,m=!0)})}),m||(f=""),f}function u(c){const l=this.options.typeOptions,f=this.chart.xAxis[l.xAxis],m=this.chart.yAxis[l.yAxis],M=this.offsetX,y=this.offsetY;this.xAxisMin=d(f,this.startXMin,M),this.xAxisMax=d(f,this.startXMax,M),this.yAxisMin=d(m,this.startYMin,y),this.yAxisMax=d(m,this.startYMax,y),this.min=s.call(this),this.max=r.call(this),this.average=e.call(this),this.bins=w.call(this),c&&this.resize(0,0)}function p(c,l,f,m,M){const y=this.options.typeOptions,C=y.selectType,h=this.chart.xAxis[y.xAxis],a=this.chart.yAxis[y.yAxis],t=this.startXMin,i=this.startXMax,n=this.startYMin,b=this.startYMax,g=this.offsetX,P=this.offsetY;l&&("x"===C?0===f?this.startXMin=d(h,t,m):this.startXMax=d(h,i,m):"y"===C?0===f?this.startYMin=d(a,n,M):this.startYMax=d(a,b,M):(this.startXMax=d(h,i,m),this.startYMax=d(a,b,M))),c&&(this.startXMin=d(h,t,g),this.startXMax=d(h,i,g),this.startYMin=d(a,n,P),this.startYMax=d(a,b,P),this.offsetX=0,this.offsetY=0),this.options.typeOptions.point={x:this.startXMin,y:this.startYMin},this.userOptions.typeOptions.point={x:this.startXMin,y:this.startYMin}}class o extends j{init(l,f,m){super.init(l,f,m),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,k.call(this),this.addValues(),this.addShapes()}setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}pointsOptions(){return this.options.points}shapePointsOptions(){const l=this.options.typeOptions,f=l.xAxis,m=l.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:f,yAxis:m},{x:this.xAxisMax,y:this.yAxisMin,xAxis:f,yAxis:m},{x:this.xAxisMax,y:this.yAxisMax,xAxis:f,yAxis:m},{x:this.xAxisMin,y:this.yAxisMax,xAxis:f,yAxis:m}]}addControlPoints(){const l=this.chart.inverted,f=this.options.controlPointOptions,m=this.options.typeOptions.selectType;F(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||("x"===m?f.style.cursor=l?"ns-resize":"ew-resize":"y"===m&&(f.style.cursor=l?"ew-resize":"ns-resize"));let M=new G(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(M),"xy"!==m&&(M=new G(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(M))}addValues(l){const f=this.options.typeOptions,m=f.label.formatter;u.call(this,l),f.label.enabled&&(this.labels.length>0?this.labels[0].text=m&&m.call(this)||A.call(this):this.initLabel(U({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(M){const y=M.annotation,C=M.options;return{x:y.xAxisMin,y:y.yAxisMin,xAxis:T(f.xAxis,C.xAxis),yAxis:T(f.yAxis,C.yAxis)}},text:m&&m.call(this)||A.call(this)},f.label),void 0))}addShapes(){this.addCrosshairs(),this.addBackground()}addBackground(){typeof this.shapePointsOptions()[0].x>"u"||this.initShape(U({type:"path",points:this.shapePointsOptions(),className:"highcharts-measure-background"},this.options.typeOptions.background),2)}addCrosshairs(){const l=this.chart,f=this.options.typeOptions,M=l.xAxis[f.xAxis],y=l.yAxis[f.yAxis],C=l.inverted,h={point:this.options.typeOptions.point,type:"path"};let P,E,D,a=M.toPixels(this.xAxisMin),t=M.toPixels(this.xAxisMax),i=y.toPixels(this.yAxisMin),n=y.toPixels(this.yAxisMax),b=[],g=[];C&&(D=a,a=i,i=D,D=t,t=n,n=D),f.crosshairX.enabled&&(b=[["M",a,i+(n-i)/2],["L",t,i+(n-i)/2]]),f.crosshairY.enabled&&(g=[["M",a+(t-a)/2,i],["L",a+(t-a)/2,n]]),this.shapes.length>0?(this.shapes[0].options.d=b,this.shapes[1].options.d=g):(P=I(h,{className:"highcharts-measure-crosshair-x"},f.crosshairX),E=I(h,{className:"highcharts-measure-crosshair-y"},f.crosshairY),this.initShape(U({d:b},P),0),this.initShape(U({d:g},E),1))}onDrag(l){const f=this.mouseMoveToTranslation(l),m=this.options.typeOptions.selectType,M="y"===m?0:f.x,y="x"===m?0:f.y;this.translate(M,y),this.offsetX+=M,this.offsetY+=y,this.redraw(!1,!1,!0)}resize(l,f,m,M){const y=this.shapes[2];"x"===M?0===m?(y.translatePoint(l,0,0),y.translatePoint(l,f,3)):(y.translatePoint(l,0,1),y.translatePoint(l,f,2)):"y"===M?0===m?(y.translatePoint(0,f,0),y.translatePoint(0,f,1)):(y.translatePoint(0,f,2),y.translatePoint(0,f,3)):(y.translatePoint(l,0,1),y.translatePoint(l,f,2),y.translatePoint(0,f,3)),p.call(this,!1,!0,m,l,f),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)}redraw(l,f,m){this.linkPoints(),this.graphic||this.render(),m&&p.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(f),this.addCrosshairs(),this.redrawItems(this.shapes,l),this.redrawItems(this.labels,l),this.controlPoints.forEach(M=>M.redraw())}translate(l,f){this.shapes.forEach(m=>m.translate(l,f))}}return o.prototype.defaultOptions=I(j.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"0.7em",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(c){const l=this.index,f=c.chart,m=c.options,M=m.typeOptions,y=M.selectType,C=m.controlPointOptions,h=f.inverted,a=f.xAxis[M.xAxis],t=f.yAxis[M.yAxis],i=x(c.xAxisMin,c.xAxisMax,c.yAxisMin,c.yAxisMax);let g,P,n=c.xAxisMax,b=c.yAxisMax;return"x"===y&&(b=(i.yAxisMax+i.yAxisMin)/2,0===l&&(n=c.xAxisMin)),"y"===y&&(n=i.xAxisMin+(i.xAxisMax-i.xAxisMin)/2,0===l&&(b=c.yAxisMin)),h?(g=t.toPixels(b),P=a.toPixels(n)):(g=a.toPixels(n),P=t.toPixels(b)),{x:g-C.width/2,y:P-C.height/2}},events:{drag:function(c,l){const f=this.mouseMoveToTranslation(c),m=l.options.typeOptions.selectType,y="y"===m?0:f.x,C="x"===m?0:f.y;l.resize(y,C,this.index,m),l.resizeX+=y,l.resizeY+=C,l.redraw(!1,!0)}}}}),j.types.measure=o,o}),$(v,"masters/modules/annotations-advanced.src.js",[v["Core/Globals.js"]],function(j){return j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},4346:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Extensions/PriceIndication.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{composed:X}=j,{addEvent:F,isArray:U,merge:R,pushUnique:I}=G;function e(){const A=this,x=A.options,d=x.lastVisiblePrice,k=x.lastPrice;if((d||k)&&"highcharts-navigator-series"!==x.id){const r=A.xAxis,s=A.yAxis,u=s.crosshair,p=s.cross,o=s.crossLabel,c=A.points,f=c.length,m=A.xData[A.xData.length-1],M=A.yData[A.yData.length-1];let y;if(k&&k.enabled&&(s.crosshair=s.options.crosshair=x.lastPrice,!A.chart.styledMode&&s.crosshair&&s.options.crosshair&&x.lastPrice&&(s.crosshair.color=s.options.crosshair.color=x.lastPrice.color||A.color),s.cross=A.lastPrice,y=U(M)?M[3]:M,A.lastPriceLabel&&A.lastPriceLabel.destroy(),delete s.crossLabel,s.drawCrosshair(null,{x:m,y,plotX:r.toPixels(m,!0),plotY:s.toPixels(y,!0)}),A.yAxis.cross&&(A.lastPrice=A.yAxis.cross,A.lastPrice.addClass("highcharts-color-"+A.colorIndex),A.lastPrice.y=y),A.lastPriceLabel=s.crossLabel),d&&d.enabled&&f>0){s.crosshair=s.options.crosshair=R({color:"transparent"},x.lastVisiblePrice),s.cross=A.lastVisiblePrice;const C=c[f-1].isInside?c[f-1]:c[f-2];A.lastVisiblePriceLabel&&A.lastVisiblePriceLabel.destroy(),delete s.crossLabel,s.drawCrosshair(null,C),s.cross&&(A.lastVisiblePrice=s.cross,C&&"number"==typeof C.y&&(A.lastVisiblePrice.y=C.y)),A.lastVisiblePriceLabel=s.crossLabel}s.crosshair=s.options.crosshair=u,s.cross=p,s.crossLabel=o}}return{compose:function T(A){I(X,"PriceIndication")&&F(A,"afterRender",e)}}}),$(v,"masters/modules/price-indicator.src.js",[v["Core/Globals.js"],v["Extensions/PriceIndication.js"]],function(j,G){return G.compose(j.Series),j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470),ut(1335)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},9457:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Core/Chart/ChartNavigationComposition.js",[],function(){var j;return function(G){G.compose=function X(U){return U.navigation||(U.navigation=new F(U)),U};class F{constructor(R){this.updates=[],this.chart=R}addUpdate(R){this.chart.navigation.updates.push(R)}update(R,I){this.updates.forEach(T=>{T.call(this.chart,R,I)})}}G.Additions=F}(j||(j={})),j}),$(v,"Extensions/Annotations/NavigationBindingsDefaults.js",[v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Core/Utilities.js"]],function(j,G){const{getAssignedAxis:X}=j,{isNumber:F,merge:U}=G;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:A.value,y:x.value,xAxis:A.axis.index,yAxis:x.axis.index},r:5}]},d.annotationsOptions,d.bindings.circleAnnotation.annotationsOptions))},steps:[function(e,w){const A=w.options.shapes,x=A&&A[0]&&A[0].point||{};let d;if(F(x.xAxis)&&F(x.yAxis)){const k=this.chart.inverted,r=this.chart.xAxis[x.xAxis].toPixels(x.x),s=this.chart.yAxis[x.yAxis].toPixels(x.y);d=Math.max(Math.sqrt(Math.pow(k?s-e.chartX:r-e.chartX,2)+Math.pow(k?r-e.chartY:s-e.chartY,2)),5)}w.update({shapes:[{r:d}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:A.axis.index,yAxis:x.axis.index,points:[{x:A.value,y:x.value},{x:A.value,y:x.value}],ry:1}]},d.annotationsOptions,d.bindings.ellipseAnnotation.annotationOptions))},steps:[function(e,w){const A=w.shapes[0],x=A.getAbsolutePosition(A.points[1]);A.translatePoint(e.chartX-x.x,e.chartY-x.y,1),A.redraw(!1)},function(e,w){const A=w.shapes[0],x=A.getAbsolutePosition(A.points[0]),d=A.getAbsolutePosition(A.points[1]),k=A.getDistanceFromLine(x,d,e.chartX,e.chartY),r=A.getYAxis(),s=Math.abs(r.toValue(0)-r.toValue(k));A.setYRadius(s),A.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis);if(!A||!x)return;const d=A.value,k=x.value,r=A.axis.index,s=x.axis.index,u=this.chart.options.navigation;return this.chart.addAnnotation(U({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{xAxis:r,yAxis:s,x:d,y:k},{command:"Z"}]}]},u.annotationsOptions,u.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(e,w){const A=w.options.shapes,x=A&&A[0]&&A[0].points||[],d=this.chart.pointer?.getCoordinates(e),k=d&&X(d.xAxis),r=d&&X(d.yAxis);if(k&&r){const s=k.value,u=r.value;x[1].x=s,x[2].x=s,x[2].y=u,x[3].y=u,w.update({shapes:[{points:x}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(e){const w=this.chart.pointer?.getCoordinates(e),A=w&&X(w.xAxis),x=w&&X(w.yAxis),d=this.chart.options.navigation;if(A&&x)return this.chart.addAnnotation(U({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}",overflow:"none",crop:!0},labels:[{point:{xAxis:A.axis.index,yAxis:x.axis.index,x:A.value,y:x.value}}]},d.annotationsOptions,d.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),$(v,"Extensions/Annotations/NavigationBindings.js",[v["Core/Chart/ChartNavigationComposition.js"],v["Core/Defaults.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Extensions/Annotations/NavigationBindingsDefaults.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I){const{setOptions:T}=G,{format:e}=X,{composed:w,doc:A,win:x}=F,{getAssignedAxis:d,getFieldType:k}=R,{addEvent:r,attr:s,defined:u,fireEvent:p,isArray:o,isFunction:c,isNumber:l,isObject:f,merge:m,objectEach:M,pick:y,pushUnique:C}=I;function a(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function t(){this.navigationBindings&&this.navigationBindings.destroy()}function i(){const D=this.options;D&&D.navigation&&D.navigation.bindings&&(this.navigationBindings=new E(this,D.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function n(){const D=this.navigationBindings,O="highcharts-disabled-btn";if(this&&D){let S=!1;if(this.series.forEach(L=>{!L.options.isInternal&&L.visible&&(S=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const L=this.navigationBindings.container[0];M(D.boundClassNames,(B,_)=>{const Y=L.querySelectorAll("."+_);if(Y)for(let z=0;z<Y.length;z++){const N=Y[z],H=N.className;"normal"===B.noDataState||S?-1!==H.indexOf(O)&&N.classList.remove(O):-1===H.indexOf(O)&&(N.className+=" "+O)}})}}}function b(){this.deselectAnnotation()}function g(){this.selectedButtonElement=null}function P(D){const O=D.prototype.defaultOptions.events&&D.prototype.defaultOptions.events.click;function S(z){const N=this,H=N.chart.navigationBindings,V=H.activeAnnotation;O&&O.call(N,z),V!==N?(H.deselectAnnotation(),H.activeAnnotation=N,N.setControlPointsVisibility(!0),p(H,"showPopup",{annotation:N,formType:"annotation-toolbar",options:H.annotationToFields(N),onSubmit:function(Z){if("remove"===Z.actionType)H.activeAnnotation=!1,H.chart.removeAnnotation(N);else{const W={};H.fieldsToOptions(Z.fields,W),H.deselectAnnotation();const q=W.typeOptions;"measure"===N.options.type&&(q.crosshairY.enabled=0!==q.crosshairY.strokeWidth,q.crosshairX.enabled=0!==q.crosshairX.strokeWidth),N.update(W)}}})):p(H,"closePopup"),z.activeAnnotation=!0}let L,B;m(!0,D.prototype.defaultOptions.events,{click:S,touchstart:function _(z){L=z.touches[0].clientX,B=z.touches[0].clientY},touchend:function Y(z){L&&Math.sqrt(Math.pow(L-z.changedTouches[0].clientX,2)+Math.pow(B-z.changedTouches[0].clientY,2))>=4||S.call(this,z)}})}let E=(()=>{class D{static compose(S,L){C(w,"NavigationBindings")&&(r(S,"remove",a),P(S),M(S.types,B=>{P(B)}),r(L,"destroy",t),r(L,"load",i),r(L,"render",n),r(D,"closePopup",b),r(D,"deselectButton",g),T(U))}constructor(S,L){this.boundClassNames=void 0,this.chart=S,this.options=L,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=A.getElementsByClassName(this.options.bindingsClassName||""))}getCoords(S){const L=this.chart.pointer?.getCoordinates(S);return[L&&d(L.xAxis),L&&d(L.yAxis)]}initEvents(){const S=this,L=S.chart,B=S.container,_=S.options;S.boundClassNames={},M(_.bindings||{},Y=>{S.boundClassNames[Y.className]=Y}),[].forEach.call(B,Y=>{S.eventsToUnbind.push(r(Y,"click",z=>{const N=S.getButtonEvents(Y,z);N&&!N.button.classList.contains("highcharts-disabled-btn")&&S.bindingsButtonClick(N.button,N.events,z)}))}),M(_.events||{},(Y,z)=>{c(Y)&&S.eventsToUnbind.push(r(S,z,Y,{passive:!1}))}),S.eventsToUnbind.push(r(L.container,"click",function(Y){!L.cancelClick&&L.isInsidePlot(Y.chartX-L.plotLeft,Y.chartY-L.plotTop,{visiblePlotOnly:!0})&&S.bindingsChartClick(this,Y)})),S.eventsToUnbind.push(r(L.container,F.isTouchDevice?"touchmove":"mousemove",function(Y){S.bindingsContainerMouseMove(this,Y)},F.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const S=this;j.compose(this.chart).navigation.addUpdate(L=>{S.update(L)})}bindingsButtonClick(S,L,B){const _=this,Y=_.chart,z=Y.renderer.boxWrapper;let N=!0;_.selectedButtonElement&&(_.selectedButtonElement.classList===S.classList&&(N=!1),p(_,"deselectButton",{button:_.selectedButtonElement}),_.nextEvent&&(_.currentUserDetails&&"annotations"===_.currentUserDetails.coll&&Y.removeAnnotation(_.currentUserDetails),_.mouseMoveEvent=_.nextEvent=!1)),N?(_.selectedButton=L,_.selectedButtonElement=S,p(_,"selectButton",{button:S}),L.init&&L.init.call(_,S,B),(L.start||L.steps)&&Y.renderer.boxWrapper.addClass("highcharts-draw-mode")):(Y.stockTools&&Y.stockTools.toggleButtonActiveClass(S),z.removeClass("highcharts-draw-mode"),_.nextEvent=!1,_.mouseMoveEvent=!1,_.selectedButton=null)}bindingsChartClick(S,L){const B=this,_=B.activeAnnotation,Y=B.selectedButton,z=this.chart.renderer.boxWrapper;_&&(_.cancelClick||L.activeAnnotation||!L.target.parentNode||function h(D,O){const S=x.Element.prototype,L=S.matches||S.msMatchesSelector||S.webkitMatchesSelector;let B=null;if(S.closest)B=S.closest.call(D,O);else do{if(L.call(D,O))return D;D=D.parentElement||D.parentNode}while(null!==D&&1===D.nodeType);return B}(L.target,".highcharts-popup")?_.cancelClick&&setTimeout(()=>{_.cancelClick=!1},0):p(B,"closePopup")),Y&&Y.start&&(B.nextEvent?(B.nextEvent(L,B.currentUserDetails),B.steps&&(B.stepIndex++,Y.steps[B.stepIndex]?B.mouseMoveEvent=B.nextEvent=Y.steps[B.stepIndex]:(p(B,"deselectButton",{button:B.selectedButtonElement}),z.removeClass("highcharts-draw-mode"),Y.end&&Y.end.call(B,L,B.currentUserDetails),B.nextEvent=!1,B.mouseMoveEvent=!1,B.selectedButton=null))):(B.currentUserDetails=Y.start.call(B,L),B.currentUserDetails&&Y.steps?(B.stepIndex=0,B.steps=!0,B.mouseMoveEvent=B.nextEvent=Y.steps[B.stepIndex]):(p(B,"deselectButton",{button:B.selectedButtonElement}),z.removeClass("highcharts-draw-mode"),B.steps=!1,B.selectedButton=null,Y.end&&Y.end.call(B,L,B.currentUserDetails))))}bindingsContainerMouseMove(S,L){this.mouseMoveEvent&&this.mouseMoveEvent(L,this.currentUserDetails)}fieldsToOptions(S,L){return M(S,(B,_)=>{const Y=parseFloat(B),z=_.split("."),N=z.length-1;if(l(Y)&&!B.match(/px|em/g)&&!_.match(/format/g)&&(B=Y),"undefined"!==B){let H=L;z.forEach((V,Z)=>{if("__proto__"!==V&&"constructor"!==V){const W=y(z[Z+1],"");N===Z?H[V]=B:(H[V]||(H[V]=W.match(/\d/g)?[]:{}),H=H[V])}})}}),L}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(S){const L=S.options,B=D.annotationsEditable,_=B.nestedOptions,Y=y(L.type,L.shapes&&L.shapes[0]&&L.shapes[0].type,L.labels&&L.labels[0]&&L.labels[0].type,"label"),z=D.annotationsNonEditable[L.langKey]||[],N={langKey:L.langKey,type:Y};function H(V,Z,W,q,K){let J;W&&u(V)&&-1===z.indexOf(Z)&&((W.indexOf&&W.indexOf(Z))>=0||W[Z]||!0===W)&&(o(V)?(q[Z]=[],V.forEach((et,st)=>{f(et)?(q[Z][st]={},M(et,(ot,lt)=>{H(ot,lt,_[Z],q[Z][st],Z)})):H(et,0,_[Z],q[Z],Z)})):f(V)?(J={},o(q)?(q.push(J),J[Z]={},J=J[Z]):q[Z]=J,M(V,(et,st)=>{H(et,st,0===Z?W:_[Z],J,Z)})):"format"===Z?q[Z]=[e(V,S.labels[0].points[0]).toString(),"text"]:o(q)?q.push([V,k(K,V)]):q[Z]=[V,k(Z,V)])}return M(L,(V,Z)=>{"typeOptions"===Z?(N[Z]={},M(L[Z],(W,q)=>{H(W,q,_,N[Z],q)})):H(V,Z,B[Y],N,Z)}),N}getClickedClassNames(S,L){let Y,B=L.target,_=[];for(;B&&B.tagName;)if(Y=s(B,"class"),Y&&(_=_.concat(Y.split(" ").map(z=>[z,B]))),B=B.parentNode,B===S)return _;return _}getButtonEvents(S,L){const B=this;let Y;return this.getClickedClassNames(S,L).forEach(z=>{B.boundClassNames[z[0]]&&!Y&&(Y={events:B.boundClassNames[z[0]],button:z[1]})}),Y}update(S){this.options=m(!0,this.options,S),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(S=>S())}destroy(){this.removeEvents()}}return D.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},D.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},D})();return E}),$(v,"Stock/StockTools/StockToolsUtilities.js",[v["Core/Defaults.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{getOptions:U}=j,{getAssignedAxis:R,getFieldType:I}=G,{defined:T,fireEvent:e,isNumber:w,uniqueKey:A}=F,x=["apo","ad","aroon","aroonoscillator","atr","ao","cci","chaikin","cmf","cmo","disparityindex","dmi","dpo","linearRegressionAngle","linearRegressionIntercept","linearRegressionSlope","klinger","macd","mfi","momentum","natr","obv","ppo","roc","rsi","slowstochastic","stochastic","trix","williamsr"],d=["ad","cmf","klinger","mfi","obv","vbp","vwap"];function r(m,M){const y=M.pointer?.getCoordinates(m);let C,h,t,a=Number.MAX_VALUE;if(M.navigationBindings&&y&&(C=R(y.xAxis),h=R(y.yAxis)),!C||!h)return;const i=C.value,n=h.value;return h.axis.series.forEach(b=>{if(b.points){const g=b.searchPoint(m,!0);g&&a>Math.abs(g.x-i)&&(a=Math.abs(g.x-i),t=g)}}),t&&t.x&&t.y?{x:t.x,y:t.y,below:n<t.y,series:t.series,xAxis:t.series.xAxis.index||0,yAxis:t.series.yAxis.index||0}:void 0}return{indicatorsWithAxes:x,indicatorsWithVolume:d,addFlagFromForm:function k(m){return function(M){const y=this,C=y.chart,h=C.stockTools,a=r(M,C);if(!a)return;const i={type:"flags",onSeries:a.series.id,shape:m,data:[{x:a.x,y:a.y}],xAxis:a.xAxis,yAxis:a.yAxis,point:{events:{click:function(){const n=this,b=n.options;e(y,"showPopup",{point:n,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[b.title,I("title",b.title)],name:[b.name,I("name",b.name)]},onSubmit:function(g){"remove"===g.actionType?n.remove():n.update(y.fieldsToOptions(g.fields,{}))}})}}}};(!h||!h.guiEnabled)&&C.addSeries(i),e(y,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",I("label","A")],name:["Flag A",I("label","Flag A")]},onSubmit:function(n){y.fieldsToOptions(n.fields,i.data[0]),C.addSeries(i)}})}},attractToPoint:r,getAssignedAxis:R,isNotNavigatorYAxis:function s(m){return"highcharts-navigator-yaxis"!==m.userOptions.className},isPriceIndicatorEnabled:function u(m){return m.some(M=>M.lastVisiblePrice||M.lastPrice)},manageIndicators:function p(m){const M=this.chart,y={linkedTo:m.linkedTo,type:m.type};let C,h,a,t;if("edit"===m.actionType)this.fieldsToOptions(m.fields,y),t=M.get(m.seriesId),t&&t.update(y,!1);else if("remove"===m.actionType){if(t=M.get(m.seriesId),t&&(C=t.yAxis,t.linkedSeries&&t.linkedSeries.forEach(i=>{i.remove(!1)}),t.remove(!1),x.indexOf(t.type)>=0)){const i={height:C.options.height,top:C.options.top};C.remove(!1),this.resizeYAxes(i)}}else y.id=A(),this.fieldsToOptions(m.fields,y),h=M.get(y.linkedTo),a=U().plotOptions,typeof h<"u"&&h instanceof X&&"sum"===h.getDGApproximation()&&!T(a&&a[y.type]&&a.dataGrouping&&a.dataGrouping.approximation)&&(y.dataGrouping={approximation:"sum"}),x.indexOf(m.type)>=0?(C=M.addAxis({id:A(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),y.yAxis=C.options.id,this.resizeYAxes()):y.yAxis=M.get(m.linkedTo).options.yAxis,d.indexOf(m.type)>=0&&(y.params.volumeSeriesID=M.series.filter(function(i){return"column"===i.options.type})[0].options.id),M.addSeries(y,!1);e(this,"deselectButton",{button:this.selectedButtonElement}),M.redraw()},updateHeight:function o(m,M){const y=M.options.typeOptions,C=w(y.yAxis)&&this.chart.yAxis[y.yAxis];C&&y.points&&M.update({typeOptions:{height:C.toValue(m[C.horiz?"chartX":"chartY"])-(y.points[1].y||0)}})},updateNthPoint:function c(m){return function(M,y){const C=y.options.typeOptions,h=w(C.xAxis)&&this.chart.xAxis[C.xAxis],a=w(C.yAxis)&&this.chart.yAxis[C.yAxis];h&&a&&(C.points.forEach((t,i)=>{i>=m&&(t.x=h.toValue(M[h.horiz?"chartX":"chartY"]),t.y=a.toValue(M[a.horiz?"chartX":"chartY"]))}),y.update({typeOptions:{points:C.points}}))}},updateRectSize:function l(m,M){const y=M.chart,C=M.options.typeOptions,h=w(C.xAxis)&&y.xAxis[C.xAxis],a=w(C.yAxis)&&y.yAxis[C.yAxis];if(h&&a){const t=h.toValue(m[h.horiz?"chartX":"chartY"]),i=a.toValue(m[a.horiz?"chartX":"chartY"]),n=t-C.point.x,b=C.point.y-i;M.update({typeOptions:{background:{width:y.inverted?b:n,height:y.inverted?n:b}}})}}}}),$(v,"Stock/StockTools/StockToolsBindings.js",[v["Core/Globals.js"],v["Stock/StockTools/StockToolsUtilities.js"],v["Core/Utilities.js"]],function(j,G,X){const{addFlagFromForm:F,attractToPoint:U,isNotNavigatorYAxis:R,isPriceIndicatorEnabled:I,manageIndicators:T,updateHeight:e,updateNthPoint:w,updateRectSize:A}=G,{fireEvent:x,merge:d}=X;return{segment:{className:"highcharts-segment",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"segment",type:"crookedLine",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.segment.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.arrowSegment.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},ray:{className:"highcharts-ray",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"ray",type:"infinityLine",typeOptions:{type:"ray",xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.ray.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.arrowRay.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.infinityLine.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value},{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.arrowInfinityLine.annotationsOptions);return this.chart.addAnnotation(o)},steps:[w(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.horizontalLine.annotationsOptions);this.chart.addAnnotation(o)}},verticalLine:{className:"highcharts-vertical-line",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value}]}},p.annotationsOptions,p.bindings.verticalLine.annotationsOptions);this.chart.addAnnotation(o)}},crooked3:{className:"highcharts-crooked3",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"crooked3",type:"crookedLine",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o},{x:p,y:o}]}},c.annotationsOptions,c.bindings.crooked3.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),w(2)]},crooked5:{className:"highcharts-crooked5",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"crooked5",type:"crookedLine",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o}]}},c.annotationsOptions,c.bindings.crooked5.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),w(2),w(3),w(4)]},elliott3:{className:"highcharts-elliott3",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"elliott3",type:"elliottWave",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o}]},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.elliott3.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),w(2),w(3)]},elliott5:{className:"highcharts-elliott5",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"elliott5",type:"elliottWave",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o},{x:p,y:o}]},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.elliott5.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),w(2),w(3),w(4),w(5)]},measureX:{className:"highcharts-measure-x",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const c=this.chart.options.navigation,l=d({langKey:"measure",type:"measure",typeOptions:{selectType:"x",xAxis:s.axis.index,yAxis:u.axis.index,point:{x:s.value,y:u.value},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.measureX.annotationsOptions);return this.chart.addAnnotation(l)},steps:[A]},measureY:{className:"highcharts-measure-y",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const c=this.chart.options.navigation,l=d({langKey:"measure",type:"measure",typeOptions:{selectType:"y",xAxis:s.axis.index,yAxis:u.axis.index,point:{x:s.value,y:u.value},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.measureY.annotationsOptions);return this.chart.addAnnotation(l)},steps:[A]},measureXY:{className:"highcharts-measure-xy",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const c=this.chart.options.navigation,l=d({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",xAxis:s.axis.index,yAxis:u.axis.index,point:{x:s.value,y:u.value},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.measureXY.annotationsOptions);return this.chart.addAnnotation(l)},steps:[A]},fibonacci:{className:"highcharts-fibonacci",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"fibonacci",type:"fibonacci",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o}]},labelOptions:{style:{color:"#666666"}}},c.annotationsOptions,c.bindings.fibonacci.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),e]},parallelChannel:{className:"highcharts-parallel-channel",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"parallelChannel",type:"tunnel",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:p,y:o},{x:p,y:o}]}},c.annotationsOptions,c.bindings.parallelChannel.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),e]},pitchfork:{className:"highcharts-pitchfork",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=s.value,o=u.value,c=this.chart.options.navigation,l=d({langKey:"pitchfork",type:"pitchfork",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value,y:u.value,controlPoint:{style:{fill:"#f21313"}}},{x:p,y:o},{x:p,y:o}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},c.annotationsOptions,c.bindings.pitchfork.annotationsOptions);return this.chart.addAnnotation(l)},steps:[w(1),w(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(r){const s=U(r,this.chart);if(!s)return;this.verticalCounter=this.verticalCounter||0;const u=this.chart.options.navigation,p=d({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:s.x,y:s.y,xAxis:s.xAxis,yAxis:s.yAxis},label:{offset:s.below?40:-40,text:this.verticalCounter.toString()}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},u.annotationsOptions,u.bindings.verticalCounter.annotationsOptions),o=this.chart.addAnnotation(p);this.verticalCounter++,o.options.events.click.call(o,{})}},timeCycles:{className:"highcharts-time-cycles",start:function(r){const s=U(r,this.chart);if(!s)return;const u=this.chart.options.navigation,p=d({langKey:"timeCycles",type:"timeCycles",typeOptions:{xAxis:s.xAxis,yAxis:s.yAxis,points:[{x:s.x},{x:s.x}],line:{stroke:"rgba(0, 0, 0, 0.75)",fill:"transparent",strokeWidth:2}}},u.annotationsOptions,u.bindings.timeCycles.annotationsOptions),o=this.chart.addAnnotation(p);return o.options.events.click.call(o,{}),o},steps:[w(1)]},verticalLabel:{className:"highcharts-vertical-label",start:function(r){const s=U(r,this.chart);if(!s)return;const u=this.chart.options.navigation,p=d({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:s.x,y:s.y,xAxis:s.xAxis,yAxis:s.yAxis},label:{offset:s.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"0.7em"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},u.annotationsOptions,u.bindings.verticalLabel.annotationsOptions),o=this.chart.addAnnotation(p);o.options.events.click.call(o,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(r){const s=U(r,this.chart);if(!s)return;const u=this.chart.options.navigation,p=d({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:s.x,y:s.y,xAxis:s.xAxis,yAxis:s.yAxis},label:{offset:s.below?40:-40,format:" "},connector:{fill:"none",stroke:s.below?"#f21313":"#06b535"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},u.annotationsOptions,u.bindings.verticalArrow.annotationsOptions),o=this.chart.addAnnotation(p);o.options.events.click.call(o,{})}},fibonacciTimeZones:{className:"highcharts-fibonacci-time-zones",start:function(r){const[s,u]=this.getCoords(r);if(!s||!u)return;const p=this.chart.options.navigation,o=d({type:"fibonacciTimeZones",langKey:"fibonacciTimeZones",typeOptions:{xAxis:s.axis.index,yAxis:u.axis.index,points:[{x:s.value}]}},p.annotationsOptions,p.bindings.fibonacciTimeZones.annotationsOptions);return this.chart.addAnnotation(o)},steps:[function(r,s){const u=s.options.typeOptions.points,p=u&&u[0].x,[o,c]=this.getCoords(r);o&&c&&s.update({typeOptions:{xAxis:o.axis.index,yAxis:c.axis.index,points:[{x:p},{x:o.value}]}})}]},flagCirclepin:{className:"highcharts-flag-circlepin",start:F("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:F("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:F("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:F("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(r){this.chart.update({chart:{zooming:{type:"x"}}}),x(this,"deselectButton",{button:r})}},zoomY:{className:"highcharts-zoom-y",init:function(r){this.chart.update({chart:{zooming:{type:"y"}}}),x(this,"deselectButton",{button:r})}},zoomXY:{className:"highcharts-zoom-xy",init:function(r){this.chart.update({chart:{zooming:{type:"xy"}}}),x(this,"deselectButton",{button:r})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(r){this.chart.series[0].update({type:"line",useOhlcData:!0}),x(this,"deselectButton",{button:r})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(r){this.chart.series[0].update({type:"ohlc"}),x(this,"deselectButton",{button:r})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(r){this.chart.series[0].update({type:"candlestick"}),x(this,"deselectButton",{button:r})}},seriesTypeHeikinAshi:{className:"highcharts-series-type-heikinashi",init:function(r){this.chart.series[0].update({type:"heikinashi"}),x(this,"deselectButton",{button:r})}},seriesTypeHLC:{className:"highcharts-series-type-hlc",init:function(r){this.chart.series[0].update({type:"hlc",useOhlcData:!0}),x(this,"deselectButton",{button:r})}},seriesTypeHollowCandlestick:{className:"highcharts-series-type-hollowcandlestick",init:function(r){this.chart.series[0].update({type:"hollowcandlestick"}),x(this,"deselectButton",{button:r})}},fullScreen:{className:"highcharts-full-screen",noDataState:"normal",init:function(r){this.chart.fullscreen&&this.chart.fullscreen.toggle(),x(this,"deselectButton",{button:r})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(r){const s=this.chart,u=s.series,p=s.stockTools,o=I(s.series);p&&p.guiEnabled&&(u.forEach(function(c){c.update({lastPrice:{enabled:!o},lastVisiblePrice:{enabled:!o,label:{enabled:!0}}},!1)}),s.redraw()),x(this,"deselectButton",{button:r})}},indicators:{className:"highcharts-indicators",init:function(){const r=this;x(r,"showPopup",{formType:"indicators",options:{},onSubmit:function(s){T.call(r,s)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(r){const s=this.chart,u=s.stockTools,p=u.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(s.annotations||[]).forEach(function(o){o.setVisibility(!this.toggledAnnotations)},this),u&&u.guiEnabled&&(r.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+p+'annotations-hidden.svg")':'url("'+p+'annotations-visible.svg")'),x(this,"deselectButton",{button:r})}},saveChart:{className:"highcharts-save-chart",noDataState:"normal",init:function(r){const u=this.chart,p=[],o=[],c=[],l=[];u.annotations.forEach(function(f,m){p[m]=f.userOptions}),u.series.forEach(function(f){f.is("sma")?o.push(f.userOptions):"flags"===f.type&&c.push(f.userOptions)}),u.yAxis.forEach(function(f){R(f)&&l.push(f.options)}),j.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:p,indicators:o,flags:c,yAxes:l})),x(this,"deselectButton",{button:r})}}}}),$(v,"Stock/StockTools/StockToolsDefaults.js",[],function(){return{lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",typeHLC:"HLC",typeHollowCandlestick:"Hollow Candlestick",typeHeikinAshi:"Heikin Ashi",circle:"Circle",ellipse:"Ellipse",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",timeCycles:"Time Cycles"}},navigation:{popup:{circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",timeCycles:"Time Cycles",flags:"Flags",addButton:"Add",saveButton:"Save",editButton:"Edit",removeButton:"Remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background",noFilterMatch:"No match",searchIndicators:"Search Indicators",clearFilter:"\u2715 clear filter",index:"Index",period:"Period",periods:"Periods",standardDeviation:"Standard deviation",periodTenkan:"Tenkan period",periodSenkouSpanB:"Senkou Span B period",periodATR:"ATR period",multiplierATR:"ATR multiplier",shortPeriod:"Short period",longPeriod:"Long period",signalPeriod:"Signal period",decimals:"Decimals",algorithm:"Algorithm",topBand:"Top band",bottomBand:"Bottom band",initialAccelerationFactor:"Initial acceleration factor",maxAccelerationFactor:"Max acceleration factor",increment:"Increment",multiplier:"Multiplier",ranges:"Ranges",highIndex:"High index",lowIndex:"Low index",deviation:"Deviation",xAxisUnit:"x-axis unit",factor:"Factor",fastAvgPeriod:"Fast average period",slowAvgPeriod:"Slow average period",average:"Average",indicatorAliases:{abands:["Acceleration Bands"],bb:["Bollinger Bands"],dema:["Double Exponential Moving Average"],ema:["Exponential Moving Average"],ikh:["Ichimoku Kinko Hyo"],keltnerchannels:["Keltner Channels"],linearRegression:["Linear Regression"],pivotpoints:["Pivot Points"],pc:["Price Channel"],priceenvelopes:["Price Envelopes"],psar:["Parabolic SAR"],sma:["Simple Moving Average"],supertrend:["Super Trend"],tema:["Triple Exponential Moving Average"],vbp:["Volume by Price"],vwap:["Volume Weighted Moving Average"],wma:["Weighted Moving Average"],zigzag:["Zig Zag"],apo:["Absolute price indicator"],ad:["Accumulation/Distribution"],aroon:["Aroon"],aroonoscillator:["Aroon oscillator"],atr:["Average True Range"],ao:["Awesome oscillator"],cci:["Commodity Channel Index"],chaikin:["Chaikin"],cmf:["Chaikin Money Flow"],cmo:["Chande Momentum Oscillator"],disparityindex:["Disparity Index"],dmi:["Directional Movement Index"],dpo:["Detrended price oscillator"],klinger:["Klinger Oscillator"],linearRegressionAngle:["Linear Regression Angle"],linearRegressionIntercept:["Linear Regression Intercept"],linearRegressionSlope:["Linear Regression Slope"],macd:["Moving Average Convergence Divergence"],mfi:["Money Flow Index"],momentum:["Momentum"],natr:["Normalized Average True Range"],obv:["On-Balance Volume"],ppo:["Percentage Price oscillator"],roc:["Rate of Change"],rsi:["Relative Strength Index"],slowstochastic:["Slow Stochastic"],stochastic:["Stochastic"],trix:["TRIX"],williamsr:["Williams %R"]}}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:["indicators","separator","simpleShapes","lines","crookedLines","measure","advanced","toggleAnnotations","separator","verticalLabels","flags","separator","zoomChange","fullScreen","typeChange","separator","currentPriceIndicator","saveChart"],definitions:{separator:{elementType:"span",symbol:"separator.svg"},simpleShapes:{items:["label","circle","ellipse","rectangle"],circle:{symbol:"circle.svg"},ellipse:{symbol:"ellipse.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:["segment","arrowSegment","ray","arrowRay","line","arrowInfinityLine","horizontalLine","verticalLine"],segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowInfinityLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","fibonacciTimeZones","pitchfork","parallelChannel","timeCycles"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},fibonacciTimeZones:{symbol:"fibonacci-timezone.svg"},parallelChannel:{symbol:"parallel-channel.svg"},timeCycles:{symbol:"time-cycles.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick","typeHollowCandlestick","typeHLC","typeHeikinAshi"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"},typeHLC:{symbol:"series-hlc.svg"},typeHeikinAshi:{symbol:"series-heikin-ashi.svg"},typeHollowCandlestick:{symbol:"series-hollow-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}}),$(v,"Stock/StockTools/StockTools.js",[v["Core/Defaults.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"],v["Stock/StockTools/StockToolsBindings.js"],v["Stock/StockTools/StockToolsDefaults.js"],v["Stock/StockTools/StockToolsUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{setOptions:I}=j,{getAssignedAxis:T}=G,{isNotNavigatorYAxis:e,isPriceIndicatorEnabled:w}=U,{correctFloat:A,defined:x,isNumber:d,pick:k}=R;function s(l,f,m,M){let C,h,a,y=0;function t(n){return x(n)&&!d(n)&&n.match("%")}return M&&(a=A(parseFloat(M.top)/100),h=A(parseFloat(M.height)/100)),{positions:l.map((n,b)=>{let g=A(t(n.options.height)?parseFloat(n.options.height)/100:n.height/f),P=A(t(n.options.top)?parseFloat(n.options.top)/100:(n.top-n.chart.plotTop)/f);return h?(P>a&&(P-=h),y=Math.max(y,(P||0)+(g||0))):(d(g)||(g=l[b-1].series.every(E=>E.is("sma"))?C:m/100),d(P)||(P=y),C=g,y=A(Math.max(y,(P||0)+(g||0)))),{height:100*g,top:100*P}}),allAxesHeight:y}}function u(l){const f=[];return l.forEach(function(m,M){const y=l[M+1];f[M]=y?{enabled:!0,controlledAxis:{next:[k(y.options.id,y.index)]}}:{enabled:!1}}),f}function p(l,f,m,M){return l.forEach(function(y,C){const h=l[C-1];y.top=h?A(h.height+h.top):0,m&&(y.height=A(y.height+M*f))}),l}function o(l){const m=this.chart,M=m.yAxis.filter(e),y=m.plotHeight,{positions:C,allAxesHeight:h}=this.getYAxisPositions(M,y,20,l),a=this.getYAxisResizers(M);!l&&h<=A(1)?C[C.length-1]={height:20,top:A(100*h-20)}:C.forEach(function(t){t.height=t.height/(100*h)*100,t.top=t.top/(100*h)*100}),C.forEach(function(t,i){M[i].update({height:t.height+"%",top:t.top+"%",resize:a[i],offset:0},!1)})}return{compose:function r(l){const f=l.prototype;f.utils?.manageIndicators||(f.getYAxisPositions=s,f.getYAxisResizers=u,f.recalculateYAxisPositions=p,f.resizeYAxes=o,f.utils=f.utils||{},f.utils.indicatorsWithAxes=U.indicatorsWithAxes,f.utils.indicatorsWithVolume=U.indicatorsWithVolume,f.utils.getAssignedAxis=T,f.utils.isPriceIndicatorEnabled=w,f.utils.manageIndicators=U.manageIndicators,I(F),I({navigation:{bindings:X}}))}}}),$(v,"Stock/StockTools/StockToolbar.js",[v["Core/Utilities.js"]],function(j){const{addEvent:G,createElement:X,css:F,fireEvent:U,getStyle:R,isArray:I,merge:T,pick:e}=j;class w{constructor(x,d,k){this.chart=k,this.options=x,this.lang=d,this.iconsURL=this.getIconsURL(),this.guiEnabled=x.enabled,this.visible=e(x.visible,!0),this.placed=e(x.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),U(this,"afterInit")}init(){const x=this.lang,d=this.options,k=this.toolbar,s=d.definitions,u=k.childNodes;d.buttons.forEach(p=>{const o=this.addButton(k,s,p,x);this.eventsToUnbind.push(G(o.buttonWrapper,"click",()=>this.eraseActiveButtons(u,o.buttonWrapper))),I(s[p].items)&&this.addSubmenu(o,s[p])})}addSubmenu(x,d){const k=x.submenuArrow,r=x.buttonWrapper,s=R(r,"width"),u=this.wrapper,p=this.listWrapper,o=this.toolbar.childNodes,c=this.submenu=X("ul",{className:"highcharts-submenu-wrapper"},void 0,r);this.addSubmenuItems(r,d),this.eventsToUnbind.push(G(k,"click",l=>{if(l.stopPropagation(),this.eraseActiveButtons(o,r),r.className.indexOf("highcharts-current")>=0)p.style.width=p.startWidth+"px",r.classList.remove("highcharts-current"),c.style.display="none";else{c.style.display="block";let f=c.offsetHeight-r.offsetHeight-3;c.offsetHeight+r.offsetTop>u.offsetHeight&&r.offsetTop>f||(f=0),F(c,{top:-f+"px",left:s+3+"px"}),r.className+=" highcharts-current",p.startWidth=u.offsetWidth,p.style.width=p.startWidth+R(p,"padding-left")+c.offsetWidth+3+"px"}}))}addSubmenuItems(x,d){const k=this,r=this.submenu,s=this.lang,u=this.listWrapper;let o;d.items.forEach(l=>{o=this.addButton(r,d,l,s),this.eventsToUnbind.push(G(o.mainButton,"click",function(){k.switchSymbol(this,x,!0),u.style.width=u.startWidth+"px",r.style.display="none"}))});const c=r.querySelectorAll("li > .highcharts-menu-item-btn")[0];this.switchSymbol(c,!1)}eraseActiveButtons(x,d,k){[].forEach.call(x,r=>{r!==d&&(r.classList.remove("highcharts-current"),r.classList.remove("highcharts-active"),(k=r.querySelectorAll(".highcharts-submenu-wrapper")).length>0&&(k[0].style.display="none"))})}addButton(x,d,k,r={}){const s=d[k],u=s.items,o=s.className||"",c=X("li",{className:e(w.prototype.classMapping[k],"")+" "+o,title:r[k]||k},void 0,x),f=X(s.elementType||"button",{className:"highcharts-menu-item-btn"},void 0,c);if(u&&u.length){const m=X("button",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},void 0,c);return m.style.backgroundImage="url("+this.iconsURL+"arrow-bottom.svg)",{buttonWrapper:c,mainButton:f,submenuArrow:m}}return f.style.backgroundImage="url("+this.iconsURL+s.symbol+")",{buttonWrapper:c,mainButton:f}}addNavigation(){const x=this.wrapper;this.arrowWrapper=X("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=X("div",{className:"highcharts-arrow-up"},void 0,this.arrowWrapper),this.arrowUp.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=X("div",{className:"highcharts-arrow-down"},void 0,this.arrowWrapper),this.arrowDown.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",x.insertBefore(this.arrowWrapper,x.childNodes[0]),this.scrollButtons()}scrollButtons(){const x=this.wrapper,d=this.toolbar,k=.1*x.offsetHeight;let r=0;this.eventsToUnbind.push(G(this.arrowUp,"click",()=>{r>0&&(r-=k,d.style.marginTop=-r+"px")})),this.eventsToUnbind.push(G(this.arrowDown,"click",()=>{x.offsetHeight+r<=d.offsetHeight+k&&(r+=k,d.style.marginTop=-r+"px")}))}createHTML(){const x=this.chart,d=this.options,k=x.container,r=x.options.navigation;let u,p;const o=this.wrapper=X("div",{className:"highcharts-stocktools-wrapper "+d.className+" "+(r&&r.bindingsClassName)});k.appendChild(o),["mousedown","mousemove","click","touchstart"].forEach(c=>{G(o,c,l=>l.stopPropagation())}),G(o,"mouseover",c=>x.pointer?.onContainerMouseLeave(c)),this.toolbar=p=X("ul",{className:"highcharts-stocktools-toolbar "+d.toolbarClassName}),this.listWrapper=u=X("div",{className:"highcharts-menu-wrapper"}),o.insertBefore(u,o.childNodes[0]),u.insertBefore(p,u.childNodes[0]),this.showHideToolbar(),this.addNavigation()}showHideNavigatorion(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")}showHideToolbar(){const x=this.chart,d=this.wrapper,k=this.listWrapper,r=this.submenu,s=this.showhideBtn=X("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},void 0,d);let u=this.visible;s.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",u?(d.style.height="100%",s.style.top=R(k,"padding-top")+"px",s.style.left=d.offsetWidth+R(k,"padding-left")+"px"):(r&&(r.style.display="none"),s.style.left="0px",u=this.visible=!1,k.classList.add("highcharts-hide"),s.classList.toggle("highcharts-arrow-right"),d.style.height=s.offsetHeight+"px"),this.eventsToUnbind.push(G(s,"click",()=>{x.update({stockTools:{gui:{visible:!u,placed:!0}}})}))}switchSymbol(x,d){const k=x.parentNode,r=k.className,s=k.parentNode.parentNode;r.indexOf("highcharts-disabled-btn")>-1||(s.className="",r&&s.classList.add(r.trim()),s.querySelectorAll(".highcharts-menu-item-btn")[0].style.backgroundImage=x.style.backgroundImage,d&&this.toggleButtonActiveClass(s))}toggleButtonActiveClass(x){const d=x.classList;d.contains("highcharts-active")?d.remove("highcharts-active"):d.add("highcharts-active")}unselectAllButtons(x){const d=x.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(d,k=>{k!==x&&k.classList.remove("highcharts-active")})}update(x,d){T(!0,this.chart.options.stockTools,x),this.destroy(),this.chart.setStockTools(x),this.chart.navigationBindings&&this.chart.navigationBindings.update(),this.chart.isDirtyBox=!0,e(d,!0)&&this.chart.redraw()}destroy(){const x=this.wrapper,d=x&&x.parentNode;this.eventsToUnbind.forEach(k=>k()),d&&d.removeChild(x)}redraw(){this.showHideNavigatorion()}getIconsURL(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/11.4.3/gfx/stock-icons/"}}return w.prototype.classMapping={circle:"highcharts-circle-annotation",ellipse:"highcharts-ellipse-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowInfinityLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",fibonacciTimeZones:"highcharts-fibonacci-time-zones",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",timeCycles:"highcharts-time-cycles",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeHLC:"highcharts-series-type-hlc",typeCandlestick:"highcharts-series-type-candlestick",typeHollowCandlestick:"highcharts-series-type-hollowcandlestick",typeHeikinAshi:"highcharts-series-type-heikinashi",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},w}),$(v,"Stock/StockTools/StockToolsGui.js",[v["Core/Defaults.js"],v["Stock/StockTools/StockToolsDefaults.js"],v["Stock/StockTools/StockToolbar.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{setOptions:U}=j,{addEvent:R,getStyle:I,merge:T,pick:e}=F;function w(l){const f=this.options,m=f.lang,M=T(f.stockTools&&f.stockTools.gui,l&&l.gui);this.stockTools=new X(M,m&&m.stockTools&&m.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}function x(){this.setStockTools()}function d(){if(this.stockTools){const l=this.options.chart,f=this.stockTools.listWrapper,m=f&&(f.startWidth+I(f,"padding-left")+I(f,"padding-right")||f.offsetWidth);let M=!1;if(m&&m<this.plotWidth){const y=e(l.spacingLeft,l.spacing&&l.spacing[3],0)+m,C=y-this.spacingBox.x;this.spacingBox.x=y,this.spacingBox.width-=C,M=!0}else 0===m&&(M=!0);m!==this.stockTools.prevOffsetWidth&&(this.stockTools.prevOffsetWidth=m,M&&(this.isDirtyLegend=!0))}}function k(){this.stockTools&&this.stockTools.destroy()}function r(){const l=this.stockTools&&this.stockTools.listWrapper,f=l&&(l.startWidth+I(l,"padding-left")+I(l,"padding-right")||l.offsetWidth);f&&f<this.plotWidth&&(this.plotLeft+=f,this.spacing[3]+=f)}function s(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}function u(){const l=this.stockTools,f=l&&l.toolbar&&l.toolbar.querySelector(".highcharts-current-price-indicator");l&&this.navigationBindings&&this.options.series&&f&&(f.firstChild.style["background-image"]=this.navigationBindings.utils?.isPriceIndicatorEnabled?.(this.series)?'url("'+l.getIconsURL()+'current-price-hide.svg")':'url("'+l.getIconsURL()+'current-price-show.svg")')}function p(l){const m=this.chart.stockTools;if(m&&m.guiEnabled){let M=l.button;M.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(M=M.parentNode.parentNode),m.toggleButtonActiveClass(M)}}function o(l){const m=this.chart.stockTools;if(m&&m.guiEnabled){let M=l.button;m.unselectAllButtons(l.button),M.parentNode.className.indexOf("highcharts-submenu-wrapper")>=0&&(M=M.parentNode.parentNode),m.toggleButtonActiveClass(M)}}return{compose:function A(l,f){const m=l.prototype;m.setStockTools||(R(l,"afterGetContainer",x),R(l,"beforeRedraw",d),R(l,"beforeRender",d),R(l,"destroy",k),R(l,"getMargins",r,{order:0}),R(l,"redraw",s),R(l,"render",u),m.setStockTools=w,R(f,"deselectButton",p),R(f,"selectButton",o),U(G))}}}),$(v,"masters/modules/stock-tools.src.js",[v["Core/Globals.js"],v["Extensions/Annotations/NavigationBindings.js"],v["Stock/StockTools/StockTools.js"],v["Stock/StockTools/StockToolsGui.js"],v["Stock/StockTools/StockToolbar.js"]],function(j,G,X,F,U){const R=j;return R.NavigationBindings=R.NavigationBindings||G,R.Toolbar=U,X.compose(R.NavigationBindings),F.compose(R.Chart,R.NavigationBindings),j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470),ut(1335)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},1335:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Series/DataModifyComposition.js",[v["Core/Axis/Axis.js"],v["Core/Series/Point.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){var U;let{tooltipFormatter:R}=G.prototype,{addEvent:I,arrayMax:T,arrayMin:e,correctFloat:w,defined:A,isArray:x,isNumber:d,isString:k,pick:r}=F;return function(s){function u(h,a,t){!this.isXAxis&&(this.series.forEach(function(i){"compare"===h&&"boolean"!=typeof a?i.setCompare(a,!1):"cumulative"!==h||k(a)||i.setCumulative(a,!1)}),r(t,!0)&&this.chart.redraw())}function p(h){let a=this,{numberFormatter:t}=a.series.chart,i=function(n){h=h.replace("{point."+n+"}",(a[n]>0&&"change"===n?"+":"")+t(a[n],r(a.series.tooltipOptions.changeDecimals,2)))};return A(a.change)&&i("change"),A(a.cumulativeSum)&&i("cumulativeSum"),R.apply(this,[h])}function o(){let h,a=this.options.compare;("percent"===a||"value"===a||this.options.cumulative)&&(h=new C(this),"percent"===a||"value"===a?h.initCompare(a):h.initCumulative()),this.dataModify=h}function c(h){let a=h.dataExtremes,t=a.activeYData;if(this.dataModify&&a){let i;this.options.compare?i=[this.dataModify.modifyValue(a.dataMin),this.dataModify.modifyValue(a.dataMax)]:this.options.cumulative&&x(t)&&t.length>=2&&(i=C.getCumulativeExtremes(t)),i&&(a.dataMin=e(i),a.dataMax=T(i))}}function l(h,a){this.options.compare=this.userOptions.compare=h,this.update({},r(a,!0)),!this.dataModify||"value"!==h&&"percent"!==h?this.points.forEach(t=>{delete t.change}):this.dataModify.initCompare(h)}function f(){if(this.xAxis&&this.processedYData&&this.dataModify){let b,h=this.processedXData,a=this.processedYData,t=a.length,i=!0===this.options.compareStart?0:1,n=-1;for(this.pointArrayMap&&(n=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),b=0;b<t-i;b++){let g=a[b]&&n>-1?a[b][n]:a[b];if(d(g)&&0!==g&&h[b+i]>=(this.xAxis.min||0)){this.dataModify.compareValue=g;break}}}}function m(h,a){this.setModifier("compare",h,a)}function M(h,a){h=r(h,!1),this.options.cumulative=this.userOptions.cumulative=h,this.update({},r(a,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(t=>{delete t.cumulativeSum})}function y(h,a){this.setModifier("cumulative",h,a)}s.compose=function(h,a,t){let i=a.prototype,n=t.prototype,b=h.prototype;return b.setCompare||(b.setCompare=l,b.setCumulative=M,I(h,"afterInit",o),I(h,"afterGetExtremes",c),I(h,"afterProcessData",f)),i.setCompare||(i.setCompare=m,i.setModifier=u,i.setCumulative=y,n.tooltipFormatter=p),h};class C{constructor(a){this.series=a}modifyValue(){return 0}static getCumulativeExtremes(a){let t=1/0,i=-1/0;return a.reduce((n,b)=>{let g=n+b;return t=Math.min(t,g,n),i=Math.max(i,g,n),g}),[t,i]}initCompare(a){this.modifyValue=function(t,i){null===t&&(t=0);let n=this.compareValue;if(void 0!==t&&void 0!==n){if("value"===a?t-=n:t=t/n*100-(100===this.series.options.compareBase?0:100),void 0!==i){let b=this.series.points[i];b&&(b.change=t)}return t}return 0}}initCumulative(){this.modifyValue=function(a,t){if(null===a&&(a=0),void 0!==a&&void 0!==t){let i=t>0?this.series.points[t-1]:null;i&&i.cumulativeSum&&(a=w(i.cumulativeSum+a));let n=this.series.points[t];return n&&(n.cumulativeSum=!n.series.options.cumulativeStart||n.x<=this.series.xAxis.max&&n.x>=this.series.xAxis.min?a:void 0),a}return 0}}}s.Additions=C}(U||(U={})),U}),$(v,"Stock/Navigator/ChartNavigatorComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){let X,{isTouchDevice:F}=j,{addEvent:U,merge:R,pick:I}=G,T=[];function e(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function w(){let s,u,p,o=this.legend,c=this.navigator;if(c){s=o&&o.options,u=c.xAxis,p=c.yAxis;let{scrollbarHeight:l,scrollButtonSize:f}=c;this.inverted?(c.left=c.opposite?this.chartWidth-l-c.height:this.spacing[3]+l,c.top=this.plotTop+f):(c.left=I(u.left,this.plotLeft+f),c.top=c.navigatorOptions.top||this.chartHeight-c.height-l-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(s&&"bottom"===s.verticalAlign&&"proximate"!==s.layout&&s.enabled&&!s.floating?o.legendHeight+I(s.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),u&&p&&(this.inverted?u.options.left=p.options.left=c.left:u.options.top=p.options.top=c.top,u.setAxisSize(),p.setAxisSize())}}function A(s){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new X(this),I(s.redraw,!0)&&this.redraw(s.animation))}function x(){let s=this.options;(s.navigator.enabled||s.scrollbar.enabled)&&(this.scroller=this.navigator=new X(this))}function d(){let s=this.options,u=s.navigator,p=s.rangeSelector;if((u&&u.enabled||p&&p.enabled)&&(!F&&"x"===this.zooming.type||F&&"x"===this.zooming.pinchType))return!1}function k(s){let u=s.navigator;if(u&&s.xAxis[0]){let p=s.xAxis[0].getExtremes();u.render(p.min,p.max)}}function r(s){let u=s.options.navigator||{},p=s.options.scrollbar||{};!this.navigator&&!this.scroller&&(u.enabled||p.enabled)&&(R(!0,this.options.navigator,u),R(!0,this.options.scrollbar,p),delete s.options.navigator,delete s.options.scrollbar)}return{compose:function(s,u){G.pushUnique(T,s)&&(X=u,s.prototype.callbacks.push(k),U(s,"afterAddSeries",e),U(s,"afterSetChartSize",w),U(s,"afterUpdate",A),U(s,"beforeRender",x),U(s,"beforeShowResetZoom",d),U(s,"update",r))}}}),$(v,"Core/Axis/NavigatorAxisComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){let{isTouchDevice:X}=j,{addEvent:F,correctFloat:U,defined:R,isNumber:I,pick:T}=G;function e(){this.navigatorAxis||(this.navigatorAxis=new A(this))}function w(x){let d,k=this.chart,r=k.options,u=this.navigatorAxis,c=k.zooming.type;if(this.isXAxis&&(r.navigator?.enabled||r.rangeSelector?.enabled))if("y"===c&&"zoom"===x.trigger)d=!1;else if(("zoom"===x.trigger&&"xy"===c||X&&"xy"===k.zooming.pinchType)&&this.options.range){let l=u.previousZoom;R(x.min)?u.previousZoom=[this.min,this.max]:l&&(x.min=l[0],x.max=l[1],u.previousZoom=void 0)}void 0!==d&&x.preventDefault()}class A{static compose(d){d.keepProps.includes("navigatorAxis")||(d.keepProps.push("navigatorAxis"),F(d,"init",e),F(d,"setExtremes",w))}constructor(d){this.axis=d}destroy(){this.axis=void 0}toFixedRange(d,k,r,s){let u=this.axis,p=(u.pointRange||0)/2,o=T(r,u.translate(d,!0,!u.horiz)),c=T(s,u.translate(k,!0,!u.horiz));return R(r)||(o=U(o+p)),R(s)||(c=U(c-p)),I(o)&&I(c)||(o=c=void 0),{min:o,max:c}}}return A}),$(v,"Stock/Navigator/NavigatorDefaults.js",[v["Core/Color/Color.js"],v["Core/Series/SeriesRegistry.js"]],function(j,G){let{parse:X}=j,{seriesTypes:F}=G;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:X("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===F.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),$(v,"Stock/Navigator/NavigatorSymbols.js",[v["Core/Renderer/SVG/Symbols.js"],v["Core/Utilities.js"]],function(j,G){let{relativeLength:X}=G;return{"navigator-handle":function(F,U,R,I,T={}){let e=T.width?T.width/2:R,w=X(T.borderRadius||0,Math.min(2*e,I));return[["M",-1.5,(I=T.height||I)/2-3.5],["L",-1.5,I/2+4.5],["M",.5,I/2-3.5],["L",.5,I/2+4.5],...j.rect(-e-1,.5,2*e+1,I,{r:w})]}}}),$(v,"Stock/Utilities/StockUtilities.js",[v["Core/Utilities.js"]],function(j){let{defined:G}=j;return{setFixedRange:function(X){let F=this.xAxis[0];this.fixedRange=G(F.dataMax)&&G(F.dataMin)&&X?Math.min(X,F.dataMax-F.dataMin):X}}}),$(v,"Stock/Navigator/NavigatorComposition.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorDefaults.js"],v["Stock/Navigator/NavigatorSymbols.js"],v["Core/Renderer/RendererRegistry.js"],v["Stock/Utilities/StockUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){let{setOptions:e}=j,{composed:w}=G,{getRendererType:A}=R,{setFixedRange:x}=I,{addEvent:d,extend:k,pushUnique:r}=T;function s(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(u,p,o){X.compose(p),r(w,"Navigator")&&(u.prototype.setFixedRange=x,k(A().prototype.symbols,U),d(o,"afterUpdate",s),e({navigator:F}))}}}),$(v,"Core/Axis/ScrollbarAxis.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){var X;let{composed:F}=j,{addEvent:U,defined:R,pick:I,pushUnique:T}=G;return function(e){let w;function A(r){let s=I(r.options&&r.options.min,r.min),u=I(r.options&&r.options.max,r.max);return{axisMin:s,axisMax:u,scrollMin:R(r.dataMin)?Math.min(s,r.min,r.dataMin,I(r.threshold,1/0)):s,scrollMax:R(r.dataMax)?Math.max(u,r.max,r.dataMax,I(r.threshold,-1/0)):u}}function x(){let r=this.scrollbar,u=this.horiz?2:r&&!r.options.opposite?3:1;r&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[u]+=r.size+(r.options.margin||0))}function d(){let r=this;r.options&&r.options.scrollbar&&r.options.scrollbar.enabled&&(r.options.scrollbar.vertical=!r.horiz,r.options.startOnTick=r.options.endOnTick=!1,r.scrollbar=new w(r.chart.renderer,r.options.scrollbar,r.chart),U(r.scrollbar,"changed",function(s){let u,p,{axisMin:o,axisMax:c,scrollMin:l,scrollMax:f}=A(r),m=f-l;R(o)&&R(c)&&(r.horiz&&!r.reversed||!r.horiz&&r.reversed?(u=l+m*this.to,p=l+m*this.from):(u=l+m*(1-this.from),p=l+m*(1-this.to)),this.shouldUpdateExtremes(s.DOMType)?r.setExtremes(p,u,!0,"mousemove"!==s.DOMType&&"touchmove"!==s.DOMType&&void 0,s):this.setRange(this.from,this.to))}))}function k(){let r,s,u,{scrollMin:p,scrollMax:o}=A(this),c=this.scrollbar,l=this.axisTitleMargin+(this.titleOffset||0),f=this.chart.scrollbarsOffsets,m=this.options.margin||0;if(c&&f){if(this.horiz)this.opposite||(f[1]+=l),c.position(this.left,this.top+this.height+2+f[1]-(this.opposite?m:0),this.width,this.height),this.opposite||(f[1]+=m),r=1;else{let M;this.opposite&&(f[0]+=l),M=c.options.opposite?this.left+this.width+2+f[0]-(this.opposite?0:m):this.opposite?0:m,c.position(M,this.top,this.width,this.height),this.opposite&&(f[0]+=m),r=0}f[r]+=c.size+(c.options.margin||0),isNaN(p)||isNaN(o)||!R(this.min)||!R(this.max)||this.min===this.max?c.setRange(0,1):(s=(this.min-p)/(o-p),u=(this.max-p)/(o-p),this.horiz&&!this.reversed||!this.horiz&&this.reversed?c.setRange(s,u):c.setRange(1-u,1-s))}}e.compose=function(r,s){T(F,"Axis.Scrollbar")&&(w=s,U(r,"afterGetOffset",x),U(r,"afterInit",d),U(r,"afterRender",k))}}(X||(X={})),X}),$(v,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),$(v,"Stock/Scrollbar/Scrollbar.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/ScrollbarAxis.js"],v["Stock/Scrollbar/ScrollbarDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){let{defaultOptions:R}=j,{addEvent:I,correctFloat:T,crisp:e,defined:w,destroyObjectProperties:A,fireEvent:x,merge:d,pick:k,removeEvent:r}=U;class s{static compose(p){X.compose(p,s)}static swapXY(p,o){return o&&p.forEach(c=>{let l,f=c.length;for(let m=0;m<f;m+=2)"number"==typeof(l=c[m+1])&&(c[m+1]=c[m+2],c[m+2]=l)}),p}constructor(p,o,c){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(p,o,c)}addEvents(){let p=this.options.inverted?[1,0]:[0,1],o=this.scrollbarButtons,c=this.scrollbarGroup.element,l=this.track.element,f=this.mouseDownHandler.bind(this),m=this.mouseMoveHandler.bind(this),M=this.mouseUpHandler.bind(this),y=[[o[p[0]].element,"click",this.buttonToMinClick.bind(this)],[o[p[1]].element,"click",this.buttonToMaxClick.bind(this)],[l,"click",this.trackClick.bind(this)],[c,"mousedown",f],[c.ownerDocument,"mousemove",m],[c.ownerDocument,"mouseup",M],[c,"touchstart",f],[c.ownerDocument,"touchmove",m],[c.ownerDocument,"touchend",M]];y.forEach(function(C){I.apply(null,C)}),this._events=y}buttonToMaxClick(p){let o=(this.to-this.from)*k(this.options.step,.2);this.updatePosition(this.from+o,this.to+o),x(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:p})}buttonToMinClick(p){let o=T(this.to-this.from)*k(this.options.step,.2);this.updatePosition(T(this.from-o),T(this.to-o)),x(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:p})}cursorToScrollbarPosition(p){let o=this.options,c=o.minWidth>this.calculatedWidth?o.minWidth:0;return{chartX:(p.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(p.chartY-this.y-this.yOffset)/(this.barWidth-c)}}destroy(){let p=this,o=p.chart.scroller;p.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(c){p[c]&&p[c].destroy&&(p[c]=p[c].destroy())}),o&&p===o.scrollbar&&(o.scrollbar=null,A(o.scrollbarButtons))}drawScrollbarButton(p){let o=this.renderer,c=this.scrollbarButtons,l=this.options,f=this.size,m=o.g().add(this.group);if(c.push(m),l.buttonsEnabled){let M=o.rect().addClass("highcharts-scrollbar-button").add(m);this.chart.styledMode||M.attr({stroke:l.buttonBorderColor,"stroke-width":l.buttonBorderWidth,fill:l.buttonBackgroundColor}),M.attr(M.crisp({x:-.5,y:-.5,width:f,height:f,r:l.buttonBorderRadius},M.strokeWidth()));let y=o.path(s.swapXY([["M",f/2+(p?-1:1),f/2-3],["L",f/2+(p?-1:1),f/2+3],["L",f/2+(p?2:-2),f/2]],l.vertical)).addClass("highcharts-scrollbar-arrow").add(c[p]);this.chart.styledMode||y.attr({fill:l.buttonArrowColor})}}init(p,o,c){this.scrollbarButtons=[],this.renderer=p,this.userOptions=o,this.options=d(F,R.scrollbar,o),this.options.margin=k(this.options.margin,10),this.chart=c,this.size=k(this.options.size,this.options.height),o.enabled&&(this.render(),this.addEvents())}mouseDownHandler(p){let o=this.chart.pointer?.normalize(p)||p,c=this.cursorToScrollbarPosition(o);this.chartX=c.chartX,this.chartY=c.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(p){let o,c=this.chart.pointer?.normalize(p)||p,l=this.options.vertical?"chartY":"chartX",f=this.initPositions||[];this.grabbedCenter&&(!p.touches||0!==p.touches[0][l])&&(o=this.cursorToScrollbarPosition(c)[l]-this[l],this.hasDragged=!0,this.updatePosition(f[0]+o,f[1]+o),this.hasDragged&&x(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:p.type,DOMEvent:p}))}mouseUpHandler(p){this.hasDragged&&x(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:p.type,DOMEvent:p}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(p,o,c,l){let{buttonsEnabled:f,margin:m=0,vertical:M}=this.options,y=this.rendered?"animate":"attr",C=l,h=0;this.group.show(),this.x=p,this.y=o+this.trackBorderWidth,this.width=c,this.height=l,this.xOffset=C,this.yOffset=h,M?(this.width=this.yOffset=c=h=this.size,this.xOffset=C=0,this.yOffset=h=f?this.size:0,this.barWidth=l-(f?2*c:0),this.x=p+=m):(this.height=l=this.size,this.xOffset=C=f?this.size:0,this.barWidth=c-(f?2*l:0),this.y=this.y+m),this.group[y]({translateX:p,translateY:this.y}),this.track[y]({width:c,height:l}),this.scrollbarButtons[1][y]({translateX:M?0:c-C,translateY:M?l-h:0})}removeEvents(){this._events.forEach(function(p){r.apply(null,p)}),this._events.length=0}render(){let p=this.renderer,o=this.options,c=this.size,l=this.chart.styledMode,f=p.g("scrollbar").attr({zIndex:o.zIndex}).hide().add();this.group=f,this.track=p.rect().addClass("highcharts-scrollbar-track").attr({r:o.trackBorderRadius||0,height:c,width:c}).add(f),l||this.track.attr({fill:o.trackBackgroundColor,stroke:o.trackBorderColor,"stroke-width":o.trackBorderWidth});let m=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-e(0,m),y:-e(0,m)}),this.scrollbarGroup=p.g().add(f),this.scrollbar=p.rect().addClass("highcharts-scrollbar-thumb").attr({height:c-m,width:c-m,r:o.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=p.path(s.swapXY([["M",-3,c/4],["L",-3,2*c/3],["M",0,c/4],["L",0,2*c/3],["M",3,c/4],["L",3,2*c/3]],o.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),l||(this.scrollbar.attr({fill:o.barBackgroundColor,stroke:o.barBorderColor,"stroke-width":o.barBorderWidth}),this.scrollbarRifles.attr({stroke:o.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-e(0,this.scrollbarStrokeWidth),-e(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(p,o){let c,l,f=this.options,m=f.vertical,M=f.minWidth,y=this.barWidth,C=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!w(y))return;let h=y*Math.min(o,1);c=Math.ceil(y*(p=Math.max(p,0))),this.calculatedWidth=l=T(h-c),l<M&&(c=(y-M+l)*p,l=M);let a=Math.floor(c+this.xOffset+this.yOffset),t=l/2-.5;this.from=p,this.to=o,m?(this.scrollbarGroup[C]({translateY:a}),this.scrollbar[C]({height:l}),this.scrollbarRifles[C]({translateY:t}),this.scrollbarTop=a,this.scrollbarLeft=0):(this.scrollbarGroup[C]({translateX:a}),this.scrollbar[C]({width:l}),this.scrollbarRifles[C]({translateX:t}),this.scrollbarLeft=a,this.scrollbarTop=0),l<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===f.showFull&&(p<=0&&o>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(p){return k(this.options.liveRedraw,G.svg&&!G.isTouchDevice&&!this.chart.boosted)||"mouseup"===p||"touchend"===p||!w(p)}trackClick(p){let o=this.chart.pointer?.normalize(p)||p,c=this.to-this.from;this.options.vertical&&o.chartY>this.y+this.scrollbarTop||!this.options.vertical&&o.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+c,this.to+c):this.updatePosition(this.from-c,this.to-c),x(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:p})}update(p){this.destroy(),this.init(this.chart.renderer,d(!0,this.options,p),this.chart)}updatePosition(p,o){o>1&&(p=T(1-T(o-p)),o=1),p<0&&(o=T(o-p),p=0),this.from=p,this.to=o}}return s.defaultOptions=F,R.scrollbar=d(!0,s.defaultOptions,R.scrollbar),s}),$(v,"Stock/Navigator/Navigator.js",[v["Core/Axis/Axis.js"],v["Stock/Navigator/ChartNavigatorComposition.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorComposition.js"],v["Stock/Scrollbar/Scrollbar.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){let{defaultOptions:e}=X,{isTouchDevice:w}=F,{addEvent:A,clamp:x,correctFloat:d,defined:k,destroyObjectProperties:r,erase:s,extend:u,find:p,fireEvent:o,isArray:c,isNumber:l,merge:f,pick:m,removeEvent:M,splat:y}=T;function C(a,...t){let i=[].filter.call(t,l);if(i.length)return Math[a].apply(0,i)}class h{static compose(t,i,n){G.compose(t,h),R.compose(t,i,n)}constructor(t){this.scrollbarHeight=0,this.init(t)}drawHandle(t,i,n,b){let g=this.navigatorOptions.handles.height;this.handles[i][b](n?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-g)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-g/2-1)})}drawOutline(t,i,n,b){let N,H,g=this.navigatorOptions.maskInside,P=this.outline.strokeWidth(),E=P/2,D=P%2/2,O=this.scrollButtonSize,S=this.size,L=this.top,B=this.height,_=L-E,Y=L+B,z=this.left;n?(N=L+i+D,H=[["M",z+B,L-O-D],["L",z+B,N],["L",z,N],["M",z,i=L+t+D],["L",z+B,i],["L",z+B,L+S+O]],g&&H.push(["M",z+B,N-E],["L",z+B,i+E])):(z-=O,H=[["M",z,_],["L",t+=z+O-D,_],["L",t,Y],["M",i+=z+O-D,Y],["L",i,_],["L",z+S+2*O,L+E]],g&&H.push(["M",t-E,_],["L",i+E,_])),this.outline[b]({d:H})}drawMasks(t,i,n,b){let g,P,E,D,O=this.left,S=this.top,L=this.height;n?(E=[O,O,O],D=[S,S+t,S+i],P=[L,L,L],g=[t,i-t,this.size-i]):(E=[O,O+t,O+i],D=[S,S,S],P=[t,i-t,this.size-i],g=[L,L,L]),this.shades.forEach((B,_)=>{B[b]({x:E[_],y:D[_],width:P[_],height:g[_]})})}renderElements(){let t=this,i=t.navigatorOptions,n=i.maskInside,b=t.chart,P=b.renderer,E={cursor:b.inverted?"ns-resize":"ew-resize"},D=t.navigatorGroup=P.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach((O,S)=>{let L=P.rect().addClass("highcharts-navigator-mask"+(1===S?"-inside":"-outside")).add(D);b.styledMode||(L.attr({fill:O?i.maskFill:"rgba(0,0,0,0)"}),1===S&&L.css(E)),t.shades[S]=L}),t.outline=P.path().addClass("highcharts-navigator-outline").add(D),b.styledMode||t.outline.attr({"stroke-width":i.outlineWidth,stroke:i.outlineColor}),i.handles&&i.handles.enabled){let O=i.handles,{height:S,width:L}=O;[0,1].forEach(B=>{t.handles[B]=P.symbol(O.symbols[B],-L/2-1,0,L,S,O),b.inverted&&t.handles[B].attr({rotation:90,rotationOriginX:Math.floor(-L/2),rotationOriginY:(S+L)/2}),t.handles[B].attr({zIndex:7-B}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][B]).add(D),b.styledMode||t.handles[B].attr({fill:O.backgroundColor,stroke:O.borderColor,"stroke-width":O.lineWidth}).css(E)})}}update(t){(this.series||[]).forEach(i=>{i.baseSeries&&delete i.baseSeries.navigatorSeries}),this.destroy(),f(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,i,n,b){let z,N,H,Z,W,g=this.chart,P=this.xAxis,E=P.pointRange||0,D=P.navigatorAxis.fake?g.xAxis[0]:P,O=this.navigatorEnabled,S=this.rendered,L=g.inverted,B=g.xAxis[0].minRange,_=g.xAxis[0].options.maxRange,Y=this.scrollButtonSize,V=this.scrollbarHeight;if(this.hasDragged&&!k(n))return;if(t=d(t-E/2),i=d(i+E/2),!l(t)||!l(i)){if(!S)return;n=0,b=m(P.width,D.width)}this.left=m(P.left,g.plotLeft+Y+(L?g.plotWidth:0));let q=this.size=Z=m(P.len,(L?g.plotHeight:g.plotWidth)-2*Y);z=L?V:Z+2*Y,n=m(n,P.toPixels(t,!0)),b=m(b,P.toPixels(i,!0)),l(n)&&Math.abs(n)!==1/0||(n=0,b=z);let K=P.toValue(n,!0),J=P.toValue(b,!0),et=Math.abs(d(J-K));et<B?this.grabbedLeft?n=P.toPixels(J-B-E,!0):this.grabbedRight&&(b=P.toPixels(K+B+E,!0)):k(_)&&d(et-E)>_&&(this.grabbedLeft?n=P.toPixels(J-_-E,!0):this.grabbedRight&&(b=P.toPixels(K+_+E,!0))),this.zoomedMax=x(Math.max(n,b),0,q),this.zoomedMin=x(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(n,b),0,q),this.range=this.zoomedMax-this.zoomedMin,q=Math.round(this.zoomedMax);let st=Math.round(this.zoomedMin);O&&(this.navigatorGroup.attr({visibility:"inherit"}),W=S&&!this.hasDragged?"animate":"attr",this.drawMasks(st,q,L,W),this.drawOutline(st,q,L,W),this.navigatorOptions.handles.enabled&&(this.drawHandle(st,0,L,W),this.drawHandle(q,1,L,W))),this.scrollbar&&(L?(H=this.top-Y,N=this.left-V+(O||!D.opposite?0:(D.titleOffset||0)+D.axisTitleMargin),V=Z+2*Y):(H=this.top+(O?this.height:-V),N=this.left-Y),this.scrollbar.position(N,H,z,V),this.scrollbar.setRange(this.zoomedMin/(Z||1),this.zoomedMax/(Z||1))),this.rendered=!0,o(this,"afterRender")}addMouseEvents(){let g,P,t=this,i=t.chart,n=i.container,b=[];t.mouseMoveHandler=g=function(E){t.onMouseMove(E)},t.mouseUpHandler=P=function(E){t.onMouseUp(E)},(b=t.getPartsEvents("mousedown")).push(A(i.renderTo,"mousemove",g),A(n.ownerDocument,"mouseup",P),A(i.renderTo,"touchmove",g),A(n.ownerDocument,"touchend",P)),b.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=b,t.series&&t.series[0]&&b.push(A(t.series[0].xAxis,"foundExtremes",function(){i.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){let i=this,n=[];return["shades","handles"].forEach(function(b){i[b].forEach(function(g,P){n.push(A(g.element,t,function(E){i[b+"Mousedown"](E,P)}))})}),n}shadesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;let S,L,B,_,b=this.xAxis,g=this.zoomedMin,P=this.size,E=this.range,D=this.left,O=t.chartX;this.chart.inverted&&(O=t.chartY,D=this.top),1===i?(this.grabbedCenter=O,this.fixedWidth=E,this.dragOffset=O-g):(_=O-D-E/2,0===i?_=Math.max(0,_):2===i&&_+E>=P&&(_=P-E,this.reversedExtremes?(_-=E,L=this.getUnionExtremes().dataMin):S=this.getUnionExtremes().dataMax),_!==g&&(this.fixedWidth=E,k((B=b.navigatorAxis.toFixedRange(_,_+E,L,S)).min)&&o(this,"setRange",{min:Math.min(B.min,B.max),max:Math.max(B.min,B.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;let n=this.chart,b=n.xAxis[0],g=this.reversedExtremes;0===i?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=g?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=g?b.max:b.min),n.setFixedRange(void 0)}onMouseMove(t){let O,i=this,n=i.chart,b=i.navigatorSize,g=i.range,P=i.dragOffset,E=n.inverted,D=i.left;(!t.touches||0!==t.touches[0].pageX)&&(O=(t=n.pointer?.normalize(t)||t).chartX,E&&(D=i.top,O=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,O-D,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,O-D)):i.grabbedCenter&&(i.hasDragged=!0,O<P?O=P:O>b+P-g&&(O=b+P-g),i.render(0,0,O-P,O-P+g)),i.hasDragged&&i.scrollbar&&m(i.scrollbar.options.liveRedraw,!w&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))}onMouseUp(t){let i,n,b,g,P,E,O=this.xAxis,S=this.scrollbar,L=t.DOMEvent||t,B=this.chart.inverted,_=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!S||!S.hasDragged)||"scrollbar"===t.trigger)&&(b=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?g=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(P=this.fixedExtreme),this.zoomedMax===this.size&&(P=this.reversedExtremes?b.dataMin:b.dataMax),0===this.zoomedMin&&(g=this.reversedExtremes?b.dataMax:b.dataMin),k((E=O.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,g,P)).min)&&o(this,"setRange",{min:Math.min(E.min,E.max),max:Math.max(E.min,E.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:L}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&l(this.zoomedMin)&&l(this.zoomedMax)&&(n=Math.round(this.zoomedMin),i=Math.round(this.zoomedMax),this.shades&&this.drawMasks(n,i,B,_),this.outline&&this.drawOutline(n,i,B,_),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(n,0,B,_),this.drawHandle(i,1,B,_)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(i){M(i,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&M(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(t){let i=t.options,n=i.navigator||{},b=n.enabled,g=i.scrollbar||{},P=g.enabled,E=b&&n.height||0,D=P&&g.height||0,O=g.buttonsEnabled&&D||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=E,this.scrollbarHeight=D,this.scrollButtonSize=O,this.scrollbarEnabled=P,this.navigatorEnabled=b,this.navigatorOptions=n,this.scrollbarOptions=g,this.opposite=m(n.opposite,!(b||!t.inverted));let S=this,L=S.baseSeries,B=t.xAxis.length,_=t.yAxis.length,Y=L&&L[0]&&L[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,S.navigatorEnabled?(S.xAxis=new j(t,f({breaks:Y.options.breaks,ordinal:Y.options.ordinal,overscroll:Y.options.overscroll},n.xAxis,{type:"datetime",index:B,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[O,0,-O,0],width:E}:{offsets:[0,-O,0,O],height:E}),"xAxis"),S.yAxis=new j(t,f(n.yAxis,{alignTicks:!1,offset:0,index:_,isInternal:!0,reversed:m(n.yAxis&&n.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:E}:{height:E}),"yAxis"),L||n.series.data?S.updateNavigatorSeries(!1):0===t.series.length&&(S.unbindRedraw=A(t,"beforeRedraw",function(){t.series.length>0&&!S.series&&(S.setBaseSeries(),S.unbindRedraw())})),S.reversedExtremes=t.inverted&&!S.xAxis.reversed||!t.inverted&&S.xAxis.reversed,S.renderElements(),S.addMouseEvents()):(S.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(z,N){let H=t.xAxis[0],V=H.getExtremes(),Z=H.len-2*O,W=C("min",H.options.min,V.dataMin),q=C("max",H.options.max,V.dataMax)-W;return N?z*q/Z+W:Z*(z-W)/q},toPixels:function(z){return this.translate(z)},toValue:function(z){return this.translate(z,!0)}},S.xAxis.navigatorAxis.axis=S.xAxis,S.xAxis.navigatorAxis.toFixedRange=U.prototype.toFixedRange.bind(S.xAxis.navigatorAxis)),t.options.scrollbar.enabled){let z=f(t.options.scrollbar,{vertical:t.inverted});!l(z.margin)&&S.navigatorEnabled&&(z.margin=t.inverted?-3:3),t.scrollbar=S.scrollbar=new I(t.renderer,z,t),A(S.scrollbar,"changed",function(N){let H=S.size,V=H*this.to,Z=H*this.from;S.hasDragged=S.scrollbar.hasDragged,S.render(0,0,Z,V),this.shouldUpdateExtremes(N.DOMType)&&setTimeout(function(){S.onMouseUp(N)})})}S.addBaseSeriesEvents(),S.addChartEvents()}getUnionExtremes(t){let i,n=this.chart.xAxis[0],b=this.xAxis,g=b.options,P=n.options;return t&&null===n.dataMin||(i={dataMin:m(g&&g.min,C("min",P.min,n.dataMin,b.dataMin,b.min)),dataMax:m(g&&g.max,C("max",P.max,n.dataMax,b.dataMax,b.max))}),i}setBaseSeries(t,i){let n=this.chart,b=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?p(n.series,g=>!g.options.isInternal).index:0),(n.series||[]).forEach((g,P)=>{!g.options.isInternal&&(g.options.showInNavigator||(P===t||g.options.id===t)&&!1!==g.options.showInNavigator)&&b.push(g)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,i)}updateNavigatorSeries(t,i){let D,O,L,n=this,b=n.chart,g=n.baseSeries,P={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},E=n.series=(n.series||[]).filter(B=>{let _=B.baseSeries;return!(0>g.indexOf(_)&&(_&&(M(_,"updatedData",n.updatedDataHandler),delete _.navigatorSeries),B.chart&&B.destroy(),1))}),S=n.navigatorOptions.series;g&&g.length&&g.forEach(B=>{let _=B.navigatorSeries,Y=u({color:B.color,visible:B.visible},c(S)?e.navigator.series:S);if(_&&!1===n.navigatorOptions.adaptToUpdatedData)return;P.name="Navigator "+g.length,L=(D=B.options||{}).navigatorOptions||{},Y.dataLabels=y(Y.dataLabels),(O=f(D,P,Y,L)).pointRange=m(Y.pointRange,L.pointRange,e.plotOptions[O.type||"line"].pointRange);let z=L.data||Y.data;n.hasNavigatorData=n.hasNavigatorData||!!z,O.data=z||D.data&&D.data.slice(0),_&&_.options?_.update(O,i):(B.navigatorSeries=b.initSeries(O),b.setSortedData(),B.navigatorSeries.baseSeries=B,E.push(B.navigatorSeries))}),(S.data&&!(g&&g.length)||c(S))&&(n.hasNavigatorData=!1,(S=y(S)).forEach((B,_)=>{P.name="Navigator "+(E.length+1),(O=f(e.navigator.series,{color:b.series[_]&&!b.series[_].options.isInternal&&b.series[_].color||b.options.colors[_]||b.options.colors[0]},P,B)).data=B.data,O.data&&(n.hasNavigatorData=!0,E.push(b.initSeries(O)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let t=this,i=t.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(A(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(n=>{n.eventsToUnbind.push(A(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),n.eventsToUnbind.push(A(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&n.eventsToUnbind.push(A(n,"updatedData",this.updatedDataHandler)),n.eventsToUnbind.push(A(n,"remove",function(){this.navigatorSeries&&(s(t.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(i,n){return Math.min(i,n.xData&&n.xData.length?n.xData[0]:i)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;if(void 0!==t.getExtremes){let i=this.getUnionExtremes(!0);i&&(i.dataMin!==t.min||i.dataMax!==t.max)&&(t.min=i.dataMin,t.max=i.dataMax)}}modifyBaseAxisExtremes(){let t,i,n=this.chart.navigator,b=this.getExtremes(),E=b.dataMin,D=b.dataMax,O=b.max-b.min,S=n.stickToMin,L=n.stickToMax,B=m(this.ordinal?.convertOverscroll(this.options.overscroll),0),_=n.series&&n.series[0],Y=!!this.setExtremes;!(this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger)&&(S&&(t=(i=E)+O),L&&(t=D+B,S||(i=Math.max(E,t-O,n.getBaseSeriesMin(_&&_.xData?_.xData[0]:-Number.MAX_VALUE)))),Y&&(S||L)&&l(i)&&(this.min=this.userMin=i,this.max=this.userMax=t)),n.stickToMin=n.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,i=this.navigatorSeries,n=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=m(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,n),t.stickToMin=t.shouldStickToMin(this,t),i&&!t.hasNavigatorData&&(i.options.pointStart=this.xData[0],i.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,i){let n=i.getBaseSeriesMin(t.xData[0]),b=t.xAxis,g=b.max,P=b.min,E=b.options.range;return!(!l(g)||!l(P))&&(E&&g-n>0?g-n<E:P<=n)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(A(this.chart,"redraw",function(){let t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);i&&t.render(i.min,i.max)}),A(this.chart,"getMargins",function(){let t=this.navigator,i=t.opposite?"plotTop":"marginBottom";this.inverted&&(i=t.opposite?"marginRight":"plotLeft"),this[i]=(this[i]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin}),A(h,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{r(t)})}}return h}),$(v,"Core/Axis/OrdinalAxis.js",[v["Core/Axis/Axis.js"],v["Core/Globals.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){var U;let{addEvent:R,correctFloat:I,css:T,defined:e,error:w,isNumber:A,pick:x,timeUnits:d,isString:k}=F;return function(r){function s(a,t,i,n,b=[],g=0,P){let L,B,_,Y,z,E={},D=this.options.tickPixelInterval,O=this.chart.time,S=[],N=0,H=[],V=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!b||b.length<3||void 0===t)return O.getTimeTicks.apply(O,arguments);let Z=b.length;for(L=0;L<Z;L++){if(z=L&&b[L-1]>i,b[L]<t&&(N=L),L===Z-1||b[L+1]-b[L]>5*g||z){if(b[L]>V){for(B=O.getTimeTicks(a,b[N],b[L],n);B.length&&B[0]<=V;)B.shift();B.length&&(V=B[B.length-1]),S.push(H.length),H=H.concat(B)}N=L+1}if(z)break}if(B){if(Y=B.info,P&&Y.unitRange<=d.hour){for(N=1,L=H.length-1;N<L;N++)O.dateFormat("%d",H[N])!==O.dateFormat("%d",H[N-1])&&(E[H[N]]="day",_=!0);_&&(E[H[0]]="day"),Y.higherRanks=E}Y.segmentStarts=S,H.info=Y}else w(12,!1,this.chart);if(P&&e(D)){let J,et,st,ot,lt,W=H.length,q=[],K=[],nt=W;for(;nt--;)et=this.translate(H[nt]),st&&(K[nt]=st-et),q[nt]=st=et;for(K.sort((at,pt)=>at-pt),(ot=K[Math.floor(K.length/2)])<.6*D&&(ot=null),nt=H[W-1]>i?W-1:W,st=void 0;nt--;)lt=Math.abs(st-(et=q[nt])),st&&lt<.8*D&&(null===ot||lt<.8*ot)?(E[H[nt]]&&!E[H[nt+1]]?(J=nt+1,st=et):J=nt,H.splice(J,1)):st=et}return H}function u(a){let t=this.ordinal.positions;if(!t)return a;let n,i=t.length-1;return a<0?a=t[0]:a>i?a=t[i]:(i=Math.floor(a),n=a-i),void 0!==n&&void 0!==t[i]?t[i]+(n?n*(t[i+1]-t[i]):0):a}function p(a){let t=this.ordinal,i=this.old?this.old.min:this.min,n=this.old?this.old.transA:this.transA,b=t.getExtendedPositions();if(b&&b.length){let g=I((a-i)*n+this.minPixelPadding),P=I(t.getIndexOfPoint(g,b)),E=I(P%1);if(P>=0&&P<=b.length-1){let D=b[Math.floor(P)],O=b[Math.ceil(P)];return b[Math.floor(P)]+E*(O-D)}}return a}function o(a,t){let i=r.Additions.findIndexOf(a,t,!0);return a[i]===t?i:i+(t-a[i])/(a[i+1]-a[i])}function c(){this.ordinal||(this.ordinal=new r.Additions(this))}function l(){let{eventArgs:a,options:t}=this;if(this.isXAxis&&e(t.overscroll)&&0!==t.overscroll&&A(this.max)&&A(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==a?.trigger||this.isInternal)&&"navigator"!==a?.trigger)){let i=this.ordinal.convertOverscroll(t.overscroll);this.max+=i,!this.isInternal&&e(this.userMin)&&"mousewheel"!==a?.trigger&&(this.min+=i)}}function f(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function m(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function M(a){let t=this.xAxis[0],i=t.ordinal.convertOverscroll(t.options.overscroll),n=a.originalEvent.chartX,b=this.options.chart.panning,g=!1;if(b&&"y"!==b.type&&t.options.ordinal&&t.series.length){let P,E,D=this.mouseDownX,O=t.getExtremes(),S=O.dataMin,L=O.dataMax,B=O.min,_=O.max,Y=this.hoverPoints,N=Math.round((D-n)/(t.translationSlope*(t.ordinal.slope||t.closestPointRange||t.ordinal&&t.ordinal.overscrollPointsRange))),H=t.ordinal.getExtendedPositions(),V={ordinal:{positions:H,extendedOrdinalPositions:H}},Z=t.index2val,W=t.val2lin;if(B<=S&&N<0||_+i>=L&&N>0)return;V.ordinal.positions?Math.abs(N)>1&&(Y&&Y.forEach(function(q){q.setState()}),L>(E=V.ordinal.positions)[E.length-1]&&E.push(L),this.setFixedRange(_-B),(P=t.navigatorAxis.toFixedRange(void 0,void 0,Z.apply(V,[W.apply(V,[B,!0])+N]),Z.apply(V,[W.apply(V,[_,!0])+N]))).min>=Math.min(O.dataMin,B)&&P.max<=Math.max(L,_)+i&&t.setExtremes(P.min,P.max,!0,!1,{trigger:"pan"}),this.mouseDownX=n,T(this.container,{cursor:"move"})):g=!0}else g=!0;g||b&&/y/.test(b.type)?i&&(t.max=t.dataMax+i):a.preventDefault()}function y(){let a=this.xAxis;a&&a.options.ordinal&&(delete a.ordinal.index,delete a.ordinal.originalOrdinalRange)}function C(a,t){let i,P,n=this.ordinal,b=n.positions,g=n.slope;if(!b)return a;if(b[0]<=a&&b[b.length-1]>=a)i=o(b,a);else{if(!(P=n.getExtendedPositions&&n.getExtendedPositions())||!P.length)return a;let D=P.length;g||(g=(P[D-1]-P[0])/D);let O=o(P,b[0]);if(a>=P[0]&&a<=P[D-1])i=o(P,a)-O;else{if(!t)return a;i=a<P[0]?-O-(P[0]-a)/g:(a-P[D-1])/g+D-O}}return t?i:g*(i||0)+n.offset}r.compose=function(a,t,i){let n=a.prototype;return n.ordinal2lin||(n.getTimeTicks=s,n.index2val=u,n.lin2val=p,n.val2lin=C,n.ordinal2lin=n.val2lin,R(a,"afterInit",c),R(a,"foundExtremes",l),R(a,"afterSetScale",f),R(a,"initialAxisTranslation",m),R(i,"pan",M),R(t,"updatedData",y)),a};class h{constructor(t){this.index={},this.axis=t}beforeSetTickPositions(){let D,O,S,L,B,_,Y,t=this.axis,i=t.ordinal,n=t.getExtremes(),b=n.min,g=n.max,P=t.brokenAxis?.hasBreaks,E=t.options.ordinal,z=[],N=Number.MAX_VALUE,H=!1,V=!1,Z=!1;if(E||P){let W=0;if(t.series.forEach(function(q,K){if(O=[],K>0&&"highcharts-navigator-series"!==q.options.id&&q.processedXData.length>1&&(V=W!==q.processedXData[1]-q.processedXData[0]),W=q.processedXData[1]-q.processedXData[0],q.boosted&&(Z=q.boosted),q.reserveSpace()&&(!1!==q.takeOrdinalPosition||P)&&(D=(z=z.concat(q.processedXData)).length,z.sort(function(J,et){return J-et}),N=Math.min(N,x(q.closestPointRange,N)),D)){for(K=0;K<D-1;)z[K]!==z[K+1]&&O.push(z[K+1]),K++;O[0]!==z[0]&&O.unshift(z[0]),z=O}}),t.ordinal.originalOrdinalRange||(t.ordinal.originalOrdinalRange=(z.length-1)*N),V&&Z&&(z.pop(),z.shift()),(D=z.length)>2){for(S=z[1]-z[0],Y=D-1;Y--&&!H;)z[Y+1]-z[Y]!==S&&(H=!0);!t.options.keepOrdinalPadding&&(z[0]-b>S||g-z[z.length-1]>S)&&(H=!0)}else t.options.overscroll&&(2===D?N=z[1]-z[0]:1===D?(N=t.ordinal.convertOverscroll(t.options.overscroll),z=[z[0],z[0]+N]):N=i.overscrollPointsRange);H||t.forceOrdinal?(t.options.overscroll&&(i.overscrollPointsRange=N,z=z.concat(i.getOverscrollPositions())),i.positions=z,L=t.ordinal2lin(Math.max(b,z[0]),!0),B=Math.max(t.ordinal2lin(Math.min(g,z[z.length-1]),!0),1),i.slope=_=(g-b)/(B-L),i.offset=b-L*_):(i.overscrollPointsRange=x(t.closestPointRange,i.overscrollPointsRange),i.positions=t.ordinal.slope=i.offset=void 0)}t.isOrdinal=E&&H,i.groupIntervalFactor=null}static findIndexOf(t,i,n){let P,b=0,g=t.length-1;for(;b<g;)t[P=Math.ceil((b+g)/2)]<=i?b=P:g=P-1;return t[b]===i||n?b:-1}getExtendedPositions(t=!0){let S,L,i=this,n=i.axis,b=n.constructor.prototype,g=n.chart,P=n.series[0]?.currentDataGrouping,E=P?P.count+P.unitName:"raw",D=t?n.ordinal.convertOverscroll(n.options.overscroll):0,O=n.getExtremes(),B=i.index;return B||(B=i.index={}),B[E]||((S={series:[],chart:g,forceOrdinal:!1,getExtremes:function(){return{min:O.dataMin,max:O.dataMax+D}},applyGrouping:b.applyGrouping,getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin}).ordinal.axis=S,n.series.forEach(function(_){L={xAxis:S,xData:_.xData.slice(),chart:g,groupPixelWidth:_.groupPixelWidth,destroyGroupedData:G.noop,getProcessedData:X.prototype.getProcessedData,applyGrouping:X.prototype.applyGrouping,reserveSpace:X.prototype.reserveSpace,visible:_.visible},t&&(L.xData=L.xData.concat(i.getOverscrollPositions())),L.options={dataGrouping:P?{firstAnchor:_.options.dataGrouping?.firstAnchor,anchor:_.options.dataGrouping?.anchor,lastAnchor:_.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[P.unitName,[P.count]]]}:{enabled:!1}},S.series.push(L),_.processData.apply(L)}),S.applyGrouping({hasExtremesChanged:!0}),L?.closestPointRange!==L?.basePointRange&&L.currentDataGrouping&&(S.forceOrdinal=!0),n.ordinal.beforeSetTickPositions.apply({axis:S}),!n.ordinal.originalOrdinalRange&&S.ordinal.originalOrdinalRange&&(n.ordinal.originalOrdinalRange=S.ordinal.originalOrdinalRange),B[E]=S.ordinal.positions),B[E]}getGroupIntervalFactor(t,i,n){let E,D,b=n.processedXData,g=b.length,P=[],O=this.groupIntervalFactor;if(!O){for(D=0;D<g-1;D++)P[D]=b[D+1]-b[D];P.sort(function(S,L){return S-L}),E=P[Math.floor(g/2)],t=Math.max(t,b[0]),i=Math.min(i,b[g-1]),this.groupIntervalFactor=O=g*E/(i-t)}return O}getIndexOfPoint(t,i){let n,b=this.axis,g=0;b.series.forEach(O=>{let S=O.points?.[0];e(S?.plotX)&&(S.plotX<n||!e(n))&&function(O){let{min:S,max:L}=b;return!(!e(S)||!e(L))&&O.points.some(B=>B.x>=S&&B.x<=L)}(O)&&(n=S.plotX,g=S.x)}),n??(n=b.minPixelPadding);let D=I((t-n)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)));return h.findIndexOf(i,g,!0)+D}getOverscrollPositions(){let t=this.axis,i=this.convertOverscroll(t.options.overscroll),n=this.overscrollPointsRange,b=[],g=t.dataMax;if(e(n))for(;g<=t.dataMax+i;)b.push(g+=n);return b}postProcessTickInterval(t){let i=this.axis,n=this.slope;return n?i.options.breaks?i.closestPointRange||t:t/(n/i.closestPointRange):t}convertOverscroll(t=0){let i=this,n=i.axis,b=function(g){return x(i.originalOrdinalRange,e(n.dataMax)&&e(n.dataMin)?n.dataMax-n.dataMin:0)*g};if(k(t)){let g=parseInt(t,10);if(/%$/.test(t))return b(g/100);if(/px/.test(t)){let P=Math.min(g,.9*n.len)/n.len;return b(P/(1-P))}return 0}return t}}r.Additions=h}(U||(U={})),U}),$(v,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),$(v,"Stock/RangeSelector/RangeSelectorComposition.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Stock/RangeSelector/RangeSelectorDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F){let U,{defaultOptions:R}=j,{composed:I}=G,{addEvent:T,defined:e,extend:w,isNumber:A,merge:x,pick:d,pushUnique:k}=F,r=[];function s(){let m,M,y=this.range,C=y.type,h=this.max,a=this.chart.time,t=function(n,b){let g="year"===C?"FullYear":"Month",P=new a.Date(n),E=a.get(g,P);return a.set(g,P,E+b),E===a.get(g,P)&&a.set("Date",P,0),P.getTime()-n};A(y)?(m=h-y,M=y):y&&(m=h+t(h,-(y.count||1)),this.chart&&this.chart.setFixedRange(h-m));let i=d(this.dataMin,Number.MIN_VALUE);return A(m)||(m=i),m<=i&&(m=i,void 0===M&&(M=t(m,y.count)),this.newMax=Math.min(m+M,d(this.dataMax,Number.MAX_VALUE))),A(h)?!A(y)&&y&&y._offsetMin&&(m+=y._offsetMin):m=void 0,m}function u(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new U(this))}function p(){let m=this.rangeSelector;if(m){A(m.deferredYTDClick)&&(m.clickButton(m.deferredYTDClick),delete m.deferredYTDClick);let M=m.options.verticalAlign;m.options.floating||("bottom"===M?this.extraBottomMargin=!0:"middle"===M||(this.extraTopMargin=!0))}}function o(){let m,M=this.rangeSelector;if(!M)return;let y=this.xAxis[0].getExtremes(),C=this.legend,h=M&&M.options.verticalAlign;A(y.min)&&M.render(y.min,y.max),C.display&&"top"===h&&h===C.options.verticalAlign&&(m=x(this.spacingBox),"vertical"===C.options.layout?m.y=this.plotTop:m.y+=M.getHeight(),C.group.placed=!1,C.align(m))}function c(){for(let m=0,M=r.length;m<M;++m){let y=r[m];if(y[0]===this)return y[1].forEach(C=>C()),void r.splice(m,1)}}function l(){let m=this.rangeSelector;if(m){let M=m.getHeight();this.extraTopMargin&&(this.plotTop+=M),this.extraBottomMargin&&(this.marginBottom+=M)}}function f(m){let M=m.options.rangeSelector,y=this.extraBottomMargin,C=this.extraTopMargin,h=this.rangeSelector;if(M&&M.enabled&&!e(h)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=h=new U(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,h){let a=M&&M.verticalAlign||h.options&&h.options.verticalAlign;h.options.floating||("bottom"===a?this.extraBottomMargin=!0:"middle"===a||(this.extraTopMargin=!0)),(this.extraBottomMargin!==y||this.extraTopMargin!==C)&&(this.isDirtyBox=!0)}}return{compose:function(m,M,y){if(U=y,k(I,"RangeSelector")){let C=M.prototype;m.prototype.minFromRange=s,T(M,"afterGetContainer",u),T(M,"beforeRender",p),T(M,"destroy",c),T(M,"getMargins",l),T(M,"redraw",o),T(M,"update",f),C.callbacks.push(o),w(R,{rangeSelector:X.rangeSelector}),w(R.lang,X.lang)}}}}),$(v,"Stock/RangeSelector/RangeSelector.js",[v["Core/Axis/Axis.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Stock/RangeSelector/RangeSelectorComposition.js"],v["Core/Renderer/SVG/SVGElement.js"],v["Core/Utilities.js"],v["Core/Axis/OrdinalAxis.js"]],function(j,G,X,F,U,R,I){let{defaultOptions:T}=G,{addEvent:e,createElement:w,css:A,defined:x,destroyObjectProperties:d,discardElement:k,extend:r,fireEvent:s,isNumber:u,merge:p,objectEach:o,pad:c,pick:l,pInt:f,splat:m}=R;class M{static compose(C,h){F.compose(C,h,M)}constructor(C){this.buttonOptions=M.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(C)}clickButton(C,h){let D,S,B,_,Y,a=this.chart,t=this.buttonOptions[C],i=a.xAxis[0],n=a.scroller&&a.scroller.getUnionExtremes()||i||{},b=t.type,g=t.dataGrouping,P=n.dataMin,E=n.dataMax,O=i&&Math.round(Math.min(i.max,l(E,i.max))),L=t._range,z=!0;if(null!==P&&null!==E){if(this.setSelected(C),g&&(this.forcedDataGrouping=!0,j.prototype.setDataGrouping.call(i||{chart:this.chart},g,!1),this.frozenStates=t.preserveDataGrouping),"month"===b||"year"===b)i?(_={range:t,max:O,chart:a,dataMin:P,dataMax:E},D=i.minFromRange.call(_),u(_.newMax)&&(O=_.newMax),z=!1):L=t;else if(L)O=Math.min((D=Math.max(O-L,P))+L,E),z=!1;else if("ytd"===b){if(!i)return void(this.deferredYTDClick=C);(void 0===E||void 0===P)&&(P=Number.MAX_VALUE,E=Number.MIN_VALUE,a.series.forEach(N=>{let H=N.xData;H&&(P=Math.min(H[0],P),E=Math.max(H[H.length-1],E))}),h=!1),D=B=(Y=this.getYTDExtremes(E,P,a.time.useUTC)).min,O=Y.max}else"all"===b&&i&&(a.navigator&&a.navigator.baseSeries[0]&&(a.navigator.baseSeries[0].xAxis.options.range=void 0),D=P,O=E);if(z&&t._offsetMin&&x(D)&&(D+=t._offsetMin),t._offsetMax&&x(O)&&(O+=t._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=C+1),i)i.setExtremes(D,O,l(h,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:t}),a.setFixedRange(t._range);else{S=m(a.options.xAxis)[0];let N=e(a,"afterGetAxes",function(){let H=a.xAxis[0];H.range=H.options.range=L,H.min=H.options.min=B});e(a,"load",function(){let H=a.xAxis[0];a.setFixedRange(t._range),H.options.range=S.range,H.options.min=S.min,N()})}s(this,"afterBtnClick")}}setSelected(C){this.selected=this.options.selected=C}init(C){let h=this,a=C.options.rangeSelector,t=a.buttons||h.defaultButtons.slice(),i=a.selected,n=function(){let b=h.minInput,g=h.maxInput;b&&b.blur&&s(b,"blur"),g&&g.blur&&s(g,"blur")};h.chart=C,h.options=a,h.buttons=[],h.buttonOptions=t,this.eventsToUnbind=[],this.eventsToUnbind.push(e(C.container,"mousedown",n)),this.eventsToUnbind.push(e(C,"resize",n)),t.forEach(h.computeButtonRange),void 0!==i&&t[i]&&this.clickButton(i,!1),this.eventsToUnbind.push(e(C,"load",function(){C.xAxis&&C.xAxis[0]&&e(C.xAxis[0],"setExtremes",function(b){u(this.max)&&u(this.min)&&this.max-this.min!==C.fixedRange&&"rangeSelectorButton"!==b.trigger&&"updatedData"!==b.trigger&&h.forcedDataGrouping&&!h.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let C=this,h=this.chart,a=this.dropdown,t=this.dropdownLabel,i=h.xAxis[0],n=Math.round(i.max-i.min),b=!i.hasVisibleSeries,g=864e5,P=h.scroller&&h.scroller.getUnionExtremes()||i,E=P.dataMin,D=P.dataMax,O=C.getYTDExtremes(D,E,h.time.useUTC),S=O.min,L=O.max,B=C.selected,_=C.options.allButtonsEnabled,Y=Array(C.buttonOptions.length).fill(0),z=u(B),N=C.buttons,H=!1,V=null;C.buttonOptions.forEach((Z,W)=>{let q=Z._range,K=Z.type,J=Z.count||1,et=Z._offsetMax-Z._offsetMin,st=W===B,ot=q>D-E,lt=q<i.minRange,nt=!1,at=q===n;if(st&&ot&&(H=!0),i.isOrdinal&&i.ordinal?.positions&&q&&n<q){let ht=i.ordinal.positions,ct=I.Additions.findIndexOf(ht,i.min,!0);ht[Math.min(I.Additions.findIndexOf(ht,i.max,!0)+1,ht.length-1)]-ht[ct]>q&&(at=!0)}else("month"===K||"year"===K)&&n+36e5>={month:28,year:365}[K]*g*J-et&&n-36e5<={month:31,year:366}[K]*g*J+et?at=!0:"ytd"===K?(at=L-S+et===n,nt=!st):"all"===K&&(at=i.max-i.min>=D-E);_||H&&"all"===K||!(ot||lt||b)?(H&&"all"===K||!nt&&at||st&&C.frozenStates)&&(!z||W===B)&&(V=W):Y[W]=3}),null!==V?(Y[V]=2,C.setSelected(V)):(C.setSelected(),t&&(t.setState(0),t.attr({text:(T.lang.rangeSelectorZoom||"")+" \u25be"})));for(let Z=0;Z<Y.length;Z++){let W=Y[Z],q=N[Z];if(q.state!==W&&(q.setState(W),a)){a.options[Z+1].disabled=3===W,2===W&&(t&&(t.setState(2),t.attr({text:C.buttonOptions[Z].text+" \u25be"})),a.selectedIndex=Z+1);let K=t.getBBox();A(a,{width:`${K.width}px`,height:`${K.height}px`})}}}computeButtonRange(C){let h=C.type,a=C.count||1,t={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};t[h]?C._range=t[h]*a:("month"===h||"year"===h)&&(C._range=24*{month:30,year:365}[h]*36e5*a),C._offsetMin=l(C.offsetMin,0),C._offsetMax=l(C.offsetMax,0),C._range+=C._offsetMax-C._offsetMin}getInputValue(C){let h="min"===C?this.minInput:this.maxInput,t=this.chart.time;return h?("text"===h.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(h.value,t.useUTC,t):0}setInputValue(C,h){let a=this.options,t=this.chart.time,i="min"===C?this.minInput:this.maxInput,n="min"===C?this.minDateBox:this.maxDateBox;if(i){let b=i.getAttribute("data-hc-time"),g=x(b)?Number(b):void 0;if(x(h)){let P=g;x(P)&&i.setAttribute("data-hc-time-previous",P),i.setAttribute("data-hc-time",h),g=h}i.value=t.dateFormat(this.inputTypeFormats[i.type]||a.inputEditDateFormat,g),n&&n.attr({text:t.dateFormat(a.inputDateFormat,g)})}}setInputExtremes(C,h,a){let t="min"===C?this.minInput:this.maxInput;if(t){let i=this.inputTypeFormats[t.type],n=this.chart.time;if(i){let b=n.dateFormat(i,h);t.min!==b&&(t.min=b);let g=n.dateFormat(i,a);t.max!==g&&(t.max=g)}}}showInput(C){let h="min"===C?this.minDateBox:this.maxDateBox,a="min"===C?this.minInput:this.maxInput;if(a&&h&&this.inputGroup){let t="text"===a.type,{translateX:i=0,translateY:n=0}=this.inputGroup,{x:b=0,width:g=0,height:P=0}=h,{inputBoxWidth:E}=this.options;A(a,{width:t?g+(E?-2:20)+"px":"auto",height:P-2+"px",border:"2px solid silver"}),A(a,t&&E?{left:i+b+"px",top:n+"px"}:{left:Math.min(Math.round(b+i-(a.offsetWidth-g)/2),this.chart.chartWidth-a.offsetWidth)+"px",top:n-(a.offsetHeight-P)/2+"px"})}}hideInput(C){let h="min"===C?this.minInput:this.maxInput;h&&A(h,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(C,h,a){let t=C.split("/").join("-").split(" ").join("T");if(-1===t.indexOf("T")&&(t+="T00:00"),h)t+="Z";else{let n;if(X.isSafari&&(!((n=t).length>6)||n.lastIndexOf("-")!==n.length-6&&n.lastIndexOf("+")!==n.length-6)){let b=new Date(t).getTimezoneOffset()/60;t+=b<=0?`+${c(-b)}:00`:`-${c(b)}:00`}}let i=Date.parse(t);if(!u(i)){let n=C.split("-");i=Date.UTC(f(n[0]),f(n[1])-1,f(n[2]))}return a&&h&&u(i)&&(i+=a.getTimezoneOffset(i)),i}drawInput(C){let{chart:h,div:a,inputGroup:t}=this,i=this,n=h.renderer.style||{},b=h.renderer,g=h.options.rangeSelector,E="min"===C;function D(Y){let{maxInput:z,minInput:N}=i,H=h.xAxis[0],V=h.scroller?.getUnionExtremes()||H,Z=V.dataMin,W=V.dataMax,q=h.xAxis[0].getExtremes()[Y],K=i.getInputValue(Y);u(K)&&K!==q&&(E&&z&&u(Z)?K>Number(z.getAttribute("data-hc-time"))?K=void 0:K<Z&&(K=Z):N&&u(W)&&(K<Number(N.getAttribute("data-hc-time"))?K=void 0:K>W&&(K=W)),void 0!==K&&H.setExtremes(E?K:H.min,E?H.max:K,void 0,void 0,{trigger:"rangeSelectorInput"}))}let O=T.lang[E?"rangeSelectorFrom":"rangeSelectorTo"]||"",S=b.label(O,0).addClass("highcharts-range-label").attr({padding:O?2:0,height:O?g.inputBoxHeight:0}).add(t),L=b.label("",0).addClass("highcharts-range-input").attr({padding:2,width:g.inputBoxWidth,height:g.inputBoxHeight,"text-align":"center"}).on("click",function(){i.showInput(C),i[C+"Input"].focus()});h.styledMode||L.attr({stroke:g.inputBoxBorderColor,"stroke-width":1}),L.add(t);let B=w("input",{name:C,className:"highcharts-range-selector"},void 0,a);B.setAttribute("type",function(Y){if(-1!==Y.indexOf("%L"))return"text";let z=["a","A","d","e","w","b","B","m","o","y","Y"].some(H=>-1!==Y.indexOf("%"+H)),N=["H","k","I","l","M","S"].some(H=>-1!==Y.indexOf("%"+H));return z&&N?"datetime-local":z?"date":N?"time":"text"}(g.inputDateFormat||"%e %b %Y")),h.styledMode||(S.css(p(n,g.labelStyle)),L.css(p({color:"#333333"},n,g.inputStyle)),A(B,r({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:n.fontSize,fontFamily:n.fontFamily,top:"-9999em"},g.inputStyle))),B.onfocus=()=>{i.showInput(C)},B.onblur=()=>{B===X.doc.activeElement&&D(C),i.hideInput(C),i.setInputValue(C),B.blur()};let _=!1;return B.onchange=()=>{_||(D(C),i.hideInput(C),B.blur())},B.onkeypress=Y=>{13===Y.keyCode&&D(C)},B.onkeydown=Y=>{_=!0,("ArrowUp"===Y.key||"ArrowDown"===Y.key||"Tab"===Y.key)&&D(C)},B.onkeyup=()=>{_=!1},{dateBox:L,input:B,label:S}}getPosition(){let C=this.chart,h=C.options.rangeSelector,a="top"===h.verticalAlign?C.plotTop-C.axisOffset[0]:0;return{buttonTop:a+h.buttonPosition.y,inputTop:a+h.inputPosition.y-10}}getYTDExtremes(C,h,a){let t=this.chart.time,i=new t.Date(C),n=t.get("FullYear",i),b=a?t.Date.UTC(n,0,1):+new t.Date(n,0,1),g=i.getTime();return{max:Math.min(C||g,g),min:Math.max(h,b)}}createElements(){let C=this.chart,h=C.renderer,a=C.container,t=C.options,i=t.rangeSelector,n=i.inputEnabled,b=l(t.chart.style?.zIndex,0)+1;if(!1!==i.enabled&&(this.group=h.g("range-selector-group").attr({zIndex:7}).add(),this.div=w("div",void 0,{position:"relative",height:0,zIndex:b}),this.buttonOptions.length&&this.renderButtons(),a.parentNode&&a.parentNode.insertBefore(this.div,a),n)){this.inputGroup=h.g("input-group").add(this.group);let g=this.drawInput("min");this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input;let P=this.drawInput("max");this.maxDateBox=P.dateBox,this.maxLabel=P.label,this.maxInput=P.input}}render(C,h){let a=this.chart,t=a.options.rangeSelector;if(!1!==t.enabled){if(t.inputEnabled){this.setInputValue("min",C),this.setInputValue("max",h);let n=a.scroller&&a.scroller.getUnionExtremes()||a.xAxis[0]||{};if(x(n.dataMin)&&x(n.dataMax)){let b=a.xAxis[0].minRange||0;this.setInputExtremes("min",n.dataMin,Math.min(n.dataMax,this.getInputValue("max"))-b),this.setInputExtremes("max",Math.max(n.dataMin,this.getInputValue("min"))+b,n.dataMax)}if(this.inputGroup){let b=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(g=>{if(g){let{width:P}=g.getBBox();P&&(g.attr({x:b}),b+=P+t.inputSpacing)}})}}this.alignElements(),this.updateButtonStates()}}renderButtons(){let{buttons:C,chart:h,options:a}=this,t=T.lang,i=h.renderer,n=p(a.buttonTheme),b=n&&n.states,g=n.width||28;delete n.width,delete n.states,this.buttonGroup=i.g("range-selector-buttons").add(this.group);let P=this.dropdown=w("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),E=h.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=i.button("",0,0,()=>{},p(n,{"stroke-width":l(n["stroke-width"],0),width:"auto",paddingLeft:l(a.buttonTheme.paddingLeft,E?.padding,8),paddingRight:l(a.buttonTheme.paddingRight,E?.padding,8)}),b&&b.hover,b&&b.select,b&&b.disabled).hide().add(this.group),e(P,"touchstart",()=>{P.style.fontSize="16px"});let D=X.isMS?"mouseover":"mouseenter",O=X.isMS?"mouseout":"mouseleave";e(P,D,()=>{s(this.dropdownLabel.element,D)}),e(P,O,()=>{s(this.dropdownLabel.element,O)}),e(P,"change",()=>{s(this.buttons[P.selectedIndex-1].element,"click")}),this.zoomText=i.label(t.rangeSelectorZoom||"",0).attr({padding:a.buttonTheme.padding,height:a.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(a.labelStyle),n["stroke-width"]=l(n["stroke-width"],0)),w("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,P),this.buttonOptions.forEach((S,L)=>{w("option",{textContent:S.title||S.text},void 0,P),C[L]=i.button(S.text,0,0,B=>{let _,Y=S.events&&S.events.click;Y&&(_=Y.call(S,B)),!1!==_&&this.clickButton(L),this.isActive=!0},n,b&&b.hover,b&&b.select,b&&b.disabled).attr({"text-align":"center",width:g}).add(this.buttonGroup),S.title&&C[L].attr("title",S.title)})}alignElements(){let{buttonGroup:C,buttons:h,chart:a,group:t,inputGroup:i,options:n,zoomText:b}=this,g=a.options,P=g.exporting&&!1!==g.exporting.enabled&&g.navigation&&g.navigation.buttonOptions,{buttonPosition:E,inputPosition:D,verticalAlign:O}=n,S=(B,_)=>P&&this.titleCollision(a)&&"top"===O&&"right"===_.align&&_.y-B.getBBox().height-12<(P.y||0)+(P.height||0)+a.spacing[0]?-40:0,L=a.plotLeft;if(t&&E&&D){let B=E.x-a.spacing[3];if(C){if(this.positionButtons(),!this.initialButtonGroupWidth){let q=0;b&&(q+=b.getBBox().width+5),h.forEach((K,J)=>{q+=K.width||0,J!==h.length-1&&(q+=n.buttonSpacing)}),this.initialButtonGroupWidth=q}L-=a.spacing[3];let W=S(C,E);this.alignButtonGroup(W),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),t.placed=C.placed=a.hasLoaded}let _=0;i&&(_=S(i,D),"left"===D.align?B=L:"right"===D.align&&(B=-Math.max(a.axisOffset[1],-_)),i.align({y:D.y,width:i.getBBox().width,align:D.align,x:D.x+B-2},!0,a.spacingBox),i.placed=a.hasLoaded),this.handleCollision(_),t.align({verticalAlign:O},!0,a.spacingBox);let Y=t.alignAttr.translateY,z=t.getBBox().height+20,N=0;if("bottom"===O){let W=a.legend&&a.legend.options;N=Y-(z=z+(W&&"bottom"===W.verticalAlign&&W.enabled&&!W.floating?a.legend.legendHeight+l(W.margin,10):0)-20)-(n.floating?0:n.y)-(a.titleOffset?a.titleOffset[2]:0)-10}"top"===O?(n.floating&&(N=0),a.titleOffset&&a.titleOffset[0]&&(N=a.titleOffset[0]),N+=a.margin[0]-a.spacing[0]||0):"middle"===O&&(D.y===E.y?N=Y:(D.y||E.y)&&(D.y<0||E.y<0?N-=Math.min(D.y,E.y):N=Y-z)),t.translate(n.x,n.y+Math.floor(N));let{minInput:H,maxInput:V,dropdown:Z}=this;n.inputEnabled&&H&&V&&(H.style.marginTop=t.translateY+"px",V.style.marginTop=t.translateY+"px"),Z&&(Z.style.marginTop=t.translateY+"px")}}alignButtonGroup(C,h){let{chart:a,options:t,buttonGroup:i}=this,{buttonPosition:n}=t,b=a.plotLeft-a.spacing[3],g=n.x-a.spacing[3];"right"===n.align?g+=C-b:"center"===n.align&&(g-=b/2),i&&i.align({y:n.y,width:l(h,this.initialButtonGroupWidth),align:n.align,x:g},!0,a.spacingBox)}positionButtons(){let{buttons:C,chart:h,options:a,zoomText:t}=this,i=h.hasLoaded?"animate":"attr",{buttonPosition:n}=a,b=h.plotLeft,g=b;t&&"hidden"!==t.visibility&&(t[i]({x:l(b+n.x,b)}),g+=n.x+t.getBBox().width+5);for(let P=0,E=this.buttonOptions.length;P<E;++P)"hidden"!==C[P].visibility?(C[P][i]({x:g}),g+=(C[P].width||0)+a.buttonSpacing):C[P][i]({x:b})}handleCollision(C){let{chart:h,buttonGroup:a,inputGroup:t}=this,{buttonPosition:i,dropdown:n,inputPosition:b}=this.options,g=()=>{let D=0;return this.buttons.forEach(O=>{let S=O.getBBox();S.width>D&&(D=S.width)}),D},P=D=>{if(t?.alignOptions&&a){let O=t.alignAttr.translateX+t.alignOptions.x-C+t.getBBox().x+2,S=t.alignOptions.width||0,L=a.alignAttr.translateX+a.getBBox().x;return L+D>O&&O+S>L&&i.y<b.y+t.getBBox().height}return!1},E=()=>{t&&a&&t.attr({translateX:t.alignAttr.translateX+(h.axisOffset[1]>=-C?0:-C),translateY:t.alignAttr.translateY+a.getBBox().height+10})};if(a){if("always"===n)return this.collapseButtons(),void(P(g())&&E());"never"===n&&this.expandButtons()}t&&a?b.align===i.align||P(this.initialButtonGroupWidth+20)?"responsive"===n?(this.collapseButtons(),P(g())&&E()):E():"responsive"===n&&this.expandButtons():a&&"responsive"===n&&(this.initialButtonGroupWidth>h.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){let{buttons:C,zoomText:h}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,h.hide(),C.forEach(a=>{a.hide()}),this.showDropdown())}expandButtons(){let{buttons:C,zoomText:h}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),h.show(),C.forEach(a=>{a.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:C,chart:h,dropdownLabel:a,dropdown:t}=this;if(C&&t){let{translateX:i=0,translateY:n=0}=C,b=h.plotLeft+i;a.attr({x:b,y:n}).show(),A(t,{left:b+"px",top:n+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0}}hideDropdown(){let{dropdown:C}=this;C&&(this.dropdownLabel.hide(),A(C,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let C=this.options,h=this.group,i=C.y,n=C.buttonPosition.y,b=C.inputPosition.y,g=0;return C.height?C.height:(this.alignElements(),g=h?h.getBBox(!0).height+13+i:0,(b<0&&n<0||b>0&&n>0)&&(g+=Math.abs(Math.min(b,n))),g)}titleCollision(C){return!(C.options.title.text||C.options.subtitle.text)}update(C,h=!0){let a=this.chart;p(!0,a.options.rangeSelector,C),this.destroy(),this.init(a),h&&this.render()}destroy(){let C=this,h=C.minInput,a=C.maxInput;C.eventsToUnbind&&(C.eventsToUnbind.forEach(t=>t()),C.eventsToUnbind=void 0),d(C.buttons),h&&(h.onfocus=h.onblur=h.onchange=null),a&&(a.onfocus=a.onblur=a.onchange=null),o(C,function(t,i){t&&"chart"!==i&&(t instanceof U?t.destroy():t instanceof window.HTMLElement&&k(t)),t!==M.prototype[i]&&(C[i]=null)},this)}}return r(M.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),M}),$(v,"Core/Chart/StockChart.js",[v["Core/Chart/Chart.js"],v["Core/Templating.js"],v["Core/Defaults.js"],v["Stock/Navigator/NavigatorDefaults.js"],v["Stock/RangeSelector/RangeSelectorDefaults.js"],v["Stock/Scrollbar/ScrollbarDefaults.js"],v["Stock/Utilities/StockUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){let{format:e}=G,{getOptions:w}=X,{setFixedRange:A}=I,{addEvent:x,clamp:d,crisp:k,defined:r,extend:s,find:u,isNumber:p,isString:o,merge:c,pick:l,splat:f}=T;function m(C,h,a){return"xAxis"===C?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===C?{labels:{y:-2},opposite:a.opposite??h.opposite??!0,showLastLabel:!(!h.categories&&"category"!==h.type),title:{text:"Values"!==a.title?.text?a.title?.text:null}}:{}}function M(C,h){if("xAxis"===C){let t={type:"datetime",categories:void 0};return l(h.navigator&&h.navigator.enabled,F.enabled,!0)&&(t.startOnTick=!1,t.endOnTick=!1),t}return{}}class y extends j{init(h,a){let t=w(),i=h.xAxis,n=h.yAxis,b=l(h.navigator&&h.navigator.enabled,F.enabled,!0);h.xAxis=h.yAxis=void 0;let g=c({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:b},scrollbar:{enabled:l(R.enabled,!0)},rangeSelector:{enabled:l(U.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:l(t.tooltip&&t.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},h,{isStock:!0});h.xAxis=i,h.yAxis=n,g.xAxis=f(h.xAxis||{}).map(P=>c(m("xAxis",P,t.xAxis),P,M("xAxis",h))),g.yAxis=f(h.yAxis||{}).map(P=>c(m("yAxis",P,t.yAxis),P)),super.init(g,a)}createAxis(h,a){return a.axis=c(m(h,a.axis,w()[h]),a.axis,M(h,this.userOptions)),super.createAxis(h,a)}}return x(j,"update",function(C){let h=C.options;"scrollbar"in h&&this.navigator&&(c(!0,this.options.scrollbar,h.scrollbar),this.navigator.update({}),delete h.scrollbar)}),function(C){function h(E){if(!(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&p(this.min)&&p(this.max)))return;let q,K,st,D=this.chart,O=this.logarithmic,S=this.crosshair.label,L=this.horiz,B=this.opposite,_=this.left,Y=this.top,z=this.width,N="inside"===this.options.tickPosition,H=!1!==this.crosshair.snap,V=E.e||this.cross&&this.cross.e,Z=E.point,W=this.crossLabel,J=S.format,et="",ot=0,lt=this.min,nt=this.max;O&&(lt=O.lin2log(this.min),nt=O.lin2log(this.max));let at=L?"center":B?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";W||(W=this.crossLabel=D.renderer.label("",0,void 0,S.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Z&&Z.series?Z.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:S.align||at,padding:l(S.padding,8),r:l(S.borderRadius,3),zIndex:2}).add(this.labelGroup),D.styledMode||W.attr({fill:S.backgroundColor||Z&&Z.series&&Z.series.color||"#666666",stroke:S.borderColor||"","stroke-width":S.borderWidth||0}).css(s({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},S.style||{}))),L?(q=H?(Z.plotX||0)+_:V.chartX,K=Y+(B?0:this.height)):(q=_+this.offset+(B?z:0),K=H?(Z.plotY||0)+Y:V.chartY),J||S.formatter||(this.dateTime&&(et="%b %d, %Y"),J="{value"+(et?":"+et:"")+"}");let pt=H?this.isXAxis?Z.x:Z.y:this.toValue(L?V.chartX:V.chartY),bt=Z&&Z.series?Z.series.isPointInside(Z):p(pt)&&pt>lt&&pt<nt,ht="";J?ht=e(J,{value:pt},D):S.formatter&&p(pt)&&(ht=S.formatter.call(this,pt)),W.attr({text:ht,x:q,y:K,visibility:bt?"inherit":"hidden"});let ct=W.getBBox();!p(W.x)||L||B||(q=W.x-ct.width/2),p(W.y)&&(L?(N&&!B||!N&&B)&&(K=W.y-ct.height):K=W.y-ct.height/2),st=L?{left:_,right:_+this.width}:{left:"left"===this.labelAlign?_:0,right:"right"===this.labelAlign?_+this.width:D.chartWidth};let xt=W.translateX||0;xt<st.left&&(ot=st.left-xt),xt+ct.width>=st.right&&(ot=-(xt+ct.width-st.right)),W.attr({x:q+ot,y:K,anchorX:L?q:this.opposite?0:D.chartWidth,anchorY:L?this.opposite?D.chartHeight:0:K+ct.height/2})}function a(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function t(E){let D=this.chart,O=this.options,S=D._labelPanes=D._labelPanes||{},L=O.labels;if(D.options.isStock&&"yAxis"===this.coll){let B=O.top+","+O.height;!S[B]&&L.enabled&&(15===L.distance&&1===this.side&&(L.distance=0),void 0===L.align&&(L.align="right"),S[B]=this,E.align="right",E.preventDefault())}}function i(){let E=this.chart,D=this.options&&this.options.top+","+this.options.height;D&&E._labelPanes&&E._labelPanes[D]===this&&delete E._labelPanes[D]}function n(E){let V,Z,W,q,J,et,D=this,O=D.isLinked&&!D.series&&D.linkedParent?D.linkedParent.series:D.series,S=D.chart,L=S.renderer,B=D.left,_=D.top,Y=[],z=E.translatedValue,N=E.value,H=E.force,K=[];if(S.options.isStock&&!1!==E.acrossPanes&&"xAxis"===D.coll||"yAxis"===D.coll){for(let st of(E.preventDefault(),K=(ot=>{let lt="xAxis"===ot?"yAxis":"xAxis",nt=D.options[lt];return p(nt)?[S[lt][nt]]:o(nt)?[S.get(nt)]:O.map(at=>at[lt])})(D.coll),D.isXAxis?S.yAxis:S.xAxis))if(!r(st.options.id)||-1===st.options.id.indexOf("navigator")){let ot=st.isXAxis?"yAxis":"xAxis";D===(r(st.options[ot])?S[ot][st.options[ot]]:S[ot][0])&&K.push(st)}for(let st of(J=K.length?[]:[D.isXAxis?S.yAxis[0]:S.xAxis[0]],K))-1!==J.indexOf(st)||u(J,ot=>ot.pos===st.pos&&ot.len===st.len)||J.push(st);if(p(et=l(z,D.translate(N||0,void 0,void 0,E.old))))if(D.horiz)for(let st of J){let ot;q=(Z=st.pos)+st.len,V=W=Math.round(et+D.transB),"pass"!==H&&(V<B||V>B+D.width)&&(H?V=W=d(V,B,B+D.width):ot=!0),ot||Y.push(["M",V,Z],["L",W,q])}else for(let st of J){let ot;W=(V=st.pos)+st.len,Z=q=Math.round(_+D.height-et),"pass"!==H&&(Z<_||Z>_+D.height)&&(H?Z=q=d(Z,_,_+D.height):ot=!0),ot||Y.push(["M",V,Z],["L",W,q])}E.path=Y.length>0?L.crispPolyLine(Y,E.lineWidth||1):void 0}}function b(E){if(this.chart.options.isStock){let D;this.is("column")||this.is("columnrange")?D={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(D={marker:{enabled:!1,radius:2}}),D&&(E.plotOptions[this.type]=c(E.plotOptions[this.type],D))}}function g(){let D=this.options.dataGrouping;return!1!==this.allowDG&&D&&l(D.enabled,this.chart.options.isStock)}function P(E,D){for(let O=0;O<E.length;O+=2){let S=E[O],L=E[O+1];r(S[1])&&S[1]===L[1]&&(S[1]=L[1]=k(S[1],D)),r(S[2])&&S[2]===L[2]&&(S[2]=L[2]=k(S[2],D))}return E}C.compose=function(E,D,O,S){let L=O.prototype;L.forceCropping||(x(D,"afterDrawCrosshair",h),x(D,"afterHideCrosshair",a),x(D,"autoLabelAlign",t),x(D,"destroy",i),x(D,"getPlotLinePath",n),E.prototype.setFixedRange=A,L.forceCropping=g,x(O,"setOptions",b),S.prototype.crispPolyLine=P)},C.stockChart=function(E,D,O){return new C(E,D,O)}}(y||(y={})),y}),$(v,"Series/HLC/HLCPoint.js",[v["Core/Series/SeriesRegistry.js"]],function(j){let{column:{prototype:{pointClass:G}}}=j.seriesTypes;return class extends G{}}),$(v,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),$(v,"Series/HLC/HLCSeries.js",[v["Series/HLC/HLCPoint.js"],v["Series/HLC/HLCSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){let{column:U}=X.seriesTypes,{crisp:R,extend:I,merge:T}=F;class e extends U{extendStem(A,x,d){let k=A[0],r=A[1];"number"==typeof k[2]&&(k[2]=Math.max(d+x,k[2])),"number"==typeof r[2]&&(r[2]=Math.min(d-x,r[2]))}getPointPath(A,x){let d=x.strokeWidth(),k=A.series,r=R(A.plotX||0,d),s=Math.round(A.shapeArgs.width/2),u=[["M",r,Math.round(A.yBottom)],["L",r,Math.round(A.plotHigh)]];if(null!==A.close){let p=R(A.plotClose,d);u.push(["M",r,p],["L",r+s,p]),k.extendStem(u,d/2,p)}return u}drawSinglePoint(A){let k,x=A.series,d=x.chart,r=A.graphic;void 0!==A.plotY&&(r||(A.graphic=r=d.renderer.path().add(x.group)),d.styledMode||r.attr(x.pointAttribs(A,A.selected&&"select")),k=x.getPointPath(A,r),r[r?"animate":"attr"]({d:k}).addClass(A.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(A,x){let d=super.pointAttribs.call(this,A,x);return delete d.fill,d}toYData(A){return[A.high,A.low,A.close]}translate(){let A=this,x=A.yAxis,d=this.pointArrayMap&&this.pointArrayMap.slice()||[],k=d.map(r=>`plot${r.charAt(0).toUpperCase()+r.slice(1)}`);k.push("yBottom"),d.push("low"),super.translate.apply(A),A.points.forEach(function(r){d.forEach(function(s,u){let p=r[s];null!==p&&(A.dataModify&&(p=A.dataModify.modifyValue(p)),r[k[u]]=x.toPixels(p,!0))}),r.tooltipPos[1]=r.plotHigh+x.pos-A.chart.plotTop})}}return e.defaultOptions=T(U.defaultOptions,G),I(e.prototype,{pointClass:j,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),X.registerSeriesType("hlc",e),e}),$(v,"Series/OHLC/OHLCPoint.js",[v["Core/Series/SeriesRegistry.js"]],function(j){let{seriesTypes:{hlc:G}}=j;return class X extends G.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let U=super.getZone();return this.resolveUpColor(),U}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),$(v,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),$(v,"Series/OHLC/OHLCSeries.js",[v["Core/Globals.js"],v["Series/OHLC/OHLCPoint.js"],v["Series/OHLC/OHLCSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){let{composed:R}=j,{hlc:I}=F.seriesTypes,{addEvent:T,crisp:e,extend:w,merge:A,pushUnique:x}=U;function d(s){let u=s.options,p=u.dataGrouping;p&&u.useOhlcData&&"highcharts-navigator-series"!==u.id&&(p.approximation="ohlc")}function k(s){let u=s.options;u.useOhlcData&&"highcharts-navigator-series"!==u.id&&w(this,{pointValKey:r.prototype.pointValKey,pointArrayMap:r.prototype.pointArrayMap,toYData:r.prototype.toYData})}class r extends I{static compose(u,...p){x(R,"OHLCSeries")&&(T(u,"afterSetOptions",d),T(u,"init",k))}getPointPath(u,p){let o=super.getPointPath(u,p),c=p.strokeWidth(),l=e(u.plotX||0,c),f=Math.round(u.shapeArgs.width/2);if(null!==u.open){let m=e(u.plotOpen,c);o.push(["M",l,m],["L",l-f,m]),super.extendStem(o,c/2,m)}return o}pointAttribs(u,p){let o=super.pointAttribs.call(this,u,p),c=this.options;return delete o.fill,!u.options.color&&c.upColor&&u.open<u.close&&(o.stroke=c.upColor),o}toYData(u){return[u.open,u.high,u.low,u.close]}}return r.defaultOptions=A(I.defaultOptions,X),w(r.prototype,{pointClass:G,pointArrayMap:["open","high","low","close"]}),F.registerSeriesType("ohlc",r),r}),$(v,"Series/Candlestick/CandlestickSeriesDefaults.js",[],function(){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),$(v,"Series/Candlestick/CandlestickSeries.js",[v["Series/Candlestick/CandlestickSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X){let{column:F,ohlc:U}=G.seriesTypes,{crisp:R,merge:I}=X;class T extends U{pointAttribs(w,A){let x=F.prototype.pointAttribs.call(this,w,A),d=this.options,k=w.open<w.close,r=d.lineColor||this.color,s=w.color||this.color;if(x["stroke-width"]=d.lineWidth,x.fill=w.options.color||k&&d.upColor||s,x.stroke=w.options.lineColor||k&&d.upLineColor||r,A){let u=d.states[A];x.fill=u.color||x.fill,x.stroke=u.lineColor||x.stroke,x["stroke-width"]=u.lineWidth||x["stroke-width"]}return x}drawPoints(){let w=this.points,A=this.chart,x=this.yAxis.reversed;for(let d of w){let r,s,u,p,o,c,l,f,m,k=d.graphic,M=!k;if(void 0!==d.plotY){k||(d.graphic=k=A.renderer.path().add(this.group)),this.chart.styledMode||k.attr(this.pointAttribs(d,d.selected&&"select")).shadow(this.options.shadow);let y=k.strokeWidth();l=R(d.plotX||0,y),u=Math.min(r=d.plotOpen,s=d.plotClose),p=Math.max(r,s),m=Math.round(d.shapeArgs.width/2),o=x?p!==d.yBottom:Math.round(u)!==Math.round(d.plotHigh||0),c=x?Math.round(u)!==Math.round(d.plotHigh||0):p!==d.yBottom,u=R(u,y),p=R(p,y),(f=[]).push(["M",l-m,p],["L",l-m,u],["L",l+m,u],["L",l+m,p],["Z"],["M",l,u],["L",l,o?Math.round(x?d.yBottom:d.plotHigh):u],["M",l,p],["L",l,c?Math.round(x?d.plotHigh:d.yBottom):p]),k[M?"attr":"animate"]({d:f}).addClass(d.getClassName(),!0)}}}}return T.defaultOptions=I(U.defaultOptions,{tooltip:U.defaultOptions.tooltip},j),G.registerSeriesType("candlestick",T),T}),$(v,"Series/Flags/FlagsPoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G){let{column:{prototype:{pointClass:X}}}=j.seriesTypes,{isNumber:F}=G;return class extends X{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return F(this.y)||void 0===this.y}hasNewShapeType(){let U=this.options.shape||this.series.options.shape;return this.graphic&&U&&U!==this.graphic.symbolKey}}}),$(v,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),$(v,"Series/Flags/FlagsSymbols.js",[v["Core/Renderer/RendererRegistry.js"]],function(j){var G;return function(X){let F=[];function U(I,T,e,w,A){let x=A&&A.anchorX||I,d=A&&A.anchorY||T,k=this.circle(x-1,d-1,2,2);return k.push(["M",x,d],["L",I,T+w],["L",I,T],["L",I+e,T],["L",I+e,T+w],["L",I,T+w],["Z"]),k}function R(I,T){I[T+"pin"]=function(e,w,A,x,d){let k,r=d&&d.anchorX,s=d&&d.anchorY;if("circle"===T&&x>A&&(e-=Math.round((x-A)/2),A=x),k=I[T](e,w,A,x,d),r&&s){let u=r;if("circle"===T)u=e+A/2;else{let o=k[0],c=k[1];"M"===o[0]&&"L"===c[0]&&(u=(o[1]+c[1])/2)}k.push(["M",u,w>s?w:w+x],["L",r,s]),k=k.concat(I.circle(r-1,s-1,2,2))}return k}}X.compose=function(I){if(-1===F.indexOf(I)){F.push(I);let e=I.prototype.symbols;e.flag=U,R(e,"circle"),R(e,"square")}let T=j.getRendererType();F.indexOf(T)&&F.push(T)}}(G||(G={})),G}),$(v,"Series/OnSeriesComposition.js",[v["Series/Column/ColumnSeries.js"],v["Core/Globals.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){var U;let{composed:R}=G,{prototype:I}=j,{prototype:T}=X,{defined:e,pushUnique:w,stableSort:A}=F;return function(x){function d(r){return T.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,r)}function k(){I.translate.apply(this);let h,a,b,g,P,E,D,r=this,s=r.options,u=r.chart,p=r.points,o=s.onSeries,c=o&&u.get(o),l=c&&c.options.step,f=c&&c.points,m=u.inverted,M=r.xAxis,y=r.yAxis,C=p.length-1,t=s.onKey||"y",i=f&&f.length,n=0;if(c&&c.visible&&i)for(n=(c.pointXOffset||0)+(c.barW||0)/2,E=c.currentDataGrouping,g=f[i-1].x+(E?E.totalRange:0),A(p,(O,S)=>O.x-S.x),t="plot"+t[0].toUpperCase()+t.substr(1);i--&&p[C];)if(b=f[i],(h=p[C]).y=b.y,b.x<=h.x&&void 0!==b[t]){if(h.x<=g&&(h.plotY=b[t],b.x<h.x&&!l&&(P=f[i+1])&&void 0!==P[t]))if(e(h.plotX)&&c.is("spline")){let N,O=[b.plotX||0,b.plotY||0],S=[P.plotX||0,P.plotY||0],L=b.controlPoints?.high||O,B=P.controlPoints?.low||S,_=(H,V)=>Math.pow(1-H,3)*O[V]+3*(1-H)*(1-H)*H*L[V]+3*(1-H)*H*H*B[V]+H*H*H*S[V],Y=0,z=1;for(let H=0;H<100;H++){let V=(Y+z)/2,Z=_(V,0);if(null===Z)break;if(.25>Math.abs(Z-h.plotX)){N=V;break}Z<h.plotX?Y=V:z=V}e(N)&&(h.plotY=_(N,1),h.y=y.toValue(h.plotY,!0))}else D=(h.x-b.x)/(P.x-b.x),h.plotY+=D*(P[t]-b[t]),h.y+=D*(P.y-b.y);if(C--,i++,C<0)break}p.forEach((O,S)=>{let L;O.plotX+=n,(void 0===O.plotY||m)&&(O.plotX>=0&&O.plotX<=M.len?m?(O.plotY=M.translate(O.x,0,1,0,1),O.plotX=e(O.y)?y.translate(O.y,0,0,0,1):0):O.plotY=(M.opposite?0:r.yAxis.len)+M.offset:O.shapeArgs={}),(a=p[S-1])&&a.plotX===O.plotX&&(void 0===a.stackIndex&&(a.stackIndex=0),L=a.stackIndex+1),O.stackIndex=L}),this.onSeries=c}x.compose=function(r){if(w(R,"OnSeries")){let s=r.prototype;s.getPlotBox=d,s.translate=k}return r},x.getPlotBox=d,x.translate=k}(U||(U={})),U}),$(v,"Series/Flags/FlagsSeries.js",[v["Series/Flags/FlagsPoint.js"],v["Series/Flags/FlagsSeriesDefaults.js"],v["Series/Flags/FlagsSymbols.js"],v["Core/Globals.js"],v["Series/OnSeriesComposition.js"],v["Core/Renderer/RendererUtilities.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Renderer/SVG/SVGElement.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T,e){let{noop:w}=F,{distribute:A}=R,{series:x,seriesTypes:{column:d}}=I,{addEvent:k,defined:r,extend:s,isNumber:u,merge:p,objectEach:o,wrap:c}=e;class l extends d{animate(m){m&&this.setClip()}drawPoints(){let m,M,y,C,h,a,t,i,n,b,g,P=this.points,E=this.chart,D=E.renderer,O=E.inverted,S=this.options,L=S.y,B=this.yAxis,_={},Y=[],z=u(S.borderRadius)?S.borderRadius:0;for(C=P.length;C--;)h=P[C],b=(O?h.plotY:h.plotX)>this.xAxis.len,m=h.plotX,t=h.stackIndex,y=h.options.shape||S.shape,void 0!==(M=h.plotY)&&(M=h.plotY+L-(void 0!==t&&t*S.stackDistance)),h.anchorX=t?void 0:h.plotX,i=t?void 0:h.plotY,g="flag"!==y,a=h.graphic,void 0!==M&&m>=0&&!b?(a&&h.hasNewShapeType()&&(a=a.destroy()),a||(a=h.graphic=D.label("",0,void 0,y,void 0,void 0,S.useHTML).addClass("highcharts-point").add(this.markerGroup),h.graphic.div&&(h.graphic.div.point=h),a.isNew=!0),a.attr({align:g?"center":"left",width:S.width,height:S.height,"text-align":S.textAlign,r:z}),E.styledMode||a.attr(this.pointAttribs(h)).css(p(S.style,h.style)).shadow(S.shadow),m>0&&(m-=a.strokeWidth()%2),n={y:M,anchorY:i},S.allowOverlapX&&(n.x=m,n.anchorX=h.anchorX),a.attr({text:h.options.title??S.title??"A"})[a.isNew?"attr":"animate"](n),S.allowOverlapX||(_[h.plotX]?_[h.plotX].size=Math.max(_[h.plotX].size,a.width||0):_[h.plotX]={align:g?.5:0,size:a.width||0,target:m,anchorX:m}),h.tooltipPos=[m,M+B.pos-E.plotTop]):a&&(h.graphic=a.destroy());if(!S.allowOverlapX){let N=100;for(let H of(o(_,function(V){V.plotX=V.anchorX,Y.push(V),N=Math.max(V.size,N)}),A(Y,O?B.len:this.xAxis.len,N),P)){let Z=H.graphic,W=Z&&_[H.plotX];W&&Z&&(r(W.pos)?Z[Z.isNew?"attr":"animate"]({x:W.pos+(W.align||0)*W.size,anchorX:H.anchorX}).show().isNew=!1:Z.hide().isNew=!0)}}S.useHTML&&this.markerGroup&&c(this.markerGroup,"on",function(N){return T.prototype.on.apply(N.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let m=this.points;for(let M of(super.drawTracker(),m)){let y=M.graphic;y&&(M.unbindMouseOver&&M.unbindMouseOver(),M.unbindMouseOver=k(y.element,"mouseover",function(){for(let C of(M.stackIndex>0&&!M.raised&&(M._y=y.y,y.attr({y:M._y-8}),M.raised=!0),m))C!==M&&C.raised&&C.graphic&&(C.graphic.attr({y:C._y}),C.raised=!1)}))}}pointAttribs(m,M){let y=this.options,C=m&&m.color||this.color,h=y.lineColor,a=m&&m.lineWidth,t=m&&m.fillColor||y.fillColor;return M&&(t=y.states[M].fillColor,h=y.states[M].lineColor,a=y.states[M].lineWidth),{fill:t||C,stroke:h||C,"stroke-width":a||y.lineWidth||0}}setClip(){x.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return l.compose=X.compose,l.defaultOptions=p(d.defaultOptions,G),U.compose(l),s(l.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:j,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:w,init:x.prototype.init}),I.registerSeriesType("flags",l),l}),$(v,"Core/Axis/BrokenAxis.js",[v["Core/Axis/Stacking/StackItem.js"],v["Core/Utilities.js"]],function(j,G){var X;let{addEvent:F,find:U,fireEvent:R,isArray:I,isNumber:T,pick:e}=G;return function(w){function A(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function x(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function d(){let c=this.brokenAxis;if(c?.hasBreaks){let l=this.tickPositions,f=this.tickPositions.info,m=[];for(let M=0;M<l.length;M++)c.isInAnyBreak(l[M])||m.push(l[M]);this.tickPositions=m,this.tickPositions.info=f}}function k(){this.brokenAxis||(this.brokenAxis=new o(this))}function r(){let{isDirty:c,options:{connectNulls:l},points:f,xAxis:m,yAxis:M}=this;if(c){let y=f.length;for(;y--;){let C=f[y],h=!(null===C.y&&!1===l)&&(m?.brokenAxis?.isInAnyBreak(C.x,!0)||M?.brokenAxis?.isInAnyBreak(C.y,!0));C.visible=!h&&!1!==C.options.visible}}}function s(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,e(this.pointArrayMap,["y"]))}function u(c,l){let f,m,M,y=this,C=y.points;if(c?.brokenAxis?.hasBreaks){let h=c.brokenAxis;l.forEach(function(a){f=h?.breakArray||[],m=c.isXAxis?c.min:e(y.options.threshold,c.min);let t=c?.options?.breaks?.filter(function(i){let n=!0;for(let b=0;b<f.length;b++){let g=f[b];if(g.from===i.from&&g.to===i.to){n=!1;break}}return n});C.forEach(function(i){M=e(i["stack"+a.toUpperCase()],i[a]),f.forEach(function(n){if(T(m)&&T(M)){let b="";m<n.from&&M>n.to||m>n.from&&M<n.from?b="pointBreak":(m<n.from&&M>n.from&&M<n.to||m>n.from&&M>n.to&&M<n.from)&&(b="pointInBreak"),b&&R(c,b,{point:i,brk:n})}}),t?.forEach(function(n){R(c,"pointOutsideOfBreak",{point:i,brk:n})})})})}}function p(){let l=this.currentDataGrouping?.gapSize,f=this.points.slice(),m=this.yAxis,M=this.options.gapSize,y=f.length-1;if(M&&y>0){let C,h;for("value"!==this.options.gapUnit&&(M*=this.basePointRange),l&&l>M&&l>=this.basePointRange&&(M=l);y--;)if(h&&!1!==h.visible||(h=f[y+1]),C=f[y],!1!==h.visible&&!1!==C.visible){if(h.x-C.x>M){let a=(C.x+h.x)/2;f.splice(y+1,0,{isNull:!0,x:a}),m.stacking&&this.options.stacking&&((m.stacking.stacks[this.stackKey][a]=new j(m,m.options.stackLabels,!1,a,this.stack)).total=0)}h=C}}return this.getGraphPath(f)}w.compose=function(c,l){if(!c.keepProps.includes("brokenAxis")){c.keepProps.push("brokenAxis"),F(c,"init",k),F(c,"afterInit",A),F(c,"afterSetTickPositions",d),F(c,"afterSetOptions",x);let f=l.prototype;f.drawBreaks=u,f.gappedPath=p,F(l,"afterGeneratePoints",r),F(l,"afterRender",s)}return c};class o{static isInBreak(l,f){let m=l.repeat||1/0,M=l.from,y=l.to-l.from,C=f>=M?(f-M)%m:m-(M-f)%m;return l.inclusive?C<=y:C<y&&0!==C}static lin2Val(l){let f=this.brokenAxis,m=f&&f.breakArray;if(!m||!T(l))return l;let y,C,M=l;for(C=0;C<m.length&&!((y=m[C]).from>=M);C++)(y.to<M||o.isInBreak(y,M))&&(M+=y.len);return M}static val2Lin(l){let f=this.brokenAxis,m=f&&f.breakArray;if(!m||!T(l))return l;let y,C,M=l;for(C=0;C<m.length;C++)if((y=m[C]).to<=l)M-=y.len;else{if(y.from>=l)break;if(o.isInBreak(y,l)){M-=l-y.from;break}}return M}constructor(l){this.hasBreaks=!1,this.axis=l}findBreakAt(l,f){return U(f,function(m){return m.from<l&&l<m.to})}isInAnyBreak(l,f){let C,h,a,m=this.axis,M=m.options.breaks||[],y=M.length;if(y&&T(l)){for(;y--;)o.isInBreak(M[y],l)&&(C=!0,h||(h=e(M[y].showPoints,!m.isXAxis)));a=C&&f?C&&!h:C}return a}setBreaks(l,f){let m=this,M=m.axis,y=I(l)&&!!l.length&&!!Object.keys(l[0]).length;M.isDirty=m.hasBreaks!==y,m.hasBreaks=y,l!==M.options.breaks&&(M.options.breaks=M.userOptions.breaks=l),M.forceRedraw=!0,M.series.forEach(function(C){C.isDirty=!0}),y||M.val2lin!==o.val2Lin||(delete M.val2lin,delete M.lin2val),y&&(M.userOptions.ordinal=!1,M.lin2val=o.lin2Val,M.val2lin=o.val2Lin,M.setExtremes=function(C,h,a,t,i){if(m.hasBreaks){let n,b=this.options.breaks||[];for(;n=m.findBreakAt(C,b);)C=n.to;for(;n=m.findBreakAt(h,b);)h=n.from;h<C&&(h=C)}M.constructor.prototype.setExtremes.call(this,C,h,a,t,i)},M.setAxisTranslation=function(){if(M.constructor.prototype.setAxisTranslation.call(this),m.unitLength=void 0,m.hasBreaks){let n,b,E,D,C=M.options.breaks||[],h=[],a=[],t=e(M.pointRangePadding,0),i=0,g=M.userMin||M.min,P=M.userMax||M.max;C.forEach(function(O){b=O.repeat||1/0,T(g)&&T(P)&&(o.isInBreak(O,g)&&(g+=O.to%b-g%b),o.isInBreak(O,P)&&(P-=P%b-O.from%b))}),C.forEach(function(O){if(E=O.from,b=O.repeat||1/0,T(g)&&T(P)){for(;E-b>g;)E-=b;for(;E<g;)E+=b;for(D=E;D<P;D+=b)h.push({value:D,move:"in"}),h.push({value:D+O.to-O.from,move:"out",size:O.breakSize})}}),h.sort(function(O,S){return O.value===S.value?("in"===O.move?0:1)-("in"===S.move?0:1):O.value-S.value}),n=0,E=g,h.forEach(function(O){1===(n+="in"===O.move?1:-1)&&"in"===O.move&&(E=O.value),0===n&&T(E)&&(a.push({from:E,to:O.value,len:O.value-E-(O.size||0)}),i+=O.value-E-(O.size||0))}),m.breakArray=a,T(g)&&T(P)&&T(M.min)&&(m.unitLength=P-g-i+t,R(M,"afterBreaks"),M.staticScale?M.transA=M.staticScale:m.unitLength&&(M.transA*=(P-M.min+t)/m.unitLength),t&&(M.minPixelPadding=M.transA*(M.minPointOffset||0)),M.min=g,M.max=P)}}),e(f,!0)&&M.chart.redraw()}}w.Additions=o}(X||(X={})),X}),$(v,"masters/modules/broken-axis.src.js",[v["Core/Globals.js"],v["Core/Axis/BrokenAxis.js"]],function(j,G){return j.BrokenAxis=j.BrokenAxis||G,j.BrokenAxis.compose(j.Axis,j.Series),j}),$(v,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),$(v,"Extensions/DataGrouping/ApproximationDefaults.js",[v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Core/Utilities.js"]],function(j,G){let{arrayMax:X,arrayMin:F,correctFloat:U,extend:R,isNumber:I}=G;function T(A){let x=A.length,d=e(A);return I(d)&&x&&(d=U(d/x)),d}function e(A){let d,x=A.length;if(!x&&A.hasNulls)d=null;else if(x)for(d=0;x--;)d+=A[x];return d}let w={average:T,averages:function(){let A=[];return[].forEach.call(arguments,function(x){A.push(T(x))}),void 0===A[0]?void 0:A},close:function(A){return A.length?A[A.length-1]:A.hasNulls?null:void 0},high:function(A){return A.length?X(A):A.hasNulls?null:void 0},hlc:function(A,x,d){if(A=j.high(A),x=j.low(x),d=j.close(d),I(A)||I(x)||I(d))return[A,x,d]},low:function(A){return A.length?F(A):A.hasNulls?null:void 0},ohlc:function(A,x,d,k){if(A=j.open(A),x=j.high(x),d=j.low(d),k=j.close(k),I(A)||I(x)||I(d)||I(k))return[A,x,d,k]},open:function(A){return A.length?A[0]:A.hasNulls?null:void 0},range:function(A,x){return A=j.low(A),x=j.high(x),I(A)||I(x)?[A,x]:null===A&&null===x?null:void 0},sum:e};return R(j,w),w}),$(v,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),$(v,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Core/Utilities.js"]],function(j,G){let X,{addEvent:F,extend:U,merge:R,pick:I}=G;function T(x){let d=this,k=d.series;k.forEach(function(r){r.groupPixelWidth=void 0}),k.forEach(function(r){r.groupPixelWidth=d.getGroupPixelWidth&&d.getGroupPixelWidth(),r.groupPixelWidth&&(r.hasProcessed=!0),r.applyGrouping(!!x.hasExtremesChanged)})}function e(){let s,u,x=this.series,d=x.length,k=0,r=!1;for(;d--;)(u=x[d].options.dataGrouping)&&(k=Math.max(k,I(u.groupPixelWidth,j.common.groupPixelWidth)),s=(x[d].processedXData||x[d].data).length,(x[d].groupPixelWidth||s>this.chart.plotSizeX/k||s&&u.forced)&&(r=!0));return r?k:0}function w(){this.series.forEach(function(x){x.hasProcessed=!1})}function A(x,d){let k;if(d=I(d,!0),x||(x={forced:!1,units:null}),this instanceof X)for(k=this.series.length;k--;)this.series[k].update({dataGrouping:x},!1);else this.chart.options.series.forEach(function(r){r.dataGrouping="boolean"==typeof x?x:R(x,r.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),d&&this.chart.redraw()}return{compose:function(x){X=x;let d=x.prototype;d.applyGrouping||(F(x,"afterSetScale",w),F(x,"postProcessData",T),U(d,{applyGrouping:T,getGroupPixelWidth:e,setDataGrouping:A}))}}}),$(v,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Core/Axis/DateTimeAxis.js"],v["Core/Defaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){let{series:{prototype:I}}=U,{addEvent:T,defined:e,error:w,extend:A,isNumber:x,merge:d,pick:k}=R,r=I.generatePoints;function s(f){var m;let M,y,n,b,C=this.chart,h=this.options.dataGrouping,a=!1!==this.allowDG&&h&&k(h.enabled,C.options.isStock),t=this.reserveSpace(),i=this.currentDataGrouping,g=!1;a&&!this.requireSorting&&(this.requireSorting=g=!0);let P=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||f)||!a;if(g&&(this.requireSorting=!1),P)return;this.destroyGroupedData();let E=h.groupAll?this.xData:this.processedXData,D=h.groupAll?this.yData:this.processedYData,O=C.plotSizeX,S=this.xAxis,L=S.options.ordinal,B=this.groupPixelWidth;if(B&&E&&E.length&&O){y=!0,this.isDirty=!0,this.points=null;let _=S.getExtremes(),Y=_.min,z=_.max,N=L&&S.ordinal&&S.ordinal.getGroupIntervalFactor(Y,z,this)||1,V=S.getTimeTicks(X.Additions.prototype.normalizeTimeTickInterval(B*(z-Y)/O*N,h.units||G.units),Math.min(Y,E[0]),Math.max(z,E[E.length-1]),S.options.startOfWeek,E,this.closestPointRange),Z=I.groupData.apply(this,[E,D,V,h.approximation]),W=Z.groupedXData,q=Z.groupedYData,K=0;for(h&&h.smoothed&&W.length&&(h.firstAnchor="firstPoint",h.anchor="middle",h.lastAnchor="lastPoint",w(32,!1,C,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),M=1;M<V.length;M++)V.info.segmentStarts&&-1!==V.info.segmentStarts.indexOf(M)||(K=Math.max(V[M]-V[M-1],K));(n=V.info).gapSize=K,this.closestPointRange=V.info.totalRange,this.groupMap=Z.groupMap,this.currentDataGrouping=n,function(J,et,st){let ot=J.options.dataGrouping,lt=J.currentDataGrouping&&J.currentDataGrouping.gapSize;if(!(ot&&J.xData&&lt&&J.groupMap))return;let nt=et.length-1,at=ot.anchor,pt=ot.firstAnchor,bt=ot.lastAnchor,ht=et.length-1,ct=0;if(pt&&J.xData[0]>=et[0]){let xt;ct++;let ft=J.groupMap[0].start,yt=J.groupMap[0].length;x(ft)&&x(yt)&&(xt=ft+(yt-1)),et[0]={start:et[0],middle:et[0]+.5*lt,end:et[0]+lt,firstPoint:J.xData[0],lastPoint:xt&&J.xData[xt]}[pt]}if(nt>0&&bt&&lt&&et[nt]>=st-lt){ht--;let xt=J.groupMap[J.groupMap.length-1].start;et[nt]={start:et[nt],middle:et[nt]+.5*lt,end:et[nt]+lt,firstPoint:xt&&J.xData[xt],lastPoint:J.xData[J.xData.length-1]}[bt]}if(at&&"start"!==at){let xt=lt*{middle:.5,end:1}[at];for(;ht>=ct;)et[ht]+=xt,ht--}}(this,W,z),t&&(e((m=W)[0])&&x(S.min)&&x(S.dataMin)&&m[0]<S.min&&((!e(S.options.min)&&S.min<=S.dataMin||S.min===S.dataMin)&&(S.min=Math.min(m[0],S.min)),S.dataMin=Math.min(m[0],S.dataMin)),e(m[m.length-1])&&x(S.max)&&x(S.dataMax)&&m[m.length-1]>S.max&&((!e(S.options.max)&&x(S.dataMax)&&S.max>=S.dataMax||S.max===S.dataMax)&&(S.max=Math.max(m[m.length-1],S.max)),S.dataMax=Math.max(m[m.length-1],S.dataMax))),h.groupAll&&(this.allGroupedData=q,W=(b=this.cropData(W,q,S.min,S.max)).xData,q=b.yData,this.cropStart=b.start),this.processedXData=W,this.processedYData=q}else this.groupMap=null,this.currentDataGrouping=void 0;this.hasGroupedData=y,this.preventGraphAnimation=(i&&i.totalRange)!==(n&&n.totalRange)}function u(){this.groupedData&&(this.groupedData.forEach(function(f,m){f&&(this.groupedData[m]=f.destroy?f.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedData)}function p(){r.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function o(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function c(f,m,M,y){let L,B,_,C=this,h=C.data,a=C.options&&C.options.data,t=[],i=[],n=[],b=f.length,g=!!m,P=[],E=C.pointArrayMap,D=E&&E.length,O=["x"].concat(E||["y"]),S=this.options.dataGrouping&&this.options.dataGrouping.groupAll,Y=0,z=0,N="function"==typeof y?y:y&&j[y]?j[y]:j[C.getDGApproximation&&C.getDGApproximation()||"average"];if(D){let V=E.length;for(;V--;)P.push([])}else P.push([]);let H=D||1;for(let V=0;V<=b;V++)if(!(f[V]<M[0])){for(;void 0!==M[Y+1]&&f[V]>=M[Y+1]||V===b;){L=M[Y],C.dataGroupInfo={start:S?z:C.cropStart+z,length:P[0].length,groupStart:L},_=N.apply(C,P),C.pointClass&&!e(C.dataGroupInfo.options)&&(C.dataGroupInfo.options=d(C.pointClass.prototype.optionsToObject.call({series:C},C.options.data[C.cropStart+z])),O.forEach(function(Z){delete C.dataGroupInfo.options[Z]})),void 0!==_&&(t.push(L),i.push(_),n.push(C.dataGroupInfo)),z=V;for(let Z=0;Z<H;Z++)P[Z].length=0,P[Z].hasNulls=!1;if(Y+=1,V===b)break}if(V===b)break;if(E){let Z,W=C.options.dataGrouping&&C.options.dataGrouping.groupAll?V:C.cropStart+V,q=h&&h[W]||C.pointClass.prototype.applyOptions.apply({series:C},[a[W]]);for(let K=0;K<D;K++)x(Z=q[E[K]])?P[K].push(Z):null===Z&&(P[K].hasNulls=!0)}else x(B=g?m[V]:null)?P[0].push(B):null===B&&(P[0].hasNulls=!0)}return{groupedXData:t,groupedYData:i,groupMap:n}}function l(f){let m=f.options,M=this.type,y=this.chart.options.plotOptions,C=this.useCommonDataGrouping&&G.common,h=G.seriesSpecific,a=F.defaultOptions.plotOptions[M].dataGrouping;if(y&&(h[M]||C)){let t=this.chart.rangeSelector;a||(a=d(G.common,h[M])),m.dataGrouping=d(C,a,y.series&&y.series.dataGrouping,y[M].dataGrouping,this.userOptions.dataGrouping,!m.isInternal&&t&&x(t.selected)&&t.buttonOptions[t.selected].dataGrouping)}}return{compose:function(f){let m=f.prototype;m.applyGrouping||(T(f.prototype.pointClass,"update",function(){if(this.dataGroup)return w(24,!1,this.series.chart),!1}),T(f,"afterSetOptions",l),T(f,"destroy",u),A(m,{applyGrouping:s,destroyGroupedData:u,generatePoints:p,getDGApproximation:o,groupData:c}))},groupData:c}}),$(v,"Extensions/DataGrouping/DataGrouping.js",[v["Extensions/DataGrouping/DataGroupingAxisComposition.js"],v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){let{format:I}=F,{composed:T}=U,{addEvent:e,extend:w,isNumber:A,pick:x,pushUnique:d}=R;function k(r){let C,h,a,t,i,s=this.chart,u=s.time,p=r.labelConfig,o=p.series,c=p.point,f=o.tooltipOptions,m=o.options.dataGrouping,M=o.xAxis,y=f.xDateFormat,n=f[r.isFooter?"footerFormat":"headerFormat"];if(M&&"datetime"===M.options.type&&m&&A(p.key)){h=o.currentDataGrouping,a=m.dateTimeLabelFormats||G.common.dateTimeLabelFormats,h?(t=a[h.unitName],1===h.count?y=t[0]:(y=t[1],C=t[2])):!y&&a&&M.dateTime&&(y=M.dateTime.getXDateFormat(p.x,f.dateTimeLabelFormats));let b=x(o.groupMap?.[c.index].groupStart,p.key),g=b+h?.totalRange-1;i=u.dateFormat(y,b),C&&(i+=u.dateFormat(C,g)),o.chart.styledMode&&(n=this.styledModeFormat(n)),r.text=I(n,{point:w(p.point,{key:i}),series:o},s),r.preventDefault()}}return{compose:function(r,s,u){j.compose(r),X.compose(s),u&&d(T,"DataGrouping")&&e(u,"headerFormatter",k)},groupData:X.groupData}}),$(v,"masters/modules/datagrouping.src.js",[v["Core/Globals.js"],v["Extensions/DataGrouping/ApproximationDefaults.js"],v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Extensions/DataGrouping/DataGrouping.js"]],function(j,G,X,F){return j.dataGrouping=j.dataGrouping||{},j.dataGrouping.approximationDefaults=j.dataGrouping.approximationDefaults||G,j.dataGrouping.approximations=j.dataGrouping.approximations||X,F.compose(j.Axis,j.Series,j.Tooltip),j}),$(v,"Extensions/Annotations/NavigationBindingsUtilities.js",[v["Core/Utilities.js"]],function(j){let{defined:G,isNumber:X,pick:F}=j,U={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:U,getAssignedAxis:function(R){return R.filter(I=>{let T=I.axis.getExtremes(),e=T.min,w=T.max,A=F(I.axis.minPointOffset,0);return X(e)&&X(w)&&I.value>=e-A&&I.value<=w+A&&!I.axis.options.isInternal})[0]},getFieldType:function(R,I){let T=U[R],e=typeof I;return G(T)&&(e=T),{string:"text",number:"number",boolean:"checkbox"}[e]}}}),$(v,"Extensions/MouseWheelZoom/MouseWheelZoom.js",[v["Core/Utilities.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"]],function(j,G){let X,{addEvent:F,isObject:U,pick:R,defined:I,merge:T}=j,{getAssignedAxis:e}=G,w=[],A={enabled:!0,sensitivity:1.1};function k(){let r=(r=>(U(r)||(r={enabled:r??!0}),T(A,r)))(this.zooming.mouseWheel);r.enabled&&F(this.container,"wheel",s=>{s=this.pointer?.normalize(s)||s;let{pointer:u}=this,p=u&&!u.inClass(s.target,"highcharts-no-mousewheel");if(this.isInsidePlot(s.chartX-this.plotLeft,s.chartY-this.plotTop)&&p){let o=r.sensitivity||1.1,c=s.detail||(s.deltaY||0)/120,l=e(u.getCoordinates(s).xAxis),f=e(u.getCoordinates(s).yAxis);(function(r,s,u,p,o,c,l){let f=R(l.type,r.zooming.type,""),m=[];"x"===f?m=u:"y"===f?m=p:"xy"===f&&(m=r.axes);let M=r.transform({axes:m,to:{x:o-5,y:c-5,width:10,height:10},from:{x:o-5*s,y:c-5*s,width:10*s,height:10*s},trigger:"mousewheel"});return M&&(I(X)&&clearTimeout(X),X=setTimeout(()=>{r.pointer?.drop()},400)),M})(this,Math.pow(o,c),l?[l.axis]:this.xAxis,f?[f.axis]:this.yAxis,s.chartX,s.chartY,r)&&s.preventDefault?.()}})}return{compose:function(r){-1===w.indexOf(r)&&(w.push(r),F(r,"afterGetContainer",k))}}}),$(v,"masters/modules/mouse-wheel-zoom.src.js",[v["Core/Globals.js"],v["Extensions/MouseWheelZoom/MouseWheelZoom.js"]],function(j,G){return j.MouseWheelZoom=j.MouseWheelZoom||G,j.MouseWheelZoom.compose(j.Chart),j}),$(v,"masters/modules/stock.src.js",[v["Core/Globals.js"],v["Series/DataModifyComposition.js"],v["Stock/Navigator/Navigator.js"],v["Core/Axis/OrdinalAxis.js"],v["Stock/RangeSelector/RangeSelector.js"],v["Stock/Scrollbar/Scrollbar.js"],v["Core/Chart/StockChart.js"],v["Series/OHLC/OHLCSeries.js"],v["Series/Flags/FlagsSeries.js"]],function(j,G,X,F,U,R,I,T,e){return j.Navigator=j.Navigator||X,j.OrdinalAxis=j.OrdinalAxis||F,j.RangeSelector=j.RangeSelector||U,j.Scrollbar=j.Scrollbar||R,j.stockChart=j.stockChart||I.stockChart,j.StockChart=j.StockChart||j.stockChart,j.extend(j.StockChart,I),G.compose(j.Series,j.Axis,j.Point),e.compose(j.Renderer),T.compose(j.Series),j.Navigator.compose(j.Chart,j.Axis,j.Series),j.OrdinalAxis.compose(j.Axis,j.Series,j.Chart),j.RangeSelector.compose(j.Axis,j.Chart),j.Scrollbar.compose(j.Axis),j.StockChart.compose(j.Chart,j.Axis,j.Series,j.SVGRenderer),j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))},3885:(kt,Ot,ut)=>{var Pt,Ct,gt;gt=function(gt){"use strict";var v=gt?gt._modules:{};function $(j,G,X,F){j.hasOwnProperty(G)||(j[G]=F.apply(null,X),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:G,module:j[G]}})))}$(v,"Series/DataModifyComposition.js",[v["Core/Axis/Axis.js"],v["Core/Series/Point.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{tooltipFormatter:U}=G.prototype,{addEvent:R,arrayMax:I,arrayMin:T,correctFloat:e,defined:w,isArray:A,isNumber:x,isString:d,pick:k}=F;var r;return function(s){function p(a,t,i){this.isXAxis||(this.series.forEach(function(n){"compare"===a&&"boolean"!=typeof t?n.setCompare(t,!1):"cumulative"===a&&!d(t)&&n.setCumulative(t,!1)}),k(i,!0)&&this.chart.redraw())}function o(a){const t=this,{numberFormatter:i}=t.series.chart,n=function(b){a=a.replace("{point."+b+"}",(t[b]>0&&"change"===b?"+":"")+i(t[b],k(t.series.tooltipOptions.changeDecimals,2)))};return w(t.change)&&n("change"),w(t.cumulativeSum)&&n("cumulativeSum"),U.apply(this,[a])}function c(){const a=this.options.compare;let t;("percent"===a||"value"===a||this.options.cumulative)&&(t=new h(this),"percent"===a||"value"===a?t.initCompare(a):t.initCumulative()),this.dataModify=t}function l(a){const t=a.dataExtremes,i=t.activeYData;if(this.dataModify&&t){let n;this.options.compare?n=[this.dataModify.modifyValue(t.dataMin),this.dataModify.modifyValue(t.dataMax)]:this.options.cumulative&&A(i)&&i.length>=2&&(n=h.getCumulativeExtremes(i)),n&&(t.dataMin=T(n),t.dataMax=I(n))}}function f(a,t){this.options.compare=this.userOptions.compare=a,this.update({},k(t,!0)),!this.dataModify||"value"!==a&&"percent"!==a?this.points.forEach(i=>{delete i.change}):this.dataModify.initCompare(a)}function m(){const a=this;if(a.xAxis&&a.processedYData&&a.dataModify){const t=a.processedXData,i=a.processedYData,n=i.length,b=!0===a.options.compareStart?0:1;let P,g=-1;for(a.pointArrayMap&&(g=a.pointArrayMap.indexOf(a.options.pointValKey||a.pointValKey||"y")),P=0;P<n-b;P++){const E=i[P]&&g>-1?i[P][g]:i[P];if(x(E)&&0!==E&&t[P+b]>=(a.xAxis.min||0)){a.dataModify.compareValue=E;break}}}}function M(a,t){this.setModifier("compare",a,t)}function y(a,t){a=k(a,!1),this.options.cumulative=this.userOptions.cumulative=a,this.update({},k(t,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(i=>{delete i.cumulativeSum})}function C(a,t){this.setModifier("cumulative",a,t)}s.compose=function u(a,t,i){const n=t.prototype,b=i.prototype,g=a.prototype;return g.setCompare||(g.setCompare=f,g.setCumulative=y,R(a,"afterInit",c),R(a,"afterGetExtremes",l),R(a,"afterProcessData",m)),n.setCompare||(n.setCompare=M,n.setModifier=p,n.setCumulative=C,b.tooltipFormatter=o),a};class h{constructor(t){this.series=t}modifyValue(){return 0}static getCumulativeExtremes(t){let i=1/0,n=-1/0;return t.reduce((b,g)=>{const P=b+g;return i=Math.min(i,P,b),n=Math.max(n,P,b),P}),[i,n]}initCompare(t){this.modifyValue=function(i,n){null===i&&(i=0);const b=this.compareValue;if(typeof i<"u"&&typeof b<"u"){if("value"===t?i-=b:i=i/b*100-(100===this.series.options.compareBase?0:100),typeof n<"u"){const g=this.series.points[n];g&&(g.change=i)}return i}return 0}}initCumulative(){this.modifyValue=function(t,i){if(null===t&&(t=0),void 0!==t&&void 0!==i){const n=i>0?this.series.points[i-1]:null;n&&n.cumulativeSum&&(t=e(n.cumulativeSum+t));const b=this.series.points[i];return b&&(b.cumulativeSum=!b.series.options.cumulativeStart||b.x<=this.series.xAxis.max&&b.x>=this.series.xAxis.min?t:void 0),t}return 0}}}s.Additions=h}(r||(r={})),r}),$(v,"Stock/Navigator/ChartNavigatorComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{isTouchDevice:X}=j,{addEvent:F,merge:U,pick:R}=G,I=[];let T;function w(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function A(){const p=this.legend,o=this.navigator;let c,l,f;if(o){c=p&&p.options,l=o.xAxis,f=o.yAxis;const{scrollbarHeight:m,scrollButtonSize:M}=o;this.inverted?(o.left=o.opposite?this.chartWidth-m-o.height:this.spacing[3]+m,o.top=this.plotTop+M):(o.left=R(l.left,this.plotLeft+M),o.top=o.navigatorOptions.top||this.chartHeight-o.height-m-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(c&&"bottom"===c.verticalAlign&&"proximate"!==c.layout&&c.enabled&&!c.floating?p.legendHeight+R(c.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),l&&f&&(this.inverted?l.options.left=f.options.left=o.left:l.options.top=f.options.top=o.top,l.setAxisSize(),f.setAxisSize())}}function x(p){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new T(this),R(p.redraw,!0)&&this.redraw(p.animation))}function d(){const p=this.options;(p.navigator.enabled||p.scrollbar.enabled)&&(this.scroller=this.navigator=new T(this))}function k(){const p=this.options,o=p.navigator,c=p.rangeSelector;if((o&&o.enabled||c&&c.enabled)&&(!X&&"x"===this.zooming.type||X&&"x"===this.zooming.pinchType))return!1}function r(p){const o=p.navigator;if(o&&p.xAxis[0]){const c=p.xAxis[0].getExtremes();o.render(c.min,c.max)}}function s(p){const o=p.options.navigator||{},c=p.options.scrollbar||{};!this.navigator&&!this.scroller&&(o.enabled||c.enabled)&&(U(!0,this.options.navigator,o),U(!0,this.options.scrollbar,c),delete p.options.navigator,delete p.options.scrollbar)}return{compose:function e(p,o){G.pushUnique(I,p)&&(T=o,p.prototype.callbacks.push(r),F(p,"afterAddSeries",w),F(p,"afterSetChartSize",A),F(p,"afterUpdate",x),F(p,"beforeRender",d),F(p,"beforeShowResetZoom",k),F(p,"update",s))}}}),$(v,"Core/Axis/NavigatorAxisComposition.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{isTouchDevice:X}=j,{addEvent:F,correctFloat:U,defined:R,isNumber:I,pick:T}=G;function e(){const x=this;x.navigatorAxis||(x.navigatorAxis=new A(x))}function w(x){const d=this,k=d.chart,r=k.options,u=d.navigatorAxis,c=k.zooming.type;let l;if(d.isXAxis&&(r.navigator?.enabled||r.rangeSelector?.enabled))if("y"===c&&"zoom"===x.trigger)l=!1;else if(("zoom"===x.trigger&&"xy"===c||X&&"xy"===k.zooming.pinchType)&&d.options.range){const f=u.previousZoom;R(x.min)?u.previousZoom=[d.min,d.max]:f&&(x.min=f[0],x.max=f[1],u.previousZoom=void 0)}typeof l<"u"&&x.preventDefault()}class A{static compose(d){d.keepProps.includes("navigatorAxis")||(d.keepProps.push("navigatorAxis"),F(d,"init",e),F(d,"setExtremes",w))}constructor(d){this.axis=d}destroy(){this.axis=void 0}toFixedRange(d,k,r,s){const u=this.axis,p=(u.pointRange||0)/2;let o=T(r,u.translate(d,!0,!u.horiz)),c=T(s,u.translate(k,!0,!u.horiz));return R(r)||(o=U(o+p)),R(s)||(c=U(c-p)),(!I(o)||!I(c))&&(o=c=void 0),{min:o,max:c}}}return A}),$(v,"Stock/Navigator/NavigatorDefaults.js",[v["Core/Color/Color.js"],v["Core/Series/SeriesRegistry.js"]],function(j,G){const{parse:X}=j,{seriesTypes:F}=G;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:X("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof F.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),$(v,"Stock/Navigator/NavigatorSymbols.js",[v["Core/Renderer/SVG/Symbols.js"],v["Core/Utilities.js"]],function(j,G){const{relativeLength:X}=G;return{"navigator-handle":function F(R,I,T,e,w={}){const A=w.width?w.width/2:T,d=X(w.borderRadius||0,Math.min(2*A,e));return[["M",-1.5,(e=w.height||e)/2-3.5],["L",-1.5,e/2+4.5],["M",.5,e/2-3.5],["L",.5,e/2+4.5],...j.rect(-A-1,.5,2*A+1,e,{r:d})]}}}),$(v,"Stock/Utilities/StockUtilities.js",[v["Core/Utilities.js"]],function(j){const{defined:G}=j;return{setFixedRange:function X(U){const R=this.xAxis[0];this.fixedRange=G(R.dataMax)&&G(R.dataMin)&&U?Math.min(U,R.dataMax-R.dataMin):U}}}),$(v,"Stock/Navigator/NavigatorComposition.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorDefaults.js"],v["Stock/Navigator/NavigatorSymbols.js"],v["Core/Renderer/RendererRegistry.js"],v["Stock/Utilities/StockUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){const{setOptions:e}=j,{composed:w}=G,{getRendererType:A}=R,{setFixedRange:x}=I,{addEvent:d,extend:k,pushUnique:r}=T;function u(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function s(o,c,l){X.compose(c),r(w,"Navigator")&&(o.prototype.setFixedRange=x,k(A().prototype.symbols,U),d(l,"afterUpdate",u),e({navigator:F}))}}}),$(v,"Core/Axis/ScrollbarAxis.js",[v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G){const{composed:X}=j,{addEvent:F,defined:U,pick:R,pushUnique:I}=G;var T;return function(e){let w;function x(s){const u=R(s.options&&s.options.min,s.min),p=R(s.options&&s.options.max,s.max);return{axisMin:u,axisMax:p,scrollMin:U(s.dataMin)?Math.min(u,s.min,s.dataMin,R(s.threshold,1/0)):u,scrollMax:U(s.dataMax)?Math.max(p,s.max,s.dataMax,R(s.threshold,-1/0)):p}}function d(){const s=this,u=s.scrollbar,o=s.horiz?2:u&&!u.options.opposite?3:1;u&&(s.chart.scrollbarsOffsets=[0,0],s.chart.axisOffset[o]+=u.size+(u.options.margin||0))}function k(){const s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new w(s.chart.renderer,s.options.scrollbar,s.chart),F(s.scrollbar,"changed",function(u){const{axisMin:p,axisMax:o,scrollMin:c,scrollMax:l}=x(s),f=l-c;let m,M;U(p)&&U(o)&&(s.horiz&&!s.reversed||!s.horiz&&s.reversed?(m=c+f*this.to,M=c+f*this.from):(m=c+f*(1-this.from),M=c+f*(1-this.to)),this.shouldUpdateExtremes(u.DOMType)?s.setExtremes(M,m,!0,"mousemove"!==u.DOMType&&"touchmove"!==u.DOMType&&void 0,u):this.setRange(this.from,this.to))}))}function r(){const s=this,{scrollMin:u,scrollMax:p}=x(s),o=s.scrollbar,c=s.axisTitleMargin+(s.titleOffset||0),l=s.chart.scrollbarsOffsets,f=s.options.margin||0;let m,M,y;if(o&&l){if(s.horiz)s.opposite||(l[1]+=c),o.position(s.left,s.top+s.height+2+l[1]-(s.opposite?f:0),s.width,s.height),s.opposite||(l[1]+=f),m=1;else{let C;s.opposite&&(l[0]+=c),C=o.options.opposite?s.left+s.width+2+l[0]-(s.opposite?0:f):s.opposite?0:f,o.position(C,s.top,s.width,s.height),s.opposite&&(l[0]+=f),m=0}l[m]+=o.size+(o.options.margin||0),isNaN(u)||isNaN(p)||!U(s.min)||!U(s.max)||s.min===s.max?o.setRange(0,1):(M=(s.min-u)/(p-u),y=(s.max-u)/(p-u),s.horiz&&!s.reversed||!s.horiz&&s.reversed?o.setRange(M,y):o.setRange(1-y,1-M))}}e.compose=function A(s,u){I(X,"Axis.Scrollbar")&&(w=u,F(s,"afterGetOffset",d),F(s,"afterInit",k),F(s,"afterRender",r))}}(T||(T={})),T}),$(v,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),$(v,"Stock/Scrollbar/Scrollbar.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/ScrollbarAxis.js"],v["Stock/Scrollbar/ScrollbarDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{defaultOptions:R}=j,{addEvent:I,correctFloat:T,crisp:e,defined:w,destroyObjectProperties:A,fireEvent:x,merge:d,pick:k,removeEvent:r}=U;let s=(()=>{class u{static compose(o){X.compose(o,u)}static swapXY(o,c){return c&&o.forEach(l=>{const f=l.length;let m;for(let M=0;M<f;M+=2)m=l[M+1],"number"==typeof m&&(l[M+1]=l[M+2],l[M+2]=m)}),o}constructor(o,c,l){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(o,c,l)}addEvents(){const o=this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,l=this.scrollbarGroup.element,f=this.track.element,m=this.mouseDownHandler.bind(this),M=this.mouseMoveHandler.bind(this),y=this.mouseUpHandler.bind(this),C=[[c[o[0]].element,"click",this.buttonToMinClick.bind(this)],[c[o[1]].element,"click",this.buttonToMaxClick.bind(this)],[f,"click",this.trackClick.bind(this)],[l,"mousedown",m],[l.ownerDocument,"mousemove",M],[l.ownerDocument,"mouseup",y],[l,"touchstart",m],[l.ownerDocument,"touchmove",M],[l.ownerDocument,"touchend",y]];C.forEach(function(h){I.apply(null,h)}),this._events=C}buttonToMaxClick(o){const c=this,l=(c.to-c.from)*k(c.options.step,.2);c.updatePosition(c.from+l,c.to+l),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}buttonToMinClick(o){const c=this,l=T(c.to-c.from)*k(c.options.step,.2);c.updatePosition(T(c.from-l),T(c.to-l)),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}cursorToScrollbarPosition(o){const c=this,l=c.options,f=l.minWidth>c.calculatedWidth?l.minWidth:0;return{chartX:(o.chartX-c.x-c.xOffset)/(c.barWidth-f),chartY:(o.chartY-c.y-c.yOffset)/(c.barWidth-f)}}destroy(){const o=this,c=o.chart.scroller;o.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(l){o[l]&&o[l].destroy&&(o[l]=o[l].destroy())}),c&&o===c.scrollbar&&(c.scrollbar=null,A(c.scrollbarButtons))}drawScrollbarButton(o){const c=this,l=c.renderer,f=c.scrollbarButtons,m=c.options,M=c.size,y=l.g().add(c.group);if(f.push(y),m.buttonsEnabled){const C=l.rect().addClass("highcharts-scrollbar-button").add(y);c.chart.styledMode||C.attr({stroke:m.buttonBorderColor,"stroke-width":m.buttonBorderWidth,fill:m.buttonBackgroundColor}),C.attr(C.crisp({x:-.5,y:-.5,width:M,height:M,r:m.buttonBorderRadius},C.strokeWidth()));const h=l.path(u.swapXY([["M",M/2+(o?-1:1),M/2-3],["L",M/2+(o?-1:1),M/2+3],["L",M/2+(o?2:-2),M/2]],m.vertical)).addClass("highcharts-scrollbar-arrow").add(f[o]);c.chart.styledMode||h.attr({fill:m.buttonArrowColor})}}init(o,c,l){const f=this;f.scrollbarButtons=[],f.renderer=o,f.userOptions=c,f.options=d(F,R.scrollbar,c),f.options.margin=k(f.options.margin,10),f.chart=l,f.size=k(f.options.size,f.options.height),c.enabled&&(f.render(),f.addEvents())}mouseDownHandler(o){const c=this,l=c.chart.pointer?.normalize(o)||o,f=c.cursorToScrollbarPosition(l);c.chartX=f.chartX,c.chartY=f.chartY,c.initPositions=[c.from,c.to],c.grabbedCenter=!0}mouseMoveHandler(o){const c=this,l=c.chart.pointer?.normalize(o)||o,m=c.options.vertical?"chartY":"chartX",M=c.initPositions||[];let y,C,h;c.grabbedCenter&&(!o.touches||0!==o.touches[0][m])&&(C=c.cursorToScrollbarPosition(l)[m],y=c[m],h=C-y,c.hasDragged=!0,c.updatePosition(M[0]+h,M[1]+h),c.hasDragged&&x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMType:o.type,DOMEvent:o}))}mouseUpHandler(o){const c=this;c.hasDragged&&x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMType:o.type,DOMEvent:o}),c.grabbedCenter=c.hasDragged=c.chartX=c.chartY=null}position(o,c,l,f){const m=this,M=m.options,{buttonsEnabled:y,margin:C=0,vertical:h}=M,a=m.rendered?"animate":"attr";let t=f,i=0;m.group.show(),m.x=o,m.y=c+this.trackBorderWidth,m.width=l,m.height=f,m.xOffset=t,m.yOffset=i,h?(m.width=m.yOffset=l=i=m.size,m.xOffset=t=0,m.yOffset=i=y?m.size:0,m.barWidth=f-(y?2*l:0),m.x=o+=C):(m.height=f=m.size,m.xOffset=t=y?m.size:0,m.barWidth=l-(y?2*f:0),m.y=m.y+C),m.group[a]({translateX:o,translateY:m.y}),m.track[a]({width:l,height:f}),m.scrollbarButtons[1][a]({translateX:h?0:l-t,translateY:h?f-i:0})}removeEvents(){this._events.forEach(function(o){r.apply(null,o)}),this._events.length=0}render(){const o=this,c=o.renderer,l=o.options,f=o.size,m=o.chart.styledMode,M=c.g("scrollbar").attr({zIndex:l.zIndex}).hide().add();o.group=M,o.track=c.rect().addClass("highcharts-scrollbar-track").attr({r:l.trackBorderRadius||0,height:f,width:f}).add(M),m||o.track.attr({fill:l.trackBackgroundColor,stroke:l.trackBorderColor,"stroke-width":l.trackBorderWidth});const y=o.trackBorderWidth=o.track.strokeWidth();o.track.attr({x:-e(0,y),y:-e(0,y)}),o.scrollbarGroup=c.g().add(M),o.scrollbar=c.rect().addClass("highcharts-scrollbar-thumb").attr({height:f-y,width:f-y,r:l.barBorderRadius||0}).add(o.scrollbarGroup),o.scrollbarRifles=c.path(u.swapXY([["M",-3,f/4],["L",-3,2*f/3],["M",0,f/4],["L",0,2*f/3],["M",3,f/4],["L",3,2*f/3]],l.vertical)).addClass("highcharts-scrollbar-rifles").add(o.scrollbarGroup),m||(o.scrollbar.attr({fill:l.barBackgroundColor,stroke:l.barBorderColor,"stroke-width":l.barBorderWidth}),o.scrollbarRifles.attr({stroke:l.rifleColor,"stroke-width":1})),o.scrollbarStrokeWidth=o.scrollbar.strokeWidth(),o.scrollbarGroup.translate(-e(0,o.scrollbarStrokeWidth),-e(0,o.scrollbarStrokeWidth)),o.drawScrollbarButton(0),o.drawScrollbarButton(1)}setRange(o,c){const l=this,f=l.options,m=f.vertical,M=f.minWidth,y=l.barWidth,C=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!w(y))return;const h=y*Math.min(c,1);let a,t;o=Math.max(o,0),a=Math.ceil(y*o),l.calculatedWidth=t=T(h-a),t<M&&(a=(y-M+t)*o,t=M);const i=Math.floor(a+l.xOffset+l.yOffset),n=t/2-.5;l.from=o,l.to=c,m?(l.scrollbarGroup[C]({translateY:i}),l.scrollbar[C]({height:t}),l.scrollbarRifles[C]({translateY:n}),l.scrollbarTop=i,l.scrollbarLeft=0):(l.scrollbarGroup[C]({translateX:i}),l.scrollbar[C]({width:t}),l.scrollbarRifles[C]({translateX:n}),l.scrollbarLeft=i,l.scrollbarTop=0),t<=12?l.scrollbarRifles.hide():l.scrollbarRifles.show(),!1===f.showFull&&(o<=0&&c>=1?l.group.hide():l.group.show()),l.rendered=!0}shouldUpdateExtremes(o){return k(this.options.liveRedraw,G.svg&&!G.isTouchDevice&&!this.chart.boosted)||"mouseup"===o||"touchend"===o||!w(o)}trackClick(o){const c=this,l=c.chart.pointer?.normalize(o)||o,f=c.to-c.from;c.options.vertical&&l.chartY>c.y+c.scrollbarTop||!c.options.vertical&&l.chartX>c.x+c.scrollbarLeft?c.updatePosition(c.from+f,c.to+f):c.updatePosition(c.from-f,c.to-f),x(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:o})}update(o){this.destroy(),this.init(this.chart.renderer,d(!0,this.options,o),this.chart)}updatePosition(o,c){c>1&&(o=T(1-T(c-o)),c=1),o<0&&(c=T(c-o),o=0),this.from=o,this.to=c}}return u.defaultOptions=F,u})();return R.scrollbar=d(!0,s.defaultOptions,R.scrollbar),s}),$(v,"Stock/Navigator/Navigator.js",[v["Core/Axis/Axis.js"],v["Stock/Navigator/ChartNavigatorComposition.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Core/Axis/NavigatorAxisComposition.js"],v["Stock/Navigator/NavigatorComposition.js"],v["Stock/Scrollbar/Scrollbar.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){const{defaultOptions:e}=X,{isTouchDevice:w}=F,{addEvent:A,clamp:x,correctFloat:d,defined:k,destroyObjectProperties:r,erase:s,extend:u,find:p,fireEvent:o,isArray:c,isNumber:l,merge:f,pick:m,removeEvent:M,splat:y}=T;function C(a,...t){const i=[].filter.call(t,l);if(i.length)return Math[a].apply(0,i)}class h{static compose(t,i,n){G.compose(t,h),R.compose(t,i,n)}constructor(t){this.scrollbarHeight=0,this.init(t)}drawHandle(t,i,n,b){const g=this,P=g.navigatorOptions.handles.height;g.handles[i][b](n?{translateX:Math.round(g.left+g.height/2),translateY:Math.round(g.top+parseInt(t,10)+.5-P)}:{translateX:Math.round(g.left+parseInt(t,10)),translateY:Math.round(g.top+g.height/2-P/2-1)})}drawOutline(t,i,n,b){const g=this,P=g.navigatorOptions.maskInside,E=g.outline.strokeWidth(),D=E/2,O=E%2/2,S=g.scrollButtonSize,L=g.size,B=g.top,_=g.height,Y=B-D,z=B+_;let H,V,N=g.left;n?(H=B+i+O,V=[["M",N+_,B-S-O],["L",N+_,H],["L",N,H],["M",N,i=B+t+O],["L",N+_,i],["L",N+_,B+L+S]],P&&V.push(["M",N+_,H-D],["L",N+_,i+D])):(N-=S,V=[["M",N,Y],["L",t+=N+S-O,Y],["L",t,z],["M",i+=N+S-O,z],["L",i,Y],["L",N+L+2*S,B+D]],P&&V.push(["M",t-D,Y],["L",i+D,Y])),g.outline[b]({d:V})}drawMasks(t,i,n,b){const g=this,P=g.left,E=g.top,D=g.height;let O,S,L,B;n?(L=[P,P,P],B=[E,E+t,E+i],S=[D,D,D],O=[t,i-t,g.size-i]):(L=[P,P+t,P+i],B=[E,E,E],S=[t,i-t,g.size-i],O=[D,D,D]),g.shades.forEach((_,Y)=>{_[b]({x:L[Y],y:B[Y],width:S[Y],height:O[Y]})})}renderElements(){const t=this,i=t.navigatorOptions,n=i.maskInside,b=t.chart,P=b.renderer,E={cursor:b.inverted?"ns-resize":"ew-resize"},D=t.navigatorGroup=P.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach((O,S)=>{const L=P.rect().addClass("highcharts-navigator-mask"+(1===S?"-inside":"-outside")).add(D);b.styledMode||(L.attr({fill:O?i.maskFill:"rgba(0,0,0,0)"}),1===S&&L.css(E)),t.shades[S]=L}),t.outline=P.path().addClass("highcharts-navigator-outline").add(D),b.styledMode||t.outline.attr({"stroke-width":i.outlineWidth,stroke:i.outlineColor}),i.handles&&i.handles.enabled){const O=i.handles,{height:S,width:L}=O;[0,1].forEach(B=>{t.handles[B]=P.symbol(O.symbols[B],-L/2-1,0,L,S,O),b.inverted&&t.handles[B].attr({rotation:90,rotationOriginX:Math.floor(-L/2),rotationOriginY:(S+L)/2}),t.handles[B].attr({zIndex:7-B}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][B]).add(D),b.styledMode||t.handles[B].attr({fill:O.backgroundColor,stroke:O.borderColor,"stroke-width":O.lineWidth}).css(E)})}}update(t){(this.series||[]).forEach(n=>{n.baseSeries&&delete n.baseSeries.navigatorSeries}),this.destroy(),f(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,i,n,b){const g=this,P=g.chart,E=g.xAxis,D=E.pointRange||0,O=E.navigatorAxis.fake?P.xAxis[0]:E,S=g.navigatorEnabled,L=g.rendered,B=P.inverted,_=P.xAxis[0].minRange,Y=P.xAxis[0].options.maxRange,z=g.scrollButtonSize;let N,H,V,W,q,Z=g.scrollbarHeight;if(this.hasDragged&&!k(n))return;if(t=d(t-D/2),i=d(i+D/2),!l(t)||!l(i)){if(!L)return;n=0,b=m(E.width,O.width)}g.left=m(E.left,P.plotLeft+z+(B?P.plotWidth:0));let K=g.size=W=m(E.len,(B?P.plotHeight:P.plotWidth)-2*z);N=B?Z:W+2*z,n=m(n,E.toPixels(t,!0)),b=m(b,E.toPixels(i,!0)),(!l(n)||Math.abs(n)===1/0)&&(n=0,b=N);const J=E.toValue(n,!0),et=E.toValue(b,!0),st=Math.abs(d(et-J));st<_?this.grabbedLeft?n=E.toPixels(et-_-D,!0):this.grabbedRight&&(b=E.toPixels(J+_+D,!0)):k(Y)&&d(st-D)>Y&&(this.grabbedLeft?n=E.toPixels(et-Y-D,!0):this.grabbedRight&&(b=E.toPixels(J+Y+D,!0))),g.zoomedMax=x(Math.max(n,b),0,K),g.zoomedMin=x(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(n,b),0,K),g.range=g.zoomedMax-g.zoomedMin,K=Math.round(g.zoomedMax);const ot=Math.round(g.zoomedMin);S&&(g.navigatorGroup.attr({visibility:"inherit"}),q=L&&!g.hasDragged?"animate":"attr",g.drawMasks(ot,K,B,q),g.drawOutline(ot,K,B,q),g.navigatorOptions.handles.enabled&&(g.drawHandle(ot,0,B,q),g.drawHandle(K,1,B,q))),g.scrollbar&&(B?(V=g.top-z,H=g.left-Z+(S||!O.opposite?0:(O.titleOffset||0)+O.axisTitleMargin),Z=W+2*z):(V=g.top+(S?g.height:-Z),H=g.left-z),g.scrollbar.position(H,V,N,Z),g.scrollbar.setRange(g.zoomedMin/(W||1),g.zoomedMax/(W||1))),g.rendered=!0,o(this,"afterRender")}addMouseEvents(){const t=this,i=t.chart,n=i.container;let g,P,b=[];t.mouseMoveHandler=g=function(E){t.onMouseMove(E)},t.mouseUpHandler=P=function(E){t.onMouseUp(E)},b=t.getPartsEvents("mousedown"),b.push(A(i.renderTo,"mousemove",g),A(n.ownerDocument,"mouseup",P),A(i.renderTo,"touchmove",g),A(n.ownerDocument,"touchend",P)),b.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=b,t.series&&t.series[0]&&b.push(A(t.series[0].xAxis,"foundExtremes",function(){i.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){const i=this,n=[];return["shades","handles"].forEach(function(b){i[b].forEach(function(g,P){n.push(A(g.element,t,function(E){i[b+"Mousedown"](E,P)}))})}),n}shadesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;const n=this,g=n.xAxis,P=n.zoomedMin,E=n.size,D=n.range;let L,B,_,Y,O=n.left,S=t.chartX;n.chart.inverted&&(S=t.chartY,O=n.top),1===i?(n.grabbedCenter=S,n.fixedWidth=D,n.dragOffset=S-P):(Y=S-O-D/2,0===i?Y=Math.max(0,Y):2===i&&Y+D>=E&&(Y=E-D,n.reversedExtremes?(Y-=D,B=n.getUnionExtremes().dataMin):L=n.getUnionExtremes().dataMax),Y!==P&&(n.fixedWidth=D,_=g.navigatorAxis.toFixedRange(Y,Y+D,B,L),k(_.min)&&o(this,"setRange",{min:Math.min(_.min,_.max),max:Math.max(_.min,_.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,i){t=this.chart.pointer?.normalize(t)||t;const n=this,b=n.chart,g=b.xAxis[0],P=n.reversedExtremes;0===i?(n.grabbedLeft=!0,n.otherHandlePos=n.zoomedMax,n.fixedExtreme=P?g.min:g.max):(n.grabbedRight=!0,n.otherHandlePos=n.zoomedMin,n.fixedExtreme=P?g.max:g.min),b.setFixedRange(void 0)}onMouseMove(t){const i=this,n=i.chart,b=i.navigatorSize,g=i.range,P=i.dragOffset,E=n.inverted;let O,D=i.left;(!t.touches||0!==t.touches[0].pageX)&&(O=(t=n.pointer?.normalize(t)||t).chartX,E&&(D=i.top,O=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,O-D,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,O-D)):i.grabbedCenter&&(i.hasDragged=!0,O<P?O=P:O>b+P-g&&(O=b+P-g),i.render(0,0,O-P,O-P+g)),i.hasDragged&&i.scrollbar&&m(i.scrollbar.options.liveRedraw,!w&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))}onMouseUp(t){const i=this,b=i.xAxis,g=i.scrollbar,P=t.DOMEvent||t,E=i.chart.inverted,D=i.rendered&&!i.hasDragged?"animate":"attr";let O,S,L,B,_,Y;(i.hasDragged&&(!g||!g.hasDragged)||"scrollbar"===t.trigger)&&(L=i.getUnionExtremes(),i.zoomedMin===i.otherHandlePos?B=i.fixedExtreme:i.zoomedMax===i.otherHandlePos&&(_=i.fixedExtreme),i.zoomedMax===i.size&&(_=i.reversedExtremes?L.dataMin:L.dataMax),0===i.zoomedMin&&(B=i.reversedExtremes?L.dataMax:L.dataMin),Y=b.navigatorAxis.toFixedRange(i.zoomedMin,i.zoomedMax,B,_),k(Y.min)&&o(this,"setRange",{min:Math.min(Y.min,Y.max),max:Math.max(Y.min,Y.max),redraw:!0,animation:!i.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:P}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(i.grabbedLeft=i.grabbedRight=i.grabbedCenter=i.fixedWidth=i.fixedExtreme=i.otherHandlePos=i.hasDragged=i.dragOffset=null),i.navigatorEnabled&&l(i.zoomedMin)&&l(i.zoomedMax)&&(S=Math.round(i.zoomedMin),O=Math.round(i.zoomedMax),i.shades&&i.drawMasks(S,O,E,D),i.outline&&i.drawOutline(S,O,E,D),i.navigatorOptions.handles.enabled&&Object.keys(i.handles).length===i.handles.length&&(i.drawHandle(S,0,E,D),i.drawHandle(O,1,E,D)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(i){M(i,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&M(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(t){const i=t.options,n=i.navigator||{},b=n.enabled,g=i.scrollbar||{},P=g.enabled,E=b&&n.height||0,D=P&&g.height||0,O=g.buttonsEnabled&&D||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=E,this.scrollbarHeight=D,this.scrollButtonSize=O,this.scrollbarEnabled=P,this.navigatorEnabled=b,this.navigatorOptions=n,this.scrollbarOptions=g,this.opposite=m(n.opposite,Boolean(!b&&t.inverted));const S=this,L=S.baseSeries,B=t.xAxis.length,_=t.yAxis.length,Y=L&&L[0]&&L[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,S.navigatorEnabled?(S.xAxis=new j(t,f({breaks:Y.options.breaks,ordinal:Y.options.ordinal,overscroll:Y.options.overscroll},n.xAxis,{type:"datetime",index:B,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[O,0,-O,0],width:E}:{offsets:[0,-O,0,O],height:E}),"xAxis"),S.yAxis=new j(t,f(n.yAxis,{alignTicks:!1,offset:0,index:_,isInternal:!0,reversed:m(n.yAxis&&n.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:E}:{height:E}),"yAxis"),L||n.series.data?S.updateNavigatorSeries(!1):0===t.series.length&&(S.unbindRedraw=A(t,"beforeRedraw",function(){t.series.length>0&&!S.series&&(S.setBaseSeries(),S.unbindRedraw())})),S.reversedExtremes=t.inverted&&!S.xAxis.reversed||!t.inverted&&S.xAxis.reversed,S.renderElements(),S.addMouseEvents()):(S.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(z,N){const H=t.xAxis[0],V=H.getExtremes(),Z=H.len-2*O,W=C("min",H.options.min,V.dataMin),q=C("max",H.options.max,V.dataMax)-W;return N?z*q/Z+W:Z*(z-W)/q},toPixels:function(z){return this.translate(z)},toValue:function(z){return this.translate(z,!0)}},S.xAxis.navigatorAxis.axis=S.xAxis,S.xAxis.navigatorAxis.toFixedRange=U.prototype.toFixedRange.bind(S.xAxis.navigatorAxis)),t.options.scrollbar.enabled){const z=f(t.options.scrollbar,{vertical:t.inverted});!l(z.margin)&&S.navigatorEnabled&&(z.margin=t.inverted?-3:3),t.scrollbar=S.scrollbar=new I(t.renderer,z,t),A(S.scrollbar,"changed",function(N){const H=S.size,V=H*this.to,Z=H*this.from;S.hasDragged=S.scrollbar.hasDragged,S.render(0,0,Z,V),this.shouldUpdateExtremes(N.DOMType)&&setTimeout(function(){S.onMouseUp(N)})})}S.addBaseSeriesEvents(),S.addChartEvents()}getUnionExtremes(t){const i=this.chart.xAxis[0],n=this.xAxis,b=n.options,g=i.options;let P;return(!t||null!==i.dataMin)&&(P={dataMin:m(b&&b.min,C("min",g.min,i.dataMin,n.dataMin,n.min)),dataMax:m(b&&b.max,C("max",g.max,i.dataMax,n.dataMax,n.max))}),P}setBaseSeries(t,i){const n=this.chart,b=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?p(n.series,g=>!g.options.isInternal).index:0),(n.series||[]).forEach((g,P)=>{!g.options.isInternal&&(g.options.showInNavigator||(P===t||g.options.id===t)&&!1!==g.options.showInNavigator)&&b.push(g)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,i)}updateNavigatorSeries(t,i){const n=this,b=n.chart,g=n.baseSeries,P={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},E=n.series=(n.series||[]).filter(B=>{const _=B.baseSeries;return!(g.indexOf(_)<0&&(_&&(M(_,"updatedData",n.updatedDataHandler),delete _.navigatorSeries),B.chart&&B.destroy(),1))});let D,O,L,S=n.navigatorOptions.series;g&&g.length&&g.forEach(B=>{const _=B.navigatorSeries,Y=u({color:B.color,visible:B.visible},c(S)?e.navigator.series:S);if(_&&!1===n.navigatorOptions.adaptToUpdatedData)return;P.name="Navigator "+g.length,D=B.options||{},L=D.navigatorOptions||{},Y.dataLabels=y(Y.dataLabels),O=f(D,P,Y,L),O.pointRange=m(Y.pointRange,L.pointRange,e.plotOptions[O.type||"line"].pointRange);const z=L.data||Y.data;n.hasNavigatorData=n.hasNavigatorData||!!z,O.data=z||D.data&&D.data.slice(0),_&&_.options?_.update(O,i):(B.navigatorSeries=b.initSeries(O),b.setSortedData(),B.navigatorSeries.baseSeries=B,E.push(B.navigatorSeries))}),(S.data&&!(g&&g.length)||c(S))&&(n.hasNavigatorData=!1,S=y(S),S.forEach((B,_)=>{P.name="Navigator "+(E.length+1),O=f(e.navigator.series,{color:b.series[_]&&!b.series[_].options.isInternal&&b.series[_].color||b.options.colors[_]||b.options.colors[0]},P,B),O.data=B.data,O.data&&(n.hasNavigatorData=!0,E.push(b.initSeries(O)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,i=t.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(A(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(n=>{n.eventsToUnbind.push(A(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),n.eventsToUnbind.push(A(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&n.eventsToUnbind.push(A(n,"updatedData",this.updatedDataHandler)),n.eventsToUnbind.push(A(n,"remove",function(){this.navigatorSeries&&(s(t.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(i,n){return Math.min(i,n.xData&&n.xData.length?n.xData[0]:i)},t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(typeof t.getExtremes<"u"){const i=this.getUnionExtremes(!0);i&&(i.dataMin!==t.min||i.dataMax!==t.max)&&(t.min=i.dataMin,t.max=i.dataMax)}}modifyBaseAxisExtremes(){const t=this,i=t.chart.navigator,n=t.getExtremes(),P=n.dataMin,E=n.dataMax,D=n.max-n.min,O=i.stickToMin,S=i.stickToMax,L=m(t.ordinal?.convertOverscroll(t.options.overscroll),0),B=i.series&&i.series[0],_=!!t.setExtremes;let z,N;t.eventArgs&&"rangeSelectorButton"===t.eventArgs.trigger||(O&&(N=P,z=N+D),S&&(z=E+L,O||(N=Math.max(P,z-D,i.getBaseSeriesMin(B&&B.xData?B.xData[0]:-Number.MAX_VALUE)))),_&&(O||S)&&l(N)&&(t.min=t.userMin=N,t.max=t.userMax=z)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,i=this,n=this.navigatorSeries,b=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=m(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,b),t.stickToMin=t.shouldStickToMin(i,t),n&&!t.hasNavigatorData&&(n.options.pointStart=i.xData[0],n.setData(i.options.data,!1,null,!1))}shouldStickToMin(t,i){const n=i.getBaseSeriesMin(t.xData[0]),b=t.xAxis,g=b.max,P=b.min,E=b.options.range;let D=!0;return D=!(!l(g)||!l(P))&&(E&&g-n>0?g-n<E:P<=n),D}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(A(this.chart,"redraw",function(){const t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);i&&t.render(i.min,i.max)}),A(this.chart,"getMargins",function(){const t=this,i=t.navigator;let n=i.opposite?"plotTop":"marginBottom";t.inverted&&(n=i.opposite?"marginRight":"plotLeft"),t[n]=(t[n]||0)+(i.navigatorEnabled||!t.inverted?i.height+i.scrollbarHeight:0)+i.navigatorOptions.margin}),A(h,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{r(t)})}}return h}),$(v,"Core/Axis/OrdinalAxis.js",[v["Core/Axis/Axis.js"],v["Core/Globals.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{addEvent:U,correctFloat:R,css:I,defined:T,error:e,isNumber:w,pick:A,timeUnits:x,isString:d}=F;var k;return function(r){function u(t,i,n,b,g=[],P=0,E){const D={},O=this.options.tickPixelInterval,S=this.chart.time,L=[];let B,_,Y,z,N,H=0,V=[],Z=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!g||g.length<3||typeof i>"u")return S.getTimeTicks.apply(S,arguments);const W=g.length;for(B=0;B<W;B++){if(N=B&&g[B-1]>n,g[B]<i&&(H=B),B===W-1||g[B+1]-g[B]>5*P||N){if(g[B]>Z){for(_=S.getTimeTicks(t,g[H],g[B],b);_.length&&_[0]<=Z;)_.shift();_.length&&(Z=_[_.length-1]),L.push(V.length),V=V.concat(_)}H=B+1}if(N)break}if(_){if(z=_.info,E&&z.unitRange<=x.hour){for(B=V.length-1,H=1;H<B;H++)S.dateFormat("%d",V[H])!==S.dateFormat("%d",V[H-1])&&(D[V[H]]="day",Y=!0);Y&&(D[V[0]]="day"),z.higherRanks=D}z.segmentStarts=L,V.info=z}else e(12,!1,this.chart);if(E&&T(O)){const q=V.length,K=[],J=[];let et,st,ot,lt,nt,at=q;for(;at--;)st=this.translate(V[at]),ot&&(J[at]=ot-st),K[at]=ot=st;for(J.sort((pt,bt)=>pt-bt),lt=J[Math.floor(J.length/2)],lt<.6*O&&(lt=null),at=V[q-1]>n?q-1:q,ot=void 0;at--;)st=K[at],nt=Math.abs(ot-st),ot&&nt<.8*O&&(null===lt||nt<.8*lt)?(D[V[at]]&&!D[V[at+1]]?(et=at+1,ot=st):et=at,V.splice(et,1)):ot=st}return V}function p(t){const b=this.ordinal.positions;if(!b)return t;let P,g=b.length-1;return t<0?t=b[0]:t>g?t=b[g]:(g=Math.floor(t),P=t-g),typeof P<"u"&&typeof b[g]<"u"?b[g]+(P?P*(b[g+1]-b[g]):0):t}function o(t){const i=this,n=i.ordinal,b=i.old?i.old.min:i.min,g=i.old?i.old.transA:i.transA,P=n.getExtendedPositions();if(P&&P.length){const E=R((t-b)*g+i.minPixelPadding),D=R(n.getIndexOfPoint(E,P)),O=R(D%1);if(D>=0&&D<=P.length-1){const S=P[Math.floor(D)],B=P[Math.ceil(D)]-S;return P[Math.floor(D)]+O*B}}return t}function c(t,i){const n=r.Additions.findIndexOf(t,i,!0);return t[n]===i?n:n+(i-t[n])/(t[n+1]-t[n])}function l(){const t=this;t.ordinal||(t.ordinal=new r.Additions(t))}function f(){const t=this,{eventArgs:i,options:n}=t;if(t.isXAxis&&T(n.overscroll)&&0!==n.overscroll&&w(t.max)&&w(t.min)&&(t.options.ordinal&&!t.ordinal.originalOrdinalRange&&t.ordinal.getExtendedPositions(!1),t.max===t.dataMax&&("pan"!==i?.trigger||t.isInternal)&&"navigator"!==i?.trigger)){const b=t.ordinal.convertOverscroll(n.overscroll);t.max+=b,!t.isInternal&&T(t.userMin)&&"mousewheel"!==i?.trigger&&(t.min+=b)}}function m(){const t=this;t.horiz&&!t.isDirty&&(t.isDirty=t.isOrdinal&&t.chart.navigator&&!t.chart.navigator.adaptToUpdatedData)}function M(){const t=this;t.ordinal&&(t.ordinal.beforeSetTickPositions(),t.tickInterval=t.ordinal.postProcessTickInterval(t.tickInterval))}function y(t){const i=this,n=i.xAxis[0],b=n.ordinal.convertOverscroll(n.options.overscroll),g=t.originalEvent.chartX,P=i.options.chart.panning;let E=!1;if(P&&"y"!==P.type&&n.options.ordinal&&n.series.length){const D=i.mouseDownX,O=n.getExtremes(),S=O.dataMin,L=O.dataMax,B=O.min,_=O.max,Y=i.hoverPoints,H=Math.round((D-g)/(n.translationSlope*(n.ordinal.slope||n.closestPointRange||n.ordinal&&n.ordinal.overscrollPointsRange))),V=n.ordinal.getExtendedPositions(),Z={ordinal:{positions:V,extendedOrdinalPositions:V}},W=n.index2val,q=n.val2lin;let K,J;if(B<=S&&H<0||_+b>=L&&H>0)return;Z.ordinal.positions?Math.abs(H)>1&&(Y&&Y.forEach(function(et){et.setState()}),J=Z.ordinal.positions,L>J[J.length-1]&&J.push(L),i.setFixedRange(_-B),K=n.navigatorAxis.toFixedRange(void 0,void 0,W.apply(Z,[q.apply(Z,[B,!0])+H]),W.apply(Z,[q.apply(Z,[_,!0])+H])),K.min>=Math.min(O.dataMin,B)&&K.max<=Math.max(L,_)+b&&n.setExtremes(K.min,K.max,!0,!1,{trigger:"pan"}),i.mouseDownX=g,I(i.container,{cursor:"move"})):E=!0}else E=!0;E||P&&/y/.test(P.type)?b&&(n.max=n.dataMax+b):t.preventDefault()}function C(){const t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.originalOrdinalRange)}function h(t,i){const b=this.ordinal,g=b.positions;let E,O,P=b.slope;if(!g)return t;if(g[0]<=t&&g[g.length-1]>=t)O=c(g,t);else{if(E=b.getExtendedPositions&&b.getExtendedPositions(),!E||!E.length)return t;const S=E.length;P||(P=(E[S-1]-E[0])/S);const L=c(E,g[0]);if(t>=E[0]&&t<=E[S-1])O=c(E,t)-L;else{if(!i)return t;O=t<E[0]?-L-(E[0]-t)/P:(t-E[S-1])/P+S-L}}return i?O:P*(O||0)+b.offset}r.compose=function s(t,i,n){const b=t.prototype;return b.ordinal2lin||(b.getTimeTicks=u,b.index2val=p,b.lin2val=o,b.val2lin=h,b.ordinal2lin=b.val2lin,U(t,"afterInit",l),U(t,"foundExtremes",f),U(t,"afterSetScale",m),U(t,"initialAxisTranslation",M),U(n,"pan",y),U(i,"updatedData",C)),t};class a{constructor(i){this.index={},this.axis=i}beforeSetTickPositions(){const i=this.axis,n=i.ordinal,b=i.getExtremes(),g=b.min,P=b.max,E=i.brokenAxis?.hasBreaks,D=i.options.ordinal;let O,S,L,B,_,Y,z,N=[],H=Number.MAX_VALUE,V=!1,Z=!1,W=!1;if(D||E){let q=0;if(i.series.forEach(function(K,J){if(S=[],J>0&&"highcharts-navigator-series"!==K.options.id&&K.processedXData.length>1&&(Z=q!==K.processedXData[1]-K.processedXData[0]),q=K.processedXData[1]-K.processedXData[0],K.boosted&&(W=K.boosted),K.reserveSpace()&&(!1!==K.takeOrdinalPosition||E)&&(N=N.concat(K.processedXData),O=N.length,N.sort(function(et,st){return et-st}),H=Math.min(H,A(K.closestPointRange,H)),O)){for(J=0;J<O-1;)N[J]!==N[J+1]&&S.push(N[J+1]),J++;S[0]!==N[0]&&S.unshift(N[0]),N=S}}),i.ordinal.originalOrdinalRange||(i.ordinal.originalOrdinalRange=(N.length-1)*H),Z&&W&&(N.pop(),N.shift()),O=N.length,O>2){for(L=N[1]-N[0],z=O-1;z--&&!V;)N[z+1]-N[z]!==L&&(V=!0);!i.options.keepOrdinalPadding&&(N[0]-g>L||P-N[N.length-1]>L)&&(V=!0)}else i.options.overscroll&&(2===O?H=N[1]-N[0]:1===O?(H=i.ordinal.convertOverscroll(i.options.overscroll),N=[N[0],N[0]+H]):H=n.overscrollPointsRange);V||i.forceOrdinal?(i.options.overscroll&&(n.overscrollPointsRange=H,N=N.concat(n.getOverscrollPositions())),n.positions=N,B=i.ordinal2lin(Math.max(g,N[0]),!0),_=Math.max(i.ordinal2lin(Math.min(P,N[N.length-1]),!0),1),n.slope=Y=(P-g)/(_-B),n.offset=g-B*Y):(n.overscrollPointsRange=A(i.closestPointRange,n.overscrollPointsRange),n.positions=i.ordinal.slope=n.offset=void 0)}i.isOrdinal=D&&V,n.groupIntervalFactor=null}static findIndexOf(i,n,b){let E,g=0,P=i.length-1;for(;g<P;)E=Math.ceil((g+P)/2),i[E]<=n?g=E:P=E-1;return i[g]===n||b?g:-1}getExtendedPositions(i=!0){const n=this,b=n.axis,g=b.constructor.prototype,P=b.chart,E=b.series[0]?.currentDataGrouping,D=E?E.count+E.unitName:"raw",O=i?b.ordinal.convertOverscroll(b.options.overscroll):0,S=b.getExtremes();let L,B,_=n.index;return _||(_=n.index={}),_[D]||(L={series:[],chart:P,forceOrdinal:!1,getExtremes:function(){return{min:S.dataMin,max:S.dataMax+O}},applyGrouping:g.applyGrouping,getGroupPixelWidth:g.getGroupPixelWidth,getTimeTicks:g.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:g.ordinal2lin,getIndexOfPoint:g.getIndexOfPoint,val2lin:g.val2lin},L.ordinal.axis=L,b.series.forEach(function(Y){B={xAxis:L,xData:Y.xData.slice(),chart:P,groupPixelWidth:Y.groupPixelWidth,destroyGroupedData:G.noop,getProcessedData:X.prototype.getProcessedData,applyGrouping:X.prototype.applyGrouping,reserveSpace:X.prototype.reserveSpace,visible:Y.visible},i&&(B.xData=B.xData.concat(n.getOverscrollPositions())),B.options={dataGrouping:E?{firstAnchor:Y.options.dataGrouping?.firstAnchor,anchor:Y.options.dataGrouping?.anchor,lastAnchor:Y.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[E.unitName,[E.count]]]}:{enabled:!1}},L.series.push(B),Y.processData.apply(B)}),L.applyGrouping({hasExtremesChanged:!0}),B?.closestPointRange!==B?.basePointRange&&B.currentDataGrouping&&(L.forceOrdinal=!0),b.ordinal.beforeSetTickPositions.apply({axis:L}),!b.ordinal.originalOrdinalRange&&L.ordinal.originalOrdinalRange&&(b.ordinal.originalOrdinalRange=L.ordinal.originalOrdinalRange),_[D]=L.ordinal.positions),_[D]}getGroupIntervalFactor(i,n,b){const g=this,P=b.processedXData,E=P.length,D=[];let O,S,L=g.groupIntervalFactor;if(!L){for(S=0;S<E-1;S++)D[S]=P[S+1]-P[S];D.sort(function(B,_){return B-_}),O=D[Math.floor(E/2)],i=Math.max(i,P[0]),n=Math.min(n,P[E-1]),g.groupIntervalFactor=L=E*O/(n-i)}return L}getIndexOfPoint(i,n){const b=this,g=b.axis;let D,P=0;g.series.forEach(L=>{const B=L.points?.[0];T(B?.plotX)&&(B.plotX<D||!T(D))&&function(L){const{min:B,max:_}=g;return!(!T(B)||!T(_))&&L.points.some(Y=>Y.x>=B&&Y.x<=_)}(L)&&(D=B.plotX,P=B.x)}),D??(D=g.minPixelPadding);const S=R((i-D)/(g.translationSlope*(b.slope||g.closestPointRange||b.overscrollPointsRange)));return a.findIndexOf(n,P,!0)+S}getOverscrollPositions(){const i=this,n=i.axis,b=i.convertOverscroll(n.options.overscroll),g=i.overscrollPointsRange,P=[];let E=n.dataMax;if(T(g))for(;E<=n.dataMax+b;)E+=g,P.push(E);return P}postProcessTickInterval(i){const b=this.axis,g=this.slope;let P;return P=g?b.options.breaks?b.closestPointRange||i:i/(g/b.closestPointRange):i,P}convertOverscroll(i=0){const n=this,b=n.axis,g=function(P){return A(n.originalOrdinalRange,T(b.dataMax)&&T(b.dataMin)?b.dataMax-b.dataMin:0)*P};if(d(i)){const P=parseInt(i,10);if(/%$/.test(i))return g(P/100);if(/px/.test(i)){const D=Math.min(P,.9*b.len)/b.len;return g(D/(1-D))}return 0}return i}}r.Additions=a}(k||(k={})),k}),$(v,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),$(v,"Stock/RangeSelector/RangeSelectorComposition.js",[v["Core/Defaults.js"],v["Core/Globals.js"],v["Stock/RangeSelector/RangeSelectorDefaults.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{defaultOptions:U}=j,{composed:R}=G,{addEvent:I,defined:T,extend:e,isNumber:w,merge:A,pick:x,pushUnique:d}=F,k=[];let r;function s(){const y=this.range,C=y.type,h=this.max,a=this.chart.time,t=function(g,P){const E="year"===C?"FullYear":"Month",D=new a.Date(g),O=a.get(E,D);return a.set(E,D,O+P),O===a.get(E,D)&&a.set("Date",D,0),D.getTime()-g};let i,n;w(y)?(i=h-y,n=y):y&&(i=h+t(h,-(y.count||1)),this.chart&&this.chart.setFixedRange(h-i));const b=x(this.dataMin,Number.MIN_VALUE);return w(i)||(i=b),i<=b&&(i=b,typeof n>"u"&&(n=t(i,y.count)),this.newMax=Math.min(i+n,x(this.dataMax,Number.MAX_VALUE))),w(h)?!w(y)&&y&&y._offsetMin&&(i+=y._offsetMin):i=void 0,i}function p(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new r(this))}function o(){const C=this.rangeSelector;if(C){w(C.deferredYTDClick)&&(C.clickButton(C.deferredYTDClick),delete C.deferredYTDClick);const h=C.options.verticalAlign;C.options.floating||("bottom"===h?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0))}}function c(){const y=this,C=this.rangeSelector;if(!C)return;let h;const a=y.xAxis[0].getExtremes(),t=y.legend,i=C&&C.options.verticalAlign;w(a.min)&&C.render(a.min,a.max),t.display&&"top"===i&&i===t.options.verticalAlign&&(h=A(y.spacingBox),"vertical"===t.options.layout?h.y=y.plotTop:h.y+=C.getHeight(),t.group.placed=!1,t.align(h))}function l(){for(let y=0,C=k.length;y<C;++y){const h=k[y];if(h[0]===this)return h[1].forEach(a=>a()),void k.splice(y,1)}}function f(){const y=this.rangeSelector;if(y){const C=y.getHeight();this.extraTopMargin&&(this.plotTop+=C),this.extraBottomMargin&&(this.marginBottom+=C)}}function m(y){const a=y.options.rangeSelector,t=this.extraBottomMargin,i=this.extraTopMargin;let n=this.rangeSelector;if(a&&a.enabled&&!T(n)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=n=new r(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,n){const b=a&&a.verticalAlign||n.options&&n.options.verticalAlign;n.options.floating||("bottom"===b?this.extraBottomMargin=!0:"middle"!==b&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==t||this.extraTopMargin!==i)&&(this.isDirtyBox=!0)}}return{compose:function u(y,C,h){if(r=h,d(R,"RangeSelector")){const a=C.prototype;y.prototype.minFromRange=s,I(C,"afterGetContainer",p),I(C,"beforeRender",o),I(C,"destroy",l),I(C,"getMargins",f),I(C,"redraw",c),I(C,"update",m),a.callbacks.push(c),e(U,{rangeSelector:X.rangeSelector}),e(U.lang,X.lang)}}}}),$(v,"Stock/RangeSelector/RangeSelector.js",[v["Core/Axis/Axis.js"],v["Core/Defaults.js"],v["Core/Globals.js"],v["Stock/RangeSelector/RangeSelectorComposition.js"],v["Core/Renderer/SVG/SVGElement.js"],v["Core/Utilities.js"],v["Core/Axis/OrdinalAxis.js"]],function(j,G,X,F,U,R,I){const{defaultOptions:T}=G,{addEvent:e,createElement:w,css:A,defined:x,destroyObjectProperties:d,discardElement:k,extend:r,fireEvent:s,isNumber:u,merge:p,objectEach:o,pad:c,pick:l,pInt:f,splat:m}=R;class y{static compose(h,a){F.compose(h,a,y)}constructor(h){this.buttonOptions=y.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(h)}clickButton(h,a){const t=this,i=t.chart,n=t.buttonOptions[h],b=i.xAxis[0],g=i.scroller&&i.scroller.getUnionExtremes()||b||{},P=n.type,E=n.dataGrouping;let S,B,Y,z,N,D=g.dataMin,O=g.dataMax,L=b&&Math.round(Math.min(b.max,l(O,b.max))),_=n._range,H=!0;if(null!==D&&null!==O){if(t.setSelected(h),E&&(this.forcedDataGrouping=!0,j.prototype.setDataGrouping.call(b||{chart:this.chart},E,!1),this.frozenStates=n.preserveDataGrouping),"month"===P||"year"===P)b?(z={range:n,max:L,chart:i,dataMin:D,dataMax:O},S=b.minFromRange.call(z),u(z.newMax)&&(L=z.newMax),H=!1):_=n;else if(_)S=Math.max(L-_,D),L=Math.min(S+_,O),H=!1;else if("ytd"===P){if(!b)return void(t.deferredYTDClick=h);(typeof O>"u"||typeof D>"u")&&(D=Number.MAX_VALUE,O=Number.MIN_VALUE,i.series.forEach(V=>{const Z=V.xData;Z&&(D=Math.min(Z[0],D),O=Math.max(Z[Z.length-1],O))}),a=!1),N=t.getYTDExtremes(O,D,i.time.useUTC),S=Y=N.min,L=N.max}else"all"===P&&b&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),S=D,L=O);if(H&&n._offsetMin&&x(S)&&(S+=n._offsetMin),n._offsetMax&&x(L)&&(L+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=h+1),b)b.setExtremes(S,L,l(a,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}),i.setFixedRange(n._range);else{B=m(i.options.xAxis)[0];const V=e(i,"afterGetAxes",function(){const Z=i.xAxis[0];Z.range=Z.options.range=_,Z.min=Z.options.min=Y});e(i,"load",function(){const W=i.xAxis[0];i.setFixedRange(n._range),W.options.range=B.range,W.options.min=B.min,V()})}s(this,"afterBtnClick")}}setSelected(h){this.selected=this.options.selected=h}init(h){const a=this,t=h.options.rangeSelector,i=t.buttons||a.defaultButtons.slice(),n=t.selected,b=function(){const g=a.minInput,P=a.maxInput;g&&g.blur&&s(g,"blur"),P&&P.blur&&s(P,"blur")};a.chart=h,a.options=t,a.buttons=[],a.buttonOptions=i,this.eventsToUnbind=[],this.eventsToUnbind.push(e(h.container,"mousedown",b)),this.eventsToUnbind.push(e(h,"resize",b)),i.forEach(a.computeButtonRange),typeof n<"u"&&i[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(e(h,"load",function(){h.xAxis&&h.xAxis[0]&&e(h.xAxis[0],"setExtremes",function(g){u(this.max)&&u(this.min)&&this.max-this.min!==h.fixedRange&&"rangeSelectorButton"!==g.trigger&&"updatedData"!==g.trigger&&a.forcedDataGrouping&&!a.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){const h=this,a=this.chart,t=this.dropdown,i=this.dropdownLabel,n=a.xAxis[0],b=Math.round(n.max-n.min),g=!n.hasVisibleSeries,P=864e5,E=a.scroller&&a.scroller.getUnionExtremes()||n,D=E.dataMin,O=E.dataMax,S=h.getYTDExtremes(O,D,a.time.useUTC),L=S.min,B=S.max,_=h.selected,Y=h.options.allButtonsEnabled,z=new Array(h.buttonOptions.length).fill(0),N=u(_),H=h.buttons;let V=!1,Z=null;h.buttonOptions.forEach((W,q)=>{const K=W._range,J=W.type,et=W.count||1,st=W._offsetMax-W._offsetMin,ot=q===_,lt=K>O-D,nt=K<n.minRange;let at=!1,pt=K===b;if(ot&&lt&&(V=!0),n.isOrdinal&&n.ordinal?.positions&&K&&b<K){const ct=n.ordinal.positions,xt=I.Additions.findIndexOf(ct,n.min,!0);ct[Math.min(I.Additions.findIndexOf(ct,n.max,!0)+1,ct.length-1)]-ct[xt]>K&&(pt=!0)}else("month"===J||"year"===J)&&b+36e5>={month:28,year:365}[J]*P*et-st&&b-36e5<={month:31,year:366}[J]*P*et+st?pt=!0:"ytd"===J?(pt=B-L+st===b,at=!ot):"all"===J&&(pt=n.max-n.min>=O-D);Y||V&&"all"===J||!(lt||nt||g)?(V&&"all"===J||!at&&pt||ot&&h.frozenStates)&&(!N||q===_)&&(Z=q):z[q]=3}),null!==Z?(z[Z]=2,h.setSelected(Z)):(h.setSelected(),i&&(i.setState(0),i.attr({text:(T.lang.rangeSelectorZoom||"")+" \u25be"})));for(let W=0;W<z.length;W++){const q=z[W],K=H[W];if(K.state!==q&&(K.setState(q),t)){t.options[W+1].disabled=3===q,2===q&&(i&&(i.setState(2),i.attr({text:h.buttonOptions[W].text+" \u25be"})),t.selectedIndex=W+1);const J=i.getBBox();A(t,{width:`${J.width}px`,height:`${J.height}px`})}}}computeButtonRange(h){const a=h.type,t=h.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[a]?h._range=i[a]*t:("month"===a||"year"===a)&&(h._range=24*{month:30,year:365}[a]*36e5*t),h._offsetMin=l(h.offsetMin,0),h._offsetMax=l(h.offsetMax,0),h._range+=h._offsetMax-h._offsetMin}getInputValue(h){const a="min"===h?this.minInput:this.maxInput,i=this.chart.time;return a?("text"===a.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(a.value,i.useUTC,i):0}setInputValue(h,a){const t=this.options,i=this.chart.time,n="min"===h?this.minInput:this.maxInput,b="min"===h?this.minDateBox:this.maxDateBox;if(n){const g=n.getAttribute("data-hc-time");let P=x(g)?Number(g):void 0;if(x(a)){const E=P;x(E)&&n.setAttribute("data-hc-time-previous",E),n.setAttribute("data-hc-time",a),P=a}n.value=i.dateFormat(this.inputTypeFormats[n.type]||t.inputEditDateFormat,P),b&&b.attr({text:i.dateFormat(t.inputDateFormat,P)})}}setInputExtremes(h,a,t){const i="min"===h?this.minInput:this.maxInput;if(i){const n=this.inputTypeFormats[i.type],b=this.chart.time;if(n){const g=b.dateFormat(n,a);i.min!==g&&(i.min=g);const P=b.dateFormat(n,t);i.max!==P&&(i.max=P)}}}showInput(h){const a="min"===h?this.minDateBox:this.maxDateBox,t="min"===h?this.minInput:this.maxInput;if(t&&a&&this.inputGroup){const i="text"===t.type,{translateX:n=0,translateY:b=0}=this.inputGroup,{x:g=0,width:P=0,height:E=0}=a,{inputBoxWidth:D}=this.options;A(t,{width:i?P+(D?-2:20)+"px":"auto",height:E-2+"px",border:"2px solid silver"}),A(t,i&&D?{left:n+g+"px",top:b+"px"}:{left:Math.min(Math.round(g+n-(t.offsetWidth-P)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:b-(t.offsetHeight-E)/2+"px"})}}hideInput(h){const a="min"===h?this.minInput:this.maxInput;a&&A(a,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(h,a,t){let n=h.split("/").join("-").split(" ").join("T");if(-1===n.indexOf("T")&&(n+="T00:00"),a)n+="Z";else if(X.isSafari&&(!((g=n).length>6)||g.lastIndexOf("-")!==g.length-6&&g.lastIndexOf("+")!==g.length-6)){const g=new Date(n).getTimezoneOffset()/60;n+=g<=0?`+${c(-g)}:00`:`-${c(g)}:00`}var g;let b=Date.parse(n);if(!u(b)){const g=h.split("-");b=Date.UTC(f(g[0]),f(g[1])-1,f(g[2]))}return t&&a&&u(b)&&(b+=t.getTimezoneOffset(b)),b}drawInput(h){const{chart:a,div:t,inputGroup:i}=this,n=this,b=a.renderer.style||{},g=a.renderer,P=a.options.rangeSelector,D="min"===h;function O(z){const{maxInput:N,minInput:H}=n,V=a.xAxis[0],Z=a.scroller?.getUnionExtremes()||V,W=Z.dataMin,q=Z.dataMax,K=a.xAxis[0].getExtremes()[z];let J=n.getInputValue(z);u(J)&&J!==K&&(D&&N&&u(W)?J>Number(N.getAttribute("data-hc-time"))?J=void 0:J<W&&(J=W):H&&u(q)&&(J<Number(H.getAttribute("data-hc-time"))?J=void 0:J>q&&(J=q)),typeof J<"u"&&V.setExtremes(D?J:V.min,D?V.max:J,void 0,void 0,{trigger:"rangeSelectorInput"}))}const S=T.lang[D?"rangeSelectorFrom":"rangeSelectorTo"]||"",L=g.label(S,0).addClass("highcharts-range-label").attr({padding:S?2:0,height:S?P.inputBoxHeight:0}).add(i),B=g.label("",0).addClass("highcharts-range-input").attr({padding:2,width:P.inputBoxWidth,height:P.inputBoxHeight,"text-align":"center"}).on("click",function(){n.showInput(h),n[h+"Input"].focus()});a.styledMode||B.attr({stroke:P.inputBoxBorderColor,"stroke-width":1}),B.add(i);const _=w("input",{name:h,className:"highcharts-range-selector"},void 0,t);_.setAttribute("type",function M(C){if(-1!==C.indexOf("%L"))return"text";const a=["a","A","d","e","w","b","B","m","o","y","Y"].some(i=>-1!==C.indexOf("%"+i)),t=["H","k","I","l","M","S"].some(i=>-1!==C.indexOf("%"+i));return a&&t?"datetime-local":a?"date":t?"time":"text"}(P.inputDateFormat||"%e %b %Y")),a.styledMode||(L.css(p(b,P.labelStyle)),B.css(p({color:"#333333"},b,P.inputStyle)),A(_,r({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:b.fontSize,fontFamily:b.fontFamily,top:"-9999em"},P.inputStyle))),_.onfocus=()=>{n.showInput(h)},_.onblur=()=>{_===X.doc.activeElement&&O(h),n.hideInput(h),n.setInputValue(h),_.blur()};let Y=!1;return _.onchange=()=>{Y||(O(h),n.hideInput(h),_.blur())},_.onkeypress=z=>{13===z.keyCode&&O(h)},_.onkeydown=z=>{Y=!0,("ArrowUp"===z.key||"ArrowDown"===z.key||"Tab"===z.key)&&O(h)},_.onkeyup=()=>{Y=!1},{dateBox:B,input:_,label:L}}getPosition(){const h=this.chart,a=h.options.rangeSelector,t="top"===a.verticalAlign?h.plotTop-h.axisOffset[0]:0;return{buttonTop:t+a.buttonPosition.y,inputTop:t+a.inputPosition.y-10}}getYTDExtremes(h,a,t){const i=this.chart.time,n=new i.Date(h),b=i.get("FullYear",n),g=t?i.Date.UTC(b,0,1):+new i.Date(b,0,1),P=Math.max(a,g),E=n.getTime();return{max:Math.min(h||E,E),min:P}}createElements(){const h=this.chart,a=h.renderer,t=h.container,i=h.options,n=i.rangeSelector,b=n.inputEnabled,g=l(i.chart.style?.zIndex,0)+1;if(!1!==n.enabled&&(this.group=a.g("range-selector-group").attr({zIndex:7}).add(),this.div=w("div",void 0,{position:"relative",height:0,zIndex:g}),this.buttonOptions.length&&this.renderButtons(),t.parentNode&&t.parentNode.insertBefore(this.div,t),b)){this.inputGroup=a.g("input-group").add(this.group);const P=this.drawInput("min");this.minDateBox=P.dateBox,this.minLabel=P.label,this.minInput=P.input;const E=this.drawInput("max");this.maxDateBox=E.dateBox,this.maxLabel=E.label,this.maxInput=E.input}}render(h,a){const t=this.chart,n=t.options.rangeSelector;if(!1!==n.enabled){if(n.inputEnabled){this.setInputValue("min",h),this.setInputValue("max",a);const g=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(x(g.dataMin)&&x(g.dataMax)){const P=t.xAxis[0].minRange||0;this.setInputExtremes("min",g.dataMin,Math.min(g.dataMax,this.getInputValue("max"))-P),this.setInputExtremes("max",Math.max(g.dataMin,this.getInputValue("min"))+P,g.dataMax)}if(this.inputGroup){let P=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(E=>{if(E){const{width:D}=E.getBBox();D&&(E.attr({x:P}),P+=D+n.inputSpacing)}})}}this.alignElements(),this.updateButtonStates()}}renderButtons(){const{buttons:h,chart:a,options:t}=this,i=T.lang,n=a.renderer,b=p(t.buttonTheme),g=b&&b.states,P=b.width||28;delete b.width,delete b.states,this.buttonGroup=n.g("range-selector-buttons").add(this.group);const E=this.dropdown=w("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),D=a.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=n.button("",0,0,()=>{},p(b,{"stroke-width":l(b["stroke-width"],0),width:"auto",paddingLeft:l(t.buttonTheme.paddingLeft,D?.padding,8),paddingRight:l(t.buttonTheme.paddingRight,D?.padding,8)}),g&&g.hover,g&&g.select,g&&g.disabled).hide().add(this.group),e(E,"touchstart",()=>{E.style.fontSize="16px"});const O=X.isMS?"mouseover":"mouseenter",S=X.isMS?"mouseout":"mouseleave";e(E,O,()=>{s(this.dropdownLabel.element,O)}),e(E,S,()=>{s(this.dropdownLabel.element,S)}),e(E,"change",()=>{s(this.buttons[E.selectedIndex-1].element,"click")}),this.zoomText=n.label(i.rangeSelectorZoom||"",0).attr({padding:t.buttonTheme.padding,height:t.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(t.labelStyle),b["stroke-width"]=l(b["stroke-width"],0)),w("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,E),this.buttonOptions.forEach((L,B)=>{w("option",{textContent:L.title||L.text},void 0,E),h[B]=n.button(L.text,0,0,_=>{const Y=L.events&&L.events.click;let z;Y&&(z=Y.call(L,_)),!1!==z&&this.clickButton(B),this.isActive=!0},b,g&&g.hover,g&&g.select,g&&g.disabled).attr({"text-align":"center",width:P}).add(this.buttonGroup),L.title&&h[B].attr("title",L.title)})}alignElements(){const{buttonGroup:h,buttons:a,chart:t,group:i,inputGroup:n,options:b,zoomText:g}=this,P=t.options,E=P.exporting&&!1!==P.exporting.enabled&&P.navigation&&P.navigation.buttonOptions,{buttonPosition:D,inputPosition:O,verticalAlign:S}=b,L=(_,Y)=>E&&this.titleCollision(t)&&"top"===S&&"right"===Y.align&&Y.y-_.getBBox().height-12<(E.y||0)+(E.height||0)+t.spacing[0]?-40:0;let B=t.plotLeft;if(i&&D&&O){let _=D.x-t.spacing[3];if(h){if(this.positionButtons(),!this.initialButtonGroupWidth){let K=0;g&&(K+=g.getBBox().width+5),a.forEach((J,et)=>{K+=J.width||0,et!==a.length-1&&(K+=b.buttonSpacing)}),this.initialButtonGroupWidth=K}B-=t.spacing[3];const q=L(h,D);this.alignButtonGroup(q),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),i.placed=h.placed=t.hasLoaded}let Y=0;n&&(Y=L(n,O),"left"===O.align?_=B:"right"===O.align&&(_=-Math.max(t.axisOffset[1],-Y)),n.align({y:O.y,width:n.getBBox().width,align:O.align,x:O.x+_-2},!0,t.spacingBox),n.placed=t.hasLoaded),this.handleCollision(Y),i.align({verticalAlign:S},!0,t.spacingBox);const z=i.alignAttr.translateY;let N=i.getBBox().height+20,H=0;if("bottom"===S){const q=t.legend&&t.legend.options;N=N+(q&&"bottom"===q.verticalAlign&&q.enabled&&!q.floating?t.legend.legendHeight+l(q.margin,10):0)-20,H=z-N-(b.floating?0:b.y)-(t.titleOffset?t.titleOffset[2]:0)-10}"top"===S?(b.floating&&(H=0),t.titleOffset&&t.titleOffset[0]&&(H=t.titleOffset[0]),H+=t.margin[0]-t.spacing[0]||0):"middle"===S&&(O.y===D.y?H=z:(O.y||D.y)&&(O.y<0||D.y<0?H-=Math.min(O.y,D.y):H=z-N)),i.translate(b.x,b.y+Math.floor(H));const{minInput:V,maxInput:Z,dropdown:W}=this;b.inputEnabled&&V&&Z&&(V.style.marginTop=i.translateY+"px",Z.style.marginTop=i.translateY+"px"),W&&(W.style.marginTop=i.translateY+"px")}}alignButtonGroup(h,a){const{chart:t,options:i,buttonGroup:n}=this,{buttonPosition:b}=i,g=t.plotLeft-t.spacing[3];let P=b.x-t.spacing[3];"right"===b.align?P+=h-g:"center"===b.align&&(P-=g/2),n&&n.align({y:b.y,width:l(a,this.initialButtonGroupWidth),align:b.align,x:P},!0,t.spacingBox)}positionButtons(){const{buttons:h,chart:a,options:t,zoomText:i}=this,n=a.hasLoaded?"animate":"attr",{buttonPosition:b}=t,g=a.plotLeft;let P=g;i&&"hidden"!==i.visibility&&(i[n]({x:l(g+b.x,g)}),P+=b.x+i.getBBox().width+5);for(let E=0,D=this.buttonOptions.length;E<D;++E)"hidden"!==h[E].visibility?(h[E][n]({x:P}),P+=(h[E].width||0)+t.buttonSpacing):h[E][n]({x:g})}handleCollision(h){const{chart:a,buttonGroup:t,inputGroup:i}=this,{buttonPosition:n,dropdown:b,inputPosition:g}=this.options,P=()=>{let O=0;return this.buttons.forEach(S=>{const L=S.getBBox();L.width>O&&(O=L.width)}),O},E=O=>{if(i?.alignOptions&&t){const S=i.alignAttr.translateX+i.alignOptions.x-h+i.getBBox().x+2,L=i.alignOptions.width||0,B=t.alignAttr.translateX+t.getBBox().x;return B+O>S&&S+L>B&&n.y<g.y+i.getBBox().height}return!1},D=()=>{i&&t&&i.attr({translateX:i.alignAttr.translateX+(a.axisOffset[1]>=-h?0:-h),translateY:i.alignAttr.translateY+t.getBBox().height+10})};if(t){if("always"===b)return this.collapseButtons(),void(E(P())&&D());"never"===b&&this.expandButtons()}i&&t?g.align===n.align||E(this.initialButtonGroupWidth+20)?"responsive"===b?(this.collapseButtons(),E(P())&&D()):D():"responsive"===b&&this.expandButtons():t&&"responsive"===b&&(this.initialButtonGroupWidth>a.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){const{buttons:h,zoomText:a}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,a.hide(),h.forEach(t=>{t.hide()}),this.showDropdown())}expandButtons(){const{buttons:h,zoomText:a}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),a.show(),h.forEach(t=>{t.show()}),this.positionButtons())}showDropdown(){const{buttonGroup:h,chart:a,dropdownLabel:t,dropdown:i}=this;if(h&&i){const{translateX:n=0,translateY:b=0}=h,g=a.plotLeft+n,P=b;t.attr({x:g,y:P}).show(),A(i,{left:g+"px",top:P+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:h}=this;h&&(this.dropdownLabel.hide(),A(h,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const a=this.options,t=this.group,b=a.y,g=a.buttonPosition.y,P=a.inputPosition.y;let E=0;if(a.height)return a.height;this.alignElements(),E=t?t.getBBox(!0).height+13+b:0;const D=Math.min(P,g);return(P<0&&g<0||P>0&&g>0)&&(E+=Math.abs(D)),E}titleCollision(h){return!(h.options.title.text||h.options.subtitle.text)}update(h,a=!0){const t=this.chart;p(!0,t.options.rangeSelector,h),this.destroy(),this.init(t),a&&this.render()}destroy(){const h=this,a=h.minInput,t=h.maxInput;h.eventsToUnbind&&(h.eventsToUnbind.forEach(i=>i()),h.eventsToUnbind=void 0),d(h.buttons),a&&(a.onfocus=a.onblur=a.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null),o(h,function(i,n){i&&"chart"!==n&&(i instanceof U?i.destroy():i instanceof window.HTMLElement&&k(i)),i!==y.prototype[n]&&(h[n]=null)},this)}}return r(y.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),y}),$(v,"Core/Chart/StockChart.js",[v["Core/Chart/Chart.js"],v["Core/Templating.js"],v["Core/Defaults.js"],v["Stock/Navigator/NavigatorDefaults.js"],v["Stock/RangeSelector/RangeSelectorDefaults.js"],v["Stock/Scrollbar/ScrollbarDefaults.js"],v["Stock/Utilities/StockUtilities.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T){const{format:e}=G,{getOptions:w}=X,{setFixedRange:A}=I,{addEvent:x,clamp:d,crisp:k,defined:r,extend:s,find:u,isNumber:p,isString:o,merge:c,pick:l,splat:f}=T;function m(C,h,a){return"xAxis"===C?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===C?{labels:{y:-2},opposite:a.opposite??h.opposite??!0,showLastLabel:!(!h.categories&&"category"!==h.type),title:{text:"Values"!==a.title?.text?a.title?.text:null}}:{}}function M(C,h){if("xAxis"===C){const t={type:"datetime",categories:void 0};return l(h.navigator&&h.navigator.enabled,F.enabled,!0)&&(t.startOnTick=!1,t.endOnTick=!1),t}return{}}class y extends j{init(h,a){const t=w(),i=h.xAxis,n=h.yAxis,b=l(h.navigator&&h.navigator.enabled,F.enabled,!0);h.xAxis=h.yAxis=void 0;const g=c({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:b},scrollbar:{enabled:l(R.enabled,!0)},rangeSelector:{enabled:l(U.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:l(t.tooltip&&t.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},h,{isStock:!0});h.xAxis=i,h.yAxis=n,g.xAxis=f(h.xAxis||{}).map(P=>c(m("xAxis",P,t.xAxis),P,M("xAxis",h))),g.yAxis=f(h.yAxis||{}).map(P=>c(m("yAxis",P,t.yAxis),P)),super.init(g,a)}createAxis(h,a){return a.axis=c(m(h,a.axis,w()[h]),a.axis,M(h,this.userOptions)),super.createAxis(h,a)}}return x(j,"update",function(C){const h=this,a=C.options;"scrollbar"in a&&h.navigator&&(c(!0,h.options.scrollbar,a.scrollbar),h.navigator.update({}),delete a.scrollbar)}),function(C){function a(O){const S=this;if(!(S.crosshair&&S.crosshair.label&&S.crosshair.label.enabled&&S.cross&&p(S.min)&&p(S.max)))return;const L=S.chart,B=S.logarithmic,_=S.crosshair.label,Y=S.horiz,z=S.opposite,N=S.left,H=S.top,V=S.width,Z="inside"===S.options.tickPosition,W=!1!==S.crosshair.snap,q=O.e||S.cross&&S.cross.e,K=O.point;let et,st,nt,J=S.crossLabel,ot=_.format,lt="",at=0,pt=S.min,bt=S.max;B&&(pt=B.lin2log(S.min),bt=B.lin2log(S.max));const ht=Y?"center":z?"right"===S.labelAlign?"right":"left":"left"===S.labelAlign?"left":"center";J||(J=S.crossLabel=L.renderer.label("",0,void 0,_.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(K&&K.series?K.series.colorIndex:S.series[0]&&this.series[0].colorIndex)).attr({align:_.align||ht,padding:l(_.padding,8),r:l(_.borderRadius,3),zIndex:2}).add(S.labelGroup),L.styledMode||J.attr({fill:_.backgroundColor||K&&K.series&&K.series.color||"#666666",stroke:_.borderColor||"","stroke-width":_.borderWidth||0}).css(s({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},_.style||{}))),Y?(et=W?(K.plotX||0)+N:q.chartX,st=H+(z?0:S.height)):(et=N+S.offset+(z?V:0),st=W?(K.plotY||0)+H:q.chartY),!ot&&!_.formatter&&(S.dateTime&&(lt="%b %d, %Y"),ot="{value"+(lt?":"+lt:"")+"}");const ct=W?S.isXAxis?K.x:K.y:S.toValue(Y?q.chartX:q.chartY),xt=K&&K.series?K.series.isPointInside(K):p(ct)&&ct>pt&&ct<bt;let ft="";ot?ft=e(ot,{value:ct},L):_.formatter&&p(ct)&&(ft=_.formatter.call(S,ct)),J.attr({text:ft,x:et,y:st,visibility:xt?"inherit":"hidden"});const yt=J.getBBox();p(J.x)&&!Y&&!z&&(et=J.x-yt.width/2),p(J.y)&&(Y?(Z&&!z||!Z&&z)&&(st=J.y-yt.height):st=J.y-yt.height/2),nt=Y?{left:N,right:N+S.width}:{left:"left"===S.labelAlign?N:0,right:"right"===S.labelAlign?N+S.width:L.chartWidth};const St=J.translateX||0;St<nt.left&&(at=nt.left-St),St+yt.width>=nt.right&&(at=-(St+yt.width-nt.right)),J.attr({x:et+at,y:st,anchorX:Y?et:S.opposite?0:L.chartWidth,anchorY:Y?S.opposite?L.chartHeight:0:st+yt.height/2})}function t(){const O=this;O.crossLabel&&(O.crossLabel=O.crossLabel.hide())}function i(O){const S=this,L=S.chart,B=S.options,_=L._labelPanes=L._labelPanes||{},Y=B.labels;if(L.options.isStock&&"yAxis"===S.coll){const z=B.top+","+B.height;!_[z]&&Y.enabled&&(15===Y.distance&&1===S.side&&(Y.distance=0),typeof Y.align>"u"&&(Y.align="right"),_[z]=S,O.align="right",O.preventDefault())}}function n(){const O=this,S=O.chart,L=O.options&&O.options.top+","+O.options.height;L&&S._labelPanes&&S._labelPanes[L]===O&&delete S._labelPanes[L]}function b(O){const S=this,L=S.isLinked&&!S.series&&S.linkedParent?S.linkedParent.series:S.series,B=S.chart,_=B.renderer,Y=S.left,z=S.top,N=[],H=O.translatedValue,V=O.value,Z=O.force;let q,K,J,et,ot,lt,nt,st=[];if(B.options.isStock&&!1!==O.acrossPanes&&"xAxis"===S.coll||"yAxis"===S.coll){O.preventDefault(),st=(at=>{const pt="xAxis"===at?"yAxis":"xAxis",bt=S.options[pt];return p(bt)?[B[pt][bt]]:o(bt)?[B.get(bt)]:L.map(ht=>ht[pt])})(S.coll),ot=S.isXAxis?B.yAxis:B.xAxis;for(const at of ot)if(!r(at.options.id)||-1===at.options.id.indexOf("navigator")){const pt=at.isXAxis?"yAxis":"xAxis",bt=r(at.options[pt])?B[pt][at.options[pt]]:B[pt][0];S===bt&&st.push(at)}lt=st.length?[]:[S.isXAxis?B.yAxis[0]:B.xAxis[0]];for(const at of st)-1===lt.indexOf(at)&&!u(lt,pt=>pt.pos===at.pos&&pt.len===at.len)&&lt.push(at);if(nt=l(H,S.translate(V||0,void 0,void 0,O.old)),p(nt))if(S.horiz)for(const at of lt){let pt;K=at.pos,et=K+at.len,q=J=Math.round(nt+S.transB),"pass"!==Z&&(q<Y||q>Y+S.width)&&(Z?q=J=d(q,Y,Y+S.width):pt=!0),pt||N.push(["M",q,K],["L",J,et])}else for(const at of lt){let pt;q=at.pos,J=q+at.len,K=et=Math.round(z+S.height-nt),"pass"!==Z&&(K<z||K>z+S.height)&&(Z?K=et=d(K,z,z+S.height):pt=!0),pt||N.push(["M",q,K],["L",J,et])}O.path=N.length>0?_.crispPolyLine(N,O.lineWidth||1):void 0}}function g(O){const S=this;if(S.chart.options.isStock){let L;S.is("column")||S.is("columnrange")?L={borderWidth:0,shadow:!1}:!S.is("scatter")&&!S.is("sma")&&(L={marker:{enabled:!1,radius:2}}),L&&(O.plotOptions[S.type]=c(O.plotOptions[S.type],L))}}function P(){const O=this,B=O.options.dataGrouping;return!1!==O.allowDG&&B&&l(B.enabled,O.chart.options.isStock)}function D(O,S){for(let L=0;L<O.length;L+=2){const B=O[L],_=O[L+1];r(B[1])&&B[1]===_[1]&&(B[1]=_[1]=k(B[1],S)),r(B[2])&&B[2]===_[2]&&(B[2]=_[2]=k(B[2],S))}return O}C.compose=function h(O,S,L,B){const _=L.prototype;_.forceCropping||(x(S,"afterDrawCrosshair",a),x(S,"afterHideCrosshair",t),x(S,"autoLabelAlign",i),x(S,"destroy",n),x(S,"getPlotLinePath",b),O.prototype.setFixedRange=A,_.forceCropping=P,x(L,"setOptions",g),B.prototype.crispPolyLine=D)},C.stockChart=function E(O,S,L){return new C(O,S,L)}}(y||(y={})),y}),$(v,"Series/HLC/HLCPoint.js",[v["Core/Series/SeriesRegistry.js"]],function(j){const{column:{prototype:{pointClass:G}}}=j.seriesTypes;return class X extends G{}}),$(v,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),$(v,"Series/HLC/HLCSeries.js",[v["Series/HLC/HLCPoint.js"],v["Series/HLC/HLCSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{column:U}=X.seriesTypes,{crisp:R,extend:I,merge:T}=F;class e extends U{extendStem(A,x,d){const k=A[0],r=A[1];"number"==typeof k[2]&&(k[2]=Math.max(d+x,k[2])),"number"==typeof r[2]&&(r[2]=Math.min(d-x,r[2]))}getPointPath(A,x){const d=x.strokeWidth(),k=A.series,r=R(A.plotX||0,d),s=Math.round(A.shapeArgs.width/2),u=[["M",r,Math.round(A.yBottom)],["L",r,Math.round(A.plotHigh)]];if(null!==A.close){const p=R(A.plotClose,d);u.push(["M",r,p],["L",r+s,p]),k.extendStem(u,d/2,p)}return u}drawSinglePoint(A){const x=A.series,d=x.chart;let k,r=A.graphic;typeof A.plotY<"u"&&(r||(A.graphic=r=d.renderer.path().add(x.group)),d.styledMode||r.attr(x.pointAttribs(A,A.selected&&"select")),k=x.getPointPath(A,r),r[r?"animate":"attr"]({d:k}).addClass(A.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(A,x){const d=super.pointAttribs.call(this,A,x);return delete d.fill,d}toYData(A){return[A.high,A.low,A.close]}translate(){const A=this,x=A.yAxis,d=this.pointArrayMap&&this.pointArrayMap.slice()||[],k=d.map(r=>`plot${r.charAt(0).toUpperCase()+r.slice(1)}`);k.push("yBottom"),d.push("low"),super.translate.apply(A),A.points.forEach(function(r){d.forEach(function(s,u){let p=r[s];null!==p&&(A.dataModify&&(p=A.dataModify.modifyValue(p)),r[k[u]]=x.toPixels(p,!0))}),r.tooltipPos[1]=r.plotHigh+x.pos-A.chart.plotTop})}}return e.defaultOptions=T(U.defaultOptions,G),I(e.prototype,{pointClass:j,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),X.registerSeriesType("hlc",e),e}),$(v,"Series/OHLC/OHLCPoint.js",[v["Core/Series/SeriesRegistry.js"]],function(j){const{seriesTypes:{hlc:G}}=j;return class X extends G.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){const U=super.getZone();return this.resolveUpColor(),U}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}}),$(v,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),$(v,"Series/OHLC/OHLCSeries.js",[v["Core/Globals.js"],v["Series/OHLC/OHLCPoint.js"],v["Series/OHLC/OHLCSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U){const{composed:R}=j,{hlc:I}=F.seriesTypes,{addEvent:T,crisp:e,extend:w,merge:A,pushUnique:x}=U;function d(s){const u=s.options,p=u.dataGrouping;p&&u.useOhlcData&&"highcharts-navigator-series"!==u.id&&(p.approximation="ohlc")}function k(s){const p=s.options;p.useOhlcData&&"highcharts-navigator-series"!==p.id&&w(this,{pointValKey:r.prototype.pointValKey,pointArrayMap:r.prototype.pointArrayMap,toYData:r.prototype.toYData})}class r extends I{static compose(u,...p){x(R,"OHLCSeries")&&(T(u,"afterSetOptions",d),T(u,"init",k))}getPointPath(u,p){const o=super.getPointPath(u,p),c=p.strokeWidth(),l=e(u.plotX||0,c),f=Math.round(u.shapeArgs.width/2);if(null!==u.open){const m=e(u.plotOpen,c);o.push(["M",l,m],["L",l-f,m]),super.extendStem(o,c/2,m)}return o}pointAttribs(u,p){const o=super.pointAttribs.call(this,u,p),c=this.options;return delete o.fill,!u.options.color&&c.upColor&&u.open<u.close&&(o.stroke=c.upColor),o}toYData(u){return[u.open,u.high,u.low,u.close]}}return r.defaultOptions=A(I.defaultOptions,X),w(r.prototype,{pointClass:G,pointArrayMap:["open","high","low","close"]}),F.registerSeriesType("ohlc",r),r}),$(v,"Series/Candlestick/CandlestickSeriesDefaults.js",[],function(){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),$(v,"Series/Candlestick/CandlestickSeries.js",[v["Series/Candlestick/CandlestickSeriesDefaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X){const{column:F,ohlc:U}=G.seriesTypes,{crisp:R,merge:I}=X;class T extends U{pointAttribs(w,A){const x=F.prototype.pointAttribs.call(this,w,A),d=this.options,k=w.open<w.close,r=d.lineColor||this.color,s=w.color||this.color;if(x["stroke-width"]=d.lineWidth,x.fill=w.options.color||k&&d.upColor||s,x.stroke=w.options.lineColor||k&&d.upLineColor||r,A){const u=d.states[A];x.fill=u.color||x.fill,x.stroke=u.lineColor||x.stroke,x["stroke-width"]=u.lineWidth||x["stroke-width"]}return x}drawPoints(){const w=this,A=w.points,x=w.chart,d=w.yAxis.reversed;for(const k of A){let s,u,p,o,c,l,f,m,M,r=k.graphic;const y=!r;if(typeof k.plotY<"u"){r||(k.graphic=r=x.renderer.path().add(w.group)),w.chart.styledMode||r.attr(w.pointAttribs(k,k.selected&&"select")).shadow(w.options.shadow);const C=r.strokeWidth();f=R(k.plotX||0,C),s=k.plotOpen,u=k.plotClose,p=Math.min(s,u),o=Math.max(s,u),M=Math.round(k.shapeArgs.width/2),c=d?o!==k.yBottom:Math.round(p)!==Math.round(k.plotHigh||0),l=d?Math.round(p)!==Math.round(k.plotHigh||0):o!==k.yBottom,p=R(p,C),o=R(o,C),m=[],m.push(["M",f-M,o],["L",f-M,p],["L",f+M,p],["L",f+M,o],["Z"],["M",f,p],["L",f,c?Math.round(d?k.yBottom:k.plotHigh):p],["M",f,o],["L",f,l?Math.round(d?k.plotHigh:k.yBottom):o]),r[y?"attr":"animate"]({d:m}).addClass(k.getClassName(),!0)}}}}return T.defaultOptions=I(U.defaultOptions,{tooltip:U.defaultOptions.tooltip},j),G.registerSeriesType("candlestick",T),T}),$(v,"Series/Flags/FlagsPoint.js",[v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G){const{column:{prototype:{pointClass:X}}}=j.seriesTypes,{isNumber:F}=G;return class U extends X{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return F(this.y)||typeof this.y>"u"}hasNewShapeType(){const I=this.options.shape||this.series.options.shape;return this.graphic&&I&&I!==this.graphic.symbolKey}}}),$(v,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),$(v,"Series/Flags/FlagsSymbols.js",[v["Core/Renderer/RendererRegistry.js"]],function(j){var G;return function(X){const F=[];function R(T,e,w,A,x){const d=x&&x.anchorX||T,k=x&&x.anchorY||e,r=this.circle(d-1,k-1,2,2);return r.push(["M",d,k],["L",T,e+A],["L",T,e],["L",T+w,e],["L",T+w,e+A],["L",T,e+A],["Z"]),r}function I(T,e){T[e+"pin"]=function(w,A,x,d,k){const r=k&&k.anchorX,s=k&&k.anchorY;let u;if("circle"===e&&d>x&&(w-=Math.round((d-x)/2),x=d),u=T[e](w,A,x,d,k),r&&s){let p=r;if("circle"===e)p=w+x/2;else{const c=u[0],l=u[1];"M"===c[0]&&"L"===l[0]&&(p=(c[1]+l[1])/2)}u.push(["M",p,A>s?A:A+d],["L",r,s]),u=u.concat(T.circle(r-1,s-1,2,2))}return u}}X.compose=function U(T){if(-1===F.indexOf(T)){F.push(T);const w=T.prototype.symbols;w.flag=R,I(w,"circle"),I(w,"square")}const e=j.getRendererType();F.indexOf(e)&&F.push(e)}}(G||(G={})),G}),$(v,"Series/OnSeriesComposition.js",[v["Series/Column/ColumnSeries.js"],v["Core/Globals.js"],v["Core/Series/Series.js"],v["Core/Utilities.js"]],function(j,G,X,F){const{composed:U}=G,{prototype:R}=j,{prototype:I}=X,{defined:T,pushUnique:e,stableSort:w}=F;var A;return function(x){function k(s){return I.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,s)}function r(){R.translate.apply(this);const s=this,u=s.options,p=s.chart,o=s.points,c=u.onSeries,l=c&&p.get(c),f=l&&l.options.step,m=l&&l.points,M=p.inverted,y=s.xAxis,C=s.yAxis;let a,t,g,P,E,D,O,h=o.length-1,i=u.onKey||"y",n=m&&m.length,b=0;if(l&&l.visible&&n)for(b=(l.pointXOffset||0)+(l.barW||0)/2,D=l.currentDataGrouping,P=m[n-1].x+(D?D.totalRange:0),w(o,(S,L)=>S.x-L.x),i="plot"+i[0].toUpperCase()+i.substr(1);n--&&o[h];)if(g=m[n],a=o[h],a.y=g.y,g.x<=a.x&&typeof g[i]<"u"){if(a.x<=P&&(a.plotY=g[i],g.x<a.x&&!f&&(E=m[n+1],E&&typeof E[i]<"u")))if(T(a.plotX)&&l.is("spline")){const S=[g.plotX||0,g.plotY||0],L=[E.plotX||0,E.plotY||0],B=g.controlPoints?.high||S,_=E.controlPoints?.low||L,Y=.25,z=100,N=(W,q)=>Math.pow(1-W,3)*S[q]+3*(1-W)*(1-W)*W*B[q]+3*(1-W)*W*W*_[q]+W*W*W*L[q];let Z,H=0,V=1;for(let W=0;W<z;W++){const q=(H+V)/2,K=N(q,0);if(null===K)break;if(Math.abs(K-a.plotX)<Y){Z=q;break}K<a.plotX?H=q:V=q}T(Z)&&(a.plotY=N(Z,1),a.y=C.toValue(a.plotY,!0))}else O=(a.x-g.x)/(E.x-g.x),a.plotY+=O*(E[i]-g[i]),a.y+=O*(E.y-g.y);if(h--,n++,h<0)break}o.forEach((S,L)=>{let B;S.plotX+=b,(typeof S.plotY>"u"||M)&&(S.plotX>=0&&S.plotX<=y.len?M?(S.plotY=y.translate(S.x,0,1,0,1),S.plotX=T(S.y)?C.translate(S.y,0,0,0,1):0):S.plotY=(y.opposite?0:s.yAxis.len)+y.offset:S.shapeArgs={}),t=o[L-1],t&&t.plotX===S.plotX&&(typeof t.stackIndex>"u"&&(t.stackIndex=0),B=t.stackIndex+1),S.stackIndex=B}),this.onSeries=l}x.compose=function d(s){if(e(U,"OnSeries")){const u=s.prototype;u.getPlotBox=k,u.translate=r}return s},x.getPlotBox=k,x.translate=r}(A||(A={})),A}),$(v,"Series/Flags/FlagsSeries.js",[v["Series/Flags/FlagsPoint.js"],v["Series/Flags/FlagsSeriesDefaults.js"],v["Series/Flags/FlagsSymbols.js"],v["Core/Globals.js"],v["Series/OnSeriesComposition.js"],v["Core/Renderer/RendererUtilities.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Renderer/SVG/SVGElement.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R,I,T,e){const{noop:w}=F,{distribute:A}=R,{series:x,seriesTypes:{column:d}}=I,{addEvent:k,defined:r,extend:s,isNumber:u,merge:p,objectEach:o,wrap:c}=e;class l extends d{animate(m){m&&this.setClip()}drawPoints(){const m=this,M=m.points,y=m.chart,C=y.renderer,h=y.inverted,a=m.options,t=a.y,i=m.yAxis,n={},b=[],g=u(a.borderRadius)?a.borderRadius:0;let P,E,D,O,S,L,B,_,Y,z,N;for(O=M.length;O--;)S=M[O],z=(h?S.plotY:S.plotX)>m.xAxis.len,P=S.plotX,B=S.stackIndex,D=S.options.shape||a.shape,E=S.plotY,typeof E<"u"&&(E=S.plotY+t-(typeof B<"u"&&B*a.stackDistance)),S.anchorX=B?void 0:S.plotX,_=B?void 0:S.plotY,N="flag"!==D,L=S.graphic,typeof E<"u"&&P>=0&&!z?(L&&S.hasNewShapeType()&&(L=L.destroy()),L||(L=S.graphic=C.label("",0,void 0,D,void 0,void 0,a.useHTML).addClass("highcharts-point").add(m.markerGroup),S.graphic.div&&(S.graphic.div.point=S),L.isNew=!0),L.attr({align:N?"center":"left",width:a.width,height:a.height,"text-align":a.textAlign,r:g}),y.styledMode||L.attr(m.pointAttribs(S)).css(p(a.style,S.style)).shadow(a.shadow),P>0&&(P-=L.strokeWidth()%2),Y={y:E,anchorY:_},a.allowOverlapX&&(Y.x=P,Y.anchorX=S.anchorX),L.attr({text:S.options.title??a.title??"A"})[L.isNew?"attr":"animate"](Y),a.allowOverlapX||(n[S.plotX]?n[S.plotX].size=Math.max(n[S.plotX].size,L.width||0):n[S.plotX]={align:N?.5:0,size:L.width||0,target:P,anchorX:P}),S.tooltipPos=[P,E+i.pos-y.plotTop]):L&&(S.graphic=L.destroy());if(!a.allowOverlapX){let H=100;o(n,function(V){V.plotX=V.anchorX,b.push(V),H=Math.max(V.size,H)}),A(b,h?i.len:this.xAxis.len,H);for(const V of M){const W=V.graphic,q=W&&n[V.plotX];q&&W&&(r(q.pos)?W[W.isNew?"attr":"animate"]({x:q.pos+(q.align||0)*q.size,anchorX:V.anchorX}).show().isNew=!1:W.hide().isNew=!0)}}a.useHTML&&m.markerGroup&&c(m.markerGroup,"on",function(H){return T.prototype.on.apply(H.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const M=this.points;super.drawTracker();for(const y of M){const C=y.graphic;C&&(y.unbindMouseOver&&y.unbindMouseOver(),y.unbindMouseOver=k(C.element,"mouseover",function(){y.stackIndex>0&&!y.raised&&(y._y=C.y,C.attr({y:y._y-8}),y.raised=!0);for(const h of M)h!==y&&h.raised&&h.graphic&&(h.graphic.attr({y:h._y}),h.raised=!1)}))}}pointAttribs(m,M){const y=this.options,C=m&&m.color||this.color;let h=y.lineColor,a=m&&m.lineWidth,t=m&&m.fillColor||y.fillColor;return M&&(t=y.states[M].fillColor,h=y.states[M].lineColor,a=y.states[M].lineWidth),{fill:t||C,stroke:h||C,"stroke-width":a||y.lineWidth||0}}setClip(){x.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return l.compose=X.compose,l.defaultOptions=p(d.defaultOptions,G),U.compose(l),s(l.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:j,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:w,init:x.prototype.init}),I.registerSeriesType("flags",l),l}),$(v,"Core/Axis/BrokenAxis.js",[v["Core/Axis/Stacking/StackItem.js"],v["Core/Utilities.js"]],function(j,G){const{addEvent:X,find:F,fireEvent:U,isArray:R,isNumber:I,pick:T}=G;var e;return function(w){function x(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function d(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function k(){const l=this,f=l.brokenAxis;if(f?.hasBreaks){const m=l.tickPositions,M=l.tickPositions.info,y=[];for(let C=0;C<m.length;C++)f.isInAnyBreak(m[C])||y.push(m[C]);l.tickPositions=y,l.tickPositions.info=M}}function r(){const l=this;l.brokenAxis||(l.brokenAxis=new c(l))}function s(){const{isDirty:l,options:{connectNulls:f},points:m,xAxis:M,yAxis:y}=this;if(l){let C=m.length;for(;C--;){const h=m[C],t=!(null===h.y&&!1===f)&&(M?.brokenAxis?.isInAnyBreak(h.x,!0)||y?.brokenAxis?.isInAnyBreak(h.y,!0));h.visible=!t&&!1!==h.options.visible}}}function u(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,T(this.pointArrayMap,["y"]))}function p(l,f){const m=this,M=m.points;let y,C,h;if(l?.brokenAxis?.hasBreaks){const a=l.brokenAxis;f.forEach(function(t){y=a?.breakArray||[],C=l.isXAxis?l.min:T(m.options.threshold,l.min);const i=l?.options?.breaks?.filter(function(n){let b=!0;for(let g=0;g<y.length;g++){const P=y[g];if(P.from===n.from&&P.to===n.to){b=!1;break}}return b});M.forEach(function(n){h=T(n["stack"+t.toUpperCase()],n[t]),y.forEach(function(b){if(I(C)&&I(h)){let g="";C<b.from&&h>b.to||C>b.from&&h<b.from?g="pointBreak":(C<b.from&&h>b.from&&h<b.to||C>b.from&&h>b.to&&h<b.from)&&(g="pointInBreak"),g&&U(l,g,{point:n,brk:b})}}),i?.forEach(function(b){U(l,"pointOutsideOfBreak",{point:n,brk:b})})})})}}function o(){const f=this.currentDataGrouping?.gapSize,m=this.points.slice(),M=this.yAxis;let h,y=this.options.gapSize,C=m.length-1;if(y&&C>0){let a,t;for("value"!==this.options.gapUnit&&(y*=this.basePointRange),f&&f>y&&f>=this.basePointRange&&(y=f);C--;)if(t&&!1!==t.visible||(t=m[C+1]),a=m[C],!1!==t.visible&&!1!==a.visible){if(t.x-a.x>y){const i=(a.x+t.x)/2;m.splice(C+1,0,{isNull:!0,x:i}),M.stacking&&this.options.stacking&&(h=M.stacking.stacks[this.stackKey][i]=new j(M,M.options.stackLabels,!1,i,this.stack),h.total=0)}t=a}}return this.getGraphPath(m)}w.compose=function A(l,f){if(!l.keepProps.includes("brokenAxis")){l.keepProps.push("brokenAxis"),X(l,"init",r),X(l,"afterInit",x),X(l,"afterSetTickPositions",k),X(l,"afterSetOptions",d);const m=f.prototype;m.drawBreaks=p,m.gappedPath=o,X(f,"afterGeneratePoints",s),X(f,"afterRender",u)}return l};class c{static isInBreak(f,m){const M=f.repeat||1/0,y=f.from,C=f.to-f.from,h=m>=y?(m-y)%M:M-(y-m)%M;let a;return a=f.inclusive?h<=C:h<C&&0!==h,a}static lin2Val(f){const M=this.brokenAxis,y=M&&M.breakArray;if(!y||!I(f))return f;let h,a,C=f;for(a=0;a<y.length&&(h=y[a],!(h.from>=C));a++)(h.to<C||c.isInBreak(h,C))&&(C+=h.len);return C}static val2Lin(f){const M=this.brokenAxis,y=M&&M.breakArray;if(!y||!I(f))return f;let h,a,C=f;for(a=0;a<y.length;a++)if(h=y[a],h.to<=f)C-=h.len;else{if(h.from>=f)break;if(c.isInBreak(h,f)){C-=f-h.from;break}}return C}constructor(f){this.hasBreaks=!1,this.axis=f}findBreakAt(f,m){return F(m,function(M){return M.from<f&&f<M.to})}isInAnyBreak(f,m){const y=this.axis,C=y.options.breaks||[];let a,t,i,h=C.length;if(h&&I(f)){for(;h--;)c.isInBreak(C[h],f)&&(a=!0,t||(t=T(C[h].showPoints,!y.isXAxis)));i=a&&m?a&&!t:a}return i}setBreaks(f,m){const M=this,y=M.axis,C=R(f)&&!!f.length&&!!Object.keys(f[0]).length;y.isDirty=M.hasBreaks!==C,M.hasBreaks=C,f!==y.options.breaks&&(y.options.breaks=y.userOptions.breaks=f),y.forceRedraw=!0,y.series.forEach(function(h){h.isDirty=!0}),!C&&y.val2lin===c.val2Lin&&(delete y.val2lin,delete y.lin2val),C&&(y.userOptions.ordinal=!1,y.lin2val=c.lin2Val,y.val2lin=c.val2Lin,y.setExtremes=function(h,a,t,i,n){if(M.hasBreaks){const b=this.options.breaks||[];let g;for(;g=M.findBreakAt(h,b);)h=g.to;for(;g=M.findBreakAt(a,b);)a=g.from;a<h&&(a=h)}y.constructor.prototype.setExtremes.call(this,h,a,t,i,n)},y.setAxisTranslation=function(){if(y.constructor.prototype.setAxisTranslation.call(this),M.unitLength=void 0,M.hasBreaks){const h=y.options.breaks||[],a=[],t=[],i=T(y.pointRangePadding,0);let b,g,D,O,n=0,P=y.userMin||y.min,E=y.userMax||y.max;h.forEach(function(S){g=S.repeat||1/0,I(P)&&I(E)&&(c.isInBreak(S,P)&&(P+=S.to%g-P%g),c.isInBreak(S,E)&&(E-=E%g-S.from%g))}),h.forEach(function(S){if(D=S.from,g=S.repeat||1/0,I(P)&&I(E)){for(;D-g>P;)D-=g;for(;D<P;)D+=g;for(O=D;O<E;O+=g)a.push({value:O,move:"in"}),a.push({value:O+S.to-S.from,move:"out",size:S.breakSize})}}),a.sort(function(S,L){return S.value===L.value?("in"===S.move?0:1)-("in"===L.move?0:1):S.value-L.value}),b=0,D=P,a.forEach(function(S){b+="in"===S.move?1:-1,1===b&&"in"===S.move&&(D=S.value),0===b&&I(D)&&(t.push({from:D,to:S.value,len:S.value-D-(S.size||0)}),n+=S.value-D-(S.size||0))}),M.breakArray=t,I(P)&&I(E)&&I(y.min)&&(M.unitLength=E-P-n+i,U(y,"afterBreaks"),y.staticScale?y.transA=y.staticScale:M.unitLength&&(y.transA*=(E-y.min+i)/M.unitLength),i&&(y.minPixelPadding=y.transA*(y.minPointOffset||0)),y.min=P,y.max=E)}}),T(m,!0)&&y.chart.redraw()}}w.Additions=c}(e||(e={})),e}),$(v,"masters/modules/broken-axis.src.js",[v["Core/Globals.js"],v["Core/Axis/BrokenAxis.js"]],function(j,G){const X=j;return X.BrokenAxis=X.BrokenAxis||G,X.BrokenAxis.compose(X.Axis,X.Series),j}),$(v,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),$(v,"Extensions/DataGrouping/ApproximationDefaults.js",[v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Core/Utilities.js"]],function(j,G){const{arrayMax:X,arrayMin:F,correctFloat:U,extend:R,isNumber:I}=G;function T(o){const c=o.length;let l=u(o);return I(l)&&c&&(l=U(l/c)),l}function u(o){let l,c=o.length;if(!c&&o.hasNulls)l=null;else if(c)for(l=0;c--;)l+=o[c];return l}const p={average:T,averages:function e(){const o=[];return[].forEach.call(arguments,function(c){o.push(T(c))}),typeof o[0]>"u"?void 0:o},close:function w(o){return o.length?o[o.length-1]:o.hasNulls?null:void 0},high:function A(o){return o.length?X(o):o.hasNulls?null:void 0},hlc:function x(o,c,l){if(o=j.high(o),c=j.low(c),l=j.close(l),I(o)||I(c)||I(l))return[o,c,l]},low:function d(o){return o.length?F(o):o.hasNulls?null:void 0},ohlc:function k(o,c,l,f){if(o=j.open(o),c=j.high(c),l=j.low(l),f=j.close(f),I(o)||I(c)||I(l)||I(f))return[o,c,l,f]},open:function r(o){return o.length?o[0]:o.hasNulls?null:void 0},range:function s(o,c){return o=j.low(o),c=j.high(c),I(o)||I(c)?[o,c]:null===o&&null===c?null:void 0},sum:u};return R(j,p),p}),$(v,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),$(v,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Core/Utilities.js"]],function(j,G){const{addEvent:X,extend:F,merge:U,pick:R}=G;let I;function T(k){const r=this,s=r.series;s.forEach(function(u){u.groupPixelWidth=void 0}),s.forEach(function(u){u.groupPixelWidth=r.getGroupPixelWidth&&r.getGroupPixelWidth(),u.groupPixelWidth&&(u.hasProcessed=!0),u.applyGrouping(!!k.hasExtremesChanged)})}function w(){const k=this.series;let p,o,r=k.length,s=0,u=!1;for(;r--;)o=k[r].options.dataGrouping,o&&(s=Math.max(s,R(o.groupPixelWidth,j.common.groupPixelWidth)),p=(k[r].processedXData||k[r].data).length,(k[r].groupPixelWidth||p>this.chart.plotSizeX/s||p&&o.forced)&&(u=!0));return u?s:0}function A(){this.series.forEach(function(k){k.hasProcessed=!1})}function x(k,r){let u;if(r=R(r,!0),k||(k={forced:!1,units:null}),this instanceof I)for(u=this.series.length;u--;)this.series[u].update({dataGrouping:k},!1);else this.chart.options.series.forEach(function(p){p.dataGrouping="boolean"==typeof k?k:U(k,p.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),r&&this.chart.redraw()}return{compose:function e(k){I=k;const r=k.prototype;r.applyGrouping||(X(k,"afterSetScale",A),X(k,"postProcessData",T),F(r,{applyGrouping:T,getGroupPixelWidth:w,setDataGrouping:x}))}}}),$(v,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Core/Axis/DateTimeAxis.js"],v["Core/Defaults.js"],v["Core/Series/SeriesRegistry.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{series:{prototype:I}}=U,{addEvent:T,defined:e,error:w,extend:A,isNumber:x,merge:d,pick:k}=R,r=I.generatePoints;function p(h){const a=this,t=a.chart,n=a.options.dataGrouping,b=!1!==a.allowDG&&n&&k(n.enabled,t.options.isStock),g=a.reserveSpace(),P=this.currentDataGrouping;let E,D,O=!1;b&&!a.requireSorting&&(a.requireSorting=O=!0);const S=!1===function y(h,a){return!(h.isCartesian&&!h.isDirty&&!h.xAxis.isDirty&&!h.yAxis.isDirty&&!a)}(a,h)||!b;if(O&&(a.requireSorting=!1),S)return;a.destroyGroupedData();const L=n.groupAll?a.xData:a.processedXData,B=n.groupAll?a.yData:a.processedYData,_=t.plotSizeX,Y=a.xAxis,z=Y.options.ordinal,N=a.groupPixelWidth;let H,V;if(N&&L&&L.length&&_){V=!0,a.isDirty=!0,a.points=null;const Z=Y.getExtremes(),W=Z.min,q=Z.max,K=z&&Y.ordinal&&Y.ordinal.getGroupIntervalFactor(W,q,a)||1,et=Y.getTimeTicks(X.Additions.prototype.normalizeTimeTickInterval(N*(q-W)/_*K,n.units||G.units),Math.min(W,L[0]),Math.max(q,L[L.length-1]),Y.options.startOfWeek,L,a.closestPointRange),st=I.groupData.apply(a,[L,B,et,n.approximation]);let ot=st.groupedXData,lt=st.groupedYData,nt=0;for(n&&n.smoothed&&ot.length&&(n.firstAnchor="firstPoint",n.anchor="middle",n.lastAnchor="lastPoint",w(32,!1,t,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),H=1;H<et.length;H++)(!et.info.segmentStarts||-1===et.info.segmentStarts.indexOf(H))&&(nt=Math.max(et[H]-et[H-1],nt));E=et.info,E.gapSize=nt,a.closestPointRange=et.info.totalRange,a.groupMap=st.groupMap,a.currentDataGrouping=E,function u(h,a,t){const n=h.options.dataGrouping,b=h.currentDataGrouping&&h.currentDataGrouping.gapSize;if(!(n&&h.xData&&b&&h.groupMap))return;const g=a.length-1,P=n.anchor,E=n.firstAnchor,D=n.lastAnchor;let O=a.length-1,S=0;if(E&&h.xData[0]>=a[0]){S++;const L=h.groupMap[0].start,B=h.groupMap[0].length;let _;x(L)&&x(B)&&(_=L+(B-1)),a[0]={start:a[0],middle:a[0]+.5*b,end:a[0]+b,firstPoint:h.xData[0],lastPoint:_&&h.xData[_]}[E]}if(g>0&&D&&b&&a[g]>=t-b){O--;const L=h.groupMap[h.groupMap.length-1].start;a[g]={start:a[g],middle:a[g]+.5*b,end:a[g]+b,firstPoint:L&&h.xData[L],lastPoint:h.xData[h.xData.length-1]}[D]}if(P&&"start"!==P){const L=b*{middle:.5,end:1}[P];for(;O>=S;)a[O]+=L,O--}}(a,ot,q),g&&function s(h,a){e(a[0])&&x(h.min)&&x(h.dataMin)&&a[0]<h.min&&((!e(h.options.min)&&h.min<=h.dataMin||h.min===h.dataMin)&&(h.min=Math.min(a[0],h.min)),h.dataMin=Math.min(a[0],h.dataMin)),e(a[a.length-1])&&x(h.max)&&x(h.dataMax)&&a[a.length-1]>h.max&&((!e(h.options.max)&&x(h.dataMax)&&h.max>=h.dataMax||h.max===h.dataMax)&&(h.max=Math.max(a[a.length-1],h.max)),h.dataMax=Math.max(a[a.length-1],h.dataMax))}(Y,ot),n.groupAll&&(a.allGroupedData=lt,D=a.cropData(ot,lt,Y.min,Y.max),ot=D.xData,lt=D.yData,a.cropStart=D.start),a.processedXData=ot,a.processedYData=lt}else a.groupMap=null,a.currentDataGrouping=void 0;a.hasGroupedData=V,a.preventGraphAnimation=(P&&P.totalRange)!==(E&&E.totalRange)}function c(){this.groupedData&&(this.groupedData.forEach(function(h,a){h&&(this.groupedData[a]=h.destroy?h.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedData)}function l(){r.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function f(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function m(h,a,t,i){const n=this,b=n.data,g=n.options&&n.options.data,P=[],E=[],D=[],O=h.length,S=!!a,L=[],B=n.pointArrayMap,_=B&&B.length,Y=["x"].concat(B||["y"]),z=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let N,H,V,Z=0,W=0;const q="function"==typeof i?i:i&&j[i]?j[i]:j[n.getDGApproximation&&n.getDGApproximation()||"average"];if(_){let J=B.length;for(;J--;)L.push([])}else L.push([]);const K=_||1;for(let J=0;J<=O;J++)if(!(h[J]<t[0])){for(;typeof t[Z+1]<"u"&&h[J]>=t[Z+1]||J===O;){N=t[Z],n.dataGroupInfo={start:z?W:n.cropStart+W,length:L[0].length,groupStart:N},V=q.apply(n,L),n.pointClass&&!e(n.dataGroupInfo.options)&&(n.dataGroupInfo.options=d(n.pointClass.prototype.optionsToObject.call({series:n},n.options.data[n.cropStart+W])),Y.forEach(function(et){delete n.dataGroupInfo.options[et]})),typeof V<"u"&&(P.push(N),E.push(V),D.push(n.dataGroupInfo)),W=J;for(let et=0;et<K;et++)L[et].length=0,L[et].hasNulls=!1;if(Z+=1,J===O)break}if(J===O)break;if(B){const et=n.options.dataGrouping&&n.options.dataGrouping.groupAll?J:n.cropStart+J,st=b&&b[et]||n.pointClass.prototype.applyOptions.apply({series:n},[g[et]]);let ot;for(let lt=0;lt<_;lt++)ot=st[B[lt]],x(ot)?L[lt].push(ot):null===ot&&(L[lt].hasNulls=!0)}else H=S?a[J]:null,x(H)?L[0].push(H):null===H&&(L[0].hasNulls=!0)}return{groupedXData:P,groupedYData:E,groupMap:D}}function M(h){const a=h.options,t=this.type,i=this.chart.options.plotOptions,n=this.useCommonDataGrouping&&G.common,b=G.seriesSpecific;let g=F.defaultOptions.plotOptions[t].dataGrouping;if(i&&(b[t]||n)){const P=this.chart.rangeSelector;g||(g=d(G.common,b[t])),a.dataGrouping=d(n,g,i.series&&i.series.dataGrouping,i[t].dataGrouping,this.userOptions.dataGrouping,!a.isInternal&&P&&x(P.selected)&&P.buttonOptions[P.selected].dataGrouping)}}return{compose:function o(h){const a=h.prototype;a.applyGrouping||(T(h.prototype.pointClass,"update",function(){if(this.dataGroup)return w(24,!1,this.series.chart),!1}),T(h,"afterSetOptions",M),T(h,"destroy",c),A(a,{applyGrouping:p,destroyGroupedData:c,generatePoints:l,getDGApproximation:f,groupData:m}))},groupData:m}}),$(v,"Extensions/DataGrouping/DataGrouping.js",[v["Extensions/DataGrouping/DataGroupingAxisComposition.js"],v["Extensions/DataGrouping/DataGroupingDefaults.js"],v["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],v["Core/Templating.js"],v["Core/Globals.js"],v["Core/Utilities.js"]],function(j,G,X,F,U,R){const{format:I}=F,{composed:T}=U,{addEvent:e,extend:w,isNumber:A,pick:x,pushUnique:d}=R;function r(u){const p=this.chart,o=p.time,c=u.labelConfig,l=c.series,f=c.point,M=l.tooltipOptions,y=l.options.dataGrouping,C=l.xAxis;let a,t,i,n,b,h=M.xDateFormat,g=M[u.isFooter?"footerFormat":"headerFormat"];if(C&&"datetime"===C.options.type&&y&&A(c.key)){t=l.currentDataGrouping,i=y.dateTimeLabelFormats||G.common.dateTimeLabelFormats,t?(n=i[t.unitName],1===t.count?h=n[0]:(h=n[1],a=n[2])):!h&&i&&C.dateTime&&(h=C.dateTime.getXDateFormat(c.x,M.dateTimeLabelFormats));const P=x(l.groupMap?.[f.index].groupStart,c.key),E=P+t?.totalRange-1;b=o.dateFormat(h,P),a&&(b+=o.dateFormat(a,E)),l.chart.styledMode&&(g=this.styledModeFormat(g)),u.text=I(g,{point:w(c.point,{key:b}),series:l},p),u.preventDefault()}}return{compose:function k(u,p,o){j.compose(u),X.compose(p),o&&d(T,"DataGrouping")&&e(o,"headerFormatter",r)},groupData:X.groupData}}),$(v,"masters/modules/datagrouping.src.js",[v["Core/Globals.js"],v["Extensions/DataGrouping/ApproximationDefaults.js"],v["Extensions/DataGrouping/ApproximationRegistry.js"],v["Extensions/DataGrouping/DataGrouping.js"]],function(j,G,X,F){const U=j;return U.dataGrouping=U.dataGrouping||{},U.dataGrouping.approximationDefaults=U.dataGrouping.approximationDefaults||G,U.dataGrouping.approximations=U.dataGrouping.approximations||X,F.compose(U.Axis,U.Series,U.Tooltip),j}),$(v,"Extensions/Annotations/NavigationBindingsUtilities.js",[v["Core/Utilities.js"]],function(j){const{defined:G,isNumber:X,pick:F}=j,U={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:U,getAssignedAxis:function R(e){return e.filter(w=>{const A=w.axis.getExtremes(),x=A.min,d=A.max,k=F(w.axis.minPointOffset,0);return X(x)&&X(d)&&w.value>=x-k&&w.value<=d+k&&!w.axis.options.isInternal})[0]},getFieldType:function I(e,w){const A=U[e];let x=typeof w;return G(A)&&(x=A),{string:"text",number:"number",boolean:"checkbox"}[x]}}}),$(v,"Extensions/MouseWheelZoom/MouseWheelZoom.js",[v["Core/Utilities.js"],v["Extensions/Annotations/NavigationBindingsUtilities.js"]],function(j,G){const{addEvent:X,isObject:F,pick:U,defined:R,merge:I}=j,{getAssignedAxis:T}=G,e=[],w={enabled:!0,sensitivity:1.1};let A;function k(){const u=(u=>(F(u)||(u={enabled:u??!0}),I(w,u)))(this.zooming.mouseWheel);u.enabled&&X(this.container,"wheel",p=>{p=this.pointer?.normalize(p)||p;const{pointer:o}=this,c=o&&!o.inClass(p.target,"highcharts-no-mousewheel");if(this.isInsidePlot(p.chartX-this.plotLeft,p.chartY-this.plotTop)&&c){const l=u.sensitivity||1.1,f=p.detail||(p.deltaY||0)/120,m=T(o.getCoordinates(p).xAxis),M=T(o.getCoordinates(p).yAxis);(function(u,p,o,c,l,f,m){const M=U(m.type,u.zooming.type,"");let y=[];"x"===M?y=o:"y"===M?y=c:"xy"===M&&(y=u.axes);const C=u.transform({axes:y,to:{x:l-5,y:f-5,width:10,height:10},from:{x:l-5*p,y:f-5*p,width:10*p,height:10*p},trigger:"mousewheel"});return C&&(R(A)&&clearTimeout(A),A=setTimeout(()=>{u.pointer?.drop()},400)),C})(this,Math.pow(l,f),m?[m.axis]:this.xAxis,M?[M.axis]:this.yAxis,p.chartX,p.chartY,u)&&p.preventDefault?.()}})}return{compose:function r(u){-1===e.indexOf(u)&&(e.push(u),X(u,"afterGetContainer",k))}}}),$(v,"masters/modules/mouse-wheel-zoom.src.js",[v["Core/Globals.js"],v["Extensions/MouseWheelZoom/MouseWheelZoom.js"]],function(j,G){const X=j;return X.MouseWheelZoom=X.MouseWheelZoom||G,X.MouseWheelZoom.compose(X.Chart),j}),$(v,"masters/modules/stock.src.js",[v["Core/Globals.js"],v["Series/DataModifyComposition.js"],v["Stock/Navigator/Navigator.js"],v["Core/Axis/OrdinalAxis.js"],v["Stock/RangeSelector/RangeSelector.js"],v["Stock/Scrollbar/Scrollbar.js"],v["Core/Chart/StockChart.js"],v["Series/OHLC/OHLCSeries.js"],v["Series/Flags/FlagsSeries.js"]],function(j,G,X,F,U,R,I,T,e){const w=j;return w.Navigator=w.Navigator||X,w.OrdinalAxis=w.OrdinalAxis||F,w.RangeSelector=w.RangeSelector||U,w.Scrollbar=w.Scrollbar||R,w.stockChart=w.stockChart||I.stockChart,w.StockChart=w.StockChart||w.stockChart,w.extend(w.StockChart,I),G.compose(w.Series,w.Axis,w.Point),e.compose(w.Renderer),T.compose(w.Series),w.Navigator.compose(w.Chart,w.Axis,w.Series),w.OrdinalAxis.compose(w.Axis,w.Series,w.Chart),w.RangeSelector.compose(w.Axis,w.Chart),w.Scrollbar.compose(w.Axis),w.StockChart.compose(w.Chart,w.Axis,w.Series,w.SVGRenderer),j})},kt.exports?(gt.default=gt,kt.exports=gt):(Pt=[ut(3470)],void 0!==(Ct=function(v){return gt(v),gt.Highcharts=v,gt}.apply(Ot,Pt))&&(kt.exports=Ct))}}]);