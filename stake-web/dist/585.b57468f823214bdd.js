"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[585],{194:(ge,F,a)=>{a.r(F),a.d(F,{SettingsModule:()=>h});var y=a(9299),m=a(4859),s=a(9549),b=a(7392),A=a(4144),e=a(4650),u=a(3238),n=(a(2687),a(1281),a(5017),a(4006)),_=a(6895);let V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.BQ,_.ez,u.si,u.BQ]}),r})();var $=a(4385),X=a(455),Z=a(3267),ee=a(7775),te=a(4466),z=a(7579),R=a(2722),ie=a(4880),w=a(3317),C=a(5707);const oe=["drawer"],re=function(r,i){return{"hover:bg-gray-100 dark:hover:bg-hover":r,"bg-primary-50 dark:bg-hover":i}},ae=function(r,i){return{"text-hint":r,"text-primary dark:text-primary-500":i}},de=function(r){return{"text-primary dark:text-primary-500":r}};function ne(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18)(4,"div",19),e._uU(5),e.ALo(6,"capitalize"),e.ALo(7,"transloco"),e.qZA(),e.TgZ(8,"div",20),e._uU(9),e.ALo(10,"capitalize"),e.ALo(11,"transloco"),e.qZA()()(),e.BQk()),2&r){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(15,re,!o.selectedPanel||o.selectedPanel!==t.id,o.selectedPanel&&o.selectedPanel===t.id))("routerLink",t.link),e.xp6(1),e.Q6J("ngClass",e.WLB(18,ae,!o.selectedPanel||o.selectedPanel!==t.id,o.selectedPanel&&o.selectedPanel===t.id))("svgIcon",t.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(21,de,o.selectedPanel&&o.selectedPanel===t.id)),e.xp6(1),e.hij(" ",e.lcZ(6,7,e.lcZ(7,9,t.title))," "),e.xp6(4),e.hij(" ",e.lcZ(10,11,e.lcZ(11,13,t.description))," ")}}class g{constructor(i,t){this._changeDetectorRef=i,this._fuseMediaWatcherService=t,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this._unsubscribeAll=new z.x}ngOnInit(){this.panels=[{id:"account",icon:"heroicons_outline:user-circle",title:"account",description:"manage your public profile and private information",link:"./account"},{id:"security",icon:"heroicons_outline:lock-closed",title:"security",description:"manage your password",link:"./security"},{id:"wallet",icon:"heroicons_outline:currency-dollar",title:"wallet",description:"manage your coin wallet",link:"./wallet"}],this._fuseMediaWatcherService.onMediaChange$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{i.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getPanelInfo(i){return this.panels.find(t=>t.id===i)}trackByFn(i,t){return t.id||i}}g.\u0275fac=function(i){return new(i||g)(e.Y36(e.sBO),e.Y36(ie.T))},g.\u0275cmp=e.Xpm({type:g,selectors:[["settings"]],viewQuery:function(i,t){if(1&i&&e.Gf(oe,5),2&i){let o;e.iGM(o=e.CRH())&&(t.drawer=o.first)}},decls:21,vars:12,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mr-6","sm:my-10"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col"],[1,"flex-auto","px-6","pt-9","pb-12","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"mt-2"],["routerLinkActive","",1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","routerLink"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"]],template:function(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6),e.ALo(7,"capitalize"),e.ALo(8,"transloco"),e.qZA(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(3);return e.KtG(c.close())}),e._UZ(11,"mat-icon",8),e.qZA()()(),e.TgZ(12,"div",9),e.YNc(13,ne,12,23,"ng-container",10),e.qZA()(),e.TgZ(14,"mat-drawer-content",11)(15,"div",12)(16,"div",13)(17,"button",14),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(3);return e.KtG(c.toggle())}),e._UZ(18,"mat-icon",8),e.qZA()(),e.TgZ(19,"div",15),e._UZ(20,"router-outlet"),e.qZA()()()()()}2&i&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),e.xp6(4),e.hij("",e.lcZ(7,8,e.lcZ(8,10,"settings"))," "),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("ngForOf",t.panels)("ngForTrackBy",t.trackByFn),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:menu"))},dependencies:[y.lC,y.rH,y.Od,m.RK,b.Hw,Z.jA,Z.kh,Z.LW,_.mk,_.sg,w.e,C.Ot],encapsulation:2,changeDetection:0});var S=a(7495),G=a(8505),ce=a(529),se=a(5240);class l{constructor(i,t,o){this._httpClient=i,this._apiService=t,this._userService=o}updateUser(i){return this._httpClient.post(this._apiService.users_user(),i)}changePassword(i){return this._httpClient.post(this._apiService.users_user_change_password(),i)}addWalletAddress(i){return this._httpClient.post(this._apiService.users_wallets(),{address:i}).pipe((0,G.b)(t=>{this._userService.user=t}))}removeWalletAddress(i){return this._httpClient.delete(this._apiService.users_wallets_wallet(i)).pipe((0,G.b)(t=>{this._userService.user=t}))}}function le(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"username is required"))," "))}function me(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"please enter a valid email address"))," "))}function ue(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"capitalize"),e.ALo(3,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"save"))," "))}function pe(r,i){1&r&&e._UZ(0,"mat-progress-spinner",18),2&r&&e.Q6J("diameter",24)("mode","indeterminate")}l.\u0275fac=function(i){return new(i||l)(e.LFG(ce.eN),e.LFG(se.s),e.LFG(S.K))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});class f{constructor(i,t,o){this._formBuilder=i,this._userService=t,this._settingsService=o,this._unsubscribeAll=new z.x}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(i=>{this.user=i,this.accountForm=this._formBuilder.group({name:[i.name],username:[i.username,n.kI.required],email:[i.email,n.kI.email],phone:[i.phone],country:[i.country],language:[i.language]})})}updateUser(){this.accountForm.invalid||(this.accountForm.disable(),this._settingsService.updateUser(this.accountForm.getRawValue()).subscribe(i=>{this._userService.user=i}),this.accountForm.enable())}}f.\u0275fac=function(i){return new(i||f)(e.Y36(n.QS),e.Y36(S.K),e.Y36(l))},f.\u0275cmp=e.Xpm({type:f,selectors:[["settings-account"]],decls:61,vars:58,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],[4,"ngIf"],[1,"my-10","border-t"],[1,"sm:col-span-2"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4","w-18",3,"disabled","color","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"capitalize"),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.ALo(9,"capitalize"),e.ALo(10,"transloco"),e.qZA()(),e.TgZ(11,"div",5)(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),e._uU(15),e.ALo(16,"capitalize"),e.ALo(17,"transloco"),e.qZA(),e._UZ(18,"mat-icon",8)(19,"input",9),e.qZA()(),e.TgZ(20,"div",6)(21,"mat-form-field",10)(22,"mat-label"),e._uU(23),e.ALo(24,"capitalize"),e.ALo(25,"transloco"),e.qZA(),e._UZ(26,"input",9),e.YNc(27,le,4,5,"mat-error",11),e.qZA()()(),e._UZ(28,"div",12),e.TgZ(29,"div",2)(30,"div",3),e._uU(31),e.ALo(32,"capitalize"),e.ALo(33,"transloco"),e.qZA(),e.TgZ(34,"div",4),e._uU(35),e.ALo(36,"capitalize"),e.ALo(37,"transloco"),e.qZA()(),e.TgZ(38,"div",5)(39,"div",13)(40,"mat-form-field",7)(41,"mat-label"),e._uU(42),e.ALo(43,"capitalize"),e.ALo(44,"transloco"),e.qZA(),e._UZ(45,"mat-icon",8)(46,"input",9),e.YNc(47,me,4,5,"mat-error",11),e.qZA()(),e.TgZ(48,"div",13)(49,"mat-form-field",7)(50,"mat-label"),e._uU(51),e.ALo(52,"capitalize"),e.ALo(53,"transloco"),e.qZA(),e._UZ(54,"mat-icon",8)(55,"input",9),e.qZA()()(),e._UZ(56,"div",14),e.TgZ(57,"div",15)(58,"button",16),e.NdJ("click",function(){return t.updateUser()}),e.YNc(59,ue,4,5,"span",11),e.YNc(60,pe,1,2,"mat-progress-spinner",17),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",t.accountForm),e.xp6(3),e.Oqu(e.lcZ(5,26,e.lcZ(6,28,"profile"))),e.xp6(4),e.Oqu(e.lcZ(9,30,e.lcZ(10,32,"manage your public profile and private information"))),e.xp6(5),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(16,34,e.lcZ(17,36,"name"))),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","name"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(24,38,e.lcZ(25,40,"username"))),e.xp6(3),e.Q6J("formControlName","username"),e.xp6(1),e.Q6J("ngIf",t.accountForm.get("username").hasError("required")),e.xp6(4),e.Oqu(e.lcZ(32,42,e.lcZ(33,44,"personal information"))),e.xp6(4),e.hij(" ",e.lcZ(36,46,e.lcZ(37,48,"communication details in case we want to connect with you these will be kept private"))," "),e.xp6(5),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(43,50,e.lcZ(44,52,"email"))),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("ngIf",t.accountForm.get("email").hasError("email")),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(52,54,e.lcZ(53,56,"phone"))),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(1),e.Q6J("formControlName","phone"),e.xp6(3),e.Q6J("disabled",t.accountForm.disabled)("color","primary"),e.xp6(1),e.Q6J("ngIf",!t.accountForm.disabled),e.xp6(1),e.Q6J("ngIf",t.accountForm.disabled))},dependencies:[m.lW,s.KE,s.hX,s.TO,s.qo,b.Hw,A.Nt,_.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,w.e,C.Ot],encapsulation:2,changeDetection:0});class v{constructor(i,t,o){this._formBuilder=i,this._settingsService=t,this._userService=o}ngOnInit(){this.securityForm=this._formBuilder.group({currentPassword:[""],newPassword:[""]})}changePassword(){this.securityForm.disable(),this._settingsService.changePassword(this.securityForm.getRawValue()).subscribe(i=>{this._userService.user=i}),this.securityForm.enable()}}function _e(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",12),e._uU(1),e.TgZ(2,"button",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit,k=e.oxw(2);return e.KtG(k.removeWalletAddress(c))}),e._UZ(3,"mat-icon",14),e.qZA()()}if(2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}function he(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,_e,4,1,"div",11),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.user.wallets)}}v.\u0275fac=function(i){return new(i||v)(e.Y36(n.QS),e.Y36(l),e.Y36(S.K))},v.\u0275cmp=e.Xpm({type:v,selectors:[["settings-security"]],decls:35,vars:33,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","password","matInput","",3,"formControlName"],[1,"mt-1","text-md","text-hint"],[1,"my-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"capitalize"),e.ALo(6,"transloco"),e.qZA(),e._UZ(7,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12),e.ALo(13,"capitalize"),e.ALo(14,"transloco"),e.qZA(),e._UZ(15,"mat-icon",8)(16,"input",9),e.qZA()(),e.TgZ(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),e._uU(20),e.ALo(21,"capitalize"),e.ALo(22,"transloco"),e.qZA(),e._UZ(23,"mat-icon",8)(24,"input",9),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.ALo(27,"capitalize"),e.ALo(28,"transloco"),e.qZA()()(),e._UZ(29,"div",11),e.TgZ(30,"div",12)(31,"button",13),e.NdJ("click",function(){return t.changePassword()}),e._uU(32),e.ALo(33,"capitalize"),e.ALo(34,"transloco"),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",t.securityForm),e.xp6(3),e.Oqu(e.lcZ(5,13,e.lcZ(6,15,"change your password"))),e.xp6(6),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(13,17,e.lcZ(14,19,"current password"))),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:key"),e.xp6(1),e.Q6J("formControlName","currentPassword"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(21,21,e.lcZ(22,23,"new password"))),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:key"),e.xp6(1),e.Q6J("formControlName","newPassword"),e.xp6(2),e.Oqu(e.lcZ(27,25,e.lcZ(28,27,"minimum 8 characters must include numbers letters and special characters"))),e.xp6(5),e.Q6J("color","primary"),e.xp6(1),e.hij(" ",e.lcZ(33,29,e.lcZ(34,31,"save"))," "))},dependencies:[m.lW,s.KE,s.hX,s.qo,b.Hw,A.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,w.e,C.Ot],encapsulation:2,changeDetection:0});class x{constructor(i,t){this._settingsService=i,this._userService=t,this.newWalletAddress="",this.apiCalling=!1,this._unsubscribeAll=new z.x}ngOnInit(){this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(i=>{this.user=i})}addWalletAddress(){this._settingsService.addWalletAddress(this.newWalletAddress).subscribe(i=>{this.newWalletAddress=""})}removeWalletAddress(i){this.apiCalling=!0,this._settingsService.removeWalletAddress(i).subscribe()}}x.\u0275fac=function(i){return new(i||x)(e.Y36(l),e.Y36(S.K))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-settings-wallet"]],decls:19,vars:17,consts:[[1,"w-full","max-w-3xl"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"my-10","border-t"],[1,"flex","flex-auto","items-center","justify-between","gap-6"],["subscriptSizing","dynamic",1,"w-full"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","",1,"rounded-md","bg-lime-500",3,"click"],[4,"ngIf"],[1,"my-6"],["class","flex flex-auto items-center justify-between bg-card dark:bg-stone-900 drop-shadow-md rounded-md p-2",4,"ngFor","ngForOf"],[1,"flex","flex-auto","items-center","justify-between","bg-card","dark:bg-stone-900","drop-shadow-md","rounded-md","p-2"],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:trash"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"capitalize"),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",3),e._uU(7),e.ALo(8,"capitalize"),e.ALo(9,"transloco"),e.qZA()(),e._UZ(10,"div",4),e.TgZ(11,"div",5)(12,"mat-form-field",6)(13,"input",7),e.NdJ("ngModelChange",function(d){return t.newWalletAddress=d}),e.qZA()(),e.TgZ(14,"button",8),e.NdJ("click",function(){return t.addWalletAddress()}),e._uU(15),e.ALo(16,"capitalize"),e.ALo(17,"transloco"),e.qZA()(),e.YNc(18,he,3,1,"ng-container",9),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,5,e.lcZ(5,7,"wallet"))),e.xp6(4),e.Oqu(e.lcZ(8,9,e.lcZ(9,11,"manage your coin wallet"))),e.xp6(6),e.Q6J("ngModel",t.newWalletAddress),e.xp6(2),e.hij(" ",e.lcZ(16,13,e.lcZ(17,15,"add"))," "),e.xp6(3),e.Q6J("ngIf",t.user.wallets.length))},dependencies:[m.lW,m.RK,s.KE,b.Hw,A.Nt,_.sg,_.O5,n.Fj,n.JJ,n.On,w.e,C.Ot]});const be=[{path:"",component:g,canActivateChild:[],children:[{path:"account",component:f},{path:"security",component:v},{path:"wallet",component:x}]},{path:"**",redirectTo:"account"}];class h{}h.\u0275fac=function(i){return new(i||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[y.Bz.forChild(be),m.ot,s.lN,b.Ps,A.c,V,$.LD,Z.SJ,X.rP,ee.fC,te.m]})}}]);